<!-- Network view -->
<div ng-controller="NetworkController">
    
    <div class="tabs-container">
        <ul class="nav nav-tabs" role="tablist">
            <li ng-class="activeTab == 'battery' ? 'active' : ''">
                <a href="" title="{{_t('lb_battery_status')}}" data-target="#module_battery" data-toggle="tab" ng-click="setTab('battery')">
                    <i class="fa fa-bolt fa-lg tab-icon"></i> <span class="tab-name">{{_t('lb_battery_status')}}</span>
                </a>
            </li>
            <li ng-class="activeTab == 'zwave' ? 'active' : ''">
                <a href="" title="{{_t('lb_zwave_devices')}}" data-target="#module_zwave" data-toggle="tab" ng-click="setTab('zwave')">
                    <i class="fa fa-wifi fa-lg tab-icon"></i> <span class="tab-name">{{_t('lb_zwave_devices')}}</span>
                </a>
            </li>
            <li ng-class="activeTab == 'health' ? 'active' : ''">
                <a href="" title="{{_t('nav_network_health')}}" data-target="#module_health" data-toggle="tab" ng-click="setTab('health')">
                    <i class="fa fa-cog fa-sitemap tab-icon"></i> <span class="tab-name">{{_t('lb_network_status')}}</span> 
                </a>
            </li>
        </ul>
    </div>
    <!-- Tab panes -->
    <div class="tab-content">
        <!-- Battery -->
        <div class="tab-pane" id="module_battery" ng-class="activeTab == 'battery' ? 'active' : ''">
            <br />
            <p>
            <span ng-if="batteries.list.length > 0"><strong ng-bind="batteries.list.length"></strong> <span ng-bind="_t('lb_battery_devices')"></span>,</span>
            <span ng-if="batteries.cntLess20.length > 0"><strong ng-bind="batteries.cntLess20.length"></strong> <span ng-bind="_t('lb_battery_20')"></span>, </span> 
            <span ng-if="batteries.cnt0.length > 0"><strong  ng-bind="batteries.cnt0.length"></strong> <span ng-bind="_t('lb_battery_0')"></span> </span>
        </p>
        <table class="table table-report table-condensed">
            <tbody>
                <tr ng-repeat="v in batteries.list| orderBy:predicate:reverse" id="{{ v.rowId}}">
                    <td>
                        <!-- <span class="text-supp">#{{v.id}}</span>-->
                        <img class="report-img" src="storage/img/icons/battery.png" alt="icon" />
                        <span class="report-message" ng-bind="v.metrics.title"></span>

                    </td>
                    <td>
                        <span class="text-success" ng-show="v.metrics.level > 80">{{v.metrics.level}} %</span>
                        <span class="text-default" ng-show="v.metrics.level < 80 && v.metrics.level > 20">{{v.metrics.level}} %</span>
                        <span class="text-danger" ng-show="v.metrics.level < 20"><i class="fa fa-exclamation-triangle"></i> {{v.metrics.level}} %</span>

                    </td>
                </tr>
            </tbody>
        </table>
        </div>
        <!-- Z-Wave -->
        <div class="tab-pane" id="module_zwave" ng-class="activeTab == 'zwave' ? 'active' : ''">
        <table class="table table-report">
            <tbody>
                <tr ng-repeat="v in devices.zwave" id="zwave_{{v.id}}">
                    <td>
                        <!-- <span class="text-supp">#{{v.id}}</span>-->
                        <img class="report-img" ng-src="{{v.metrics.icon|getElementIcon:v}}" alt="{{ v.metrics.title}}" />
                        <span class="report-message" ng-bind="v.metrics.title"></span>

                    </td>
                    <td>
                        <a class="btn btn-primary" href=""><i class="fa fa-cog fa-lg"></i> Device configuration</a>
                    </td>
                </tr>
            </tbody>
        </table>
        </div>
        <!-- Health -->
        <div class="tab-pane" id="module_health" ng-class="activeTab == 'health' ? 'active' : ''">
             <br />
             <p>
                 <span ng-bind="_t('lb_solve_network_error')"></span> <a href="/expert/" class="alert-link"><strong ng-bind="_t('lb_zwui')"></strong> <i class="fa fa-external-link"></i></a>
             </p>
            <table class="table table-report">
            <tbody>
                <tr ng-repeat="v in devices.failed" id="{{v.id}}" ng-show=" v.messages.length > 0">
                    <td>
                        <!-- <span class="text-supp">#{{v.id}}</span>-->
                        <img class="report-img" ng-src="{{v.metrics.icon|getElementIcon:v}}" alt="{{ v.metrics.title}}" />
                        <span class="report-message" ng-bind="v.metrics.title"></span>

                    </td>
                    <td>
                        <div class="text-danger" ng-repeat="message in v.messages" ng-bind="message"></div>
                    </td>
                </tr>
            </tbody>
        </table>
           
        </div>
    </div>
    
</div> <!-- /ng-controller --> 