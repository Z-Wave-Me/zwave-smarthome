/* Copyright:  Z-Wave.Me, Created: 22-07-2024 01:37:27 */
/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;

return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){
return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&"withCredentials"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});

/*! jQuery UI - v1.11.4 - 2015-11-15
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}
},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;
this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))
},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this
},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;
return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()
},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}});var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;
return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})}});
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Md.apply(null,arguments)}function b(a){Md=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Od.length>0)for(c in Od)d=Od[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Pd===!1&&(Pd=!0,a.updateOffset(this),Pd=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!Qd[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Nd._abbr,require("./locale/"+a),w(b)}catch(c){}return Qd[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(Nd=c)),Nd._abbr}function x(a,b){return null!==b?(b.abbr=a,Qd[a]=Qd[a]||new s,Qd[a].set(b),w(a),Qd[a]):(delete Qd[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Nd;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Rd[c]=Rd[c+"s"]=Rd[b]=a}function A(a){return"string"==typeof a?Rd[a]||Rd[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Vd[a]=e),b&&(Vd[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Vd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Sd);for(b=0,c=d.length;c>b;b++)Vd[d[b]]?d[b]=Vd[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Ud[b]=Ud[b]||J(b),Ud[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Td.lastIndex=0;d>=0&&Td.test(a);)a=a.replace(Td,c),Td.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){ie[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(ie,a)?ie[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)je[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(je,a)&&je[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[le]<0||c[le]>11?le:c[me]<1||c[me]>T(c[ke],c[le])?me:c[ne]<0||c[ne]>24||24===c[ne]&&(0!==c[oe]||0!==c[pe]||0!==c[qe])?ne:c[oe]<0||c[oe]>59?oe:c[pe]<0||c[pe]>59?pe:c[qe]<0||c[qe]>999?qe:-1,j(a)._overflowDayOfYear&&(ke>b||b>me)&&(b=me),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){te[a]||(_(b),te[a]=!0)}function ca(a){var b,c,d=a._i,e=ue.exec(d);if(e){for(j(a).iso=!0,b=0,c=ve.length;c>b;b++)if(ve[b][1].exec(d)){a._f=ve[b][0];break}for(b=0,c=we.length;c>b;b++)if(we[b][1].exec(d)){a._f+=(e[6]||" ")+we[b][0];break}d.match(fe)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=xe.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ca(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4===0&&a%100!==0||a%400===0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[me]&&null==a._a[le]&&ua(a),a._dayOfYear&&(e=ra(a._a[ke],d[ke]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[le]=c.getUTCMonth(),a._a[me]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ne]&&0===a._a[oe]&&0===a._a[pe]&&0===a._a[qe]&&(a._nextDay=!0,a._a[ne]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ne]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[ke],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[ke],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[ke]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Sd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Vd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ne]<=12&&b._a[ne]>0&&(j(b).bigHour=void 0),b._a[ne]=wa(b._locale,b._a[ne],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"==typeof f?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Fa(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)}function Ga(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(fe)||[],c=b[b.length-1]||[],d=(c+"").match(Ce)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=De.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[me])*c,h:q(h[ne])*c,m:q(h[oe])*c,s:q(h[pe])*c,ms:q(h[qe])*c}):(h=Ee.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(c=o(a)?+a:+Da(a),c<+this.clone().startOf(b))}function fb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this===+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,e,f=La(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[qe]=q(1e3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":""}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=_e(this._milliseconds),this._days=_e(this._days),this._months=_e(this._months),a.milliseconds=_e(a.milliseconds),a.seconds=_e(a.seconds),a.minutes=_e(a.minutes),a.hours=_e(a.hours),a.months=_e(a.months),a.years=_e(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=qf(d.as("s")),f=qf(d.as("m")),g=qf(d.as("h")),h=qf(d.as("d")),i=qf(d.as("M")),j=qf(d.as("y")),k=e<rf.s&&["s",e]||1===f&&["m"]||f<rf.m&&["mm",f]||1===g&&["h"]||g<rf.h&&["hh",g]||1===h&&["d"]||h<rf.d&&["dd",h]||1===i&&["M"]||i<rf.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0===rf[a]?!1:void 0===b?rf[a]:(rf[a]=b,!0)}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=sf(this._milliseconds)/1e3,e=sf(this._days),f=sf(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}
//! moment.js locale configuration
//! locale : belarusian (be)
//! author : Dmitry Demidov : https://github.com/demidov91
//! author: Praleska: http://praleska.pro/
//! Author : Menelion Elensle : https://github.com/Oire
function Hc(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Ic(a,b,c){var d={mm:b?"__":"__",hh:b?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":"h"===c?b?"":"":a+" "+Hc(d[c],+a)}function Jc(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Kc(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}
//! moment.js locale configuration
//! locale : breton (br)
//! author : Jean-Baptiste Le Duigou : https://github.com/jbleduigou
function Lc(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+Oc(d[c],a)}function Mc(a){switch(Nc(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function Nc(a){return a>9?Nc(a%10):a}function Oc(a,b){return 2===b?Pc(a):a}function Pc(a){var b={m:"v",b:"v",d:"z"};return void 0===b[a.charAt(0)]?a:b[a.charAt(0)]+a.substring(1)}
//! moment.js locale configuration
//! locale : bosnian (bs)
//! author : Nedim Cholich : https://github.com/frontyard
//! based on (hr) translation by Bojan Markovi
function Qc(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function Rc(a){return a>1&&5>a&&1!==~~(a/10)}function Sc(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pr sekund":"pr sekundami";case"m":return b?"minuta":d?"minutu":"minutou";case"mm":return b||d?e+(Rc(a)?"minuty":"minut"):e+"minutami";break;case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(Rc(a)?"hodiny":"hodin"):e+"hodinami";break;case"d":return b||d?"den":"dnem";case"dd":return b||d?e+(Rc(a)?"dny":"dn"):e+"dny";break;case"M":return b||d?"msc":"mscem";case"MM":return b||d?e+(Rc(a)?"msce":"msc"):e+"msci";break;case"y":return b||d?"rok":"rokem";case"yy":return b||d?e+(Rc(a)?"roky":"let"):e+"lety"}}
//! moment.js locale configuration
//! locale : austrian german (de-at)
//! author : lluchs : https://github.com/lluchs
//! author: Menelion Elensle: https://github.com/Oire
//! author : Martin Groller : https://github.com/MadMG
function Tc(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}
//! moment.js locale configuration
//! locale : german (de)
//! author : lluchs : https://github.com/lluchs
//! author: Menelion Elensle: https://github.com/Oire
function Uc(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}
//! moment.js locale configuration
//! locale : estonian (et)
//! author : Henry Kehlmann : https://github.com/madhenry
//! improvements : Illimar Tambek : https://github.com/ragulka
function Vc(a,b,c,d){var e={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[a+" minuti",a+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[a+" tunni",a+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[a+" kuu",a+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[a+" aasta",a+" aastat"]};return b?e[c][2]?e[c][2]:e[c][1]:d?e[c][0]:e[c][1]}function Wc(a,b,c,d){var e="";switch(c){case"s":return d?"muutaman sekunnin":"muutama sekunti";case"m":return d?"minuutin":"minuutti";case"mm":e=d?"minuutin":"minuuttia";break;case"h":return d?"tunnin":"tunti";case"hh":e=d?"tunnin":"tuntia";break;case"d":return d?"pivn":"piv";case"dd":e=d?"pivn":"piv";break;case"M":return d?"kuukauden":"kuukausi";case"MM":e=d?"kuukauden":"kuukautta";break;case"y":return d?"vuoden":"vuosi";case"yy":e=d?"vuoden":"vuotta"}return e=Xc(a,d)+" "+e}function Xc(a,b){return 10>a?b?Pf[a]:Of[a]:a}
//! moment.js locale configuration
//! locale : hrvatski (hr)
//! author : Bojan Markovi : https://github.com/bmarkovic
function Yc(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function Zc(a,b,c,d){var e=a;switch(c){case"s":return d||b?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" ra":" rja");case"hh":return e+(d||b?" ra":" rja");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hnap":" hnapja");case"MM":return e+(d||b?" hnap":" hnapja");case"y":return"egy"+(d||b?" v":" ve");case"yy":return e+(d||b?" v":" ve")}return""}function $c(a){return(a?"":"[mlt] ")+"["+Uf[this.day()]+"] LT[-kor]"}
//! moment.js locale configuration
//! locale : Armenian (hy-am)
//! author : Armendarabyan : https://github.com/armendarabyan
function _c(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function ad(a,b){var c="___________".split("_");return c[a.month()]}function bd(a,b){var c="______".split("_");return c[a.day()]}
//! moment.js locale configuration
//! locale : icelandic (is)
//! author : Hinrik rn Sigursson : https://github.com/hinrik
function cd(a){return a%100===11?!0:a%10===1?!1:!0}function dd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nokkrar sekndur":"nokkrum sekndum";case"m":return b?"mnta":"mntu";case"mm":return cd(a)?e+(b||d?"mntur":"mntum"):b?e+"mnta":e+"mntu";case"hh":return cd(a)?e+(b||d?"klukkustundir":"klukkustundum"):e+"klukkustund";case"d":return b?"dagur":d?"dag":"degi";case"dd":return cd(a)?b?e+"dagar":e+(d?"daga":"dgum"):b?e+"dagur":e+(d?"dag":"degi");case"M":return b?"mnuur":d?"mnu":"mnui";case"MM":return cd(a)?b?e+"mnuir":e+(d?"mnui":"mnuum"):b?e+"mnuur":e+(d?"mnu":"mnui");case"y":return b||d?"r":"ri";case"yy":return cd(a)?e+(b||d?"r":"rum"):e+(b||d?"r":"ri")}}
//! moment.js locale configuration
//! locale : Georgian (ka)
//! author : Irakli Janiashvili : https://github.com/irakli-janiashvili
function ed(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD] *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function fd(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/(|)/.test(b)?"accusative":"nominative";return c[d][a.day()]}
//! moment.js locale configuration
//! locale : Luxembourgish (lb)
//! author : mweimerskirch : https://github.com/mweimerskirch, David Raison : https://github.com/kwisatz
function gd(a,b,c,d){var e={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return b?e[c][0]:e[c][1]}function hd(a){var b=a.substr(0,a.indexOf(" "));return jd(b)?"a "+a:"an "+a}function id(a){var b=a.substr(0,a.indexOf(" "));return jd(b)?"viru "+a:"virun "+a}function jd(a){if(a=parseInt(a,10),isNaN(a))return!1;if(0>a)return!0;if(10>a)return a>=4&&7>=a?!0:!1;if(100>a){var b=a%10,c=a/10;return jd(0===b?c:b)}if(1e4>a){for(;a>=10;)a/=10;return jd(a)}return a/=1e3,jd(a)}function kd(a,b,c,d){return b?"kelios sekunds":d?"keli sekundi":"kelias sekundes"}function ld(a,b){var c={nominative:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),accusative:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function md(a,b,c,d){return b?od(c)[0]:d?od(c)[1]:od(c)[2]}function nd(a){return a%10===0||a>10&&20>a}function od(a){return Vf[a].split("_")}function pd(a,b,c,d){var e=a+" ";return 1===a?e+md(a,b,c[0],d):b?e+(nd(a)?od(c)[1]:od(c)[0]):d?e+od(c)[1]:e+(nd(a)?od(c)[1]:od(c)[2])}function qd(a,b){var c=-1===b.indexOf("dddd HH:mm"),d=Wf[a.day()];return c?d:d.substring(0,d.length-2)+""}function rd(a,b,c){return c?b%10===1&&11!==b?a[2]:a[3]:b%10===1&&11!==b?a[0]:a[1]}function sd(a,b,c){return a+" "+rd(Xf[c],a,b)}function td(a,b,c){return rd(Xf[c],a,b)}function ud(a,b){return b?"daas sekundes":"dam sekundm"}function vd(a){return 5>a%10&&a%10>1&&~~(a/10)%10!==1}function wd(a,b,c){var d=a+" ";switch(c){case"m":return b?"minuta":"minut";case"mm":return d+(vd(a)?"minuty":"minut");case"h":return b?"godzina":"godzin";case"hh":return d+(vd(a)?"godziny":"godzin");case"MM":return d+(vd(a)?"miesice":"miesicy");case"yy":return d+(vd(a)?"lata":"lat")}}
//! moment.js locale configuration
//! locale : romanian (ro)
//! author : Vlad Gurdiga : https://github.com/gurdiga
//! author : Valentin Agachi : https://github.com/avaly
function xd(a,b,c){var d={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},e=" ";return(a%100>=20||a>=100&&a%100===0)&&(e=" de "),a+e+d[c]}
//! moment.js locale configuration
//! locale : russian (ru)
//! author : Viktorminator : https://github.com/Viktorminator
//! Author : Menelion Elensle : https://github.com/Oire
function yd(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function zd(a,b,c){var d={mm:b?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":a+" "+yd(d[c],+a)}function Ad(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Bd(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Cd(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/\[ ?[] ?(?:||)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}function Dd(a){return a>1&&5>a}function Ed(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pr seknd":"pr sekundami";case"m":return b?"minta":d?"mintu":"mintou";case"mm":return b||d?e+(Dd(a)?"minty":"mint"):e+"mintami";break;case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(Dd(a)?"hodiny":"hodn"):e+"hodinami";break;case"d":return b||d?"de":"dom";case"dd":return b||d?e+(Dd(a)?"dni":"dn"):e+"dami";break;case"M":return b||d?"mesiac":"mesiacom";case"MM":return b||d?e+(Dd(a)?"mesiace":"mesiacov"):e+"mesiacmi";break;case"y":return b||d?"rok":"rokom";case"yy":return b||d?e+(Dd(a)?"roky":"rokov"):e+"rokmi"}}
//! moment.js locale configuration
//! locale : slovenian (sl)
//! author : Robert Sedovek : https://github.com/sedovsek
function Fd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nekaj sekund":"nekaj sekundami";case"m":return b?"ena minuta":"eno minuto";case"mm":return e+=1===a?b?"minuta":"minuto":2===a?b||d?"minuti":"minutama":5>a?b||d?"minute":"minutami":b||d?"minut":"minutami";case"h":return b?"ena ura":"eno uro";case"hh":return e+=1===a?b?"ura":"uro":2===a?b||d?"uri":"urama":5>a?b||d?"ure":"urami":b||d?"ur":"urami";case"d":return b||d?"en dan":"enim dnem";case"dd":return e+=1===a?b||d?"dan":"dnem":2===a?b||d?"dni":"dnevoma":b||d?"dni":"dnevi";case"M":return b||d?"en mesec":"enim mesecem";case"MM":return e+=1===a?b||d?"mesec":"mesecem":2===a?b||d?"meseca":"mesecema":5>a?b||d?"mesece":"meseci":b||d?"mesecev":"meseci";case"y":return b||d?"eno leto":"enim letom";case"yy":return e+=1===a?b||d?"leto":"letom":2===a?b||d?"leti":"letoma":5>a?b||d?"leta":"leti":b||d?"let":"leti"}}function Gd(a,b,c,d){var e={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[a+" muts"," "+a+" muts"],h:["'n ora","'iensa ora"],hh:[a+" oras"," "+a+" oras"],d:["'n ziua","'iensa ziua"],dd:[a+" ziuas"," "+a+" ziuas"],M:["'n mes","'iens mes"],MM:[a+" mesen"," "+a+" mesen"],y:["'n ar","'iens ar"],yy:[a+" ars"," "+a+" ars"]};return d?e[c][0]:b?e[c][0]:e[c][1].trim()}
//! moment.js locale configuration
//! locale : ukrainian (uk)
//! author : zemlanin : https://github.com/zemlanin
//! Author : Menelion Elensle : https://github.com/Oire
function Hd(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Id(a,b,c){var d={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":"h"===c?b?"":"":a+" "+Hd(d[c],+a)}function Jd(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Kd(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},d=/(\[[]\]) ?dddd/.test(b)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function Ld(a){return function(){return a+""+(11===this.hours()?"":"")+"] LT"}}var Md,Nd,Od=a.momentProperties=[],Pd=!1,Qd={},Rd={},Sd=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Td=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ud={},Vd={},Wd=/\d/,Xd=/\d\d/,Yd=/\d{3}/,Zd=/\d{4}/,$d=/[+-]?\d{6}/,_d=/\d\d?/,ae=/\d{1,3}/,be=/\d{1,4}/,ce=/[+-]?\d{1,6}/,de=/\d+/,ee=/[+-]?\d+/,fe=/Z|[+-]\d\d:?\d\d/gi,ge=/[+-]?\d+(\.\d{1,3})?/,he=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ie={},je={},ke=0,le=1,me=2,ne=3,oe=4,pe=5,qe=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",_d),N("MM",_d,Xd),N("MMM",he),N("MMMM",he),Q(["M","MM"],function(a,b){b[le]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[le]=e:j(c).invalidMonth=a});var re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),te={};a.suppressDeprecationWarnings=!1;var ue=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],we=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],xe=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",ee),N("YY",_d,Xd),N("YYYY",be,Zd),N("YYYYY",ce,$d),N("YYYYYY",ce,$d),Q(["YYYYY","YYYYYY"],ke),Q("YYYY",function(b,c){c[ke]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[ke]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var ye=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",_d),N("ww",_d,Xd),N("W",_d),N("WW",_d,Xd),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ze={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",ae),N("DDDD",Yd),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var Ae=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),Be=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",fe),N("ZZ",fe),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ka(a)});var Ce=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var De=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ee=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var Fe=ab(1,"add"),Ge=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var He=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",ee),N("g",ee),N("GG",_d,Xd),N("gg",_d,Xd),N("GGGG",be,Zd),N("gggg",be,Zd),N("GGGGG",ce,$d),N("ggggg",ce,$d),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",Wd),Q("Q",function(a,b){b[le]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",_d),N("DD",_d,Xd),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],me),Q("Do",function(a,b){b[me]=q(a.match(_d)[0],10)});var Ie=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",_d),N("e",_d),N("E",_d),N("dd",he),N("ddd",he),N("dddd",he),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Le="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",_d),N("h",_d),N("HH",_d,Xd),N("hh",_d,Xd),Q(["H","HH"],ne),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[ne]=q(a),j(c).bigHour=!0});var Me=/[ap]\.?m?\.?/i,Ne=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",_d),N("mm",_d,Xd),Q(["m","mm"],oe);var Oe=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",_d),N("ss",_d,Xd),Q(["s","ss"],pe);var Pe=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",ae,Wd),N("SS",ae,Xd),N("SSS",ae,Yd);var Qe;for(Qe="SSSS";Qe.length<=9;Qe+="S")N(Qe,de);for(Qe="S";Qe.length<=9;Qe+="S")Q(Qe,Wb);var Re=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Se=n.prototype;Se.add=Fe,Se.calendar=cb,Se.clone=db,Se.diff=ib,Se.endOf=ub,Se.format=mb,Se.from=nb,Se.fromNow=ob,Se.to=pb,Se.toNow=qb,Se.get=F,Se.invalidAt=Cb,Se.isAfter=eb,Se.isBefore=fb,Se.isBetween=gb,Se.isSame=hb,Se.isValid=Ab,Se.lang=He,Se.locale=rb,Se.localeData=sb,Se.max=Be,Se.min=Ae,Se.parsingFlags=Bb,Se.set=F,Se.startOf=tb,Se.subtract=Ge,Se.toArray=yb,Se.toObject=zb,Se.toDate=xb,Se.toISOString=lb,Se.toJSON=lb,Se.toString=kb,Se.unix=wb,Se.valueOf=vb,Se.year=ye,Se.isLeapYear=ia,Se.weekYear=Fb,Se.isoWeekYear=Gb,Se.quarter=Se.quarters=Jb,Se.month=Y,Se.daysInMonth=Z,Se.week=Se.weeks=na,Se.isoWeek=Se.isoWeeks=oa,Se.weeksInYear=Ib,Se.isoWeeksInYear=Hb,Se.date=Ie,Se.day=Se.days=Pb,Se.weekday=Qb,Se.isoWeekday=Rb,Se.dayOfYear=qa,Se.hour=Se.hours=Ne,Se.minute=Se.minutes=Oe,Se.second=Se.seconds=Pe,Se.millisecond=Se.milliseconds=Re,Se.utcOffset=Na,Se.utc=Pa,Se.local=Qa,Se.parseZone=Ra,Se.hasAlignedHourOffset=Sa,Se.isDST=Ta,Se.isDSTShifted=Ua,Se.isLocal=Va,Se.isUtcOffset=Wa,Se.isUtc=Xa,Se.isUTC=Xa,Se.zoneAbbr=Xb,Se.zoneName=Yb,Se.dates=aa("dates accessor is deprecated. Use date instead.",Ie),Se.months=aa("months accessor is deprecated. Use month instead",Y),Se.years=aa("years accessor is deprecated. Use year instead",ye),Se.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Te=Se,Ue={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ve={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},We="Invalid date",Xe="%d",Ye=/\d{1,2}/,Ze={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$e=s.prototype;$e._calendar=Ue,$e.calendar=_b,$e._longDateFormat=Ve,$e.longDateFormat=ac,$e._invalidDate=We,$e.invalidDate=bc,$e._ordinal=Xe,$e.ordinal=cc,$e._ordinalParse=Ye,$e.preparse=dc,$e.postformat=dc,$e._relativeTime=Ze,$e.relativeTime=ec,$e.pastFuture=fc,$e.set=gc,$e.months=U,$e._months=re,$e.monthsShort=V,$e._monthsShort=se,$e.monthsParse=W,$e.week=ka,$e._week=ze,$e.firstDayOfYear=ma,$e.firstDayOfWeek=la,$e.weekdays=Lb,$e._weekdays=Je,$e.weekdaysMin=Nb,$e._weekdaysMin=Le,$e.weekdaysShort=Mb,$e._weekdaysShort=Ke,$e.weekdaysParse=Ob,$e.isPM=Ub,$e._meridiemParse=Me,$e.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=aa("moment.langData is deprecated. Use moment.localeData instead.",y);var _e=Math.abs,af=yc("ms"),bf=yc("s"),cf=yc("m"),df=yc("h"),ef=yc("d"),ff=yc("w"),gf=yc("M"),hf=yc("y"),jf=Ac("milliseconds"),kf=Ac("seconds"),lf=Ac("minutes"),mf=Ac("hours"),nf=Ac("days"),of=Ac("months"),pf=Ac("years"),qf=Math.round,rf={s:45,m:45,h:22,d:26,M:11},sf=Math.abs,tf=Ha.prototype;tf.abs=oc,tf.add=qc,tf.subtract=rc,tf.as=wc,tf.asMilliseconds=af,tf.asSeconds=bf,tf.asMinutes=cf,tf.asHours=df,tf.asDays=ef,tf.asWeeks=ff,tf.asMonths=gf,tf.asYears=hf,tf.valueOf=xc,tf._bubble=tc,tf.get=zc,tf.milliseconds=jf,tf.seconds=kf,tf.minutes=lf,tf.hours=mf,tf.days=nf,tf.weeks=Bc,tf.months=of,tf.years=pf,tf.humanize=Fc,tf.toISOString=Gc,tf.toString=Gc,tf.toJSON=Gc,tf.locale=rb,tf.localeData=sb,tf.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),tf.lang=He,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",ee),N("X",ge),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),
//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
a.version="2.10.6",b(Da),a.fn=Te,a.min=Fa,a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec;var uf=a,vf=(uf.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(a){return/^nm$/i.test(a)},meridiem:function(a,b,c){return 12>a?c?"vm":"VM":c?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),uf.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),wf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},xf=(uf.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return wf[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return vf[a]}).replace(/,/g,"")},week:{dow:6,doy:12}}),uf.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),yf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},zf=function(a){return 0===a?0:1===a?1:2===a?2:a%100>=3&&10>=a%100?3:a%100>=11?4:5},Af={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},Bf=function(a){return function(b,c,d,e){var f=zf(b),g=Af[a][zf(b)];return 2===f&&(g=g[c?0:1]),g.replace(/%d/i,b)}},Cf=["  "," "," "," "," "," "," "," "," ","  ","  ","  "],Df=(uf.defineLocale("ar",{months:Cf,monthsShort:Cf,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:Bf("s"),m:Bf("m"),mm:Bf("m"),h:Bf("h"),hh:Bf("h"),d:Bf("d"),dd:Bf("d"),M:Bf("M"),MM:Bf("M"),y:Bf("y"),yy:Bf("y")},preparse:function(a){return a.replace(/\u200f/g,"").replace(/[]/g,function(a){return yf[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return xf[a]}).replace(/,/g,"")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"}),Ef=(uf.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(a){return/^(gndz|axam)$/.test(a)},meridiem:function(a,b,c){return 4>a?"gec":12>a?"shr":17>a?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(a){if(0===a)return a+"-nc";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(Df[b]||Df[c]||Df[d])},week:{dow:1,doy:7}}),uf.defineLocale("be",{months:Jc,monthsShort:"___________".split("_"),weekdays:Kc,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Ic,mm:Ic,h:Ic,hh:Ic,d:"",dd:Ic,M:"",MM:Ic,y:"",yy:Ic},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":12>a?"":17>a?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a%10!==2&&a%10!==3||a%100===12||a%100===13?a+"-":a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}}),uf.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-":0===c?a+"-":c>10&&20>c?a+"-":1===b?a+"-":2===b?a+"-":7===b||8===b?a+"-":a+"-"},week:{dow:1,doy:7}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Ff={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Gf=(uf.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Ff[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Ef[a]})},meridiemParse:/||||/,isPM:function(a){return/^(||)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Hf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},If=(uf.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Hf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Gf[a]})},meridiemParse:/||||/,isPM:function(a){return/^(||)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}}),uf.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:Lc,h:"un eur",hh:"%d eur",d:"un devezh",dd:Lc,M:"ur miz",MM:Lc,y:"ur bloaz",yy:Mc},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(a){var b=1===a?"a":"vet";return a+b},week:{dow:1,doy:4}}),uf.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Qc,mm:Qc,h:Qc,hh:Qc,d:"dan",dd:Qc,M:"mjesec",MM:Qc,y:"godinu",yy:Qc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(a,b){var c=1===a?"r":2===a?"n":3===a?"r":4===a?"t":"";return("w"===b||"W"===b)&&(c="a"),a+c},week:{dow:1,doy:4}}),"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_")),Jf="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),Kf=(uf.defineLocale("cs",{months:If,monthsShort:Jf,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(If,Jf),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:Sc,m:Sc,mm:Sc,h:Sc,hh:Sc,d:Sc,dd:Sc,M:Sc,MM:Sc,y:Sc,yy:Sc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(a){var b=/$/i.exec(a)?"":/$/i.exec(a)?"":"";return a+b},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}}),uf.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?c=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(c=d[b]),a+c},week:{dow:1,doy:4}}),uf.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Tc,mm:"%d Minuten",h:Tc,hh:"%d Stunden",d:Tc,dd:Tc,M:Tc,MM:Tc,y:Tc,yy:Tc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Uc,mm:"%d Minuten",h:Uc,hh:"%d Stunden",d:Uc,dd:Uc,M:Uc,MM:Uc,y:Uc,yy:Uc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(a,b,c){return a>11?c?"":"":c?"":""},isPM:function(a){return""===(a+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return"function"==typeof c&&(c=c.apply(b)),c.replace("{}",d%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),uf.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),uf.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY h:mm A",LLLL:"dddd, D MMMM, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),uf.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),uf.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(a){return"p"===a.charAt(0).toLowerCase()},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}}),"Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_")),Lf="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),Mf=(uf.defineLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Lf[a.month()]:Kf[a.month()]},weekdays:"Domingo_Lunes_Martes_Mircoles_Jueves_Viernes_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mi._Jue._Vie._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),uf.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:Vc,m:Vc,mm:Vc,h:Vc,hh:Vc,d:Vc,dd:"%d peva",M:Vc,MM:Vc,y:Vc,yy:Vc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",
lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Nf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Of=(uf.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(a){return/  /.test(a)},meridiem:function(a,b,c){return 12>a?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[-]/g,function(a){return Nf[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return Mf[a]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" ")),Pf=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",Of[7],Of[8],Of[9]],Qf=(uf.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:Wc,m:Wc,mm:Wc,h:Wc,hh:Wc,d:Wc,dd:Wc,M:Wc,MM:Wc,y:Wc,yy:Wc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(a){return a+(1===a?"er":"e")}}),uf.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(1===a?"er":"")},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),Rf="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),Sf=(uf.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Rf[a.month()]:Qf[a.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),uf.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return"uns segundos"===a?"nuns segundos":"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:7}}),uf.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(a){return 2===a?"":a+" "},d:"",dd:function(a){return 2===a?"":a+" "},M:"",MM:function(a){return 2===a?"":a+" "},y:"",yy:function(a){return 2===a?"":a%10===0&&10!==a?a+" ":a+" "}}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Tf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Uf=(uf.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Tf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Sf[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?4>a?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}}),uf.defineLocale("hr",{months:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Yc,mm:Yc,h:Yc,hh:Yc,d:"dan",dd:Yc,M:"mjesec",MM:Yc,y:"godinu",yy:Yc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),"vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ")),Vf=(uf.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(a){return"u"===a.charAt(1).toLowerCase()},meridiem:function(a,b,c){return 12>a?c===!0?"de":"DE":c===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return $c.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return $c.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:Zc,m:Zc,mm:Zc,h:Zc,hh:Zc,d:Zc,dd:Zc,M:Zc,MM:Zc,y:Zc,yy:Zc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("hy-am",{months:_c,monthsShort:ad,weekdays:bd,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a){return 4>a?"":12>a?"":17>a?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(a,b){switch(b){case"DDD":case"w":case"W":case"DDDo":return 1===a?a+"-":a+"-";default:return a}},week:{dow:1,doy:7}}),uf.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"siang"===b?a>=11?a:a+12:"sore"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"siang":19>a?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),uf.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:dd,m:dd,mm:dd,h:"klukkustund",hh:dd,d:dd,dd:dd,M:dd,MM:dd,y:dd,yy:dd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),uf.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"Ahms",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhm",LLLL:"YYYYMDAhm dddd"},meridiemParse:/|/i,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),uf.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(a,b){return 12===a&&(a=0),"enjing"===b?a:"siyang"===b?a>=11?a:a+12:"sonten"===b||"ndalu"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"enjing":15>a?"siyang":19>a?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),uf.defineLocale("ka",{months:ed,monthsShort:"___________".split("_"),weekdays:fd,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(a){return/(|||)/.test(a)?a.replace(/$/,""):a+""},past:function(a){return/(||||)/.test(a)?a.replace(/(|)$/," ")://.test(a)?a.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(a){return 0===a?a:1===a?a+"-":20>a||100>=a&&a%20===0||a%100===0?"-"+a:a+"-"},week:{dow:1,doy:7}}),uf.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}}),uf.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h m",LLLL:"YYYY MMMM D dddd A h m"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""}}),uf.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:hd,past:id,s:"e puer Sekonnen",m:gd,mm:"%d Minutten",h:gd,hh:"%d Stonnen",d:gd,dd:"%d Deeg",M:gd,MM:"%d Mint",y:gd,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"}),Wf="sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),Xf=(uf.defineLocale("lt",{months:ld,monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:qd,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:kd,m:md,mm:pd,h:md,hh:pd,d:md,dd:pd,M:md,MM:pd,y:md,yy:pd},ordinalParse:/\d{1,2}-oji/,ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}}),{m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")}),Yf=(uf.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:ud,m:td,mm:sd,h:td,hh:sd,d:td,dd:sd,M:td,MM:sd,y:td,yy:sd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=Yf.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+Yf.correctGrammaticalCase(a,d)}}),Zf=(uf.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var a=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:Yf.translate,mm:Yf.translate,h:Yf.translate,hh:Yf.translate,d:"dan",dd:Yf.translate,M:"mjesec",MM:Yf.translate,y:"godinu",yy:Yf.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-":0===c?a+"-":c>10&&20>c?a+"-":1===b?a+"-":2===b?a+"-":7===b||8===b?a+"-":a+"-"},week:{dow:1,doy:7}}),uf.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,isPM:function(a){return/^( ||)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":12>a?"":17>a?" ":20>a?"":""}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),$f={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},_f=(uf.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return $f[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Zf[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?4>a?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}}),uf.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",
lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),uf.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),ag={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},bg=(uf.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return ag[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return _f[a]})},week:{dow:1,doy:4}}),uf.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tirs_ons_tors_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",LTS:"H.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H.mm",LLLL:"dddd D. MMMM YYYY [kl.] H.mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),cg={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},dg=(uf.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(a){return a.replace(/[]/g,function(a){return cg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return bg[a]})},meridiemParse:/|||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?3>a?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b||""===b?a+12:void 0},meridiem:function(a,b,c){return 3>a?"":10>a?"":15>a?"":18>a?"":20>a?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),eg="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),fg=(uf.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?eg[a.month()]:dg[a.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),uf.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),"stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_")),gg="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),hg=(uf.defineLocale("pl",{months:function(a,b){return""===b?"("+gg[a.month()]+"|"+fg[a.month()]+")":/D MMMM/.test(b)?gg[a.month()]:fg[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:wd,mm:wd,h:wd,hh:wd,d:"1 dzie",dd:"%d dni",M:"miesic",MM:wd,y:"rok",yy:wd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"}),uf.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),uf.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:xd,h:"o or",hh:xd,d:"o zi",dd:xd,M:"o lun",MM:xd,y:"un an",yy:xd},week:{dow:1,doy:7}}),uf.defineLocale("ru",{months:Ad,monthsShort:Bd,weekdays:Cd,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:zd,mm:zd,h:"",hh:zd,d:"",dd:zd,M:"",MM:zd,y:"",yy:zd},meridiemParse:/|||/i,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":12>a?"":17>a?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-";case"D":return a+"-";case"w":case"W":return a+"-";default:return a}},week:{dow:1,doy:7}}),uf.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},ordinalParse:/\d{1,2} /,ordinal:function(a){return a+" "},meridiem:function(a,b,c){return a>11?c?"..":" ":c?"..":" "}}),"janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_")),ig="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),jg=(uf.defineLocale("sk",{months:hg,monthsShort:ig,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(hg,ig),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Ed,m:Ed,mm:Ed,h:Ed,hh:Ed,d:Ed,dd:Ed,M:Ed,MM:Ed,y:Ed,yy:Ed},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:Fd,m:Fd,mm:Fd,h:Fd,hh:Fd,d:Fd,dd:Fd,M:Fd,MM:Fd,y:Fd,yy:Fd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(a){return"M"===a.charAt(0)},meridiem:function(a,b,c){return 12>a?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=jg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+jg.correctGrammaticalCase(a,d)}}),kg=(uf.defineLocale("sr-cyrl",{months:["","","","","","","","","","","",""],monthsShort:[".",".",".",".","","","",".",".",".",".","."],weekdays:["","","","","","",""],weekdaysShort:[".",".",".",".",".",".","."],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var a=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:jg.translate,mm:jg.translate,h:jg.translate,hh:jg.translate,d:"",dd:jg.translate,M:"",MM:jg.translate,y:"",yy:jg.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=kg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+kg.correctGrammaticalCase(a,d)}}),lg=(uf.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var a=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:kg.translate,mm:kg.translate,h:kg.translate,hh:kg.translate,d:"dan",dd:kg.translate,M:"mesec",MM:kg.translate,y:"godinu",yy:kg.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"e":1===b?"a":2===b?"a":"e";return a+c},week:{dow:1,doy:4}}),uf.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(a){return a+""},meridiemParse:/|||||/,meridiem:function(a,b,c){return 2>a?" ":6>a?" ":10>a?" ":14>a?" ":18>a?" ":22>a?" ":" "},meridiemHour:function(a,b){return 12===a&&(a=0),""===b?2>a?a:a+12:""===b||""===b?a:""===b&&a>=10?a:a+12},week:{dow:0,doy:6}}),uf.defineLocale("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",LTS:"H  m  s ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H  m ",LLLL:"dddd D MMMM YYYY  H  m "},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),uf.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),{1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"}),mg=(uf.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(a){if(0===a)return a+"'nc";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(lg[b]||lg[c]||lg[d])},week:{dow:1,doy:7}}),uf.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY LT",LLLL:"dddd, [li] D. MMMM [dallas] YYYY LT"},meridiem:function(a,b,c){return a>11?c?"d'o":"D'O":c?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Gd,m:Gd,mm:Gd,h:Gd,hh:Gd,d:Gd,dd:Gd,M:Gd,MM:Gd,y:Gd,yy:Gd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),uf.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),uf.defineLocale("uk",{months:Jd,monthsShort:"___________".split("_"),weekdays:Kd,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:Ld("[ "),nextDay:Ld("[ "),lastDay:Ld("[ "),nextWeek:Ld("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Ld("[] dddd [").call(this);case 1:case 2:case 4:return Ld("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Id,mm:Id,h:"",hh:Id,d:"",dd:Id,M:"",MM:Id,y:"",yy:Id},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":12>a?"":17>a?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}}),uf.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),uf.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",
llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),uf.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b||""===b||""===b?a:""===b||""===b?a+12:a>=11?a:a+12},meridiem:function(a,b,c){var d=100*a+b;return 600>d?"":900>d?"":1130>d?"":1230>d?"":1800>d?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var a,b;return a=uf().startOf("week"),b=this.unix()-a.unix()>=604800?"[]":"[]",0===this.minutes()?b+"dddAh":b+"dddAhmm"},lastWeek:function(){var a,b;return a=uf().startOf("week"),b=this.unix()<a.unix()?"[]":"[]",0===this.minutes()?b+"dddAh":b+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),uf.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b||""===b?a:""===b?a>=11?a:a+12:""===b||""===b?a+12:void 0},meridiem:function(a,b,c){var d=100*a+b;return 900>d?"":1130>d?"":1230>d?"":1800>d?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}}),uf);return mg.locale("en"),mg});
//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
//# sourceMappingURL=underscore-min.map
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";function i(){var t=v();return t.compile=function(e,s){return l.compile(e,s,t)},t.precompile=function(e,s){return l.precompile(e,s,t)},t.AST=h["default"],t.Compiler=l.Compiler,t.JavaScriptCompiler=u["default"],t.Parser=c.parser,t.parse=c.parse,t}var r=s(8)["default"];e.__esModule=!0;var n=s(1),a=r(n),o=s(2),h=r(o),c=s(3),l=s(4),p=s(5),u=r(p),f=s(6),d=r(f),m=s(7),g=r(m),v=a["default"].create,y=i();y.create=i,g["default"](y),y.Visitor=d["default"],y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e,s){"use strict";function i(){var t=new o.HandlebarsEnvironment;return f.extend(t,o),t.SafeString=c["default"],t.Exception=p["default"],t.Utils=f,t.escapeExpression=f.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}var r=s(9)["default"],n=s(8)["default"];e.__esModule=!0;var a=s(10),o=r(a),h=s(11),c=n(h),l=s(12),p=n(l),u=s(13),f=r(u),d=s(14),m=r(d),g=s(7),v=n(g),y=i();y.create=i,v["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0;var s={Program:function(t,e,s,i){this.loc=i,this.type="Program",this.body=t,this.blockParams=e,this.strip=s},MustacheStatement:function(t,e,s,i,r,n){this.loc=n,this.type="MustacheStatement",this.path=t,this.params=e||[],this.hash=s,this.escaped=i,this.strip=r},BlockStatement:function(t,e,s,i,r,n,a,o,h){this.loc=h,this.type="BlockStatement",this.path=t,this.params=e||[],this.hash=s,this.program=i,this.inverse=r,this.openStrip=n,this.inverseStrip=a,this.closeStrip=o},PartialStatement:function(t,e,s,i,r){this.loc=r,this.type="PartialStatement",this.name=t,this.params=e||[],this.hash=s,this.indent="",this.strip=i},ContentStatement:function(t,e){this.loc=e,this.type="ContentStatement",this.original=this.value=t},CommentStatement:function(t,e,s){this.loc=s,this.type="CommentStatement",this.value=t,this.strip=e},SubExpression:function(t,e,s,i){this.loc=i,this.type="SubExpression",this.path=t,this.params=e||[],this.hash=s},PathExpression:function(t,e,s,i,r){this.loc=r,this.type="PathExpression",this.data=t,this.original=i,this.parts=s,this.depth=e},StringLiteral:function(t,e){this.loc=e,this.type="StringLiteral",this.original=this.value=t},NumberLiteral:function(t,e){this.loc=e,this.type="NumberLiteral",this.original=this.value=Number(t)},BooleanLiteral:function(t,e){this.loc=e,this.type="BooleanLiteral",this.original=this.value="true"===t},UndefinedLiteral:function(t){this.loc=t,this.type="UndefinedLiteral",this.original=this.value=void 0},NullLiteral:function(t){this.loc=t,this.type="NullLiteral",this.original=this.value=null},Hash:function(t,e){this.loc=e,this.type="Hash",this.pairs=t},HashPair:function(t,e,s){this.loc=s,this.type="HashPair",this.key=t,this.value=e},helpers:{helperExpression:function(t){return!("SubExpression"!==t.type&&!t.params.length&&!t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!s.helpers.scopedId(t)&&!t.depth}}};e["default"]=s,t.exports=e["default"]},function(t,e,s){"use strict";function i(t,e){if("Program"===t.type)return t;o["default"].yy=m,m.locInfo=function(t){return new m.SourceLocation(e&&e.srcName,t)};var s=new p["default"];return s.accept(o["default"].parse(t))}var r=s(8)["default"],n=s(9)["default"];e.__esModule=!0,e.parse=i;var a=s(15),o=r(a),h=s(2),c=r(h),l=s(16),p=r(l),u=s(17),f=n(u),d=s(13);e.parser=o["default"];var m={};d.extend(m,f,c["default"])},function(t,e,s){"use strict";function i(){}function r(t,e,s){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new l["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var i=s.parse(t,e),r=(new s.Compiler).compile(i,e);return(new s.JavaScriptCompiler).compile(r,e)}function n(t,e,s){function i(){var e=s.parse(t,n),i=(new s.Compiler).compile(e,n),r=(new s.JavaScriptCompiler).compile(i,n,void 0,!0);return s.template(r)}function r(t,e){return a||(a=i()),a.call(this,t,e)}var n=void 0===arguments[1]?{}:arguments[1];if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new l["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in n||(n.data=!0),n.compat&&(n.useDepths=!0);var a=void 0;return r._setup=function(t){return a||(a=i()),a._setup(t)},r._child=function(t,e,s,r){return a||(a=i()),a._child(t,e,s,r)},r}function a(t,e){if(t===e)return!0;if(p.isArray(t)&&p.isArray(e)&&t.length===e.length){for(var s=0;s<t.length;s++)if(!a(t[s],e[s]))return!1;return!0}}function o(t){if(!t.path.parts){var e=t.path;t.path=new f["default"].PathExpression(!1,0,[e.original+""],e.original+"",e.loc)}}var h=s(8)["default"];e.__esModule=!0,e.Compiler=i,e.precompile=r,e.compile=n;var c=s(12),l=h(c),p=s(13),u=s(2),f=h(u),d=[].slice;i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var s=0;e>s;s++){var i=this.opcodes[s],r=t.opcodes[s];if(i.opcode!==r.opcode||!a(i.args,r.args))return!1}e=this.children.length;for(var s=0;e>s;s++)if(!this.children[s].equals(t.children[s]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var s=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},s)for(var i in s)i in s&&(e.knownHelpers[i]=s[i]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,s=e.compile(t,this.options),i=this.guid++;return this.usePartial=this.usePartial||s.usePartial,this.children[i]=s,this.useDepths=this.useDepths||s.useDepths,i},accept:function(t){this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,s=e.length,i=0;s>i;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===s,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){o(t);var e=t.program,s=t.inverse;e=e&&this.compileProgram(e),s=s&&this.compileProgram(s);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,s):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,s),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(t){this.usePartial=!0;var e=t.params;if(e.length>1)throw new l["default"]("Unsupported number of partial arguments: "+e.length,t);e.length||e.push({type:"PathExpression",parts:[],depth:0});var s=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,void 0,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",i,s,r),this.opcode("append")},MustacheStatement:function(t){this.SubExpression(t),this.opcode(t.escaped&&!this.options.noEscape?"appendEscaped":"append")},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){o(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,s){var i=t.path,r=i.parts[0],n=null!=e||null!=s;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.accept(i),this.opcode("invokeAmbiguous",r,n)},simpleSexpr:function(t){this.accept(t.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,s){var i=this.setupFullMustacheParams(t,e,s),r=t.path,n=r.parts[0];if(this.options.knownHelpers[n])this.opcode("invokeKnownHelper",i.length,n);else{if(this.options.knownHelpersOnly)throw new l["default"]("You specified knownHelpersOnly, but used the unknown helper "+n,t);r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,f["default"].helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],s=f["default"].helpers.scopedId(t),i=!t.depth&&!s&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts)):this.opcode("lookupOnContext",t.parts,t.falsy,s):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,s=0,i=e.length;for(this.opcode("pushHash");i>s;s++)this.pushParam(e[s].value);for(;s--;)this.opcode("assignToHash",e[s].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:d.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=f["default"].helpers.simpleId(t.path),s=e&&!!this.blockParamIndex(t.path.parts[0]),i=!s&&f["default"].helpers.helperExpression(t),r=!s&&(i||e);if(r&&!i){var n=t.path.parts[0],a=this.options;a.knownHelpers[n]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,s=t.length;s>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var s=void 0;if(!t.parts||f["default"].helpers.scopedId(t)||t.depth||(s=this.blockParamIndex(t.parts[0])),s){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",s,i)}else e=t.original||e,e.replace&&(e=e.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,s,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",s),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,s=this.options.blockParams.length;s>e;e++){var i=this.options.blockParams[e],r=i&&p.indexOf(i,t);if(i&&r>=0)return[e,r]}}}},function(t,e,s){"use strict";function i(t){this.value=t}function r(){}function n(t,e,s,i){var r=e.popStack(),n=0,a=s.length;for(t&&a--;a>n;n++)r=e.nameLookup(r,s[n],i);return t?[e.aliasable("this.strict"),"(",r,", ",e.quotedString(s[n]),")"]:r}var a=s(8)["default"];e.__esModule=!0;var o=s(10),h=s(12),c=a(h),l=s(13),p=s(18),u=a(p);r.prototype={nameLookup:function(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"['",e,"']"]},depthedLookup:function(t){return[this.aliasable("this.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=o.COMPILER_REVISION,e=o.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,s){return l.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:s?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,s,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!s,this.context=s||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,n=void 0,a=void 0,o=void 0,h=void 0;for(o=0,h=r.length;h>o;o++)n=r[o],this.source.currentLocation=n.loc,a=a||n.loc,this[n.opcode].apply(this,n.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c["default"]("Compile completed with content left on stack");var l=this.createFunctionContext(i);if(this.isChild)return l;var p={compiler:this.compilerInfo(),main:l},u=this.context.programs;for(o=0,h=u.length;h>o;o++)u[o]&&(p[o]=u[o]);return this.environment.usePartial&&(p.usePartial=!0),this.options.data&&(p.useData=!0),this.useDepths&&(p.useDepths=!0),this.useBlockParams&&(p.useBlockParams=!0),this.options.compat&&(p.compat=!0),i?p.compilerOptions=this.options:(p.compiler=JSON.stringify(p.compiler),this.source.currentLocation={start:{line:1,column:0}},p=this.objectLiteral(p),e.srcName?(p=p.toStringWithSourceMap({file:e.destName}),p.map=p.map&&p.map.toString()):p=p.toString()),p},preamble:function(){this.lastContext=0,this.source=new u["default"](this.options.srcName)},createFunctionContext:function(t){var e="",s=this.stackVars.concat(this.registers.list);s.length>0&&(e+=", "+s.join(", "));var i=0;for(var r in this.aliases){var n=this.aliases[r];this.aliases.hasOwnProperty(r)&&n.children&&n.referenceCount>1&&(e+=", alias"+ ++i+"="+r,n.children[0]="alias"+i)}var a=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var o=this.mergeSource(e);return t?(a.push(o),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",o,"}"])},mergeSource:function(t){var e=this.environment.isSimple,s=!this.forceBuffer,i=void 0,r=void 0,n=void 0,a=void 0;return this.source.each(function(t){t.appendToBuffer?(n?t.prepend("  + "):n=t,a=t):(n&&(r?n.prepend("buffer += "):i=!0,a.add(";"),n=a=void 0),r=!0,e||(s=!1))}),s?n?(n.prepend("return "),a.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),n?(n.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),s=[this.contextName(0)];this.setupHelperArgs(t,0,s);var i=this.popStack();s.splice(1,0,i),this.push(this.source.functionCall(e,"call",s))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var s=this.topStack();e.splice(1,0,s),this.pushSource(["if (!",this.lastHelper,") { ",s," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,s){var i=0;s||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++])),this.resolvePath("context",t,i,e)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e){this.pushStackLiteral(t?"this.data(data, "+t+")":"data"),this.resolvePath("data",e,0,!0)},resolvePath:function(t,e,s,i){var r=this;if(this.options.strict||this.options.assumeObjects)return void this.push(n(this.options.strict,this,e,t));for(var a=e.length;a>s;s++)this.replaceStack(function(n){var a=r.nameLookup(n,e[s],t);return i?[" && ",a]:[" != null ? ",a," : ",n]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e,s){var i=this.popStack(),r=this.setupHelper(t,e),n=s?[r.name," || "]:"",a=["("].concat(n,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function(t,e){var s=this.setupHelper(t,e);this.push(this.source.functionCall(s.name,"call",s.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var s=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=this.lastHelper=this.nameLookup("helpers",t,"helper"),n=["(","(helper = ",r," || ",s,")"];this.options.strict||(n[0]="(helper = ",n.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",n,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,s){var i=[],r=this.setupParams(e,1,i,!1);t&&(e=this.popStack(),delete r.name),s&&(r.indent=JSON.stringify(s)),r.helpers="helpers",r.partials="partials",i.unshift(t?e:this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("this.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),s=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),s=this.popStack());var n=this.hash;s&&(n.contexts[t]=s),i&&(n.types[t]=i),r&&(n.ids[t]=r),n.values[t]=e},pushId:function(t,e,s){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(s?" + "+JSON.stringify("."+s):"")):"PathExpression"===t?this.pushString(e):this.pushStackLiteral("SubExpression"===t?"true":"null")},compiler:r,compileChildren:function(t,e){for(var s=t.children,i=void 0,r=void 0,n=0,a=s.length;a>n;n++){i=s[n],r=new this.compiler;var o=this.matchExistingProgram(i);null==o?(this.context.programs.push(""),o=this.context.programs.length,i.index=o,i.name="program"+o,this.context.programs[o]=r.compile(i,e,this.context,!this.precompile),this.context.environments[o]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams):(i.index=o,i.name="program"+o,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,s=this.context.environments.length;s>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],s=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths"),"this.program("+s.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],s=void 0,r=void 0,n=void 0;if(!this.isInline())throw new c["default"]("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof i)s=[a.value],e=["(",s],n=!0;else{r=!0;var o=this.incrStack();e=["((",this.push(o)," = ",a,")"],s=this.topStack()}var h=t.call(this,s);n||this.popStack(),r&&this.stackSlot--,this.push(e.concat(h,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,s=t.length;s>e;e++){var r=t[e];if(r instanceof i)this.compileStack.push(r);else{var n=this.incrStack();this.pushSource([n," = ",r,";"]),this.compileStack.push(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),s=(e?this.inlineStack:this.compileStack).pop();if(!t&&s instanceof i)return s.value;if(!e){if(!this.stackSlot)throw new c["default"]("Invalid stack pop");this.stackSlot--}return s},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,s){var i=[],r=this.setupHelperArgs(e,t,i,s),n=this.nameLookup("helpers",e,"helper");return{params:i,paramsInit:r,name:n,callParams:[this.contextName(0)].concat(i)}},setupParams:function(t,e,s){var i={},r=[],n=[],a=[],o=void 0;i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var h=this.popStack(),c=this.popStack();(c||h)&&(i.fn=c||"this.noop",i.inverse=h||"this.noop");for(var l=e;l--;)o=this.popStack(),s[l]=o,this.trackIds&&(a[l]=this.popStack()),this.stringParams&&(n[l]=this.popStack(),r[l]=this.popStack());return this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(n),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,s,i){var r=this.setupParams(t,e,s,!0);return r=this.objectLiteral(r),i?(this.useRegister("options"),s.push("options"),["options=",r]):(s.push(r),"")}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},s=0,i=t.length;i>s;s++)e[t[s]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=r,t.exports=e["default"]},function(t,e,s){"use strict";function i(){this.parents=[]}var r=s(8)["default"];e.__esModule=!0;var n=s(12),a=r(n),o=s(2),h=r(o);i.prototype={constructor:i,mutating:!1,acceptKey:function(t,e){var s=this.accept(t[e]);if(this.mutating){if(s&&(!s.type||!h["default"][s.type]))throw new a["default"]('Unexpected node type "'+s.type+'" found when accepting '+e+" on "+t.type);t[e]=s}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new a["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,s=t.length;s>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,s--)},accept:function(t){if(t){this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},BlockStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash"),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")},PartialStatement:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=i,t.exports=e["default"]},function(t,e){(function(s){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof s?s:window,i=e.Handlebars;t.noConflict=function(){e.Handlebars===t&&(e.Handlebars=i)}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if("object"==typeof t&&null!==t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e["default"]=t,e},e.__esModule=!0},function(t,e,s){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new p["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),t.registerHelper("blockHelperMissing",function(e,s){var i=s.inverse,r=s.fn;if(e===!0)return r(this);if(e===!1||null==e)return i(this);if(m(e))return e.length>0?(s.ids&&(s.ids=[s.name]),t.helpers.each(e,s)):i(this);if(s.data&&s.ids){var a=n(s.data);a.contextPath=c.appendContextPath(s.data.contextPath,s.name),s={data:a}}return r(e,s)}),t.registerHelper("each",function(t,e){function s(e,s,r){h&&(h.key=e,h.index=s,h.first=0===s,h.last=!!r,l&&(h.contextPath=l+e)),o+=i(t[e],{data:h,blockParams:c.blockParams([t[e],e],[l+e,null])})}if(!e)throw new p["default"]("Must pass iterator to #each");var i=e.fn,r=e.inverse,a=0,o="",h=void 0,l=void 0;if(e.data&&e.ids&&(l=c.appendContextPath(e.data.contextPath,e.ids[0])+"."),g(t)&&(t=t.call(this)),e.data&&(h=n(e.data)),t&&"object"==typeof t)if(m(t))for(var u=t.length;u>a;a++)s(a,a,a===t.length-1);else{var f=void 0;for(var d in t)t.hasOwnProperty(d)&&(f&&s(f,a-1),f=d,a++);f&&s(f,a-1,!0)}return 0===a&&(o=r(this)),o}),t.registerHelper("if",function(t,e){return g(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||c.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,s){return t.helpers["if"].call(this,e,{fn:s.inverse,inverse:s.fn,hash:s.hash})}),t.registerHelper("with",function(t,e){g(t)&&(t=t.call(this));var s=e.fn;if(c.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=n(e.data);i.contextPath=c.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return s(t,e)}),t.registerHelper("log",function(e,s){var i=s.data&&null!=s.data.level?parseInt(s.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}function n(t){var e=c.extend({},t);return e._parent=t,e}var a=s(9)["default"],o=s(8)["default"];e.__esModule=!0,e.HandlebarsEnvironment=i,e.createFrame=n;var h=s(13),c=a(h),l=s(12),p=o(l),u="3.0.1";e.VERSION=u;var f=6;e.COMPILER_REVISION=f;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=d;var m=c.isArray,g=c.isFunction,v=c.toString,y="[object Object]";i.prototype={constructor:i,logger:k,log:S,registerHelper:function(t,e){if(v.call(t)===y){if(e)throw new p["default"]("Arg not supported with multiple helpers");c.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(v.call(t)===y)c.extend(this.partials,t);else{if("undefined"==typeof e)throw new p["default"]("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var k={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&k.level<=t){var s=k.methodMap[t];(console[s]||console.log).call(console,e)}}};e.logger=k;var S=k.log;e.log=S},function(t,e){"use strict";function s(t){this.string=t}e.__esModule=!0,s.prototype.toString=s.prototype.toHTML=function(){return""+this.string},e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function s(t,e){var r=e&&e.loc,n=void 0,a=void 0;r&&(n=r.start.line,a=r.start.column,t+=" - "+n+":"+a);for(var o=Error.prototype.constructor.call(this,t),h=0;h<i.length;h++)this[i[h]]=o[i[h]];Error.captureStackTrace&&Error.captureStackTrace(this,s),r&&(this.lineNumber=n,this.column=a)}e.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];s.prototype=new Error,e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function s(t){return c[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var s in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],s)&&(t[s]=arguments[e][s]);return t}function r(t,e){for(var s=0,i=t.length;i>s;s++)if(t[s]===e)return s;return-1}function n(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return p.test(t)?t.replace(l,s):t}function a(t){return t||0===t?d(t)&&0===t.length?!0:!1:!0}function o(t,e){return t.path=e,t}function h(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=r,e.escapeExpression=n,e.isEmpty=a,e.blockParams=o,e.appendContextPath=h;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,p=/[&<>"'`]/,u=Object.prototype.toString;e.toString=u;var f=function(t){return"function"==typeof t};f(/x/)&&(e.isFunction=f=function(t){return"function"==typeof t&&"[object Function]"===u.call(t)});var f;e.isFunction=f;var d=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===u.call(t):!1};e.isArray=d},function(t,e,s){"use strict";function i(t){var e=t&&t[0]||1,s=g.COMPILER_REVISION;if(e!==s){if(s>e){var i=g.REVISION_CHANGES[s],r=g.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){function s(s,i,r){r.hash&&(i=f.extend({},i,r.hash)),s=e.VM.resolvePartial.call(this,s,i,r);var n=e.VM.invokePartial.call(this,s,i,r);if(null==n&&e.compile&&(r.partials[r.name]=e.compile(s,t.compilerOptions,e),n=r.partials[r.name](i,r)),null!=n){if(r.indent){for(var a=n.split("\n"),o=0,h=a.length;h>o&&(a[o]||o+1!==h);o++)a[o]=r.indent+a[o];
n=a.join("\n")}return n}throw new m["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(e){var s=void 0===arguments[1]?{}:arguments[1],n=s.data;i._setup(s),!s.partial&&t.useData&&(n=c(e,n));var a=void 0,o=t.useBlockParams?[]:void 0;return t.useDepths&&(a=s.depths?[e].concat(s.depths):[e]),t.main.call(r,e,r.helpers,r.partials,n,o,a)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var s=t.length,i=0;s>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:s,fn:function(e){return t[e]},programs:[],program:function(t,e,s,i,r){var a=this.programs[t],o=this.fn(t);return e||r||i||s?a=n(this,t,o,e,s,i,r):a||(a=this.programs[t]=n(this,t,o)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var s=t||e;return t&&e&&t!==e&&(s=f.extend({},e,t)),s},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(s){s.partial?(r.helpers=s.helpers,r.partials=s.partials):(r.helpers=r.merge(s.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(s.partials,e.partials)))},i._child=function(e,s,i,a){if(t.useBlockParams&&!i)throw new m["default"]("must pass block params");if(t.useDepths&&!a)throw new m["default"]("must pass parent depths");return n(r,e,t[e],s,0,i,a)},i}function n(t,e,s,i,r,n,a){function o(e){var r=void 0===arguments[1]?{}:arguments[1];return s.call(t,e,t.helpers,t.partials,r.data||i,n&&[r.blockParams].concat(n),a&&[e].concat(a))}return o.program=e,o.depth=a?a.length:0,o.blockParams=r||0,o}function a(t,e,s){return t?t.call||s.name||(s.name=t,t=s.partials[t]):t=s.partials[s.name],t}function o(t,e,s){if(s.partial=!0,void 0===t)throw new m["default"]("The partial "+s.name+" could not be found");return t instanceof Function?t(e,s):void 0}function h(){return""}function c(t,e){return e&&"root"in e||(e=e?g.createFrame(e):{},e.root=t),e}var l=s(9)["default"],p=s(8)["default"];e.__esModule=!0,e.checkRevision=i,e.template=r,e.wrapProgram=n,e.resolvePartial=a,e.invokePartial=o,e.noop=h;var u=s(13),f=l(u),d=s(12),m=p(d),g=s(10)},function(t,e){"use strict";e.__esModule=!0;var s=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(t,e,s,i,r,n){var a=n.length-1;switch(r){case 1:return n[a-1];case 2:this.$=new i.Program(n[a],null,{},i.locInfo(this._$));break;case 3:this.$=n[a];break;case 4:this.$=n[a];break;case 5:this.$=n[a];break;case 6:this.$=n[a];break;case 7:this.$=n[a];break;case 8:this.$=new i.CommentStatement(i.stripComment(n[a]),i.stripFlags(n[a],n[a]),i.locInfo(this._$));break;case 9:this.$=new i.ContentStatement(n[a],i.locInfo(this._$));break;case 10:this.$=i.prepareRawBlock(n[a-2],n[a-1],n[a],this._$);break;case 11:this.$={path:n[a-3],params:n[a-2],hash:n[a-1]};break;case 12:this.$=i.prepareBlock(n[a-3],n[a-2],n[a-1],n[a],!1,this._$);break;case 13:this.$=i.prepareBlock(n[a-3],n[a-2],n[a-1],n[a],!0,this._$);break;case 14:this.$={path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:i.stripFlags(n[a-5],n[a])};break;case 15:this.$={path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:i.stripFlags(n[a-5],n[a])};break;case 16:this.$={path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:i.stripFlags(n[a-5],n[a])};break;case 17:this.$={strip:i.stripFlags(n[a-1],n[a-1]),program:n[a]};break;case 18:var o=i.prepareBlock(n[a-2],n[a-1],n[a],n[a],!1,this._$),h=new i.Program([o],null,{},i.locInfo(this._$));h.chained=!0,this.$={strip:n[a-2].strip,program:h,chain:!0};break;case 19:this.$=n[a];break;case 20:this.$={path:n[a-1],strip:i.stripFlags(n[a-2],n[a])};break;case 21:this.$=i.prepareMustache(n[a-3],n[a-2],n[a-1],n[a-4],i.stripFlags(n[a-4],n[a]),this._$);break;case 22:this.$=i.prepareMustache(n[a-3],n[a-2],n[a-1],n[a-4],i.stripFlags(n[a-4],n[a]),this._$);break;case 23:this.$=new i.PartialStatement(n[a-3],n[a-2],n[a-1],i.stripFlags(n[a-4],n[a]),i.locInfo(this._$));break;case 24:this.$=n[a];break;case 25:this.$=n[a];break;case 26:this.$=new i.SubExpression(n[a-3],n[a-2],n[a-1],i.locInfo(this._$));break;case 27:this.$=new i.Hash(n[a],i.locInfo(this._$));break;case 28:this.$=new i.HashPair(i.id(n[a-2]),n[a],i.locInfo(this._$));break;case 29:this.$=i.id(n[a-1]);break;case 30:this.$=n[a];break;case 31:this.$=n[a];break;case 32:this.$=new i.StringLiteral(n[a],i.locInfo(this._$));break;case 33:this.$=new i.NumberLiteral(n[a],i.locInfo(this._$));break;case 34:this.$=new i.BooleanLiteral(n[a],i.locInfo(this._$));break;case 35:this.$=new i.UndefinedLiteral(i.locInfo(this._$));break;case 36:this.$=new i.NullLiteral(i.locInfo(this._$));break;case 37:this.$=n[a];break;case 38:this.$=n[a];break;case 39:this.$=i.preparePath(!0,n[a],this._$);break;case 40:this.$=i.preparePath(!1,n[a],this._$);break;case 41:n[a-2].push({part:i.id(n[a]),original:n[a],separator:n[a-1]}),this.$=n[a-2];break;case 42:this.$=[{part:i.id(n[a]),original:n[a]}];break;case 43:this.$=[];break;case 44:n[a-1].push(n[a]);break;case 45:this.$=[];break;case 46:n[a-1].push(n[a]);break;case 53:this.$=[];break;case 54:n[a-1].push(n[a]);break;case 59:this.$=[];break;case 60:n[a-1].push(n[a]);break;case 65:this.$=[];break;case 66:n[a-1].push(n[a]);break;case 73:this.$=[];break;case 74:n[a-1].push(n[a]);break;case 77:this.$=[];break;case 78:n[a-1].push(n[a]);break;case 81:this.$=[];break;case 82:n[a-1].push(n[a]);break;case 85:this.$=[];break;case 86:n[a-1].push(n[a]);break;case 89:this.$=[n[a]];break;case 90:n[a-1].push(n[a]);break;case 91:this.$=[n[a]];break;case 92:n[a-1].push(n[a])}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=s.lexer.lex()||1,"number"!=typeof t&&(t=s.symbols_[t]||t),t}var s=this,i=[0],r=[null],n=[],a=this.table,o="",h=0,c=0,l=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;n.push(p);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,d,m,g,v,y,k,S,b,P={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===f||"undefined"==typeof f)&&(f=e()),g=a[m]&&a[m][f]),"undefined"==typeof g||!g.length||!g[0]){var _="";if(!l){b=[];for(y in a[m])this.terminals_[y]&&y>2&&b.push("'"+this.terminals_[y]+"'");_=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:p,expected:b})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(g[0]){case 1:i.push(f),r.push(this.lexer.yytext),n.push(this.lexer.yylloc),i.push(g[1]),f=null,d?(f=d,d=null):(c=this.lexer.yyleng,o=this.lexer.yytext,h=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:if(k=this.productions_[g[1]][1],P.$=r[r.length-k],P._$={first_line:n[n.length-(k||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(k||1)].first_column,last_column:n[n.length-1].last_column},u&&(P._$.range=[n[n.length-(k||1)].range[0],n[n.length-1].range[1]]),v=this.performAction.call(P,o,c,h,this.yy,g[1],r,n),"undefined"!=typeof v)return v;k&&(i=i.slice(0,-1*k*2),r=r.slice(0,-1*k),n=n.slice(0,-1*k)),i.push(this.productions_[g[1]][0]),r.push(P.$),n.push(P._$),S=a[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0}},s=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,s,i,r;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),a=0;a<n.length&&(s=this._input.match(this.rules[n[a]]),!s||e&&!(s[0].length>e[0].length)||(e=s,i=a,this.options.flex));a++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,n[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,s,i){function r(t,s){return e.yytext=e.yytext.substr(t,e.yyleng-s)}switch(s){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e.yytext=e.yytext.substr(5,e.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(e.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 81;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return e.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return e.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:return 76;case 33:return 76;case 34:return 77;case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:return 66;case 40:return 66;case 41:return"INVALID";case 42:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}},t}();return e.lexer=s,t.prototype=e,e.Parser=t,new t}();e["default"]=s,t.exports=e["default"]},function(t,e,s){"use strict";function i(){}function r(t,e,s){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!s?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:s}function n(t,e,s){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!s?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:s}function a(t,e,s){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(s||!i.rightStripped)){var r=i.value;i.value=i.value.replace(s?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function o(t,e,s){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(s||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(s?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var h=s(8)["default"];e.__esModule=!0;var c=s(6),l=h(c);i.prototype=new l["default"],i.prototype.Program=function(t){var e=!this.isRootSeen;this.isRootSeen=!0;for(var s=t.body,i=0,h=s.length;h>i;i++){var c=s[i],l=this.accept(c);if(l){var p=r(s,i,e),u=n(s,i,e),f=l.openStandalone&&p,d=l.closeStandalone&&u,m=l.inlineStandalone&&p&&u;l.close&&a(s,i,!0),l.open&&o(s,i,!0),m&&(a(s,i),o(s,i)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(s[i-1].original)[1])),f&&(a((c.program||c.inverse).body),o(s,i)),d&&(a(s,i),o((c.inverse||c.program).body))}}return t},i.prototype.BlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,s=t.program&&t.inverse,i=s,h=s;if(s&&s.chained)for(i=s.body[0].program;h.chained;)h=h.body[h.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:n(e.body),closeStandalone:r((i||e).body)};if(t.openStrip.close&&a(e.body,null,!0),s){var l=t.inverseStrip;l.open&&o(e.body,null,!0),l.close&&a(i.body,null,!0),t.closeStrip.open&&o(h.body,null,!0),r(e.body)&&n(i.body)&&(o(e.body),a(i.body))}else t.closeStrip.open&&o(e.body,null,!0);return c},i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=i,t.exports=e["default"]},function(t,e,s){"use strict";function i(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function r(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function n(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function a(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function o(t,e,s){s=this.locInfo(s);for(var i=t?"@":"",r=[],n=0,a="",o=0,h=e.length;h>o;o++){var c=e[o].part,l=e[o].original!==c;if(i+=(e[o].separator||"")+c,l||".."!==c&&"."!==c&&"this"!==c)r.push(c);else{if(r.length>0)throw new f["default"]("Invalid path: "+i,{loc:s});".."===c&&(n++,a+="../")}}return new this.PathExpression(t,n,r,i,s)}function h(t,e,s,i,r,n){var a=i.charAt(3)||i.charAt(2),o="{"!==a&&"&"!==a;return new this.MustacheStatement(t,e,s,o,r,this.locInfo(n))}function c(t,e,s,i){if(t.path.original!==s){var r={loc:t.path.loc};throw new f["default"](t.path.original+" doesn't match "+s,r)}i=this.locInfo(i);var n=new this.Program([e],null,{},i);return new this.BlockStatement(t.path,t.params,t.hash,n,void 0,{},{},{},i)}function l(t,e,s,i,r,n){if(i&&i.path&&t.path.original!==i.path.original){var a={loc:t.path.loc};throw new f["default"](t.path.original+" doesn't match "+i.path.original,a)}e.blockParams=t.blockParams;var o=void 0,h=void 0;return s&&(s.chain&&(s.program.body[0].closeStrip=i.strip),h=s.strip,o=s.program),r&&(r=o,o=e,e=r),new this.BlockStatement(t.path,t.params,t.hash,e,o,t.strip,h,i&&i.strip,this.locInfo(n))}var p=s(8)["default"];e.__esModule=!0,e.SourceLocation=i,e.id=r,e.stripFlags=n,e.stripComment=a,e.preparePath=o,e.prepareMustache=h,e.prepareRawBlock=c,e.prepareBlock=l;var u=s(12),f=p(u)},function(t,e,s){"use strict";function i(t,e,s){if(n.isArray(t)){for(var i=[],r=0,a=t.length;a>r;r++)i.push(e.wrap(t[r],s));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var n=s(13),a=void 0;try{}catch(o){}a||(a=function(t,e,s,i){this.src="",i&&this.add(i)},a.prototype={add:function(t){n.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){n.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,s=this.source.length;s>e;e++)t(this.source[e])},empty:function(){var t=void 0===arguments[0]?this.currentLocation||{start:{}}:arguments[0];return new a(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof a?t:(t=i(t,this,e),new a(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,s){return s=this.generateList(s),this.wrap([t,e?"."+e+"(":"(",s,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'
},objectLiteral:function(t){var e=[];for(var s in t)if(t.hasOwnProperty(s)){var r=i(t[s],this);"undefined"!==r&&e.push([this.quotedString(s),":",r])}var n=this.generateList(e);return n.prepend("{"),n.add("}"),n},generateList:function(t,e){for(var s=this.empty(e),r=0,n=t.length;n>r;r++)r&&s.add(","),s.add(i(t[r],this,e));return s},generateArray:function(t,e){var s=this.generateList(t,e);return s.prepend("["),s.add("]"),s}},e["default"]=r,t.exports=e["default"]}])});
!function(e,t){var n=!0;e&&"undefined"!=typeof e.umd&&(n=e.umd),n&&"object"==typeof exports?module.exports=t(require("jquery"),require("handlebars"),require("bootstrap")):n&&"function"==typeof define&&define.amd?define("alpaca",["jquery","handlebars","bootstrap"],t):e.Alpaca=t(e.jQuery,e.Handlebars,e.Bootstrap)}(this,function($,Handlebars,Bootstrap){return this.HandlebarsPrecompiled=this.HandlebarsPrecompiled||{},this.HandlebarsPrecompiled["web-display"]=this.HandlebarsPrecompiled["web-display"]||{},this.HandlebarsPrecompiled["web-display"]["container-array-item"]=Handlebars.template({1:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n        ';return r=null!=(r=t.itemField||(null!=e?e.itemField:e))?r:t.helperMissing,s={name:"itemField",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.itemField||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n    </div>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["container-array"]=Handlebars.template({1:function(e,t,n,i){var a,r,s,o="\r\n            ";return r=null!=(r=t.item||(null!=e?e.item:e))?r:t.helperMissing,s={name:"item",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.item||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"},2:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["container-object-item"]=Handlebars.template({1:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n        ';return r=null!=(r=t.itemField||(null!=e?e.itemField:e))?r:t.helperMissing,s={name:"itemField",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.itemField||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n    </div>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["container-object"]=Handlebars.template({1:function(e,t,n,i){var a,r,s,o="\r\n            ";return r=null!=(r=t.item||(null!=e?e.item:e))?r:t.helperMissing,s={name:"item",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.item||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"},2:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["container-table-item"]=Handlebars.template({1:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <tr>\r\n        '+(null!=(a=(t.itemField||e&&e.itemField||t.helperMissing).call(e,"td",{name:"itemField",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </tr>\r\n\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["container-table"]=Handlebars.template({1:function(e,t,n,i){return""},3:function(e,t,n,i){var a;return"                    <th>"+this.escapeExpression(this.lambda(null!=(a=null!=e?e.value:e)?a.title:a,e))+"</th>\r\n"},5:function(e,t,n,i){var a;return"\r\n                "+(null!=(a=(t.item||e&&e.item||t.helperMissing).call(e,"tr",{name:"item",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o=t.helperMissing,l='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n        ';return r=null!=(r=t.arrayToolbar||(null!=e?e.arrayToolbar:e))?r:o,s={name:"arrayToolbar",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.arrayToolbar||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(l+=a),l+"\r\n\r\n        <table>\r\n\r\n            <!-- table headers -->\r\n            <thead>\r\n                <tr>\r\n"+(null!=(a=(t.eachProperty||e&&e.eachProperty||o).call(e,null!=(a=null!=(a=null!=e?e.schema:e)?a.items:a)?a.properties:a,{name:"eachProperty",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+"                </tr>\r\n            </thead>\r\n\r\n            <!-- table body -->\r\n            <tbody>\r\n"+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+"            </tbody>\r\n\r\n        </table>\r\n\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["container-tablerow-item"]=Handlebars.template({1:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <td>\r\n        ';return r=null!=(r=t.itemField||(null!=e?e.itemField:e))?r:t.helperMissing,s={name:"itemField",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.itemField||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n    </td>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["container-tablerow"]=Handlebars.template({1:function(e,t,n,i){var a,r,s,o="            ";return r=null!=(r=t.item||(null!=e?e.item:e))?r:t.helperMissing,s={name:"item",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.item||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n"},2:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-merge-up">\r\n\r\n'+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"].container=Handlebars.template({1:function(e,t,n,i){var a;return'        <legend class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.labelClass:a,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+' alpaca-container-label">'+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.label:a,e))?a:"")+"</legend>\r\n"},2:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.labelClass:a,e))},4:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"each",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:""},5:function(e,t,n,i){var a;return'        <p class="alpaca-helper '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helperClass:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n            <i class="alpaca-icon-helper"></i>\r\n            '+(null!=(a=this.lambda(e,e))?a:"")+"\r\n        </p>\r\n"},6:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.helperClass:a,e))},8:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.label:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        ";return r=null!=(r=t.container||(null!=e?e.container:e))?r:t.helperMissing,s={name:"container",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.container||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-any"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>'+(null!=(a=(t.str||e&&e.str||t.helperMissing).call(e,null!=e?e.data:e,{name:"str",hash:{},data:i}))?a:"")+"</div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-checkbox"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>'+(null!=(a=(t.str||e&&e.str||t.helperMissing).call(e,null!=e?e.data:e,{name:"str",hash:{},data:i}))?a:"")+"</div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-hidden"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return'<script type="text/x-handlebars-template">\r\n\r\n</script>'},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-image"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r=t.helperMissing,s="function",o=this.escapeExpression;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-image-display">\r\n        <img id="'+o((a=null!=(a=t.id||(null!=e?e.id:e))?a:r,typeof a===s?a.call(e,{name:"id",hash:{},data:i}):a))+'-image" src="'+o((a=null!=(a=t.data||(null!=e?e.data:e))?a:r,typeof a===s?a.call(e,{name:"data",hash:{},data:i}):a))+'">\r\n    </div>\r\n\r\n</script>'},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-password"]=Handlebars.template({1:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>'+(null!=(a=(t.disguise||e&&e.disguise||t.helperMissing).call(e,null!=e?e.data:e,"&bull;",{name:"disguise",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"</div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-radio"]=Handlebars.template({1:function(e,t,n,i,a,r){var s;return null!=(s=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.value:e,null!=r[1]?r[1].data:r[1],{name:"compare",hash:{},fn:this.program(2,i,0,a,r),inverse:this.noop,data:i}))?s:""},2:function(e,t,n,i){var a,r;return"                "+(null!=(r=null!=(r=t.text||(null!=e?e.text:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"text",hash:{},data:i}):r)?a:"")+"\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n'+(null!=(s=t.each.call(e,null!=e?e.selectOptions:e,{name:"each",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"    </div>\r\n\r\n</script>\r\n"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-display"]["control-select"]=Handlebars.template({1:function(e,t,n,i,a,r){var s;return null!=(s=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.value:e,null!=r[1]?r[1].data:r[1],{name:"compare",hash:{},fn:this.program(2,i,0,a,r),inverse:this.noop,data:i}))?s:""},2:function(e,t,n,i){var a,r;return"                "+(null!=(r=null!=(r=t.text||(null!=e?e.text:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"text",hash:{},data:i}):r)?a:"")+"\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n'+(null!=(s=t.each.call(e,null!=e?e.selectOptions:e,{name:"each",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"    </div>\r\n\r\n</script>\r\n"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-display"]["control-text"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>'+(null!=(r=null!=(r=t.data||(null!=e?e.data:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"data",hash:{},data:i}):r)?a:"")+"</div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-textarea"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <p>\r\n        '+(null!=(r=null!=(r=t.data||(null!=e?e.data:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"data",hash:{},data:i}):r)?a:"")+"\r\n    </p>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"]["control-url"]=Handlebars.template({1:function(e,t,n,i){var a;return'target="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.anchorTarget:a,e))+'"'},3:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.anchorTitle:a,e))},5:function(e,t,n,i){var a;return this.escapeExpression((a=null!=(a=t.data||(null!=e?e.data:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"data",hash:{},data:i}):a))},7:function(e,t,n,i){var a;return"            "+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.anchorTitle:a,e))+"\r\n"},9:function(e,t,n,i){var a;return"            "+this.escapeExpression((a=null!=(a=t.data||(null!=e?e.data:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"data",hash:{},data:i}):a))+"\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-control-url-anchor-wrapper">\r\n        <a href="'+this.escapeExpression((r=null!=(r=t.data||(null!=e?e.data:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"data",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.anchorTarget:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+' title="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.anchorTitle:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?a:"")+'">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.anchorTitle:a,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.program(9,i,0),data:i}))?a:"")+"        </a>\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-display"].control=Handlebars.template({1:function(e,t,n,i){var a,r;return'        <label class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.labelClass:a,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+' alpaca-control-label" for="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'">'+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.label:a,e))?a:"")+"</label>\r\n"},2:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.labelClass:a,e))},4:function(e,t,n,i){return""},6:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"each",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:""},7:function(e,t,n,i){var a;return'        <p class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helperClass:a,{name:"if",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n            <i class="info-sign"></i>\r\n            '+(null!=(a=this.lambda(e,e))?a:"")+"\r\n        </p>\r\n"},8:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.helperClass:a,e))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.label:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        ";return r=null!=(r=t.control||(null!=e?e.control:e))?r:t.helperMissing,s={name:"control",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.control||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-display"].form=Handlebars.template({1:function(e,t,n,i){return""},3:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.buttons:a,{name:"each",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:""},4:function(e,t,n,i){var a,r,s=t.helperMissing,o="function",l=this.escapeExpression;return'            <button data-key="'+l((r=null!=(r=t.key||i&&i.key)?r:s,typeof r===o?r.call(e,{name:"key",hash:{},data:i}):r))+'" '+(null!=(a=(t.compare||e&&e.compare||s).call(e,null!=e?e.type:e,"submit",{name:"compare",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=(t.compare||e&&e.compare||s).call(e,null!=e?e.type:e,"reset",{name:"compare",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+' class="alpaca-form-button alpaca-form-button-'+l((r=null!=(r=t.key||i&&i.key)?r:s,typeof r===o?r.call(e,{name:"key",hash:{},data:i}):r))+" "+l((r=null!=(r=t.styles||(null!=e?e.styles:e))?r:s,typeof r===o?r.call(e,{name:"styles",hash:{},data:i}):r))+'" '+(null!=(a=t.each.call(e,null!=e?e.value:e,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=e?e.attributes:e,{name:"each",hash:{},fn:this.program(11,i,0),inverse:this.noop,data:i}))?a:"")+">"+(null!=(r=null!=(r=t.value||(null!=e?e.value:e))?r:s,a=typeof r===o?r.call(e,{name:"value",hash:{},data:i}):r)?a:"")+"</button>\r\n"},5:function(e,t,n,i){return'type="submit"'},7:function(e,t,n,i){return'type="reset"'},9:function(e,t,n,i){var a,r=this.escapeExpression;return r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},11:function(e,t,n,i){var a,r=this.escapeExpression;return" "+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <form role="form">\r\n\r\n        ';return r=null!=(r=t.formItems||(null!=e?e.formItems:e))?r:t.helperMissing,s={name:"formItems",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.formItems||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+'\r\n\r\n        <div class="alpaca-form-buttons-container">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.buttons:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+"        </div>\r\n\r\n    </form>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]=this.HandlebarsPrecompiled["web-edit"]||{},this.HandlebarsPrecompiled["web-edit"]["container-array-actionbar"]=Handlebars.template({1:function(e,t,n,i,a,r){var s,o,l=this.escapeExpression;return'        <button class="alpaca-array-actionbar-action '+l(this.lambda(null!=(s=null!=(s=null!=r[1]?r[1].view:r[1])?s.styles:s)?s.smallButton:s,e))+'" data-alpaca-array-actionbar-action="'+l((o=null!=(o=t.action||(null!=e?e.action:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"action",hash:{},data:i}):o))+'">\r\n'+(null!=(s=t["if"].call(e,null!=e?e.iconClass:e,{name:"if",hash:{},fn:this.program(2,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"            "+(null!=(s=t["if"].call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(4,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n        </button>\r\n"},2:function(e,t,n,i){return'            <i class="'+this.escapeExpression(this.lambda(null!=e?e.iconClass:e,e))+'"></i>\r\n'},4:function(e,t,n,i){var a,r;return null!=(r=null!=(r=t.label||(null!=e?e.label:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"label",hash:{},data:i}):r)?a:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s,o,l=t.helperMissing,u="function",c=this.escapeExpression;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-array-actionbar alpaca-array-actionbar-'+c((o=null!=(o=t.actionbarStyle||(null!=e?e.actionbarStyle:e))?o:l,typeof o===u?o.call(e,{name:"actionbarStyle",hash:{},data:i}):o))+' btn-group" data-alpaca-array-actionbar-parent-field-id="'+c((o=null!=(o=t.parentFieldId||(null!=e?e.parentFieldId:e))?o:l,typeof o===u?o.call(e,{name:"parentFieldId",hash:{},data:i}):o))+'" data-alpaca-array-actionbar-field-id="'+c((o=null!=(o=t.fieldId||(null!=e?e.fieldId:e))?o:l,typeof o===u?o.call(e,{name:"fieldId",hash:{},data:i}):o))+'" data-alpaca-array-actionbar-item-index="'+c((o=null!=(o=t.itemIndex||(null!=e?e.itemIndex:e))?o:l,typeof o===u?o.call(e,{name:"itemIndex",hash:{},data:i}):o))+'">\r\n'+(null!=(s=t.each.call(e,null!=e?e.actions:e,{name:"each",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"    </div>\r\n\r\n</script>"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-edit"]["container-array-item"]=Handlebars.template({1:function(e,t,n,i){var a,r,s,o=t.helperMissing,l="function",u=t.blockHelperMissing,c='        <div class="pull-left">\r\n            ';return r=null!=(r=t.arrayActionbar||(null!=e?e.arrayActionbar:e))?r:o,s={name:"arrayActionbar",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a=typeof r===l?r.call(e,s):r,t.arrayActionbar||(a=u.call(e,a,s)),null!=a&&(c+=a),c+='\r\n        </div>\r\n        <div class="pull-right">\r\n            ',r=null!=(r=t.itemField||(null!=e?e.itemField:e))?r:o,s={name:"itemField",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a=typeof r===l?r.call(e,s):r,t.itemField||(a=u.call(e,a,s)),null!=a&&(c+=a),c+'\r\n        </div>\r\n        <div class="clear"></div>\r\n'},2:function(e,t,n,i){return""},4:function(e,t,n,i){var a;return null!=(a=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.actionbarStyle:e,"right",{name:"compare",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?a:""},5:function(e,t,n,i){var a,r,s,o=t.helperMissing,l="function",u=t.blockHelperMissing,c='            <div class="pull-left">\r\n                ';return r=null!=(r=t.itemField||(null!=e?e.itemField:e))?r:o,s={name:"itemField",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a=typeof r===l?r.call(e,s):r,t.itemField||(a=u.call(e,a,s)),null!=a&&(c+=a),c+='\r\n            </div>\r\n            <div class="pull-right">\r\n                ',r=null!=(r=t.arrayActionbar||(null!=e?e.arrayActionbar:e))?r:o,s={name:"arrayActionbar",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a=typeof r===l?r.call(e,s):r,t.arrayActionbar||(a=u.call(e,a,s)),null!=a&&(c+=a),c+'\r\n            </div>\r\n            <div class="alpaca-clear"></div>\r\n'},7:function(e,t,n,i){var a,r,s,o=t.helperMissing,l="            <div>\r\n\r\n"+(null!=(a=(t.compare||e&&e.compare||o).call(e,null!=e?e.actionbarStyle:e,"top",{name:"compare",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n                ";return r=null!=(r=t.itemField||(null!=e?e.itemField:e))?r:o,s={name:"itemField",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.itemField||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(l+=a),l+"\r\n\r\n"+(null!=(a=(t.compare||e&&e.compare||o).call(e,null!=e?e.actionbarStyle:e,"bottom",{name:"compare",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n            </div>\r\n"},8:function(e,t,n,i){var a,r,s,o="                ";return r=null!=(r=t.arrayActionbar||(null!=e?e.arrayActionbar:e))?r:t.helperMissing,s={name:"arrayActionbar",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.arrayActionbar||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n'+(null!=(a=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.actionbarStyle:e,"left",{name:"compare",hash:{},fn:this.program(1,i,0),inverse:this.program(4,i,0),data:i}))?a:"")+"    </div>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["container-array-toolbar"]=Handlebars.template({1:function(e,t,n,i){return" btn-group"},3:function(e,t,n,i,a,r){var s,o=t.helperMissing;return"\r\n"+(null!=(s=(t.compare||e&&e.compare||o).call(e,null!=r[1]?r[1].toolbarStyle:r[1],"link",{name:"compare",hash:{},fn:this.program(4,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n"+(null!=(s=(t.compare||e&&e.compare||o).call(e,null!=r[1]?r[1].toolbarStyle:r[1],"button",{name:"compare",hash:{},fn:this.program(6,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n"},4:function(e,t,n,i,a,r){var s,o=this.lambda;return'                <a href="#" class="alpaca-array-toolbar-action" data-alpaca-array-toolbar-action="'+this.escapeExpression(o(null!=r[1]?r[1].action:r[1],e))+'">'+(null!=(s=o(null!=r[1]?r[1].label:r[1],e))?s:"")+"</a>\r\n"},6:function(e,t,n,i,a,r){var s,o=this.lambda,l=this.escapeExpression;return'                <button class="alpaca-array-toolbar-action '+l(o(null!=(s=null!=(s=null!=r[2]?r[2].view:r[2])?s.styles:s)?s.smallButton:s,e))+'" data-alpaca-array-toolbar-action="'+l(o(null!=r[1]?r[1].action:r[1],e))+'">\r\n'+(null!=(s=t["if"].call(e,null!=r[1]?r[1].iconClass:r[1],{name:"if",hash:{},fn:this.program(7,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"                    "+(null!=(s=t["if"].call(e,null!=r[1]?r[1].label:r[1],{name:"if",hash:{},fn:this.program(9,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n                </button>\r\n"},7:function(e,t,n,i,a,r){return'                    <i class="'+this.escapeExpression(this.lambda(null!=r[1]?r[1].iconClass:r[1],e))+'"></i>\r\n'},9:function(e,t,n,i,a,r){var s;return null!=(s=this.lambda(null!=r[1]?r[1].label:r[1],e))?s:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s,o,l=t.helperMissing;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-array-toolbar" data-alpaca-array-toolbar-field-id="'+this.escapeExpression((o=null!=(o=t.id||(null!=e?e.id:e))?o:l,"function"==typeof o?o.call(e,{name:"id",hash:{},data:i}):o))+'" '+(null!=(s=(t.compare||e&&e.compare||l).call(e,null!=e?e.toolbarStyle:e,"button",{name:"compare",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+">\r\n\r\n"+(null!=(s=t.each.call(e,null!=e?e.actions:e,{name:"each",hash:{},fn:this.program(3,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-edit"]["container-array"]=Handlebars.template({1:function(e,t,n,i){return""},3:function(e,t,n,i){var a,r,s,o="\r\n            ";return r=null!=(r=t.item||(null!=e?e.item:e))?r:t.helperMissing,s={name:"item",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.item||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n        ';return r=null!=(r=t.arrayToolbar||(null!=e?e.arrayToolbar:e))?r:t.helperMissing,s={name:"arrayToolbar",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.arrayToolbar||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["container-object-item"]=Handlebars.template({1:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n        ';return r=null!=(r=t.itemField||(null!=e?e.itemField:e))?r:t.helperMissing,s={name:"itemField",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.itemField||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n    </div>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["container-object"]=Handlebars.template({1:function(e,t,n,i){var a,r,s,o="\r\n            ";return r=null!=(r=t.item||(null!=e?e.item:e))?r:t.helperMissing,s={name:"item",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.item||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"},2:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["container-table-item"]=Handlebars.template({1:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <tr>\r\n        '+(null!=(a=(t.itemField||e&&e.itemField||t.helperMissing).call(e,"td",{name:"itemField",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </tr>\r\n\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["container-table"]=Handlebars.template({1:function(e,t,n,i){return""},3:function(e,t,n,i){var a,r,s=t.helperMissing,o="function";return'                    <th data-header-id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:s,typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=e?e.hidden:e,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:"")+">"+(null!=(r=null!=(r=t.title||(null!=e?e.title:e))?r:s,a=typeof r===o?r.call(e,{name:"title",hash:{},data:i}):r)?a:"")+"</th>\r\n"},4:function(e,t,n,i){return'class="alpaca-table-column-hidden"'},6:function(e,t,n,i){return"                        <th>Actions</th>\r\n"},8:function(e,t,n,i){var a;return"\r\n                "+(null!=(a=(t.item||e&&e.item||t.helperMissing).call(e,"tr",{name:"item",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n        ';return r=null!=(r=t.arrayToolbar||(null!=e?e.arrayToolbar:e))?r:t.helperMissing,s={name:"arrayToolbar",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.arrayToolbar||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n        <table>\r\n\r\n            <!-- table headers -->\r\n            <thead>\r\n                <tr>\r\n"+(null!=(a=t.each.call(e,null!=e?e.headers:e,{name:"each",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showActionsColumn:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"                </tr>\r\n            </thead>\r\n\r\n            <!-- table body -->\r\n            <tbody>\r\n"+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+"            </tbody>\r\n\r\n        </table>\r\n\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["container-tablerow-item"]=Handlebars.template({1:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <td>\r\n        ';
return r=null!=(r=t.itemField||(null!=e?e.itemField:e))?r:t.helperMissing,s={name:"itemField",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.itemField||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n    </td>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["container-tablerow"]=Handlebars.template({1:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=e?e.hidden:e,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.program(4,i,0),data:i}))?a:""},2:function(e,t,n,i){return""},4:function(e,t,n,i){var a,r,s,o="                ";return r=null!=(r=t.item||(null!=e?e.item:e))?r:t.helperMissing,s={name:"item",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.item||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n"},6:function(e,t,n,i){var a,r,s,o='            <div class="alpaca-merge-up">\r\n                ';return r=null!=(r=t.arrayActionbar||(null!=e?e.arrayActionbar:e))?r:t.helperMissing,s={name:"arrayActionbar",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.arrayActionbar||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n            </div>\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-merge-up">\r\n\r\n'+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        <!-- actions cell -->\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showActionsColumn:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].container=Handlebars.template({1:function(e,t,n,i){var a;return'        <legend class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.labelClass:a,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+' alpaca-container-label">'+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.label:a,e))?a:"")+"</legend>\r\n"},2:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.labelClass:a,e))},4:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"each",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:""},5:function(e,t,n,i){var a;return'        <p class="alpaca-helper '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helperClass:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n            <i class="alpaca-icon-helper"></i>\r\n            '+(null!=(a=this.lambda(e,e))?a:"")+"\r\n        </p>\r\n"},6:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.helperClass:a,e))},8:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.label:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        ";return r=null!=(r=t.container||(null!=e?e.container:e))?r:t.helperMissing,s={name:"container",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.container||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-any"]=Handlebars.template({1:function(e,t,n,i){return'readonly="readonly"'},3:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},5:function(e,t,n,i){var a,r=this.escapeExpression;return"data-"+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="text" id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'" size="40" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-checkbox"]=Handlebars.template({1:function(e,t,n,i,a,r){var s;return"\r\n"+(null!=(s=t.each.call(e,null!=e?e.checkboxOptions:e,{name:"each",hash:{},fn:this.program(2,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n"},2:function(e,t,n,i,a,r){var s,o,l=t.helperMissing,u="function",c=this.escapeExpression;return'\r\n            <div>\r\n\r\n                <label>\r\n\r\n                    <input type="checkbox" data-checkbox-index="'+c((o=null!=(o=t.index||i&&i.index)?o:l,typeof o===u?o.call(e,{name:"index",hash:{},data:i}):o))+'" data-checkbox-value="'+c((o=null!=(o=t.value||(null!=e?e.value:e))?o:l,typeof o===u?o.call(e,{name:"value",hash:{},data:i}):o))+'" '+(null!=(s=t["if"].call(e,null!=(s=null!=r[2]?r[2].options:r[2])?s.readonly:s,{name:"if",hash:{},fn:this.program(3,i,0,a,r),inverse:this.noop,data:i}))?s:"")+" "+(null!=(s=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,i,0,a,r),inverse:this.noop,data:i}))?s:"")+" "+(null!=(s=t.each.call(e,null!=(s=null!=r[2]?r[2].options:r[2])?s.data:s,{name:"each",hash:{},fn:this.program(7,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"/>\r\n                    "+(null!=(o=null!=(o=t.text||(null!=e?e.text:e))?o:l,s=typeof o===u?o.call(e,{name:"text",hash:{},data:i}):o)?s:"")+"\r\n\r\n                </label>\r\n            </div>\r\n\r\n"},3:function(e,t,n,i){return'readonly="readonly"'},5:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},7:function(e,t,n,i){var a,r=t.helperMissing,s="function",o=this.escapeExpression;return"data-"+o((a=null!=(a=t.key||i&&i.key)?a:r,typeof a===s?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+o((a=null!=(a=t.value||(null!=e?e.value:e))?a:r,typeof a===s?a.call(e,{name:"value",hash:{},data:i}):a))+'"'},9:function(e,t,n,i){var a;return'\r\n        <div>\r\n\r\n            <label>\r\n\r\n                <input type="checkbox" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n\r\n                "+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.rightLabel:a,e))?a:"")+"\r\n            </label>\r\n\r\n        </div>\r\n\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n'+(null!=(s=t["if"].call(e,null!=(s=null!=e?e.options:e)?s.multiple:s,{name:"if",hash:{},fn:this.program(1,i,0,a,r),inverse:this.program(9,i,0,a,r),data:i}))?s:"")+"\r\n</script>\r\n"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-edit"]["control-ckeditor"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <textarea id="'+this.escapeExpression((a=null!=(a=t.id||(null!=e?e.id:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"id",hash:{},data:i}):a))+'" cols="80" rows="10">\r\n    </textarea>\r\n\r\n</script>'},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-editor"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a;return'<script type="text/x-handlebars-template">\r\n\r\n    <div id="'+this.escapeExpression((a=null!=(a=t.id||(null!=e?e.id:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"id",hash:{},data:i}):a))+'" class="control-field-editor-el"></div>\r\n\r\n</script>'},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-file"]=Handlebars.template({1:function(e,t,n,i){var a;return'size="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.size:a,e))+'"'},3:function(e,t,n,i){return'readonly="readonly"'},5:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},7:function(e,t,n,i){var a,r=this.escapeExpression;return"data-"+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="file" id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.size:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-hidden"]=Handlebars.template({1:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},3:function(e,t,n,i){var a,r=this.escapeExpression;return"data-"+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="hidden" id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-image"]=Handlebars.template({1:function(e,t,n,i){var a;return'placeholder="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.placeholder:a,e))+'"'},3:function(e,t,n,i){var a;return'size="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.size:a,e))+'"'},5:function(e,t,n,i){return'readonly="readonly"'},7:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},9:function(e,t,n,i){var a,r=this.escapeExpression;return"data-"+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s=t.helperMissing,o="function",l=this.escapeExpression;return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="text" id="'+l((r=null!=(r=t.id||(null!=e?e.id:e))?r:s,typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.placeholder:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.size:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+'/>\r\n\r\n    <div class="alpaca-image-display">\r\n        <h5>Preview</h5>\r\n        <img id="'+l((r=null!=(r=t.id||(null!=e?e.id:e))?r:s,typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r))+'-image" src="'+l((r=null!=(r=t.data||(null!=e?e.data:e))?r:s,typeof r===o?r.call(e,{name:"data",hash:{},data:i}):r))+'">\r\n    </div>\r\n\r\n</script>'},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-optiontree"]=Handlebars.template({1:function(e,t,n,i){var a;return'placeholder="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.placeholder:a,e))+'"'},3:function(e,t,n,i){var a;return'size="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.size:a,e))+'"'},5:function(e,t,n,i){return'readonly="readonly"'},7:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},9:function(e,t,n,i){var a,r=this.escapeExpression;return"data-"+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},11:function(e,t,n,i){var a,r=this.escapeExpression;return r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s=t.helperMissing,o="function",l=this.escapeExpression;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="optiontree"></div>\r\n\r\n    <input type="'+l((r=null!=(r=t.inputType||(null!=e?e.inputType:e))?r:s,typeof r===o?r.call(e,{name:"inputType",hash:{},data:i}):r))+'" id="'+l((r=null!=(r=t.id||(null!=e?e.id:e))?r:s,typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.placeholder:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.size:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.attributes:a,{name:"each",hash:{},fn:this.program(11,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-password"]=Handlebars.template({1:function(e,t,n,i){var a;return'placeholder="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.placeholder:a,e))+'"'},3:function(e,t,n,i){var a;return'size="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.size:a,e))+'"'},5:function(e,t,n,i){return'readonly="readonly"'},7:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},9:function(e,t,n,i){var a,r=this.escapeExpression;return"data-"+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="password" id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.placeholder:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.size:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-radio"]=Handlebars.template({1:function(e,t,n,i){return""},3:function(e,t,n,i){var a,r,s=t.helperMissing,o="function";return'    <div class="radio">\r\n        <label>\r\n            <input type="radio" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:"")+' name="'+this.escapeExpression((r=null!=(r=t.name||(null!=e?e.name:e))?r:s,typeof r===o?r.call(e,{name:"name",hash:{},data:i}):r))+'" value=""/>'+(null!=(r=null!=(r=t.noneLabel||(null!=e?e.noneLabel:e))?r:s,a=typeof r===o?r.call(e,{name:"noneLabel",hash:{},data:i}):r)?a:"")+"\r\n        </label>\r\n    </div>\r\n"},4:function(e,t,n,i){return'readonly="readonly"'},6:function(e,t,n,i,a,r){var s,o,l=this.escapeExpression,u=t.helperMissing,c="function";return'    <div class="radio">\r\n        <label>\r\n            <input type="radio" '+(null!=(s=t["if"].call(e,null!=(s=null!=r[1]?r[1].options:r[1])?s.readonly:s,{name:"if",hash:{},fn:this.program(4,i,0,a,r),inverse:this.noop,data:i}))?s:"")+' name="'+l(this.lambda(null!=r[1]?r[1].name:r[1],e))+'" value="'+l((o=null!=(o=t.value||(null!=e?e.value:e))?o:u,typeof o===c?o.call(e,{name:"value",hash:{},data:i}):o))+'" '+(null!=(s=(t.compare||e&&e.compare||u).call(e,null!=e?e.value:e,null!=r[1]?r[1].data:r[1],{name:"compare",hash:{},fn:this.program(7,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"/>"+(null!=(o=null!=(o=t.text||(null!=e?e.text:e))?o:u,s=typeof o===c?o.call(e,{name:"text",hash:{},data:i}):o)?s:"")+"\r\n        </label>\r\n    </div>\r\n"},7:function(e,t,n,i){return'checked="checked"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n'+(null!=(s=t["if"].call(e,null!=e?e.hideNone:e,{name:"if",hash:{},fn:this.program(1,i,0,a,r),inverse:this.program(3,i,0,a,r),data:i}))?s:"")+"\r\n"+(null!=(s=t.each.call(e,null!=e?e.selectOptions:e,{name:"each",hash:{},fn:this.program(6,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n</script>"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-edit"]["control-select"]=Handlebars.template({1:function(e,t,n,i){return'readonly="readonly"'},3:function(e,t,n,i){return'multiple="multiple"'},5:function(e,t,n,i){var a;return'size="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.size:a,e))+'"'},7:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},9:function(e,t,n,i,a,r){var s;return"\r\n"+(null!=(s=t["if"].call(e,null!=e?e.hideNone:e,{name:"if",hash:{},fn:this.program(10,i,0,a,r),inverse:this.program(12,i,0,a,r),data:i}))?s:"")+"\r\n"+(null!=(s=t.each.call(e,null!=e?e.selectOptions:e,{name:"each",hash:{},fn:this.program(14,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n"},10:function(e,t,n,i){return""},12:function(e,t,n,i){var a,r;return'        <option value="">'+(null!=(r=null!=(r=t.noneLabel||(null!=e?e.noneLabel:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"noneLabel",hash:{},data:i}):r)?a:"")+"</option>\r\n"},14:function(e,t,n,i,a,r){var s,o,l=t.helperMissing,u="function";return'        <option value="'+(null!=(o=null!=(o=t.value||(null!=e?e.value:e))?o:l,s=typeof o===u?o.call(e,{name:"value",hash:{},data:i}):o)?s:"")+'" '+(null!=(s=t.each.call(e,null!=r[1]?r[1].data:r[1],{name:"each",hash:{},fn:this.program(15,i,0,a,r),inverse:this.noop,data:i}))?s:"")+">"+this.escapeExpression((o=null!=(o=t.text||(null!=e?e.text:e))?o:l,typeof o===u?o.call(e,{name:"text",hash:{},data:i}):o))+"</option>\r\n"},15:function(e,t,n,i,a,r){var s;return null!=(s=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.value:e,null!=r[2]?r[2].value:r[2],{name:"compare",hash:{},fn:this.program(16,i,0,a,r),inverse:this.noop,data:i}))?s:""},16:function(e,t,n,i){return'selected="selected"'},18:function(e,t,n,i,a,r){var s;return"\r\n"+(null!=(s=t["if"].call(e,null!=e?e.hideNone:e,{name:"if",hash:{},fn:this.program(10,i,0,a,r),inverse:this.program(12,i,0,a,r),data:i}))?s:"")+"\r\n"+(null!=(s=t.each.call(e,null!=e?e.selectOptions:e,{name:"each",hash:{},fn:this.program(19,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n"},19:function(e,t,n,i,a,r){var s,o,l=t.helperMissing,u="function";return'        <option value="'+(null!=(o=null!=(o=t.value||(null!=e?e.value:e))?o:l,s=typeof o===u?o.call(e,{name:"value",hash:{},data:i}):o)?s:"")+'" '+(null!=(s=(t.compare||e&&e.compare||l).call(e,null!=e?e.value:e,null!=r[2]?r[2].data:r[2],{name:"compare",hash:{},fn:this.program(16,i,0,a,r),inverse:this.noop,data:i}))?s:"")+">"+this.escapeExpression((o=null!=(o=t.text||(null!=e?e.text:e))?o:l,typeof o===u?o.call(e,{name:"text",hash:{},data:i}):o))+"</option>\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s,o;return'<script type="text/x-handlebars-template">\r\n\r\n    <select id="'+this.escapeExpression((o=null!=(o=t.id||(null!=e?e.id:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"id",hash:{},data:i}):o))+'" '+(null!=(s=t["if"].call(e,null!=(s=null!=e?e.options:e)?s.readonly:s,{name:"if",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+" "+(null!=(s=t["if"].call(e,null!=(s=null!=e?e.options:e)?s.multiple:s,{name:"if",hash:{},fn:this.program(3,i,0,a,r),inverse:this.noop,data:i}))?s:"")+" "+(null!=(s=t["if"].call(e,null!=(s=null!=e?e.options:e)?s.size:s,{name:"if",hash:{},fn:this.program(5,i,0,a,r),inverse:this.noop,data:i}))?s:"")+" "+(null!=(s=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(7,i,0,a,r),inverse:this.noop,data:i}))?s:"")+">\r\n\r\n"+(null!=(s=t["if"].call(e,null!=(s=null!=e?e.options:e)?s.multiple:s,{name:"if",hash:{},fn:this.program(9,i,0,a,r),inverse:this.program(18,i,0,a,r),data:i}))?s:"")+"\r\n    </select>\r\n\r\n</script>"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["web-edit"]["control-text"]=Handlebars.template({1:function(e,t,n,i){var a;return'placeholder="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.placeholder:a,e))+'"'},3:function(e,t,n,i){var a;return'size="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.size:a,e))+'"'},5:function(e,t,n,i){return'readonly="readonly"'},7:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},9:function(e,t,n,i){var a,r=this.escapeExpression;return"data-"+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},11:function(e,t,n,i){var a,r=this.escapeExpression;return r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s=t.helperMissing,o="function",l=this.escapeExpression;return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="'+l((r=null!=(r=t.inputType||(null!=e?e.inputType:e))?r:s,typeof r===o?r.call(e,{name:"inputType",hash:{},data:i}):r))+'" id="'+l((r=null!=(r=t.id||(null!=e?e.id:e))?r:s,typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.placeholder:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.size:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.attributes:a,{name:"each",hash:{},fn:this.program(11,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-textarea"]=Handlebars.template({1:function(e,t,n,i){var a;return'placeholder="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.placeholder:a,e))+'"'},3:function(e,t,n,i){var a;return'rows="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.rows:a,e))+'"'},5:function(e,t,n,i){var a;return'cols="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.cols:a,e))+'"'},7:function(e,t,n,i){return'readonly="readonly"'},9:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},11:function(e,t,n,i){var a,r,s=t.helperMissing,o="function";return"data-"+this.escapeExpression((r=null!=(r=t.fieldId||(null!=e?e.fieldId:e))?r:s,typeof r===o?r.call(e,{name:"fieldId",hash:{},data:i}):r))+'="'+(null!=(r=null!=(r=t.value||(null!=e?e.value:e))?r:s,a=typeof r===o?r.call(e,{name:"value",hash:{},data:i}):r)?a:"")+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <textarea id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.placeholder:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.rows:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.cols:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(11,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"]["control-url"]=Handlebars.template({1:function(e,t,n,i){var a;return'placeholder="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.placeholder:a,e))+'"'},3:function(e,t,n,i){var a;return'size="'+this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.size:a,e))+'"'},5:function(e,t,n,i){return'readonly="readonly"'},7:function(e,t,n,i){var a;return'name="'+this.escapeExpression((a=null!=(a=t.name||(null!=e?e.name:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"name",hash:{},data:i}):a))+'"'},9:function(e,t,n,i){var a,r=this.escapeExpression;return"data-"+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <input type="text" id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.placeholder:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.size:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.readonly:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t["if"].call(e,null!=e?e.name:e,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.data:a,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+"/>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].control=Handlebars.template({1:function(e,t,n,i){var a,r;return'        <label class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.labelClass:a,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+' alpaca-control-label" for="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'">'+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.label:a,e))?a:"")+"</label>\r\n"},2:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.labelClass:a,e))},4:function(e,t,n,i){return""},6:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"each",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:""},7:function(e,t,n,i){var a;return'        <p class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helperClass:a,{name:"if",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n            <i class="info-sign"></i>\r\n            '+(null!=(a=this.lambda(e,e))?a:"")+"\r\n        </p>\r\n"},8:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.helperClass:a,e))},10:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.buttons:a,{name:"if",hash:{},fn:this.program(11,i,0),inverse:this.noop,data:i}))?a:""},11:function(e,t,n,i){var a;return'            <div class="alpaca-control-buttons-container">\r\n'+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.buttons:a,{name:"each",hash:{},fn:this.program(12,i,0),inverse:this.noop,data:i}))?a:"")+"            </div>\r\n"},12:function(e,t,n,i){var a,r,s=t.helperMissing,o="function",l=this.escapeExpression;return'                <button data-key="'+l((r=null!=(r=t.key||i&&i.key)?r:s,typeof r===o?r.call(e,{name:"key",hash:{},data:i}):r))+'" type="'+l((r=null!=(r=t.type||(null!=e?e.type:e))?r:s,typeof r===o?r.call(e,{name:"type",hash:{},data:i}):r))+'" class="alpaca-control-button alpaca-control-button-'+l((r=null!=(r=t.key||i&&i.key)?r:s,
typeof r===o?r.call(e,{name:"key",hash:{},data:i}):r))+" "+l((r=null!=(r=t.styles||(null!=e?e.styles:e))?r:s,typeof r===o?r.call(e,{name:"styles",hash:{},data:i}):r))+'" '+(null!=(a=t.each.call(e,null!=e?e.value:e,{name:"each",hash:{},fn:this.program(13,i,0),inverse:this.noop,data:i}))?a:"")+">"+(null!=(r=null!=(r=t.value||(null!=e?e.value:e))?r:s,a=typeof r===o?r.call(e,{name:"value",hash:{},data:i}):r)?a:"")+"</button>\r\n"},13:function(e,t,n,i){var a,r=t.helperMissing,s="function",o=this.escapeExpression;return o((a=null!=(a=t.key||i&&i.key)?a:r,typeof a===s?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+o((a=null!=(a=t.value||(null!=e?e.value:e))?a:r,typeof a===s?a.call(e,{name:"value",hash:{},data:i}):a))+'" '},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.label:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        ";return r=null!=(r=t.control||(null!=e?e.control:e))?r:t.helperMissing,s={name:"control",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.control||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.renderButtons:a,{name:"if",hash:{},fn:this.program(10,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].form=Handlebars.template({1:function(e,t,n,i){return""},3:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.buttons:a,{name:"each",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:""},4:function(e,t,n,i){var a,r,s=t.helperMissing,o="function",l=this.escapeExpression;return'                    <button data-key="'+l((r=null!=(r=t.key||i&&i.key)?r:s,typeof r===o?r.call(e,{name:"key",hash:{},data:i}):r))+'" type="'+l((r=null!=(r=t.type||(null!=e?e.type:e))?r:s,typeof r===o?r.call(e,{name:"type",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:"")+' class="alpaca-form-button alpaca-form-button-'+l((r=null!=(r=t.key||i&&i.key)?r:s,typeof r===o?r.call(e,{name:"key",hash:{},data:i}):r))+" "+l((r=null!=(r=t.styles||(null!=e?e.styles:e))?r:s,typeof r===o?r.call(e,{name:"styles",hash:{},data:i}):r))+'" '+(null!=(a=t.each.call(e,null!=e?e.value:e,{name:"each",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:"")+" "+(null!=(a=t.each.call(e,null!=e?e.attributes:e,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+">"+(null!=(r=null!=(r=t.value||(null!=e?e.value:e))?r:s,a=typeof r===o?r.call(e,{name:"value",hash:{},data:i}):r)?a:"")+"</button>\r\n"},5:function(e,t,n,i){var a;return'id="'+this.escapeExpression((a=null!=(a=t.id||(null!=e?e.id:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"id",hash:{},data:i}):a))+'"'},7:function(e,t,n,i){var a,r=this.escapeExpression;return r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},9:function(e,t,n,i){var a,r=this.escapeExpression;return" "+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <form role="form">\r\n\r\n        ';return r=null!=(r=t.formItems||(null!=e?e.formItems:e))?r:t.helperMissing,s={name:"formItems",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.formItems||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+'\r\n\r\n        <div class="alpaca-form-buttons-container">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.buttons:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+"        </div>\r\n\r\n    </form>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].message=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s=t.helperMissing,o="function";return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-message alpaca-message-'+(null!=(r=null!=(r=t.id||(null!=e?e.id:e))?r:s,a=typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r)?a:"")+'">\r\n        '+(null!=(r=null!=(r=t.message||(null!=e?e.message:e))?r:s,a=typeof r===o?r.call(e,{name:"message",hash:{},data:i}):r)?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["web-edit"].wizard=Handlebars.template({1:function(e,t,n,i){var a;return'        <div class="alpaca-wizard-nav">\r\n            <nav class="navbar navbar-default" role="navigation">\r\n                <div class="container-fluid alpaca-wizard-back">\r\n                    <ul class="nav navbar-nav">\r\n'+(null!=(a=t.each.call(e,null!=e?e.steps:e,{name:"each",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+"                    </ul>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n"},2:function(e,t,n,i){var a,r,s=t.helperMissing,o="function";return'                        <li data-alpaca-wizard-step-index="'+this.escapeExpression((r=null!=(r=t.index||i&&i.index)?r:s,typeof r===o?r.call(e,{name:"index",hash:{},data:i}):r))+'">\r\n                            <div class="holder">\r\n                                <div class="title">'+(null!=(r=null!=(r=t.title||(null!=e?e.title:e))?r:s,a=typeof r===o?r.call(e,{name:"title",hash:{},data:i}):r)?a:"")+'</div>\r\n                                <div class="description">'+(null!=(r=null!=(r=t.description||(null!=e?e.description:e))?r:s,a=typeof r===o?r.call(e,{name:"description",hash:{},data:i}):r)?a:"")+'</div>\r\n                            </div>\r\n                            <div class="chevron"></div>\r\n                        </li>\r\n'},4:function(e,t,n,i){return'        <div class="alpaca-wizard-progress-bar">\r\n            <div class="progress">\r\n                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">\r\n                </div>\r\n            </div>\r\n        </div>\r\n'},6:function(e,t,n,i){var a,r;return"            <h3>"+(null!=(r=null!=(r=t.wizardTitle||(null!=e?e.wizardTitle:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"wizardTitle",hash:{},data:i}):r)?a:"")+"</h3>\r\n"},8:function(e,t,n,i){var a,r;return"            <h4>"+(null!=(r=null!=(r=t.wizardDescription||(null!=e?e.wizardDescription:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"wizardDescription",hash:{},data:i}):r)?a:"")+"</h4>\r\n"},10:function(e,t,n,i,a,r){var s;return null!=(s=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.align:e,"left",{name:"compare",hash:{},fn:this.program(11,i,0,a,r),inverse:this.noop,data:i}))?s:""},11:function(e,t,n,i,a,r){var s,o,l=t.helperMissing,u="function",c=this.escapeExpression;return'                        <button type="'+c((o=null!=(o=t.type||(null!=e?e.type:e))?o:l,typeof o===u?o.call(e,{name:"type",hash:{},data:i}):o))+'" '+(null!=(s=t["if"].call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(12,i,0,a,r),inverse:this.noop,data:i}))?s:"")+' class="'+c(this.lambda(null!=(s=null!=(s=null!=r[2]?r[2].view:r[2])?s.styles:s)?s.button:s,e))+'" data-alpaca-wizard-button-key="'+c((o=null!=(o=t.key||i&&i.key)?o:l,typeof o===u?o.call(e,{name:"key",hash:{},data:i}):o))+'" '+(null!=(s=t.each.call(e,null!=e?e.attributes:e,{name:"each",hash:{},fn:this.program(14,i,0,a,r),inverse:this.noop,data:i}))?s:"")+">"+(null!=(o=null!=(o=t.title||(null!=e?e.title:e))?o:l,s=typeof o===u?o.call(e,{name:"title",hash:{},data:i}):o)?s:"")+"</button>\r\n"},12:function(e,t,n,i){var a;return'id="'+this.escapeExpression((a=null!=(a=t.id||(null!=e?e.id:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"id",hash:{},data:i}):a))+'"'},14:function(e,t,n,i){var a,r=this.escapeExpression;return" "+r((a=null!=(a=t.key||i&&i.key)?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+r(this.lambda(e,e))+'"'},16:function(e,t,n,i,a,r){var s;return null!=(s=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.align:e,"right",{name:"compare",hash:{},fn:this.program(11,i,0,a,r),inverse:this.noop,data:i}))?s:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-wizard">\r\n\r\n        <!-- nav bar -->\r\n'+(null!=(s=t["if"].call(e,null!=e?e.showSteps:e,{name:"if",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n        <!-- wizard progress bar -->\r\n"+(null!=(s=t["if"].call(e,null!=e?e.showProgressBar:e,{name:"if",hash:{},fn:this.program(4,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n"+(null!=(s=t["if"].call(e,null!=e?e.wizardTitle:e,{name:"if",hash:{},fn:this.program(6,i,0,a,r),inverse:this.noop,data:i}))?s:"")+(null!=(s=t["if"].call(e,null!=e?e.wizardDescription:e,{name:"if",hash:{},fn:this.program(8,i,0,a,r),inverse:this.noop,data:i}))?s:"")+'\r\n        <!-- wizard steps -->\r\n        <div class="alpaca-wizard-steps">\r\n\r\n        </div>\r\n\r\n        <!-- wizard buttons -->\r\n        <div class="alpaca-wizard-buttons">\r\n\r\n            <div class="pull-left">\r\n'+(null!=(s=t.each.call(e,null!=e?e.buttons:e,{name:"each",hash:{},fn:this.program(10,i,0,a,r),inverse:this.noop,data:i}))?s:"")+'            </div>\r\n\r\n            <div class="pull-right">\r\n'+(null!=(s=t.each.call(e,null!=e?e.buttons:e,{name:"each",hash:{},fn:this.program(16,i,0,a,r),inverse:this.noop,data:i}))?s:"")+'            </div>\r\n\r\n            <div style="clear:both"></div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</script>'},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["bootstrap-display"]=this.HandlebarsPrecompiled["bootstrap-display"]||{},this.HandlebarsPrecompiled["bootstrap-display"].container=Handlebars.template({1:function(e,t,n,i){var a;return'        <legend class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.labelClass:a,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+'alpaca-container-label">\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.collapsible:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n            "+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.label:a,e))?a:"")+"\r\n\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.collapsible:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        </legend>\r\n"},2:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.labelClass:a,e))+" "},4:function(e,t,n,i){return'            <span data-toggle="collapse">\r\n'},6:function(e,t,n,i){return"            </span>\r\n"},8:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:""},9:function(e,t,n,i){var a;return'        <p class="alpaca-helper help-block '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helperClass:a,{name:"if",hash:{},fn:this.program(10,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n            <i class="alpaca-icon-16 glyphicon glyphicon-info-sign"></i>\r\n            '+(null!=(a=this.lambda(e,e))?a:"")+"\r\n        </p>\r\n"},10:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.helperClass:a,e))},12:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.label:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"if",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        ";return r=null!=(r=t.container||(null!=e?e.container:e))?r:t.helperMissing,s={name:"container",hash:{},fn:this.program(12,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.container||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n    </div>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["bootstrap-display"]["control-radio"]=Handlebars.template({1:function(e,t,n,i,a,r){var s;return null!=(s=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.value:e,null!=r[1]?r[1].data:r[1],{name:"compare",hash:{},fn:this.program(2,i,0,a,r),inverse:this.noop,data:i}))?s:""},2:function(e,t,n,i){var a,r;return"                "+(null!=(r=null!=(r=t.text||(null!=e?e.text:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"text",hash:{},data:i}):r)?a:"")+"\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n'+(null!=(s=t.each.call(e,null!=e?e.selectOptions:e,{name:"each",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"    </div>\r\n\r\n</script>\r\n"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["bootstrap-display"]["control-select"]=Handlebars.template({1:function(e,t,n,i,a,r){var s;return null!=(s=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=e?e.value:e,null!=r[1]?r[1].data:r[1],{name:"compare",hash:{},fn:this.program(2,i,0,a,r),inverse:this.noop,data:i}))?s:""},2:function(e,t,n,i){var a,r;return"            "+(null!=(r=null!=(r=t.text||(null!=e?e.text:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"text",hash:{},data:i}):r)?a:"")+"\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n'+(null!=(s=t.each.call(e,null!=e?e.selectOptions:e,{name:"each",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"    </div>\r\n\r\n</script>\r\n"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["bootstrap-display"]["control-upload-partial-download"]=Handlebars.template({1:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'        <td></td>\r\n        <td class="name">\r\n            <span>'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'</span>\r\n        </td>\r\n        <td class="size">\r\n            <span>'+s(r(null!=(a=null!=e?e.file:e)?a.size:a,e))+'</span>\r\n        </td>\r\n        <td class="error" colspan="2">\r\n            Error:\r\n            '+s(r(null!=(a=null!=e?e.file:e)?a.error:a,e))+"\r\n        </td>\r\n"},3:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'        <td class="preview">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.previewData:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.program(9,i,0),data:i}))?a:"")+'        </td>\r\n        <td class="name">\r\n            <a href="'+s(r(null!=(a=null!=e?e.file:e)?a.url:a,e))+'" title="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'" data-gallery="'+s(r(null!=(a=null!=e?e.file:e)?a.thumbnailUrl:a,e))+'gallery" download="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'">'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'</a>\r\n        </td>\r\n        <td class="size"><span>'+s(r(null!=(a=null!=e?e.file:e)?a.size:a,e))+'</span></td>\r\n        <td colspan="2"></td>\r\n'},4:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.thumbnailUrl:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?a:""},5:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'                    <a href="'+s(r(null!=(a=null!=e?e.file:e)?a.url:a,e))+'" title="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'" data-gallery="gallery" download="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'">\r\n                        <img src="'+s(r(null!=(a=null!=e?e.file:e)?a.thumbnailUrl:a,e))+'">\r\n                    </a>\r\n'},7:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'                    <a href="'+s(r(null!=(a=null!=e?e.file:e)?a.url:a,e))+'" title="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'" data-gallery="gallery" download="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'">\r\n                        <img src="'+s(r(null!=(a=null!=e?e.file:e)?a.previewData:a,e))+'">\r\n                    </a>\r\n'},9:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.thumbnailUrl:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:""},11:function(e,t,n,i,a,r){var s;return null!=(s=t.each.call(e,null!=e?e.buttons:e,{name:"each",hash:{},fn:this.program(12,i,0,a,r),inverse:this.noop,data:i}))?s:""},12:function(e,t,n,i,a,r){var s;return null!=(s=t["if"].call(e,null!=e?e.isDelete:e,{name:"if",hash:{},fn:this.program(13,i,0,a,r),inverse:this.program(15,i,0,a,r),data:i}))?s:""},13:function(e,t,n,i,a,r){var s=this.lambda,o=this.escapeExpression;return'                        <button class="delete btn btn-danger" data-file-index="'+o(s(null!=r[3]?r[3].fileIndex:r[3],e))+'" data-button-key="'+o(s(null!=r[1]?r[1].key:r[1],e))+'">\r\n                            <i class="glyphicon glyphicon-trash glyphicon-white"></i>\r\n                        </button>\r\n'},15:function(e,t,n,i,a,r){var s,o,l=t.helperMissing,u="function",c=this.escapeExpression,d=this.lambda;return'                        <button class="'+c((o=null!=(o=t.key||(null!=e?e.key:e))?o:l,typeof o===u?o.call(e,{name:"key",hash:{},data:i}):o))+" btn "+c((o=null!=(o=t.buttonClass||(null!=e?e.buttonClass:e))?o:l,typeof o===u?o.call(e,{name:"buttonClass",hash:{},data:i}):o))+'" data-file-index="'+c(d(null!=r[3]?r[3].fileIndex:r[3],e))+'" data-button-key="'+c(d(null!=r[1]?r[1].key:r[1],e))+'">\r\n'+(null!=(s=t["if"].call(e,null!=e?e.iconClass:e,{name:"if",hash:{},fn:this.program(16,i,0,a,r),inverse:this.noop,data:i}))?s:"")+(null!=(s=t["if"].call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(18,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"                        </button>\r\n"},16:function(e,t,n,i){var a;return'                                <i class="'+this.escapeExpression((a=null!=(a=t.iconClass||(null!=e?e.iconClass:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"iconClass",hash:{},data:i}):a))+'"></i>\r\n'},18:function(e,t,n,i){var a;return"                                "+this.escapeExpression((a=null!=(a=t.label||(null!=e?e.label:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"label",hash:{},data:i}):a))+"\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n    <tr class="template-download">\r\n'+(null!=(s=t["if"].call(e,null!=(s=null!=e?e.file:e)?s.error:s,{name:"if",hash:{},fn:this.program(1,i,0,a,r),inverse:this.program(3,i,0,a,r),data:i}))?s:"")+"        <td>\r\n"+(null!=(s=t["if"].call(e,null!=e?e.buttons:e,{name:"if",hash:{},fn:this.program(11,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"        </td>\r\n    </tr>\r\n\r\n</script>"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["bootstrap-display"]["control-upload-partial-upload"]=Handlebars.template({1:function(e,t,n,i){return'        <td class="preview">\r\n            <span class="fade"></span>\r\n        </td>\r\n'},3:function(e,t,n,i){return"        <td></td>\r\n"},5:function(e,t,n,i){var a;return'        <td class="error" colspan="2"><span class="label label-important">Error</span> '+this.escapeExpression(this.lambda(null!=(a=null!=e?e.file:e)?a.error:a,e))+"</td>\r\n"},7:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.valid:a,{name:"if",hash:{},fn:this.program(8,i,0),inverse:this.program(15,i,0),data:i}))?a:""},8:function(e,t,n,i){var a;return(null!=(a=(t.compare||e&&e.compare||t.helperMissing).call(e,i&&i.index,0,{name:"compare",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+'            <td class="start">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.autoUpload:a,{name:"if",hash:{},fn:this.program(11,i,0),inverse:this.program(13,i,0),data:i}))?a:"")+"            </td>\r\n"},9:function(e,t,n,i){return'                <td>\r\n                    <div class="progress progress-success progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">\r\n                        <div class="progress-bar" style="width:0%;"></div>\r\n                    </div>\r\n                </td>\r\n'},11:function(e,t,n,i){return""},13:function(e,t,n,i){return'                <button class="btn btn-primary"> \\\r\n                    <i class="glyphicon glyphicon-upload glyphicon-white"></i>\r\n                    <span>Start</span>\r\n                </button>\r\n'},15:function(e,t,n,i){var a;return'            <td></td>\r\n            <td class="cancel">\r\n'+(null!=(a=(t.compare||e&&e.compare||t.helperMissing).call(e,i&&i.index,0,{name:"compare",hash:{},fn:this.program(16,i,0),inverse:this.noop,data:i}))?a:"")+"            </td>\r\n"},16:function(e,t,n,i){return'                <button class="btn btn-warning">\r\n                    <i class="glyphicon glyphicon-ban-circle glyphicon-white"></i>\r\n                    <span>Cancel</span>\r\n                </button>\r\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'<script type="text/x-handlebars-template">\r\n\r\n    <tr class="template-upload">\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showUploadPreview:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.program(3,i,0),data:i}))?a:"")+'\r\n        <td class="name"><span>'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'</span></td>\r\n        <td class="size"><span>'+s(r(null!=(a=null!=e?e.file:e)?a.size:a,e))+"</span></td>\r\n\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.error:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?a:"")+"        <td></td>\r\n    </tr>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["bootstrap-display"]["control-upload"]=Handlebars.template({1:function(e,t,n,i){var a;return this.escapeExpression((a=null!=(a=t.cssClasses||(null!=e?e.cssClasses:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"cssClasses",hash:{},data:i}):a))},3:function(e,t,n,i){var a;return"                        <thead>\r\n                            <tr>\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showUploadPreview:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.program(6,i,0),data:i}))?a:"")+'                                <td>Name</td>\r\n                                <td>Size</td>\r\n                                <td colspan="2"></td><!-- error or start or progress indicator -->\r\n                                <td>Actions</td>\r\n                            </tr>\r\n                        </thead>\r\n'},4:function(e,t,n,i){return"                                    <td>Thumbnail</td>\r\n"},6:function(e,t,n,i){return"                                    <td></td>\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s=this.escapeExpression,o=t.helperMissing,l="function";return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-fileupload-container '+(null!=(a=t["if"].call(e,null!=e?e.cssClasses:e,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n        <div class="container-fluid">\r\n            <div class="row alpaca-fileupload-chooserow">\r\n                <div class="col-md-12">\r\n                    <div class="btn-group">\r\n                        <span class="'+s(this.lambda(null!=(a=null!=(a=null!=e?e.view:e)?a.styles:a)?a.button:a,e))+' fileinput-button">\r\n                            <i class="glyphicon glyphicon-upload"></i>\r\n                            <span class="fileupload-add-button">'+s((r=null!=(r=t.chooseButtonLabel||(null!=e?e.chooseButtonLabel:e))?r:o,typeof r===l?r.call(e,{name:"chooseButtonLabel",hash:{},data:i}):r))+'</span>\r\n                            <input class="alpaca-fileupload-input" type="file" name="'+s((r=null!=(r=t.name||(null!=e?e.name:e))?r:o,typeof r===l?r.call(e,{name:"name",hash:{},data:i}):r))+'_files">\r\n                            <input class="alpaca-fileupload-input-hidden" type="hidden" name="'+s((r=null!=(r=t.name||(null!=e?e.name:e))?r:o,typeof r===l?r.call(e,{name:"name",hash:{},data:i}):r))+'_files_hidden">\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row alpaca-fileupload-well">\r\n                <div class="col-md-12 fileupload-active-zone">\r\n                    <table class="table table-striped">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showHeaders:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+'                        <tbody class="files">\r\n                        </tbody>\r\n                    </table>\r\n                    <p align="center" class="dropzone-message">'+s((r=null!=(r=t.dropZoneMessage||(null!=e?e.dropZoneMessage:e))?r:o,typeof r===l?r.call(e,{name:"dropZoneMessage",hash:{},data:i}):r))+'</p>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <div id="progress" class="progress">\r\n                        <div class="progress-bar progress-bar-success"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</script>'},useData:!0}),this.HandlebarsPrecompiled["bootstrap-display"].control=Handlebars.template({1:function(e,t,n,i){var a,r;return'        <label class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.labelClass:a,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+' control-label alpaca-control-label" for="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'">'+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.label:a,e))?a:"")+"</label>\r\n"},2:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.labelClass:a,e))},4:function(e,t,n,i){return""},6:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"each",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:""},7:function(e,t,n,i){var a;return'        <p class="help-block '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helperClass:a,{name:"if",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n            <i class="glyphicon glyphicon-info-sign"></i>\r\n            '+(null!=(a=this.lambda(e,e))?a:"")+"\r\n        </p>\r\n"},8:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.helperClass:a,e))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div class="form-group">\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.label:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        ";return r=null!=(r=t.control||(null!=e?e.control:e))?r:t.helperMissing,s={name:"control",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.control||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["bootstrap-display"].message=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r;return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="help-block">\r\n        <i class="glyphicon glyphicon-exclamation-sign"></i>&nbsp;'+(null!=(r=null!=(r=t.message||(null!=e?e.message:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"message",hash:{},data:i}):r)?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["bootstrap-edit"]=this.HandlebarsPrecompiled["bootstrap-edit"]||{},this.HandlebarsPrecompiled["bootstrap-edit"]["container-grid"]=Handlebars.template({1:function(e,t,n,i){return" btn-group"},3:function(e,t,n,i,a,r){var s,o=t.helperMissing;return"\r\n"+(null!=(s=(t.compare||e&&e.compare||o).call(e,null!=(s=null!=r[1]?r[1].options:r[1])?s.toolbarStyle:s,"link",{name:"compare",hash:{},fn:this.program(4,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n"+(null!=(s=(t.compare||e&&e.compare||o).call(e,null!=(s=null!=r[1]?r[1].options:r[1])?s.toolbarStyle:s,"button",{name:"compare",hash:{},fn:this.program(6,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n"},4:function(e,t,n,i){var a=this.lambda,r=this.escapeExpression;return'                <a href="#" class="alpaca-array-toolbar-action" data-array-toolbar-action="'+r(a(null!=e?e.action:e,e))+'">'+r(a(null!=e?e.label:e,e))+"</a>\r\n"},6:function(e,t,n,i,a,r){var s,o=this.lambda,l=this.escapeExpression;return'                <button class="alpaca-array-toolbar-action '+l(o(null!=(s=null!=(s=null!=r[2]?r[2].view:r[2])?s.styles:s)?s.button:s,e))+'" data-array-toolbar-action="'+l(o(null!=e?e.action:e,e))+'">\r\n'+(null!=(s=t["if"].call(e,null!=e?e.iconClass:e,{name:"if",hash:{},fn:this.program(7,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"                    "+(null!=(s=t["if"].call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(9,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"\r\n                </button>\r\n"},7:function(e,t,n,i){return'                    <i class="'+this.escapeExpression(this.lambda(null!=e?e.iconClass:e,e))+'"></i>\r\n'},9:function(e,t,n,i){var a,r;return null!=(r=null!=(r=t.label||(null!=e?e.label:e))?r:t.helperMissing,a="function"==typeof r?r.call(e,{name:"label",hash:{},data:i}):r)?a:""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n        <div class="alpaca-array-toolbar" '+(null!=(s=(t.compare||e&&e.compare||t.helperMissing).call(e,null!=(s=null!=e?e.options:e)?s.toolbarStyle:s,"button",{name:"compare",hash:{},fn:this.program(1,i,0,a,r),inverse:this.noop,data:i}))?s:"")+">\r\n\r\n"+(null!=(s=t.each.call(e,null!=e?e.arrayToolbarActions:e,{name:"each",hash:{},fn:this.program(3,i,0,a,r),inverse:this.noop,data:i}))?s:"")+'\r\n        </div>\r\n\r\n        <div class="alpaca-container-grid-holder"></div>\r\n\r\n    </div>\r\n\r\n</script>'},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["bootstrap-edit"]["container-table"]=Handlebars.template({1:function(e,t,n,i){return""},3:function(e,t,n,i){var a,r,s=t.helperMissing,o="function";return'                    <th data-header-id="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:s,typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r))+'" '+(null!=(a=t["if"].call(e,null!=e?e.hidden:e,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:"")+">"+(null!=(r=null!=(r=t.title||(null!=e?e.title:e))?r:s,a=typeof r===o?r.call(e,{name:"title",hash:{},data:i}):r)?a:"")+"</th>\r\n"},4:function(e,t,n,i){return'class="alpaca-table-column-hidden"'},6:function(e,t,n,i){return"                        <th>Actions</th>\r\n"},8:function(e,t,n,i){var a;return"\r\n                "+(null!=(a=(t.item||e&&e.item||t.helperMissing).call(e,"tr",{name:"item",hash:{},
fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div class="table-responsive">\r\n\r\n        ';return r=null!=(r=t.arrayToolbar||(null!=e?e.arrayToolbar:e))?r:t.helperMissing,s={name:"arrayToolbar",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.arrayToolbar||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n        <table>\r\n\r\n            <!-- table headers -->\r\n            <thead>\r\n                <tr>\r\n"+(null!=(a=t.each.call(e,null!=e?e.headers:e,{name:"each",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showActionsColumn:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"                </tr>\r\n            </thead>\r\n\r\n            <!-- table body -->\r\n            <tbody>\r\n"+(null!=(a=t.each.call(e,null!=e?e.items:e,{name:"each",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+"            </tbody>\r\n\r\n        </table>\r\n\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["bootstrap-edit"].container=Handlebars.template({1:function(e,t,n,i){var a;return'        <legend class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.labelClass:a,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+'alpaca-container-label">\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.collapsible:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n            "+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.label:a,e))?a:"")+"\r\n\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.collapsible:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        </legend>\r\n"},2:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.labelClass:a,e))+" "},4:function(e,t,n,i){return'            <span data-toggle="collapse">\r\n'},6:function(e,t,n,i){return"            </span>\r\n"},8:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"each",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:""},9:function(e,t,n,i){var a;return'        <p class="alpaca-helper help-block '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helperClass:a,{name:"if",hash:{},fn:this.program(10,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n            <i class="alpaca-icon-16 glyphicon glyphicon-info-sign"></i>\r\n            '+(null!=(a=this.lambda(e,e))?a:"")+"\r\n        </p>\r\n"},10:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.helperClass:a,e))},12:function(e,t,n,i){return""},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div>\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.label:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"if",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        ";return r=null!=(r=t.container||(null!=e?e.container:e))?r:t.helperMissing,s={name:"container",hash:{},fn:this.program(12,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.container||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n    </div>\r\n\r\n</script>\r\n"},useData:!0}),this.HandlebarsPrecompiled["bootstrap-edit"]["control-upload-partial-download"]=Handlebars.template({1:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'        <td></td>\r\n        <td class="name">\r\n            <span>'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'</span>\r\n        </td>\r\n        <td class="size">\r\n            <span>'+s(r(null!=(a=null!=e?e.file:e)?a.size:a,e))+'</span>\r\n        </td>\r\n        <td class="error" colspan="2">\r\n            Error:\r\n            '+s(r(null!=(a=null!=e?e.file:e)?a.error:a,e))+"\r\n        </td>\r\n"},3:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'        <td class="preview">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.previewData:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.program(9,i,0),data:i}))?a:"")+'        </td>\r\n        <td class="name">\r\n            <a href="'+s(r(null!=(a=null!=e?e.file:e)?a.url:a,e))+'" title="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'" data-gallery="'+s(r(null!=(a=null!=e?e.file:e)?a.thumbnailUrl:a,e))+'gallery" download="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'">'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'</a>\r\n        </td>\r\n        <td class="size"><span>'+s(r(null!=(a=null!=e?e.file:e)?a.size:a,e))+'</span></td>\r\n        <td colspan="2"></td>\r\n'},4:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.thumbnailUrl:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?a:""},5:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'                    <a href="'+s(r(null!=(a=null!=e?e.file:e)?a.url:a,e))+'" title="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'" data-gallery="gallery" download="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'">\r\n                        <img src="'+s(r(null!=(a=null!=e?e.file:e)?a.thumbnailUrl:a,e))+'">\r\n                    </a>\r\n'},7:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'                    <a href="'+s(r(null!=(a=null!=e?e.file:e)?a.url:a,e))+'" title="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'" data-gallery="gallery" download="'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'">\r\n                        <img src="'+s(r(null!=(a=null!=e?e.file:e)?a.previewData:a,e))+'">\r\n                    </a>\r\n'},9:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.thumbnailUrl:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.noop,data:i}))?a:""},11:function(e,t,n,i,a,r){var s;return null!=(s=t.each.call(e,null!=e?e.buttons:e,{name:"each",hash:{},fn:this.program(12,i,0,a,r),inverse:this.noop,data:i}))?s:""},12:function(e,t,n,i,a,r){var s;return null!=(s=t["if"].call(e,null!=e?e.isDelete:e,{name:"if",hash:{},fn:this.program(13,i,0,a,r),inverse:this.program(15,i,0,a,r),data:i}))?s:""},13:function(e,t,n,i,a,r){var s=this.lambda,o=this.escapeExpression;return'                        <button class="delete btn btn-danger" data-file-index="'+o(s(null!=r[3]?r[3].fileIndex:r[3],e))+'" data-button-key="'+o(s(null!=r[1]?r[1].key:r[1],e))+'">\r\n                            <i class="glyphicon glyphicon-trash glyphicon-white"></i>\r\n                        </button>\r\n'},15:function(e,t,n,i,a,r){var s,o,l=t.helperMissing,u="function",c=this.escapeExpression,d=this.lambda;return'                        <button class="'+c((o=null!=(o=t.key||(null!=e?e.key:e))?o:l,typeof o===u?o.call(e,{name:"key",hash:{},data:i}):o))+" btn "+c((o=null!=(o=t.buttonClass||(null!=e?e.buttonClass:e))?o:l,typeof o===u?o.call(e,{name:"buttonClass",hash:{},data:i}):o))+'" data-file-index="'+c(d(null!=r[3]?r[3].fileIndex:r[3],e))+'" data-button-key="'+c(d(null!=r[1]?r[1].key:r[1],e))+'">\r\n'+(null!=(s=t["if"].call(e,null!=e?e.iconClass:e,{name:"if",hash:{},fn:this.program(16,i,0,a,r),inverse:this.noop,data:i}))?s:"")+(null!=(s=t["if"].call(e,null!=e?e.label:e,{name:"if",hash:{},fn:this.program(18,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"                        </button>\r\n"},16:function(e,t,n,i){var a;return'                                <i class="'+this.escapeExpression((a=null!=(a=t.iconClass||(null!=e?e.iconClass:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"iconClass",hash:{},data:i}):a))+'"></i>\r\n'},18:function(e,t,n,i){var a;return"                                "+this.escapeExpression((a=null!=(a=t.label||(null!=e?e.label:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"label",hash:{},data:i}):a))+"\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a,r){var s;return'<script type="text/x-handlebars-template">\r\n\r\n    <tr class="template-download">\r\n'+(null!=(s=t["if"].call(e,null!=(s=null!=e?e.file:e)?s.error:s,{name:"if",hash:{},fn:this.program(1,i,0,a,r),inverse:this.program(3,i,0,a,r),data:i}))?s:"")+"        <td>\r\n"+(null!=(s=t["if"].call(e,null!=e?e.buttons:e,{name:"if",hash:{},fn:this.program(11,i,0,a,r),inverse:this.noop,data:i}))?s:"")+"        </td>\r\n    </tr>\r\n\r\n</script>"},useData:!0,useDepths:!0}),this.HandlebarsPrecompiled["bootstrap-edit"]["control-upload-partial-upload"]=Handlebars.template({1:function(e,t,n,i){return'        <td class="preview">\r\n            <span class="fade"></span>\r\n        </td>\r\n'},3:function(e,t,n,i){return"        <td></td>\r\n"},5:function(e,t,n,i){var a;return'        <td class="error" colspan="2"><span class="label label-important">Error</span> '+this.escapeExpression(this.lambda(null!=(a=null!=e?e.file:e)?a.error:a,e))+"</td>\r\n"},7:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.valid:a,{name:"if",hash:{},fn:this.program(8,i,0),inverse:this.program(15,i,0),data:i}))?a:""},8:function(e,t,n,i){var a;return(null!=(a=(t.compare||e&&e.compare||t.helperMissing).call(e,i&&i.index,0,{name:"compare",hash:{},fn:this.program(9,i,0),inverse:this.noop,data:i}))?a:"")+'            <td class="start">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.autoUpload:a,{name:"if",hash:{},fn:this.program(11,i,0),inverse:this.program(13,i,0),data:i}))?a:"")+"            </td>\r\n"},9:function(e,t,n,i){return'                <td>\r\n                    <div class="progress progress-success progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">\r\n                        <div class="progress-bar" style="width:0%;"></div>\r\n                    </div>\r\n                </td>\r\n'},11:function(e,t,n,i){return""},13:function(e,t,n,i){return'                <button class="btn btn-primary"> \\\r\n                    <i class="glyphicon glyphicon-upload glyphicon-white"></i>\r\n                    <span>Start</span>\r\n                </button>\r\n'},15:function(e,t,n,i){var a;return'            <td></td>\r\n            <td class="cancel">\r\n'+(null!=(a=(t.compare||e&&e.compare||t.helperMissing).call(e,i&&i.index,0,{name:"compare",hash:{},fn:this.program(16,i,0),inverse:this.noop,data:i}))?a:"")+"            </td>\r\n"},16:function(e,t,n,i){return'                <button class="btn btn-warning">\r\n                    <i class="glyphicon glyphicon-ban-circle glyphicon-white"></i>\r\n                    <span>Cancel</span>\r\n                </button>\r\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r=this.lambda,s=this.escapeExpression;return'<script type="text/x-handlebars-template">\r\n\r\n    <tr class="template-upload">\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showUploadPreview:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.program(3,i,0),data:i}))?a:"")+'\r\n        <td class="name"><span>'+s(r(null!=(a=null!=e?e.file:e)?a.name:a,e))+'</span></td>\r\n        <td class="size"><span>'+s(r(null!=(a=null!=e?e.file:e)?a.size:a,e))+"</span></td>\r\n\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.file:e)?a.error:a,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?a:"")+"        <td></td>\r\n    </tr>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["bootstrap-edit"]["control-upload"]=Handlebars.template({1:function(e,t,n,i){var a;return this.escapeExpression((a=null!=(a=t.cssClasses||(null!=e?e.cssClasses:e))?a:t.helperMissing,"function"==typeof a?a.call(e,{name:"cssClasses",hash:{},data:i}):a))},3:function(e,t,n,i){var a;return"                        <thead>\r\n                            <tr>\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showUploadPreview:a,{name:"if",hash:{},fn:this.program(4,i,0),inverse:this.program(6,i,0),data:i}))?a:"")+'                                <td>Name</td>\r\n                                <td>Size</td>\r\n                                <td colspan="2"></td><!-- error or start or progress indicator -->\r\n                                <td>Actions</td>\r\n                            </tr>\r\n                        </thead>\r\n'},4:function(e,t,n,i){return"                                    <td>Thumbnail</td>\r\n"},6:function(e,t,n,i){return"                                    <td></td>\r\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s=this.escapeExpression,o=t.helperMissing,l="function";return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="alpaca-fileupload-container '+(null!=(a=t["if"].call(e,null!=e?e.cssClasses:e,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n        <div class="container-fluid">\r\n            <div class="row alpaca-fileupload-chooserow">\r\n                <div class="col-md-12">\r\n                    <div class="btn-group">\r\n                        <span class="'+s(this.lambda(null!=(a=null!=(a=null!=e?e.view:e)?a.styles:a)?a.button:a,e))+' fileinput-button">\r\n                            <i class="glyphicon glyphicon-upload"></i>\r\n                            <span class="fileupload-add-button">'+s((r=null!=(r=t.chooseButtonLabel||(null!=e?e.chooseButtonLabel:e))?r:o,typeof r===l?r.call(e,{name:"chooseButtonLabel",hash:{},data:i}):r))+'</span>\r\n                            <input class="alpaca-fileupload-input" type="file" name="'+s((r=null!=(r=t.name||(null!=e?e.name:e))?r:o,typeof r===l?r.call(e,{name:"name",hash:{},data:i}):r))+'_files">\r\n                            <input class="alpaca-fileupload-input-hidden" type="hidden" name="'+s((r=null!=(r=t.name||(null!=e?e.name:e))?r:o,typeof r===l?r.call(e,{name:"name",hash:{},data:i}):r))+'_files_hidden">\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row alpaca-fileupload-well">\r\n                <div class="col-md-12 fileupload-active-zone">\r\n                    <table class="table table-striped">\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.showHeaders:a,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?a:"")+'                        <tbody class="files">\r\n                        </tbody>\r\n                    </table>\r\n                    <p align="center" class="dropzone-message">'+s((r=null!=(r=t.dropZoneMessage||(null!=e?e.dropZoneMessage:e))?r:o,typeof r===l?r.call(e,{name:"dropZoneMessage",hash:{},data:i}):r))+'</p>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-12">\r\n                    <div id="progress" class="progress">\r\n                        <div class="progress-bar progress-bar-success"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</script>'},useData:!0}),this.HandlebarsPrecompiled["bootstrap-edit"].control=Handlebars.template({1:function(e,t,n,i){var a,r;return'        <label class="'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.labelClass:a,{name:"if",hash:{},fn:this.program(2,i,0),inverse:this.noop,data:i}))?a:"")+' control-label alpaca-control-label" for="'+this.escapeExpression((r=null!=(r=t.id||(null!=e?e.id:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"id",hash:{},data:i}):r))+'">'+(null!=(a=this.lambda(null!=(a=null!=e?e.options:e)?a.label:a,e))?a:"")+"</label>\r\n"},2:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.labelClass:a,e))},4:function(e,t,n,i){return""},6:function(e,t,n,i){var a;return null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"each",hash:{},fn:this.program(7,i,0),inverse:this.noop,data:i}))?a:""},7:function(e,t,n,i){var a;return'        <p class="help-block '+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helperClass:a,{name:"if",hash:{},fn:this.program(8,i,0),inverse:this.noop,data:i}))?a:"")+'">\r\n            <i class="glyphicon glyphicon-info-sign"></i>\r\n            '+(null!=(a=this.lambda(e,e))?a:"")+"\r\n        </p>\r\n"},8:function(e,t,n,i){var a;return this.escapeExpression(this.lambda(null!=(a=null!=e?e.options:e)?a.helperClass:a,e))},10:function(e,t,n,i){var a;return null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.buttons:a,{name:"if",hash:{},fn:this.program(11,i,0),inverse:this.noop,data:i}))?a:""},11:function(e,t,n,i){var a;return'            <div class="alpaca-control-buttons-container">\r\n'+(null!=(a=t.each.call(e,null!=(a=null!=e?e.options:e)?a.buttons:a,{name:"each",hash:{},fn:this.program(12,i,0),inverse:this.noop,data:i}))?a:"")+"            </div>\r\n"},12:function(e,t,n,i){var a,r,s=t.helperMissing,o="function",l=this.escapeExpression;return'                <button data-key="'+l((r=null!=(r=t.key||i&&i.key)?r:s,typeof r===o?r.call(e,{name:"key",hash:{},data:i}):r))+'" type="'+l((r=null!=(r=t.type||(null!=e?e.type:e))?r:s,typeof r===o?r.call(e,{name:"type",hash:{},data:i}):r))+'" class="alpaca-control-button alpaca-control-button-'+l((r=null!=(r=t.key||i&&i.key)?r:s,typeof r===o?r.call(e,{name:"key",hash:{},data:i}):r))+" "+l((r=null!=(r=t.styles||(null!=e?e.styles:e))?r:s,typeof r===o?r.call(e,{name:"styles",hash:{},data:i}):r))+'" '+(null!=(a=t.each.call(e,null!=e?e.value:e,{name:"each",hash:{},fn:this.program(13,i,0),inverse:this.noop,data:i}))?a:"")+">"+(null!=(r=null!=(r=t.value||(null!=e?e.value:e))?r:s,a=typeof r===o?r.call(e,{name:"value",hash:{},data:i}):r)?a:"")+"</button>\r\n"},13:function(e,t,n,i){var a,r=t.helperMissing,s="function",o=this.escapeExpression;return o((a=null!=(a=t.key||i&&i.key)?a:r,typeof a===s?a.call(e,{name:"key",hash:{},data:i}):a))+'="'+o((a=null!=(a=t.value||(null!=e?e.value:e))?a:r,typeof a===s?a.call(e,{name:"value",hash:{},data:i}):a))+'" '},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s,o='<script type="text/x-handlebars-template">\r\n\r\n    <div class="form-group">\r\n\r\n'+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.label:a,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n        ";return r=null!=(r=t.control||(null!=e?e.control:e))?r:t.helperMissing,s={name:"control",hash:{},fn:this.program(4,i,0),inverse:this.noop,data:i},a="function"==typeof r?r.call(e,s):r,t.control||(a=t.blockHelperMissing.call(e,a,s)),null!=a&&(o+=a),o+"\r\n\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.helpers:a,{name:"if",hash:{},fn:this.program(6,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n"+(null!=(a=t["if"].call(e,null!=(a=null!=e?e.options:e)?a.renderButtons:a,{name:"if",hash:{},fn:this.program(10,i,0),inverse:this.noop,data:i}))?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),this.HandlebarsPrecompiled["bootstrap-edit"].message=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,r,s=t.helperMissing,o="function";return'<script type="text/x-handlebars-template">\r\n\r\n    <div class="help-block alpaca-message alpaca-message-'+(null!=(r=null!=(r=t.id||(null!=e?e.id:e))?r:s,a=typeof r===o?r.call(e,{name:"id",hash:{},data:i}):r)?a:"")+'">\r\n        <i class="glyphicon glyphicon-exclamation-sign"></i>&nbsp;'+(null!=(r=null!=(r=t.message||(null!=e?e.message:e))?r:s,a=typeof r===o?r.call(e,{name:"message",hash:{},data:i}):r)?a:"")+"\r\n    </div>\r\n\r\n</script>"},useData:!0}),function(e,t){e.Base=t()}(this,function(){var e="function",t="object",n="string",i=!1,a=["constructor","toString","valueOf"],r=a.length,s=/\bbase\b/,o=function(){},l={toSource:null,base:o},u=function(){};return u.extend=function(n,a){var r=u.prototype.extend;i=!0;var s=new this;r.call(s,n),s.base=l.base,i=!1;var o=s.constructor,c=s.constructor=function(){i||(this&&(this._constructing||this.constructor===c)?(this._constructing=!0,o.apply(this,arguments),this._constructing=!1):arguments.length&&u.cast.apply(c,arguments))};return r.call(c,this),c.ancestor=this,c.prototype=s,c.valueOf=function(e){return e===t?c:o.valueOf()},r.call(c,a),typeof c.init===e&&c.init(),c},u.prototype.extend=function(o,c){if(typeof o===n&&arguments.length>1){var d=this[o];if(d&&typeof c===e&&(!d.valueOf||d.valueOf()!==c.valueOf())&&s.test(c)){var p=c.valueOf();c=function(){var e,t=this.base||l.base;return this.base=d,e=0===arguments.length?p.call(this):p.apply(this,arguments),this.base=t,e},c.valueOf=function(e){return e===t?c:p},c.toString=u.toString}this[o]=c}else if(o){var h=u.prototype.extend;i||typeof this===e||(h=this.extend||h);for(var f,m=i?0:1;r>m;m++)f=a[m],o[f]!==l[f]&&h.call(this,f,o[f]);for(f in o)l[f]||h.call(this,f,o[f])}return this},u=u.extend({base:l.base},{ancestor:Object,version:"1.1",cast:function(){for(var t,n,i=0,a=arguments.length;a>i;i++)n=arguments[i],t=n.extend||u.prototype.extend,typeof n===e?(t=n.prototype.extend||u.prototype.extend,t.call(n.prototype,this.prototype),t.call(n,this),n.ancestor=this):t.call(n,this.prototype);return this},implement:function(){for(var e=0;e<arguments.length;e++)this.cast.call(arguments[e],this);return this},toString:function(){return this.valueOf()+""}})}),function(e){var t=function(){var n=t.makeArray(arguments);if(0===n.length)return t.throwDefaultError("You must supply at least one argument.  This argument can either be a DOM element against which Alpaca will generate a form or it can be a function name.  See http://www.alpacajs.org for more details.");var i=n[0];i&&t.isString(i)&&(i=e("#"+i));var a=null,r=null,s=null,o=null,l=null,u=null,c=null,d=null,p=!1,h={},f=null,m=null,g=null,v=null,b=function(){var n=null,a=e(i).find(":first");if(a.length>0){var r=e(a[0]).attr("data-alpaca-field-id");if(r){var s=t.fieldInstances[r];s&&(n=s)}else{var o=e(a[0]).attr("data-alpaca-form-id");if(o){var l=e(a[0]).find(":first");if(l.length>0){var u=e(l[0]).attr("data-alpaca-field-id");if(u){var s=t.fieldInstances[u];s&&(n=s)}}}}}return n},y=["get","exists","destroy"],w=n.length>1&&t.isString(n[1])&&y.indexOf(n[1])>-1,x=b();if(x||w){if(w){var E=n[1];return"get"===E?x:"exists"===E?x?!0:!1:"destroy"===E?void(x&&x.destroy()):t.throwDefaultError("Unknown special function: "+E)}return x}var F=null;if(1===n.length){var C=e(i).text();F=JSON.parse(C),e(i).html("")}else F=t.isObject(n[1])?n[1]:t.isFunction(n[1])?n[1]():{data:n[1]};if(!F)return t.throwDefaultError("Unable to determine Alpaca configuration");if(a=F.data,r=F.schema,s=F.options,o=F.view,l=F.render,F.callback&&(l=F.callback),u=F.postRender,c=F.error,d=F.connector,f=F.dataSource,m=F.schemaSource,g=F.optionsSource,v=F.viewSource,F.ui&&(h.ui=F.ui),F.type&&(h.type=F.type),t.isEmpty(F.notTopLevel)||(p=F.notTopLevel),t.isEmpty(c)&&(c=t.defaultErrorCallback),!d||!d.connect){var T="default",S={};t.isString(d)?T=d:t.isObject(d)&&d.id&&(T=d.id,d.config&&(S=d.config));var O=t.getConnectorClass(T);O||(O=t.getConnectorClass("default")),d=new O(T,S)}var A=d;if(p){var k=t.getConnectorClass("default");A=new k("default")}s||(s={});var I=function(e){e.parent||(e.hideInitValidationError||e.refreshValidationState(!0),"view"!==e.view.type&&t.fieldApplyFieldAndChildren(e,function(e){e.hideInitValidationError=!1}))},M=function(e){e.parent||(e.observableScope=t.generateId()),t.isUndefined(s.focus)&&!e.parent&&(s.focus=t.defaultFocus),s&&s.focus?window.setTimeout(function(){var t=function(e){e.suspendBlurFocus=!0,e.focus(),e.suspendBlurFocus=!1};if(s.focus){if(e.isControlField&&e.isAutoFocusable())t(e);else if(e.isContainerField)if(s.focus===!0)e.children&&e.children.length>0&&t(e);else if("string"==typeof s.focus){var n=e.getControlByPath(s.focus);n&&n.isControlField&&n.isAutoFocusable()&&t(n)}I(e)}},500):I(e),u&&u(e)};A.loadAll({data:a,schema:r,options:s,view:o,dataSource:f,schemaSource:m,optionsSource:g,viewSource:v},function(e,n,u,p){return e=e?e:a,u=u?u:r,n=n?n:s,p=p?p:o,t.isEmpty(e)&&t.isEmpty(u)&&(t.isEmpty(n)||t.isEmpty(n.type))&&(e="",t.isEmpty(n)?n="text":s&&t.isObject(s)&&(n.type="text")),n.view&&(p=n.view),t.init(i,e,n,u,p,h,l,M,d,c)},function(e){return c(e),null})};t.Fields={},t.Connectors={},t.Extend=e.extend,t.Create=function(){var t=Array.prototype.slice.call(arguments);return t.unshift({}),e.extend.apply(this,t)},t.Extend(t,{makeArray:function(e){return Array.prototype.slice.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isString:function(e){return"string"==typeof e},isObject:function(e){return!t.isUndefined(e)&&"[object Object]"===Object.prototype.toString.call(e)},isPlainObject:function(t){return e.isPlainObject(t)},isNumber:function(e){return"number"==typeof e},isArray:function(e){return e instanceof Array},isBoolean:function(e){return"boolean"==typeof e},isUndefined:function(e){return"undefined"==typeof e},trim:function(e){var n=e;return n&&t.isString(n)&&(n=n.replace(/^\s+|\s+$/g,"")),n},safeDomParse:function(n){if(n&&t.isString(n)){n=t.trim(n);var i=null;try{i=e(n)}catch(a){n="<div>"+n+"</div>",i=e(n).children()}return i}return n},isEmpty:function(e,n){var i=this;if(t.isUndefined(e))return!0;if(null===e)return!0;if(e&&t.isObject(e)){var a=i.countProperties(e,n);if(0===a)return!0}return!1},countProperties:function(e,n){var i=0;if(e&&t.isObject(e))for(var a in e)e.hasOwnProperty(a)&&(n?i++:"function"!=typeof e[a]&&i++);return i},copyOf:function(n){var i=n;if(t.isArray(n)){i=[];for(var a=0;a<n.length;a++)i.push(t.copyOf(n[a]))}else if(t.isObject(n)){if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return new RegExp(n);if(n.nodeType&&"cloneNode"in n)i=n.cloneNode(!0);else if(e.isPlainObject(n)){i={};for(var r in n)n.hasOwnProperty(r)&&(i[r]=t.copyOf(n[r]))}}return i},copyInto:function(e,t){for(var n in t)t.hasOwnProperty(n)&&!this.isFunction(this[n])&&(e[n]=t[n])},cloneObject:function(e){return t.copyOf(e)},spliceIn:function(e,t,n){return e.substring(0,t)+n+e.substring(t,e.length)},compactArray:function(e){var t,n=[],i=e.length;for(t=0;i>t;t++)lang.isNull(e[t])||lang.isUndefined(e[t])||n.push(e[t]);return n},removeAccents:function(e){return e.replace(/[]/g,"a").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[]/g,"n").replace(/[]/g,"c").replace(/[]/g,"oe").replace(/[]/g,"ae")},indexOf:function(e,n,i){var a,r=n.length;for(t.isFunction(i)||(i=function(e,t){return e===t}),a=0;r>a;a++)if(i.call({},e,n[a]))return a;return-1},uniqueIdCounter:0,defaultLocale:"en_US",defaultFocus:!0,setDefaultLocale:function(e){this.defaultLocale=e},defaultSchemaFieldMapping:{},registerDefaultSchemaFieldMapping:function(e,t){e&&t&&(this.defaultSchemaFieldMapping[e]=t)},defaultFormatFieldMapping:{},registerDefaultFormatFieldMapping:function(e,t){e&&t&&(this.defaultFormatFieldMapping[e]=t)},getSchemaType:function(e){var n=null;return t.isEmpty(e)?n="string":t.isArray(e)?n="array":t.isObject(e)?n="object":t.isString(e)?n="string":t.isNumber(e)?n="number":t.isBoolean(e)&&(n="boolean"),n||"object"!=typeof e||(n="object"),n},guessOptionsType:function(e){var n=null;return n=e&&"undefined"!=typeof e["enum"]?e["enum"].length>3?"select":"radio":t.defaultSchemaFieldMapping[e.type],e.format&&t.defaultFormatFieldMapping[e.format]&&(n=t.defaultFormatFieldMapping[e.format]),n},views:{},generateViewId:function(){return"view-"+this.generateId()},registerView:function(e){var n=e.id;if(!n)return t.throwDefaultError("Cannot register view with missing view id: "+n);var i=this.views[n];if(i)t.mergeObject(i,e);else{this.views[n]=e,e.templates||(e.templates={});for(var a=t.TemplateEngineRegistry.ids(),r=0;r<a.length;r++){var s=a[r],o=t.TemplateEngineRegistry.find(s);if(o)for(var l=o.findCacheKeys(n),u=0;u<l.length;u++){var c=t.splitCacheKey(l[u]);e.templates[c.templateId]={type:s,template:!0,cacheKey:l[u]}}}}},getNormalizedView:function(e){return this.normalizedViews[e]},lookupNormalizedView:function(e,t){var n=null;for(var i in this.normalizedViews){var a=this.normalizedViews[i];if(a.ui===e&&a.type===t){n=i;break}}return n},registerTemplate:function(e,t,n){n||(n="base"),this.views[n]||(this.views[n]={},this.views[n].id=n),this.views[n].templates||(this.views[n].templates={}),this.views[n].templates[e]=t},registerTemplates:function(e,t){for(var n in e)this.registerTemplate(n,e[n],t)},registerMessage:function(e,t,n){n||(n="base"),this.views[n]||(this.views[n]={},this.views[n].id=n),this.views[n].messages||(this.views[n].messages={}),this.views[n].messages[e]=t},registerMessages:function(e,t){for(var n in e)e.hasOwnProperty(n)&&this.registerMessage(n,e[n],t)},defaultDateFormat:"MM/DD/YYYY",defaultTimeFormat:"HH:SS",regexps:{email:/^[a-z0-9!\#\$%&'\*\-\/=\?\+\-\^_`\{\|\}~]+(?:\.[a-z0-9!\#\$%&'\*\-\/=\?\+\-\^_`\{\|\}~]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,6}$/i,url:/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(\:[0-9]{1,5})?(\/.*)?$/i,"intranet-url":/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*(\:[0-9]{1,5})?(\/.*)?$/i,password:/^[0-9a-zA-Z\x20-\x7E]*$/,date:/^(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.]\d\d$/,integer:/^([\+\-]?([1-9]\d*)|0)$/,number:/^([\+\-]?((([0-9]+(\.)?)|([0-9]*\.[0-9]+))([eE][+-]?[0-9]+)?))$/,phone:/^(\D?(\d{3})\D?\D?(\d{3})\D?(\d{4}))?$/,ipv4:/^(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)(?:\.(?:1\d?\d?|2(?:[0-4]\d?|[6789]|5[0-5]?)?|[3-9]\d?|0)){3}$/,"zipcode-five":/^(\d{5})?$/,"zipcode-nine":/^(\d{5}(-\d{4})?)?$/,whitespace:/^\s+$/},fieldInstances:{},fieldClassRegistry:{},registerFieldClass:function(e,t){this.fieldClassRegistry[e]=t},getFieldClass:function(e){return this.fieldClassRegistry[e]},getFieldClassType:function(e){for(var t in this.fieldClassRegistry)if(this.fieldClassRegistry.hasOwnProperty(t)&&this.fieldClassRegistry[t]===e)return t;return null},connectorClassRegistry:{},registerConnectorClass:function(e,t){this.connectorClassRegistry[e]=t},getConnectorClass:function(e){return this.connectorClassRegistry[e]},replaceAll:function(e,t,n){return e.replace(new RegExp(t,"g"),n)},element:function(t,n,i,a){var r=e("<"+t+"/>");if(n&&r.attr(n),i&&r.css(i),a)for(var s in a)r.addClass(s)},elementFromTemplate:function(n,i){var a=n;if(i)for(var r in i)a=t.replaceAll(a,"${"+r+"}",i[r]);return e(a)},generateId:function(){return t.uniqueIdCounter++,"alpaca"+t.uniqueIdCounter},later:function(t,n,i,a,r){t=t||0,n=n||{};var s,o,l=i,u=e.makeArray(a);if("string"==typeof i&&(l=n[i]),!l)throw{name:"TypeError",message:"The function is undefined."};return s=function(){l.apply(n,u)},o=r?setInterval(s,t):setTimeout(s,t),{id:o,interval:r,cancel:function(){this.interval?clearInterval(o):clearTimeout(o)}}},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},startsWith:function(e,t){return e.substr(0,t.length)===t},isUri:function(e){return t.isString(e)&&(t.startsWith(e,"http://")||t.startsWith(e,"https://")||t.startsWith(e,"/")||t.startsWith(e,"./")||t.startsWith(e,"../"))},traverseObject:function(e,n,i){t.isString(n)&&(n=n.split("."));var a=null,r=e,s=null;do s=n.shift(),i&&s===i&&(s=n.shift()),t.isEmpty(r[s])?n=[]:(r=r[s],0===n.length&&(a=r));while(n.length>0);return a},each:function(e,n){if(t.isArray(e))for(var i=0;i<e.length;i++)n.apply(e[i]);else if(t.isObject(e))for(var a in e)n.apply(e[a])},merge:function(e,n,i){e||(e={});for(var a in n){var r=!0;i&&(r=i(a)),r&&(t.isEmpty(n[a])?e[a]=n[a]:t.isObject(n[a])?(e[a]||(e[a]={}),e[a]=t.merge(e[a],n[a])):e[a]=n[a])}return e},mergeObject:function(e,t){return e||(e={}),t||(t={}),this.mergeObject2(t,e),e},mergeObject2:function(n,i){var a=t.isArray,r=t.isObject,s=t.isUndefined,o=t.copyOf,l=function(t,n){return a(t)?a(n)&&e.each(t,function(e){
n.push(o(t[e]))}):r(t)?r(n)&&e.each(t,function(e){s(n[e])?n[e]=o(t[e]):n[e]=l(t[e],n[e])}):n=o(t),n};return l(n,i),i},substituteTokens:function(e,n){if(!t.isEmpty(e))for(var i=0;i<n.length;i++){var a="{"+i+"}",r=e.indexOf(a);if(r>-1){var s=e.substring(0,r)+n[i]+e.substring(r+3);e=s}}return e},compareObject:function(e,t){return equiv(e,t)},compareArrayContent:function(t,n){var i=t&&n&&t.length===n.length;if(i)for(var a=t.length-1;a>=0;a--){var r=t[a];if(e.inArray(r,n)<0)return!1}return i},testRegex:function(e,t){var n=new RegExp(e);return n.test(t)},isValEmpty:function(n,i){var a=!1;return t.isEmpty(n,i)?a=!0:(t.isString(n)&&""===n&&(a=!0),t.isObject(n)&&e.isEmptyObject(n)&&(a=!0),t.isArray(n)&&0===n.length&&(a=!0)),a},init:function(e,n,i,a,r,s,o,l,u,c){var d=this;if(t.isObject(r)){var p=r.id;p||(r.id=this.generateViewId());var h=r.parent;h||(r.parent="bootstrap-edit"),this.registerView(r),r=r.id}this.compile(function(p){if(p.errors&&p.errors.length>0){for(var h=[],f=0;f<p.errors.length;f++){var m=p.errors[f].view,g=p.errors[f].cacheKey,v=p.errors[f].err,b="The template with cache key: "+g+" for view: "+m+" failed to compile";v&&v.message&&(b+=", message: "+v.message,h.push(v.message)),v&&(b+=", err: "+JSON.stringify(v)),t.logError(b),delete d.normalizedViews[m],delete d.views[m]}return t.throwErrorWithCallback("View compilation failed, cannot initialize Alpaca. "+h.join(", "),c)}d._init(e,n,i,a,r,s,o,l,u,c)},c)},_init:function(n,i,a,r,s,o,l,u,c,d){var p=this,h=t.defaultView||null,f=null;e.mobile&&!h&&(h="jquerymobile");var m="function"==typeof e.fn.modal;m&&!h&&(h="bootstrap");var g="undefined"!=typeof e.ui;if(g&&!h&&(h="jqueryui"),h&&(f=i?"edit":"create"),!s){var v=o.ui,b=o.type;v||(h||(h=t.defaultUI),h&&(v=h)),v&&(b||(b=f?f:"edit"),t.logDebug("No view provided but found request for UI: "+v+" and type: "+b),s=this.lookupNormalizedView(v,b),s?t.logDebug("Found view: "+s):t.logDebug("No view found for UI: "+v+" and type: "+b))}if(!s)return t.throwErrorWithCallback("A view was not specified and could not be automatically determined.",d);if(t.isString(s)&&!this.normalizedViews[s])return t.throwErrorWithCallback("The desired view: "+s+" could not be loaded.  Please make sure it is loaded and not misspelled.",d);var y=t.createFieldInstance(n,i,a,r,s,c,d);if(y){e(n).addClass("alpaca-field-rendering"),e(n).addClass("alpaca-hidden"),t.fieldInstances[y.getId()]=y,y.allFieldInstances=function(){return t.fieldInstances},t.isEmpty(l)&&(l=y.view.render),t.isEmpty(u)&&(u=y.view.postRender);var w=function(){y.parent||y.getFieldEl().addClass("alpaca-"+p.getNormalizedView(s).type),y.parent||y.getFieldEl().addClass("alpaca-top"),y.parent||y.triggerWithPropagation.call(y,"ready","down"),e(n).removeClass("alpaca-field-rendering"),e(n).removeClass("alpaca-hidden"),y._oldFieldEl&&e(y._oldFieldEl).remove(),u(y)};t.isEmpty(l)?y.render(function(){w()}):l(y,function(){w()}),y.callback=l,y.renderedCallback=u}},createFieldInstance:function(e,n,i,a,r,s,o){if(t.isValEmpty(i,!0)&&(i={}),t.isValEmpty(a,!0)&&(a={}),i&&t.isString(i)){var l=i;i={},i.type=l}i.type||(a.type||(a.type=t.getSchemaType(n)),a.type||(n&&t.isArray(n)?a.type="array":a.type="object"),i.type=t.guessOptionsType(a));var u=t.getFieldClass(i.type);return u?new u(e,n,i,a,r,s,o):(o({message:"Unable to find field class for type: "+i.type,reason:"FIELD_INSTANTIATION_ERROR"}),null)},parseJSON:function(t){return t?e.parseJSON(t):null},compile:function(n,i){var a=this,r={errors:[],count:0,successCount:0},s=function(e){if(0===r.errors.length)for(var t in e)a.normalizedViews[t]=e[t];n(r)},o=function(e,t,n,i,a){var o=n.id;r.count++,t?r.errors.push({view:o,cacheKey:i,err:t}):r.successCount++,r.count==a&&s(e)},l=function(n,i,a,r,s,l,u){var c=t.makeCacheKey(i.id,a,r,s),d="text/x-handlebars-template";if(l&&t.isObject(l)&&(d=l.type,l.cacheKey&&(c=l.cacheKey),l=l.template),l&&"string"==typeof l){var p=l.toLowerCase();if(t.isUri(p));else if(!l||0!==l.indexOf("#")&&0!==l.indexOf(".")){if(l){var h=i.templates[l];h&&(l=h)}}else{var f=e(l);d=e(f).attr("type"),l=e(f).html()}}if(!d){t.logError("Engine type was empty");var m=new Error("Engine type was empty");return void o(n,m,i,c,u)}var g=t.TemplateEngineRegistry.find(d);if(!g){t.logError("Cannot find template engine for type: "+type);var m=new Error("Cannot find template engine for type: "+type);return void o(n,m,i,c,u)}if(l===!0){if(g.isCached(c))return void o(n,null,i,c,u);var v="View configuration for view: "+i.id+" claims to have precompiled template for cacheKey: "+c+" but it could not be found";return t.logError(v),void o(n,new Error(v),i,c,u)}return g.isCached(c)?void o(n,null,i,c,u):void g.compile(c,l,function(e){o(n,e,i,c,u)})},u=function(e){var t=[];for(var n in e){var i=e[n];if(i.templates)for(var a in i.templates){var r=i.templates[a];t.push(function(e,t,n,i,a,r){return function(s){l(e,t,n,i,a,r,s)}}(e,i,"view",i.id,a,r))}if(i.fields)for(var s in i.fields)if(i.fields[s].templates)for(var a in i.fields[s].templates){var r=i.fields[s].templates[a];t.push(function(e,t,n,i,a,r){return function(s){l(e,t,n,i,a,r,s)}}(e,i,"field",s,a,r))}if(i.layout&&i.layout.template){var r=i.layout.template;t.push(function(e,t,n,i,a,r){return function(s){l(e,t,n,i,a,r,s)}}(e,i,"layout","layout","layoutTemplate",r))}if(i.globalTemplate){var r=i.globalTemplate;t.push(function(e,t,n,i,a,r){return function(s){l(e,t,n,i,a,r,s)}}(e,i,"global","global","globalTemplate",r))}}for(var o=t.length,u=0;u<t.length;u++)t[u](o)},c=function(){var e={},n=0;t.normalizedViews||(t.normalizedViews={}),a.normalizedViews=t.normalizedViews;for(var r in a.views)if(!t.normalizedViews[r]){var o=new t.NormalizedView(r);if(!o.normalize(a.views))return t.throwErrorWithCallback("View normalization failed, cannot initialize Alpaca.  Please check the error logs.",i);e[r]=o,n++}n>0?u(e):s(e)};c()},getTemplateDescriptor:function(e,n,i){var a=null,r=null,s=null;if(e.templates&&e.templates[n]){s=t.makeCacheKey(e.id,"view",e.id,n);var o=e.templates[n];t.isObject(o)&&o.cacheKey&&(s=o.cacheKey)}if(i&&i.path){var l=i.path;if(e&&e.fields&&l&&l.length>1){var u=function(i,a,r){if(a!=i.length){var s=i.slice(),o=!1,l=i[a],c=l.indexOf("[");c>-1&&(l=l.substring(0,c),o=!0),s[a]=l;var d=s.join("/");if(e.fields[d]&&e.fields[d].templates&&e.fields[d].templates[n]){var p=t.makeCacheKey(e.id,"field",d,n);p&&r.push({path:d,cacheKey:p})}u(i,a+1,r),o&&u(s,a+1,r)}},c=l.split("/"),d=[];u(c,0,d),d.length>0&&(s=d[0].cacheKey)}}if(("globalTemplate"===n||"global"===n)&&(s=t.makeCacheKey(e.id,"global","global","globalTemplate")),("layoutTemplate"===n||"layout"===n)&&(s=t.makeCacheKey(e.id,"layout","layout","layoutTemplate")),s){for(var p=t.TemplateEngineRegistry.ids(),h=0;h<p.length;h++){var f=p[h],m=t.TemplateEngineRegistry.find(f);if(m.isCached(s)){r=f;break}}r&&(a={engine:r,cacheKey:s})}return a},tmpl:function(e,n){var i=t.tmplHtml(e,n);return t.safeDomParse(i)},tmplHtml:function(e,n){n||(n={});var i=e.engine,a=t.TemplateEngineRegistry.find(i);if(!a)return t.throwDefaultError("Cannot find template engine for type: "+i);var r=e.cacheKey,s=a.execute(r,n,function(e){var n=JSON.stringify(e);return e.message&&(n=e.message),t.throwDefaultError("The compiled template: "+r+" failed to execute: "+n)});return s}}),t.DEBUG=0,t.INFO=1,t.WARN=2,t.ERROR=3,t.logLevel=t.WARN,t.logDebug=function(e){t.log(t.DEBUG,e)},t.logInfo=function(e){t.log(t.INFO,e)},t.logWarn=function(e){t.log(t.WARN,e)},t.logError=function(e){t.log(t.ERROR,e)},t.LOG_METHOD_MAP={0:"debug",1:"info",2:"warn",3:"error"},t.log=function(e,n){if(t.logLevel<=e){var i=t.LOG_METHOD_MAP[e];"undefined"!=typeof console&&console[i]&&("debug"===i?console.debug(n):"info"===i?console.info(n):"warn"===i?console.warn(n):"error"===i?console.error(n):console.log(n))}},t.checked=function(e,n){return t.attrProp(e,"checked",n)},t.disabled=function(e,n){return t.attrProp(e,"disabled",n)},t.attrProp=function(t,n,i){return"undefined"!=typeof i&&(e(t).prop?e(t).prop(n,i):i?e(t).attr(n,i):e(t).removeAttr(n)),e(t).prop?e(t).prop(n):e(t).attr(n)},t.loadRefSchemaOptions=function(e,n,i){if(n)if("#"===n)i(e.schema,e.options);else if(0===n.indexOf("#/")){for(var a=n.substring(2),r=a.split("/"),s=e.schema,o=0;o<r.length;o++){var l=r[o];if(s[l])s=s[l];else if(s.properties&&s.properties[l])s=s.properties[l];else{if(!s.definitions||!s.definitions[l]){s=null;break}s=s.definitions[l]}}for(var u=e.options,o=0;o<r.length;o++){var l=r[o];if(u[l])u=u[l];else if(u.fields&&u.fields[l])u=u.fields[l];else{if(!u.definitions||!u.definitions[l]){u=null;break}u=u.definitions[l]}}i(s,u)}else if(0===n.indexOf("#")){var c=t.resolveReference(e.schema,e.options,n);c?i(c.schema,c.options):i()}else{var d=t.pathParts(n);e.connector.loadReferenceSchema(d.path,function(n){e.connector.loadReferenceOptions(d.path,function(e){if(d.id){var a=t.resolveReference(n,e,d.id);a&&(n=a.schema,e=a.options)}i(n,e)},function(){i(n)})},function(){i()})}else i()},t.DEFAULT_ERROR_CALLBACK=function(e){if(e&&e.message)throw t.logError(JSON.stringify(e)),new Error("Alpaca caught an error with the default error handler: "+JSON.stringify(e))},t.defaultErrorCallback=t.DEFAULT_ERROR_CALLBACK,t.throwDefaultError=function(e){e&&t.isObject(e)&&(e=JSON.stringify(e));var n={message:e};t.defaultErrorCallback(n)},t.throwErrorWithCallback=function(e,n){e&&t.isObject(e)&&(e=JSON.stringify(e));var i={message:e};n?n(i):t.defaultErrorCallback(i)},t.resolveReference=function(e,n,i){if(e.id===i||"#"+e.id===i){var a={};return e&&(a.schema=e),n&&(a.options=n),a}if(e.properties)for(var r in e.properties){var s=e.properties[r],o=null;n&&n.fields&&n.fields[r]&&(o=n.fields[r]);var l=t.resolveReference(s,o,i);if(l)return l}else if(e.items){var s=e.items,o=null;n&&n.items&&(o=n.items);var l=t.resolveReference(s,o,i);if(l)return l}return null},e.alpaca=window.Alpaca=t,e.fn.alpaca=function(){var n=t.makeArray(arguments),i=[].concat(this,n),a=t.apply(this,i);return"undefined"==typeof a&&(a=e(this)),a},e.fn.outerHTML=function(t){return t?e("<div></div>").append(this).html():e("<div></div>").append(this.clone()).html()},e.fn.swapWith=function(t){return this.each(function(){var n=e(t).clone(),i=e(this).clone();e(t).replaceWith(i),e(this).replaceWith(n)})},e.fn.attrProp=function(n,i){return t.attrProp(e(this),n,i)},e.event.special.destroyed={remove:function(e){e.handler&&e.handler()}},t.pathParts=function(e){if("string"!=typeof e)return e;var n=e,i=null,a=n.indexOf("#");a>-1&&(i=n.substring(a+1),n=n.substring(0,a)),t.endsWith(n,"/")&&(n=n.substring(0,n.length-1));var r={};return r.path=n,i&&(r.id=i),r},t.resolveField=function(e,n){var i=null;if("string"==typeof n)if(0===n.indexOf("#/")&&propertyId.length>2);else if("#"===n||"#/"===n)i=e;else if(0===n.indexOf("#")){for(var a=e;a.parent;)a=a.parent;var r=n.substring(1);i=t.resolveFieldByReference(a,r)}else i=e.childrenByPropertyId[n];return i},t.resolveFieldByReference=function(e,n){if(e.schema&&e.schema.id==n)return e;if(e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++){var a=e.children[i],r=t.resolveFieldByReference(a,n);if(r)return r}return null},t.anyEquality=function(e,n){var i={};if("object"==typeof e||t.isArray(e))for(var a in e)i[e[a]]=!0;else i[e]=!0;var r=!1;if("object"==typeof n||t.isArray(n))for(var a in n){var s=n[a];if(i[s]){r=!0;break}}else r=i[n];return r},t.series=function(e,t){async.series(e,function(){t()})},t.parallel=function(e,t){async.parallel(e,function(){t()})},t.nextTick=function(e){async.nextTick(function(){e()})},t.compileValidationContext=function(e,t){var n=[],i=e;do i.isValidationParticipant()||(i=null),i&&n.push(i),i&&(i=i.parent);while(i);n.reverse();var a=[],r=function(e,t,n){if(!e||0===e.length)return n();var i=e[0],a={};a.id=i.getId(),a.field=i,a.path=i.path;var s=i.isValid();i.isContainer()&&(s=i.isValid(!0)),a.before=s;var o=function(e,n,i){var a=e._previouslyValidated;e.validate(),e._validateCustomValidator(function(){var r=e.isValid();e.isContainer()&&(r=e.isValid(!0)),n.after=r,n.validated=!1,n.invalidated=!1,!s&&r?n.validated=!0:s&&!r?n.invalidated=!0:a||r||(n.invalidated=!0),n.container=e.isContainer(),n.valid=n.after,t.push(n),i()})};if(e.length>1){var l=e.slice(0);l.shift(),r(l,t,function(){o(i,a,function(){n()})})}else o(i,a,function(){n()})};r(n,a,function(){t(a)})},t.updateValidationStateForContext=function(e,n){for(var i=0;i<n.length;i++){var a=n[i],r=a.field;if(r.getFieldEl().removeClass("alpaca-invalid alpaca-invalid-hidden alpaca-valid"),r.fireCallback("clearValidity"),a.valid)r.getFieldEl().addClass("alpaca-field-valid"),r.fireCallback("valid");else if(!r.options.readonly||t.showReadOnlyInvalidState){var s=!1;r.hideInitValidationError&&(s=!0),r.fireCallback("invalid",s),r.getFieldEl().addClass("alpaca-invalid"),s&&r.getFieldEl().addClass("alpaca-invalid-hidden")}else t.logWarn("The field (id="+r.getId()+", title="+r.getTitle()+", path="+r.path+") is invalid and also read-only");if(a.validated?t.later(25,this,function(){r.trigger("validated")}):a.invalidated&&t.later(25,this,function(){r.trigger("invalidated")}),r.options.showMessages&&!r.initializing&&(!r.options.readonly||t.showReadOnlyInvalidState)){var o=[];for(var l in r.validation)r.validation[l].status||o.push({id:l,message:r.validation[l].message});r.displayMessage(o,r.valid)}}},t.fieldApplyFieldAndChildren=function(e,n){if(n(e),e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++)t.fieldApplyFieldAndChildren(e.children[i],n)},t.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},t.asArray=function(e){if(!t.isArray(e)){var n=[];return n.push(e),n}return e},function(){function e(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(i,arguments)}}function t(e){return e.constructor===String?"string":e.constructor===Boolean?"boolean":e.constructor===Number?isNaN(e)?"nan":"number":"undefined"==typeof e?"undefined":null===e?"null":e instanceof Array?"array":e instanceof Date?"date":e instanceof RegExp?"regexp":"object"==typeof e?"object":e instanceof Function?"function":void 0}function n(e,n,i){var a=t(e);return a?"function"===t(n[a])?n[a].apply(n,i):n[a]:void 0}var i,a,r={};i=this,null!=i&&(a=i.async),r.noConflict=function(){return i.async=a,r};var s=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},o=function(e,t){if(e.map)return e.map(t);var n=[];return s(e,function(e,i,a){n.push(t(e,i,a))}),n},l=function(e,t,n){return e.reduce?e.reduce(t,n):(s(e,function(e,i,a){n=t(n,e,i,a)}),n)},u=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,"undefined"!=typeof setImmediate?r.setImmediate=function(e){setImmediate(e)}:r.setImmediate=r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(e){setImmediate(e)},r.setImmediate=r.nextTick):(r.nextTick=function(e){setTimeout(e,0)},r.setImmediate=r.nextTick),r.each=function(t,n,i){if(i=i||function(){},!t.length)return i();var a=0;s(t,function(r){n(r,e(function(e){e?(i(e),i=function(){}):(a+=1,a>=t.length&&i(null))}))})},r.forEach=r.each,r.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0,a=function(){t(e[i],function(t){t?(n(t),n=function(){}):(i+=1,i>=e.length?n(null):a())})};a()},r.forEachSeries=r.eachSeries,r.eachLimit=function(e,t,n,i){var a=c(t);a.apply(null,[e,n,i])},r.forEachLimit=r.eachLimit;var c=function(e){return function(t,n,i){if(i=i||function(){},!t.length||0>=e)return i();var a=0,r=0,s=0;!function o(){if(a>=t.length)return i();for(;e>s&&r<t.length;)r+=1,s+=1,n(t[r-1],function(e){e?(i(e),i=function(){}):(a+=1,s-=1,a>=t.length?i():o())})}()}},d=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.each].concat(t))}},p=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[c(e)].concat(n))}},h=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.eachSeries].concat(t))}},f=function(e,t,n,i){var a=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n,i){a[e.index]=i,t(n)})},function(e){i(e,a)})};r.map=d(f),r.mapSeries=h(f),r.mapLimit=function(e,t,n,i){return m(t)(e,n,i)};var m=function(e){return p(e,f)};r.reduce=function(e,t,n,i){r.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n,i(e)})},function(e){i(e,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(e,t,n,i){var a=o(e,function(e){return e}).reverse();r.reduce(a,t,n,i)},r.foldr=r.reduceRight;var g=function(e,t,n,i){var a=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&a.push(e),t()})},function(e){i(o(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};r.filter=d(g),r.filterSeries=h(g),r.select=r.filter,r.selectSeries=r.filterSeries;var v=function(e,t,n,i){var a=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||a.push(e),t()})},function(e){i(o(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};r.reject=d(v),r.rejectSeries=h(v);var b=function(e,t,n,i){e(t,function(e,t){n(e,function(n){n?(i(e),i=function(){}):t()})},function(e){i()})};r.detect=d(b),r.detectSeries=h(b),r.some=function(e,t,n){r.each(e,function(e,i){t(e,function(e){e&&(n(!0),n=function(){}),i()})},function(e){n(!1)})},r.any=r.some,r.every=function(e,t,n){r.each(e,function(e,i){t(e,function(e){e||(n(!1),n=function(){}),i()})},function(e){n(!0)})},r.all=r.every,r.sortBy=function(e,t,n){r.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i})})},function(e,t){if(e)return n(e);var i=function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0};n(null,o(t.sort(i),function(e){return e.value}))})},r.auto=function(e,t){t=t||function(){};var n=u(e);if(!n.length)return t(null);var i={},a=[],o=function(e){a.unshift(e)},c=function(e){for(var t=0;t<a.length;t+=1)if(a[t]===e)return void a.splice(t,1)},d=function(){s(a.slice(0),function(e){e()})};o(function(){u(i).length===n.length&&(t(null,i),t=function(){})}),s(n,function(n){var a=e[n]instanceof Function?[e[n]]:e[n],p=function(e){var a=Array.prototype.slice.call(arguments,1);if(a.length<=1&&(a=a[0]),e){var o={};s(u(i),function(e){o[e]=i[e]}),o[n]=a,t(e,o),t=function(){}}else i[n]=a,r.setImmediate(d)},h=a.slice(0,Math.abs(a.length-1))||[],f=function(){return l(h,function(e,t){return e&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(n)};if(f())a[a.length-1](p,i);else{var m=function(){f()&&(c(m),a[a.length-1](p,i))};o(m)}})},r.waterfall=function(e,t){if(t=t||function(){},e.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var i=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var a=Array.prototype.slice.call(arguments,1),s=e.next();s?a.push(i(s)):a.push(t),r.setImmediate(function(){e.apply(null,a)})}}};i(r.iterator(e))()};var y=function(e,t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var i={};e.each(u(t),function(e,n){t[e](function(t){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),i[e]=a,n(t)})},function(e){n(e,i)})}};r.parallel=function(e,t){y({map:r.map,each:r.each},e,t)},r.parallelLimit=function(e,t,n){y({map:m(t),each:c(t)},e,n)},r.series=function(e,t){if(t=t||function(){},e.constructor===Array)r.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};r.eachSeries(u(e),function(t,i){e[t](function(e){var a=Array.prototype.slice.call(arguments,1);a.length<=1&&(a=a[0]),n[t]=a,i(e)})},function(e){t(e,n)})}},r.iterator=function(e){var t=function(n){var i=function(){return e.length&&e[n].apply(null,arguments),i.next()};return i.next=function(){return n<e.length-1?t(n+1):null},i};return t(0)},r.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var w=function(e,t,n,i){var a=[];e(t,function(e,t){n(e,function(e,n){a=a.concat(n||[]),t(e)})},function(e){i(e,a)})};r.concat=d(w),r.concatSeries=h(w),r.whilst=function(e,t,n){e()?t(function(i){return i?n(i):void r.whilst(e,t,n)}):n()},r.doWhilst=function(e,t,n){e(function(i){return i?n(i):void(t()?r.doWhilst(e,t,n):n())})},r.until=function(e,t,n){e()?n():t(function(i){return i?n(i):void r.until(e,t,n)})},r.doUntil=function(e,t,n){e(function(i){return i?n(i):void(t()?n():r.doUntil(e,t,n))})},r.queue=function(t,n){function i(e,t,i,a){t.constructor!==Array&&(t=[t]),s(t,function(t){var s={data:t,callback:"function"==typeof a?a:null};i?e.tasks.unshift(s):e.tasks.push(s),e.saturated&&e.tasks.length===n&&e.saturated(),r.setImmediate(e.process)})}void 0===n&&(n=1);var a=0,o={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(e,t){i(o,e,!1,t)},unshift:function(e,t){i(o,e,!0,t)},process:function(){if(a<o.concurrency&&o.tasks.length){var n=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),a+=1;var i=function(){a-=1,n.callback&&n.callback.apply(n,arguments),o.drain&&o.tasks.length+a===0&&o.drain(),o.process()},r=e(i);t(n.data,r)}},length:function(){return o.tasks.length},running:function(){return a}};return o},r.cargo=function(e,t){var n=!1,i=[],a={tasks:i,payload:t,saturated:null,empty:null,drain:null,push:function(e,n){e.constructor!==Array&&(e=[e]),s(e,function(e){i.push({data:e,callback:"function"==typeof n?n:null}),a.saturated&&i.length===t&&a.saturated()}),r.setImmediate(a.process)},process:function l(){if(!n){if(0===i.length)return void(a.drain&&a.drain());var r="number"==typeof t?i.splice(0,t):i.splice(0),u=o(r,function(e){return e.data});a.empty&&a.empty(),n=!0,e(u,function(){n=!1;var e=arguments;s(r,function(t){t.callback&&t.callback.apply(null,e)}),l()})}},length:function(){return i.length},running:function(){return n}};return a};var x=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&s(n,function(t){console[e](t)}))}]))}};r.log=x("log"),r.dir=x("dir"),r.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var a=function(){var a=Array.prototype.slice.call(arguments),r=a.pop(),s=t.apply(null,a);s in n?r.apply(null,n[s]):s in i?i[s].push(r):(i[s]=[r],e.apply(null,a.concat([function(){n[s]=arguments;var e=i[s];delete i[s];for(var t=0,a=e.length;a>t;t++)e[t].apply(null,arguments)}])))};return a.memo=n,a.unmemoized=e,a},r.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},r.times=function(e,t,n){for(var i=[],a=0;e>a;a++)i.push(a);return r.map(i,t,n)},r.timesSeries=function(e,t,n){for(var i=[],a=0;e>a;a++)i.push(a);return r.mapSeries(i,t,n)},r.compose=function(){var e=Array.prototype.reverse.call(arguments);return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();r.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}};var E=function(e,t){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),a=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},a)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};r.applyEach=d(E),r.applyEachSeries=h(E),r.forever=function(e,t){function n(i){if(i){if(t)return t(i);throw i}e(n)}n()},i.async=r;i.equiv=function(){var e,i=[],a=function(){function n(e,t){return e instanceof t.constructor||t instanceof e.constructor?t==e:t===e}return{string:n,"boolean":n,number:n,"null":n,undefined:n,nan:function(e){return isNaN(e)},date:function(e,n){return"date"===t(e)&&n.valueOf()===e.valueOf()},regexp:function(e,n){return"regexp"===t(e)&&n.source===e.source&&n.global===e.global&&n.ignoreCase===e.ignoreCase&&n.multiline===e.multiline},"function":function(){var e=i[i.length-1];return e!==Object&&"undefined"!=typeof e},array:function(n,i){var a,r;if("array"!==t(n))return!1;if(r=i.length,r!==n.length)return!1;for(a=0;r>a;a++)if(!e(i[a],n[a]))return!1;return!0},object:function(t,n){var a,r=!0,s=[],o=[];if(n.constructor!==t.constructor)return!1;i.push(n.constructor);for(a in n)s.push(a),e(n[a],t[a])||(r=!1);i.pop();for(a in t)o.push(a);return r&&e(s.sort(),o.sort())}}}();return e=function(){var e=Array.prototype.slice.apply(arguments);return e.length<2?!0:function(e,i){return e===i?!0:null===e||null===i||"undefined"==typeof e||"undefined"==typeof i||t(e)!==t(i)?!1:n(e,a,[i,e])}(e[0],e[1])&&arguments.callee.apply(this,e.splice(1,e.length-1))}}()}(),t.MARKER_CLASS_CONTROL_FIELD="alpaca-marker-control-field",t.MARKER_CLASS_CONTAINER_FIELD="alpaca-marker-container-field",t.MARKER_CLASS_CONTAINER_FIELD_ITEM="alpaca-marker-control-field-item",t.MARKER_DATA_CONTAINER_FIELD_ITEM_KEY="data-alpaca-container-field-item-key",t.MARKER_CLASS_FORM_ITEMS_FIELD="alpaca-marker-form-items-field",t.CLASS_CONTAINER="alpaca-container",t.CLASS_CONTROL="alpaca-control",t.MARKER_CLASS_INSERT="alpaca-marker-insert",t.MARKER_DATA_INSERT_KEY="data-alpaca-marker-insert-key",t.MARKER_CLASS_ARRAY_TOOLBAR="alpaca-marker-array-field-toolbar",t.MARKER_DATA_ARRAY_TOOLBAR_FIELD_ID="data-alpaca-array-field-toolbar-field-id",t.MARKER_CLASS_ARRAY_ITEM_ACTIONBAR="alpaca-marker-array-field-item-actionbar",t.MARKER_DATA_ARRAY_ITEM_KEY="data-alpaca-marker-array-field-item-key",t.MARKER_DATA_ARRAY_ITEM_PARENT_FIELD_ID="data-alpaca-marker-array-field-item-parent-field-id",t.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD="alpaca-marker-container-field-item-field",t.makeCacheKey=function(e,t,n,i){return e+":"+t+":"+n+":"+i},t.splitCacheKey=function(e){var t={},n=e.indexOf(":"),i=e.lastIndexOf(":");t.viewId=e.substring(0,n),t.templateId=e.substring(i+1);var a=e.substring(n+1,i),r=a.indexOf(":");return t.scopeType=a.substring(0,r),t.scopeId=a.substring(r+1),t},t.createEmptyDataInstance=function(e){return e?"object"===e.type?{}:"array"===e.type?[]:"number"===e.type?-1:"boolean"===e.type?!1:"":""},t.animatedSwap=function(t,n,i,a){"function"==typeof i&&(a=i,i=500);var r=function(t,n,i,a){var r=e(t),s=e(n),o=r.offset(),l=s.offset(),u=r.clone(),c=s.clone(),d=l.top+s.height()-o.top,p=0,h=0,f=l.left+s.width()-o.left,m=0,g=0;r.css("opacity",0),s.css("opacity",0),u.insertAfter(r).css({position:"absolute",width:r.outerWidth(),height:r.outerHeight()}).offset(o).css("z-index","999"),c.insertAfter(s).css({position:"absolute",width:s.outerWidth(),height:s.outerHeight()}).offset(l).css("z-index","999"),o.top!==l.top&&(p=d-r.height()),h=d-s.height(),o.left!==l.left&&(m=f-r.width()),g=f-s.width(),u.animate({top:"+="+p+"px",left:"+="+m+"px"},i,function(){s.css("opacity",1),e(this).remove()}),c.animate({top:"-="+h+"px",left:"-="+g+"px"},i,function(){r.css("opacity",1),e(this).remove()}),window.setTimeout(function(){u.remove(),c.remove(),a()},i+1)};r(t,n,i,a)},t.readCookie=function(e){function t(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}var n=null;return"undefined"!=typeof document&&(n=t(e)),n},t.moment=function(){if(t._moment||window.moment&&(t._moment=window.moment),!t._moment)throw new Error("The moment.js library has not been included, cannot produce moment object");return t._moment.call(this,arguments)},t.CSRF_TOKEN=null,t.CSRF_COOKIE_NAMES=["CSRF-TOKEN","XSRF-TOKEN"],t.CSRF_HEADER_NAME="X-CSRF-TOKEN",t.defaultToolbarSticky=void 0,t.showReadOnlyInvalidState=!1}(jQuery),function(e){var t=e.alpaca;t.listenerId=function(){var e=0;return function(){return"listener-"+e++}}(),t.subscribe=function(){var e=t.makeArray(arguments),n=null,i=null,a=null;if(2==e.length?(n="global",i=e.shift(),a=e.shift()):(n=e.shift(),i=e.shift(),a=e.shift()),i&&t.isObject(i)&&(i=i.path),!i)return t.logError("Missing observable subscribe id: "+i),null;var r=a._lfid;r||(r=t.listenerId(),a._lfid=r);var s=function(e){return function(){return a.apply(e,arguments)}}(this);s._lfid=a._lfid;var o=t.ScopedObservables.get(n),l=o.observable(i);return l.subscribe(r,s),{scope:n,id:i,listenerId:r}},t.unsubscribe=function(){var e=t.makeArray(arguments),n=null,i=null,a=null;2==e.length?(n="global",i=e.shift(),a=e.shift()):3==e.length&&(n=e.shift(),i=e.shift(),a=e.shift());var r=a;if(t.isFunction(r)&&(r=r._lfid),i&&t.isObject(i)&&(i=i.path),!i)return t.logError("Missing observable id: "+i),null;var s=t.ScopedObservables.get(n),o=s.observable(i);return o.unsubscribe(r),{scope:n,id:i,listenerId:r}},t.observable=function(){var e,n,i=t.makeArray(arguments);if(1==i.length?(e="global",n=i.shift()):2==i.length&&(e=i.shift(),n=i.shift()),n&&t.isObject(n)&&(n=n.path),n){var a=t.ScopedObservables.get(e);observable=a.observable(n)}else t.logError("Missing observable id: "+JSON.stringify(i));return observable},t.clearObservable=function(){var e,n,i=t.makeArray(arguments);1==i.length?(e="global",n=i.shift()):2==i.length&&(e=i.shift(),n=i.shift()),n&&t.isObject(n)&&(n=n.path),n||t.logError("Missing observable id: "+JSON.stringify(i));var a=t.ScopedObservables.get(e),r=a.observable(n);r.clear()},t.dependentObservable=function(){var e=null,n=null,i=null,a=t.makeArray(arguments);if(2==a.length)e="global",n=a.shift(),i=a.shift();else{if(3!=a.length)return void t.error("Wrong number of arguments");e=a.shift(),n=a.shift(),i=a.shift()}n&&t.isObject(n)&&(n=n.path),n||t.logError("Missing observable id: "+JSON.stringify(a));var r=t.ScopedObservables.get(e);return r.dependentObservable(n,i)}}(jQuery),function(e){var t=e.alpaca;t.Observables=Base.extend({constructor:function(e){this.base(),this.scope=e,this.observables={}},observable:function(e,n){if(!this.observables[e]){var i=new t.Observable(this.scope,e);n&&i.set(n),this.observables[e]=i}return this.observables[e]},dependentObservable:function(e,n){var i=this;if(!this.observables[e]){var a=this.observable(e),r=new t.Observables(this.scope);r.observable=function(e,t){var n=i.observable(e,t);return n.markDependentOnUs(a),n};var s=function(){return n.call(r)};a.setValueFunction(s)}return this.observables[e]},observables:function(){return this.observables}})}(jQuery),function(e){var t=e.alpaca;t.Observable=Base.extend({constructor:function(t,n){this.base(),this.id=t+"-"+n,this.value=null,this.subscribers={},this.dependentOnUs={},this.notifySubscribers=function(t){var n=this;e.each(this.subscribers,function(e,i){i(n.value,t)})},this.notifyDependents=function(t){e.each(this.dependentOnUs,function(e,t){t.onDependencyChange()})},this.valueFunction=null},setValueFunction:function(e){this.valueFunction=e,this.onDependencyChange()},subscribe:function(e,t){this.isSubscribed(e)||(this.subscribers[e]=t)},unsubscribe:function(e){delete this.subscribers[e]},isSubscribed:function(e){return this.subscribers[e]?!0:!1},markDependentOnUs:function(e){this.dependentOnUs[e.id]=e},onDependencyChange:function(){var e=this.get();if(this.valueFunction){var t=this.valueFunction();e!=t&&this.set(t)}},set:function(e){var t=this.value;this.value=e,this.notifyDependents(t),this.notifySubscribers(t)},get:function(e){var t=this.value;return t||(t=e),t},clear:function(){var e=this.value;delete this.value,this.notifyDependents(e),this.notifySubscribers(e)}})}(jQuery),function(e){var t=e.alpaca;t.ScopedObservables={},t.ScopedObservables.map={},t.ScopedObservables.get=function(e){return t.ScopedObservables.map[e]||(t.ScopedObservables.map[e]=new t.Observables(e)),t.ScopedObservables.map[e]}}(jQuery),function(){Alpaca.TemplateEngineRegistry=function(){var e={};return{register:function(t,n){e[t]=n,n.init()},find:function(t){var n=null;if(e[t])n=e[t];else for(var i in e)for(var a=e[i].supportedMimetypes(),r=0;r<a.length;r++)if(t.toLowerCase()===a[r].toLowerCase()){
n=e[i];break}return n},ids:function(){var t=[];for(var n in e)t.push(n);return t}}}()}(),function(e){Alpaca.AbstractTemplateEngine=Base.extend({constructor:function(t){this.base(),this.id=t,this.cleanup=function(t){return t&&1===e(t).length&&"script"===e(t)[0].nodeName.toLowerCase()?e(t).html():t}},compile:function(t,n,i){var a=this,r="html";if(Alpaca.isString(n)){var s=n.toLowerCase();Alpaca.isUri(s)?r="uri":(0===n.indexOf("#")||0===n.indexOf(".")||0===n.indexOf("["))&&(r="selector")}if("selector"===r)a._compile(t,n,function(e){i(e)});else if("uri"===r){var o=a.fileExtension(),l=n;-1===l.indexOf("."+o)&&(l+="."+o),e.ajax({url:l,dataType:"html",success:function(e,n,r){e=a.cleanup(e),a._compile(t,e,function(e){i(e)})},error:function(e,t){i({message:e.responseText,xhr:e,code:t},null)}})}else if("html"===r){var u=n;u instanceof jQuery&&(u=e(u).outerHTML()),a._compile(t,u,function(e){i(e)})}else i(new Error("Template engine cannot determine how to handle type: "+r))},_compile:function(e,t,n){Alpaca.isEmpty(t)&&(t=""),t=Alpaca.trim(t),0===t.toLowerCase().indexOf("<script")||(t="<script type='"+this.supportedMimetypes()[0]+"'>"+t+"</script>"),Alpaca.logDebug("Compiling template: "+this.id+", cacheKey: "+e+", template: "+t),this.doCompile(e,t,n)},doCompile:function(e,t,n){},execute:function(e,t,n){Alpaca.logDebug("Executing template for cache key: "+e);var i=this.doExecute(e,t,n);return i=this.cleanup(i)},doExecute:function(e,t,n){return null},fileExtension:function(){return"html"},supportedMimetypes:function(){return[]},isCached:function(e){return!1},findCacheKeys:function(e){return[]}})}(jQuery),function($,Handlebars,HandlebarsPrecompiled){var COMPILED_TEMPLATES={},helpers={};helpers.compare=function(e,t,n){if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");var i=n.hash.operator||"==",a={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},"typeof":function(e,t){return typeof e==t}};if(!a[i])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+i);var r=a[i](e,t);return r?n.fn(this):n.inverse(this)},helpers.ifnot=function(e,t){return e?t.inverse(this):t.fn(this)},helpers.times=function(e,t){for(var n="",i=0;e>i;++i)n+=t.fn(i);return n},helpers.control=function(e){return"<div class='"+Alpaca.MARKER_CLASS_CONTROL_FIELD+"'></div>"},helpers.container=function(e){return"<div class='"+Alpaca.MARKER_CLASS_CONTAINER_FIELD+"'></div>"},helpers.item=function(e,t){return Alpaca.isObject(e)&&(t=e,e="div"),"<"+e+" class='"+Alpaca.MARKER_CLASS_CONTAINER_FIELD_ITEM+"' "+Alpaca.MARKER_DATA_CONTAINER_FIELD_ITEM_KEY+"='"+this.name+"'></"+e+">"},helpers.itemField=function(e,t){return Alpaca.isObject(e)&&(t=e,e="div"),"<"+e+" class='"+Alpaca.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD+"'></"+e+">"},helpers.formItems=function(e){return"<div class='"+Alpaca.MARKER_CLASS_FORM_ITEMS_FIELD+"'></div>"},helpers.insert=function(e){return"<div class='"+Alpaca.MARKER_CLASS_INSERT+"' "+Alpaca.MARKER_DATA_INSERT_KEY+"='"+e+"'></div>"},helpers.str=function(e){return e===!1?"false":e===!0?"true":0===e?"0":"undefined"==typeof e?"":null===e?"":Alpaca.isString(e)?e:Alpaca.isNumber(e)?e:Alpaca.isObject(e)?JSON.stringify(e,null,"  "):Alpaca.isArray(e)?JSON.stringify(e,null,"  "):e},helpers.arrayToolbar=function(e){return"<div class='"+Alpaca.MARKER_CLASS_ARRAY_TOOLBAR+"' "+Alpaca.MARKER_DATA_ARRAY_TOOLBAR_FIELD_ID+"='"+this.id+"'></div>"},helpers.arrayActionbar=function(e){return"<div class='"+Alpaca.MARKER_CLASS_ARRAY_ITEM_ACTIONBAR+"' "+Alpaca.MARKER_DATA_ARRAY_ITEM_KEY+"='"+this.name+"' "+Alpaca.MARKER_DATA_ARRAY_ITEM_PARENT_FIELD_ID+"='"+this.parentFieldId+"'></div>"},Handlebars.registerHelper("arrayToolbar",helpers.arrayToolbar),Handlebars.registerHelper("arrayActionbar",helpers.arrayActionbar),Handlebars.registerHelper("setIndex",function(e){this.index=Number(e)}),Handlebars.registerHelper("eachProperty",function(e,t){var n="";for(var i in e)n+=t.fn({key:i,value:e[i]});return n}),Handlebars.registerHelper("uploadErrorMessage",function(e){var t=e;return 1===e?t="File exceeds upload_max_filesize":2===e?t="File exceeds MAX_FILE_SIZE":3===e?t="File was only partially uploaded":4===e?t="No File was uploaded":5===e?t="Missing a temporary folder":6===e?t="Failed to write file to disk":7===e?t="File upload stopped by extension":"maxFileSize"===e?t="File is too big":"minFileSize"===e?t="File is too small":"acceptFileTypes"===e?t="Filetype not allowed":"maxNumberOfFiles"===e?t="Max number of files exceeded":"uploadedBytes"===e?t="Uploaded bytes exceed file size":"emptyResult"===e&&(t="Empty file upload result"),t}),Handlebars.registerHelper("disguise",function(e,t){for(var n="",i=0;i<e.length;i++)n+=t;return n}),Handlebars.registerHelper("compare",helpers.compare),Handlebars.registerHelper("control",helpers.control),Handlebars.registerHelper("container",helpers.container),Handlebars.registerHelper("item",helpers.item),Handlebars.registerHelper("itemField",helpers.itemField),Handlebars.registerHelper("formItems",helpers.formItems),Handlebars.registerHelper("times",helpers.times),Handlebars.registerHelper("str",helpers.str),Handlebars.registerHelper("with",function(e,t){return t.fn(e)}),Handlebars.registerHelper("ifnot",helpers.ifnot);var partials={};Alpaca.HandlebarsTemplateEngine=Alpaca.AbstractTemplateEngine.extend({fileExtension:function(){return"html"},supportedMimetypes:function(){return["text/x-handlebars-template","text/x-handlebars-tmpl"]},init:function(){if(HandlebarsPrecompiled)for(var e in HandlebarsPrecompiled){var t=HandlebarsPrecompiled[e];for(var n in t){var i=t[n];if("function"==typeof i){var a=Alpaca.makeCacheKey(e,"view",e,n);COMPILED_TEMPLATES[a]=i}}}},doCompile:function(cacheKey,html,callback){var self=this,template=null;try{var functionString=Handlebars.precompile(html);template=eval("("+functionString+")"),template=Handlebars.template(template),COMPILED_TEMPLATES[cacheKey]=template}catch(e){return void callback(e)}callback()},doExecute:function(e,t,n){var i=COMPILED_TEMPLATES[e];if(!i)return void n(new Error("Could not find handlebars cached template for key: "+e));var a=null;try{a=i(t)}catch(r){return n(r),null}return a},isCached:function(e){return COMPILED_TEMPLATES[e]?!0:!1},findCacheKeys:function(e){var t=[];for(var n in COMPILED_TEMPLATES)0===n.indexOf(e+":")&&t.push(n);return t}}),Alpaca.TemplateEngineRegistry.register("handlebars",new Alpaca.HandlebarsTemplateEngine("handlebars"))}(jQuery,"undefined"!=typeof Handlebars?Handlebars:window.Handlebars,"undefined"!=typeof HandlebarsPrecompiled?HandlebarsPrecompiled:window.HandlebarsPrecompiled),function(e){var t=e.alpaca;t.NormalizedView=Base.extend({constructor:function(e){this.id=e},normalize:function(e){var n=e[this.id];if(!n)return t.logError("View compilation failed - view not found: "+this.id),!1;for(var i=[],a=n;a;){i.push(a);var r=a.parent;if(r){var s=e[a.parent];if(!s)return t.logError("View compilation failed - cannot find parent view: "+r+" for view: "+a.id),!1;a=s}else a=null}i=i.reverse();for(var o=function(e,n,i){var a=n[i],r=e[i];t.isUndefined(r)||t.isUndefined(a)||t.logDebug("View property: "+i+" already has value: "+r+" and overwriting to: "+a),t.isUndefined(a)||(e[i]=a)},l=function(e,n,i){var a=n[i],r=e[i];t.isUndefined(r)||t.isUndefined(a)||t.logDebug("View property: "+i+" already has function, overwriting"),t.isUndefined(a)||(e[i]=a)},u=function(e,n,i){var a=n[i];a&&(e[i]||(e[i]={}),t.mergeObject2(a,e[i]))},c=0;c<i.length;c++){var d=i[c];o(this,d,"type"),o(this,d,"ui"),o(this,d,"displayReadonly"),o(this,d,"locale"),l(this,d,"render"),l(this,d,"postRender"),u(this,d,"templates"),u(this,d,"fields"),u(this,d,"layout"),u(this,d,"styles"),u(this,d,"callbacks"),u(this,d,"messages"),o(this,d,"horizontal"),o(this,d,"collapsible"),o(this,d,"legendStyle"),o(this,d,"toolbarStyle"),o(this,d,"buttonStyle"),o(this,d,"toolbarSticky"),o(this,d,"globalTemplate"),u(this,d,"wizard")}return t.logDebug("View compilation complete for view: "+this.id),t.logDebug("Final view: "),t.logDebug(JSON.stringify(this,null,"   ")),!0}})}(jQuery),function(e){var t=e.alpaca;t.RuntimeView=Base.extend({constructor:function(e,t){this.field=t,this.setView(e)},setView:function(e){e||(e="web-edit");var n=t.getNormalizedView(e);if(!n)throw new Error("Runtime view for view id: "+e+" could not find a normalized view");for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])},getWizard:function(){return this.getViewParam("wizard")},getGlobalTemplateDescriptor:function(){return this.getTemplateDescriptor("globalTemplate")},getLayout:function(){var e=this;return{templateDescriptor:this.getTemplateDescriptor("layoutTemplate",e),bindings:this.getViewParam(["layout","bindings"],!0)}},getTemplateDescriptor:function(e,n){return t.getTemplateDescriptor(this,e,n)},getMessage:function(e,n){n||(n=t.defaultLocale);var i=this.getViewParam(["messages",n,e]);return t.isEmpty(i)&&(i=this.getViewParam(["messages",e])),i},getViewParam:function(e,n){var i=this.field.path;if(this.fields&&this.fields[i]){var a=this._getConfigVal(this.fields[i],e);if(!t.isEmpty(a))return a}if(i&&-1!==i.indexOf("[")&&-1!==i.indexOf("]")){var r=i.replace(/\[\d+\]/g,"[*]");if(this.fields&&this.fields[r]){var a=this._getConfigVal(this.fields[r],e);if(!t.isEmpty(a))return a}}if(i&&-1!==i.indexOf("[")&&-1!==i.indexOf("]")){var r=i.replace(/\[\d+\]/g,"");if(this.fields&&this.fields[r]){var a=this._getConfigVal(this.fields[r],e);if(!t.isEmpty(a))return a}}return!t.isEmpty(n)&&n&&"/"!==this.field.path?null:this._getConfigVal(this,e)},_getConfigVal:function(e,n){if(t.isArray(n))for(var i=0;i<n.length&&!t.isEmpty(e);i++)e=e[n[i]];else t.isEmpty(e)||(e=e[n]);return e},fireCallback:function(e,t,n,i,a,r,s){this.callbacks&&this.callbacks[t]&&this.callbacks[t].call(e,n,i,a,r,s)},applyStyle:function(t,n){var i=n;i&&i.getFieldEl&&(i=i.getFieldEl()),i&&this.styles&&this.styles[t]&&e(i).addClass(this.styles[t])},getStyle:function(e){return this.styles[e]?this.styles[e]:""}})}(jQuery),function(e){var t=e.alpaca;t.Field=Base.extend({constructor:function(e,n,i,a,r,s,o){var l=this;this.initializing=!0,this.domEl=e,this.parent=null,this.data=n,this.options=i,this.schema=a,this.connector=s,this.errorCallback=function(e){o?o(e):t.defaultErrorCallback.call(l,e)},this.singleLevelRendering=!1,this.view=new t.RuntimeView(r,this);var u=!1;this.options||(this.options={},u=!0),this.id=this.options.id,this.type=this.options.type,this.id||(this.id=t.generateId());var c=!1;if(this.schema||(this.schema={},c=!0),this.options.label||null===this.schema.title||(this.options.label=this.schema.title),this.options.helpers||(this.options.helpers=[]),this.options.helper){if(t.isArray(this.options.helper))for(var d=0;d<this.options.helper.length;d++)this.options.helpers.push(this.options.helper[d]);else this.options.helpers.push(this.options.helper);delete this.options.helper}t.isEmpty(this.options.readonly)&&!t.isEmpty(this.schema.readonly)&&(this.options.readonly=this.schema.readonly),t.isValEmpty(this.data)&&!t.isEmpty(this.schema["default"])&&(this.data=this.schema["default"],this.showingDefaultData=!0),this.path="/",this.validation={},this._events={},this.isDisplayOnly=function(){return"view"===l.view.type||"display"==l.view.type},this.schema&&this.schema.id&&0===this.schema.id.indexOf("#")&&(this.schema.id=this.schema.id.substring(1)),this._previouslyValidated=!1,this.updateObservable=function(){this.data?this.observable(this.path).set(this.data):this.observable(this.path).clear()},this.getObservableScope=function(){for(var e=this;!e.isTop();)e=e.parent;var t=e.observableScope;return t||(t="global"),t},this.ensureProperType=function(e){var n=this;return"undefined"!=typeof e&&(t.isString(e)?"number"===n.schema.type?e=parseFloat(e):"boolean"===n.schema.type&&(e=""===e||"false"===e.toLowerCase()?!1:!0):t.isNumber(e)&&("string"===n.schema.type?e=""+e:"boolean"===n.schema.type&&(e=-1===e||0===e?!1:!0))),e},this.onConstruct()},onConstruct:function(){},isTop:function(){return!this.parent},getTemplateDescriptorId:function(){throw new Error("Template descriptor ID was not specified")},initTemplateDescriptor:function(){var e=this,n=this.view.getTemplateDescriptor(this.getTemplateDescriptorId(),this),i=this.view.getGlobalTemplateDescriptor(),a=this.view.getLayout(),r=!1;this.isTop()&&(i?(this.setTemplateDescriptor(i),this.singleLevelRendering=!0,r=!0):a&&a.templateDescriptor&&(this.setTemplateDescriptor(a.templateDescriptor),r=!0)),!r&&n&&this.setTemplateDescriptor(n);var s=this.getTemplateDescriptor();return s?void 0:t.throwErrorWithCallback("Unable to find template descriptor for field: "+e.getFieldType())},setup:function(){this.initializing||(this.data=this.getValue()),this.initTemplateDescriptor(),t.isUndefined(this.schema.required)&&(this.schema.required=!1),t.isUndefined(this.options.validate)&&(this.options.validate=!0),t.isUndefined(this.options.disabled)&&(this.options.disabled=!1),t.isUndefined(this.options.showMessages)&&(this.options.showMessages=!0)},on:function(e,n){return t.logDebug("Adding listener for event: "+e),this._events[e]||(this._events[e]=[]),this._events[e].push(n),this},triggerWithPropagation:function(e,t,n){if("string"==typeof t&&(n=t,t=null),n&&"up"!==n){if("down"===n){if(this.children&&this.children.length>0)for(var i=0;i<this.children.length;i++){var a=this.children[i];a.triggerWithPropagation.call(a,e,t,n)}this.trigger.call(this,e,t)}else if("both"===n){if(this.children&&this.children.length>0)for(var i=0;i<this.children.length;i++){var a=this.children[i];a.triggerWithPropagation.call(a,e,t,"down")}this.trigger.call(this,e,t),this.parent&&this.parent.triggerWithPropagation.call(this.parent,e,t,"up")}}else this.trigger.call(this,e,t),this.parent&&this.parent.triggerWithPropagation.call(this.parent,e,t,n)},trigger:function(e,n,i,a,r){var s=this._events[e];if(s)for(var o=0;o<s.length;o++){var l=s[o],u=null;if("function"==typeof l){t.logDebug("Firing event: "+e);try{u=l.call(this,n,i,a,r)}catch(c){t.logDebug("The event handler caught an exception: "+e),t.logDebug(c)}}}},bindData:function(){t.isEmpty(this.data)||this.setValue(this.data)},render:function(e,n){e&&(t.isString(e)||t.isObject(e))?this.view.setView(e):t.isEmpty(n)&&t.isFunction(e)&&(n=e),null===this.options.label&&this.propertyId&&(this.options.label=this.propertyId),this.options.name&&(this.name=this.options.name),this.calculateName(),this.setup(),this._render(function(){n()})},calculateName:function(){if(!this.name||this.name&&this.nameCalculated)if(this.parent&&this.parent.name&&this.path){var e=this.path.substring(this.path.lastIndexOf("/")+1);-1!==e.indexOf("[")&&-1!==e.indexOf("]")&&(e=e.substring(e.indexOf("[")+1,e.indexOf("]"))),e&&(this.name=this.parent.name+"_"+e,this.nameCalculated=!0)}else this.path&&(this.name=this.path.replace(/\//g,"").replace(/\[/g,"_").replace(/\]/g,""),this.nameCalculated=!0)},_render:function(n){var i=this;if(i.options.form&&t.isObject(i.options.form)){i.options.form.viewType=this.view.type;var a=i.form;a||(a=new t.Form(i.domEl,this.options.form,i.view.id,i.connector,i.errorCallback)),a.render(function(a){var r=e("<div></div>");i._processRender(r,function(){a.formFieldsContainer.before(i.field),a.formFieldsContainer.remove(),a.topControl=i,i.view.type&&"view"!==i.view.type&&a.initEvents(),i.form=a,i.postRender(function(){i.initializing=!1,i.form&&i.form.afterInitialize(),n&&t.isFunction(n)&&n(i)})})})}else this._processRender(i.domEl,function(){i.postRender(function(){i.initializing=!1,n&&t.isFunction(n)&&n(i)})})},_processRender:function(e,t){var n=this;n.renderField(e,function(){n.fireCallback("field"),n.renderFieldElements(function(){t()})})},renderFieldDomElement:function(e){var n=this.getTemplateDescriptor();return t.tmpl(n,{id:this.getId(),options:this.options,schema:this.schema,data:e,view:this.view,path:this.path,name:this.name})},renderField:function(t,n){var i=this,a=this.data;this.isDisplayOnly()&&"object"==typeof a&&(a=JSON.stringify(a));var r=i.renderFieldDomElement(a);if(e(r).length>0){for(var s=null,o=0;o<e(r).length;o++){var l=e(r)[o].nodeName;if(l&&(l=l.toLowerCase(),"div"===l||"span"===l)){s=e(e(r)[o]);break}}s||(s=e(e(r).last())),s&&(r=s)}i._oldFieldEl=i.field,this.field=r,this.field.appendTo(t),n()},renderFieldElements:function(e){e()},updateDOMElement:function(){this.field.attr("data-alpaca-field-path",this.getPath()),this.field.attr("data-alpaca-field-name",this.getName()),this.field.removeAttr("name")},postRender:function(n){var i=this;if(this.field.addClass("alpaca-field"),this.field.addClass("alpaca-field-"+this.getFieldType()),this.field.attr("data-alpaca-field-id",this.getId()),this.updateDOMElement(),"view"!==this.view.type){this.isRequired()?(e(this.field).addClass("alpaca-required"),i.fireCallback("required")):(e(this.field).addClass("alpaca-optional"),i.fireCallback("optional"));var a=function(){t.disabled(e("input",i.field),!0),t.disabled(e("select",i.field),!0),t.disabled(e(":radio",i.field),!0),t.disabled(e(":checkbox",i.field),!0),e(":radio",i.field).off().click(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1}),e(".radio label",i.field).off().click(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1}),e("input",i.field).off().click(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1})};this.options.readonly&&(e(this.field).addClass("alpaca-readonly"),e("input",this.field).attr("readonly","readonly"),a(),i.fireCallback("readonly")),this.options.disabled&&(e(this.field).addClass("alpaca-disabled"),a(),i.fireCallback("disabled"));var r=function(e,n){if(n){var i=0,a=null;if(t.isArray(n))for(i=0;i<n.length;i++)e.addClass(n[i]);else if(n.indexOf(",")>-1)for(a=n.split(","),i=0;i<a.length;i++)e.addClass(a[i]);else if(n.indexOf(" ")>-1)for(a=n.split(" "),i=0;i<a.length;i++)e.addClass(a[i]);else e.addClass(n)}};r(this.field,this.options.fieldClass),this.options.disabled&&(this.disable(),i.fireCallback("disable")),this.view.type&&"edit"===this.view.type?this.bindData():this.showingDefaultData&&this.bindData(),"create"===this.view.type&&t.logDebug("Skipping data binding for field: "+this.id+" since view mode is 'create'"),this.view.type&&"view"!==this.view.type&&this.initEvents()}this.options.hidden&&this.field.hide();var s="create"===this.view.type&&!this.refreshed;this.hideInitValidationError=t.isValEmpty(this.options.hideInitValidationError)?s:this.options.hideInitValidationError,this.view.displayReadonly||e(this.field).find(".alpaca-readonly").hide(),this.options.postRender?this.options.postRender.call(this,function(){n()}):n()},refresh:function(t){var n=this;n.refreshed=!0;var i=e("<div></div>");e(n.field).before(i),n.domEl=e("<div></div>"),n.setup(),n._render(function(){e(i).before(n.domEl.children()),e(i).remove(),n._oldFieldEl&&e(n._oldFieldEl).remove(),n.triggerWithPropagation("ready","down"),t&&t()})},applyStyle:function(e,t){this.view.applyStyle(e,t)},fireCallback:function(e,t,n,i,a,r){this.view.fireCallback(this,e,t,n,i,a,r)},getFieldEl:function(){return this.field},getId:function(){return this.id},getParent:function(){return this.parent},getPath:function(){return this.path},getName:function(){return this.name},isTopLevel:function(){return t.isEmpty(this.parent)},top:function(){for(var e=this;e.parent;)e=e.parent;return e},getValue:function(){var e=this,t=this.data;return t=e.ensureProperType(t)},setValue:function(e){this.data=e,this.updateObservable(),this.triggerUpdate(),this.isDisplayOnly()&&!this.initializing&&this.refresh()},setDefault:function(){},getTemplateDescriptor:function(){return this.templateDescriptor},setTemplateDescriptor:function(e){this.templateDescriptor=e},displayMessage:function(n,i){var a=this;n&&t.isObject(n)&&(n=[n]),n&&t.isString(n)&&(n=[{id:"custom",message:n}]),e(this.getFieldEl()).children(".alpaca-message").remove(),n&&n.length>0&&this.options.maxMessages&&t.isNumber(this.options.maxMessages)&&this.options.maxMessages>-1&&(n=n.slice(0,this.options.maxMessages)),a.fireCallback("removeMessages"),n&&n.length>0&&e.each(n,function(n,i){var r=!1;a.hideInitValidationError&&(r=!0);var s=a.view.getTemplateDescriptor("message");if(s){var o=t.tmpl(s,{id:i.id,message:i.message,view:a.view});o.addClass("alpaca-message"),r&&o.addClass("alpaca-message-hidden"),e(a.getFieldEl()).append(o)}a.fireCallback("addMessage",n,i.id,i.message,r)})},refreshValidationState:function(e,n){var i=this,a=[],r=[],s=function(e,n){return function(i){t.compileValidationContext(e,function(e){n.push(e),i()})}};if(e){var o=function(e,t){if(e.isValidationParticipant()){if(e.children&&e.children.length>0)for(var n=0;n<e.children.length;n++)o(e.children[n],t);r.push(s(e,t))}};o(this,a)}r.push(s(this,a)),t.series(r,function(e){for(var r={},s=[],o=0;o<a.length;o++)for(var l=a[o],u=s.length,c=0;c<l.length;c++){var d=l[c],p=r[d.id];if(p)d.validated&&!p.invalidated&&(p.validated=!0,p.invalidated=!1,p.valid=d.valid),d.invalidated&&(p.invalidated=!0,p.validated=!1,p.valid=d.valid);else{var h={};h.id=d.id,h.path=d.path,h.domEl=d.domEl,h.field=d.field,h.validated=d.validated,h.invalidated=d.invalidated,h.valid=d.valid,s.splice(u,0,h),r[h.id]=h}}s.reverse(),i.hideInitValidationError||t.updateValidationStateForContext(i.view,s),n&&n()})},getMessage:function(e){return this.view.getMessage(e,this.view.locale)},validate:function(e){var n=!0;if(!this.initializing&&this.options.validate){if(this.children&&e)for(var i=0;i<this.children.length;i++){var a=this.children[i];a.isValidationParticipant()&&a.validate(e)}if(n=this.handleValidate(),!n&&t.logLevel==t.DEBUG){var r=[];for(var s in this.validation)this.validation[s].status||r.push(this.validation[s].message);t.logDebug("Validation failure for field (id="+this.getId()+", path="+this.path+"), messages: "+JSON.stringify(r))}}return this._previouslyValidated=!0,n},handleValidate:function(){var e=this.validation,n=this._validateOptional();return e.notOptional={message:n?"":this.getMessage("notOptional"),status:n},n=this._validateDisallow(),e.disallowValue={message:n?"":t.substituteTokens(this.getMessage("disallowValue"),[this.schema.disallow.join(", ")]),status:n},e.notOptional.status&&e.disallowValue.status},_validateCustomValidator:function(e){var n=this;this.options.validator&&t.isFunction(this.options.validator)?this.options.validator.call(this,function(t){n.validation.custom=t,e()}):e()},_validateOptional:function(){return this.isRequired()&&this.isEmpty()?!1:this.options.disallowOnlyEmptySpaces&&t.testRegex(t.regexps.whitespace,this.getValue())?!1:!0},_validateDisallow:function(){if(!t.isValEmpty(this.schema.disallow)){var n=this.getValue(),i=this.schema.disallow;if(t.isArray(i)){var a=!0;return e.each(i,function(e,i){(t.isObject(n)||t.isArray(n)&&t.isString(i))&&(i=t.parseJSON(i)),t.compareObject(n,i)&&(a=!1)}),a}return(t.isObject(n)||t.isArray(n)&&t.isString(i))&&(i=t.parseJSON(i)),!t.compareObject(n,i)}return!0},triggerUpdate:function(){e(this.field).trigger("fieldupdate")},disable:function(){},enable:function(){},focus:function(e){e&&e(this)},destroy:function(){t.observable(this.path).clear(),t&&t.fieldInstances&&t.fieldInstances[this.getId()]&&delete t.fieldInstances[this.getId()],e(this.field).remove()},show:function(){this.options&&this.options.hidden||(e(this.field).css({display:""}),this.onShow(),this.fireCallback("show"))},onShow:function(){},hide:function(){e(this.field).css({display:"none"}),this.onHide(),this.fireCallback("hide")},onHide:function(){},isValidationParticipant:function(){return this.isShown()},isShown:function(){return this.isVisible()},isVisible:function(){return!this.isHidden()},isHidden:function(){return"none"===e(this.field).css("display")},print:function(){this.getFieldEl().printArea&&this.getFieldEl().printArea()},onDependentReveal:function(){},onDependentConceal:function(){},reload:function(){this.initializing=!0,t.isEmpty(this.callback)?this.render(this.renderedCallback):this.callback(this,this.renderedCallback)},clear:function(){var e=null;this.data&&(e=this.data),this.setValue(e)},isEmpty:function(){return t.isValEmpty(this.getValue())},isValid:function(t){if(t&&this.children)for(var n=0;n<this.children.length;n++){var i=this.children[n];if(i.isValidationParticipant()&&!i.isValid(t))return!1}if(e.isEmptyObject(this.validation))return!0;for(var a in this.validation)if(!this.validation[a].status)return!1;return!0},initEvents:function(){var n=this;this.field&&(this.field.mouseover(function(e){n.onMouseOver.call(n,e),n.trigger("mouseover",e)}),this.field.mouseout(function(e){n.onMouseOut.call(n,e),n.trigger("mouseout",e)}),e.each(this.options,function(e,i){if(t.startsWith(e,"onField")&&t.isFunction(i)){var a=e.substring(7).toLowerCase();n.field.on(a,function(e){i.call(n,e)})}}),this.options&&this.options.events&&e.each(this.options.events,function(e,i){t.isFunction(i)&&n.field.on(e,function(e){i.call(n,e)})}))},onFocus:function(t){e(this.field).removeClass("alpaca-field-empty"),e(this.field).addClass("alpaca-field-focused")},onBlur:function(t){var n=e(this.field).hasClass("alpaca-field-focused");e(this.field).removeClass("alpaca-field-focused"),n&&this.refreshValidationState(),e(this.field).trigger("fieldblur")},onChange:function(e){this.data=this.getValue(),this.updateObservable(),this.triggerUpdate()},onMouseOver:function(e){},onMouseOut:function(e){},getControlByPath:function(e){var n=null;if(e){0===e.indexOf("/")&&(e=e.substring(1)),t.endsWith(e,"/")&&(e=e.substring(0,e.length-1));for(var i=this,a=e.split("/"),r=0;r<a.length;r++){var s=a[r];if(0===s.indexOf("[")){var o=parseInt(s.substring(1,s.length-1),10);i=i.children[o]}else i=i.childrenByPropertyId[s]}n=i}return n},subscribe:function(){var e=t.makeArray(arguments);return e.unshift(this.getObservableScope()),t.subscribe.apply(this,e)},unsubscribe:function(){var e=t.makeArray(arguments);return e.unshift(this.getObservableScope()),t.unsubscribe.apply(this,e)},observable:function(){var e=t.makeArray(arguments);return e.unshift(this.getObservableScope()),t.observable.apply(this,e)},clearObservable:function(){var e=t.makeArray(arguments);return e.unshift(this.getObservableScope()),t.clearObservable.apply(this,e)},dependentObservable:function(){var e=t.makeArray(arguments);return e.unshift(this.getObservableScope()),t.dependentObservable.apply(this,e)},getType:function(){},getFieldType:function(){return""},getBaseFieldType:function(){var e=null,t=this.constructor.ancestor.prototype;return t&&t.getFieldType&&(e=t.getFieldType()),e},isContainer:function(){return!1},isRequired:function(){var e=!1;if("boolean"==typeof this.schema.required&&(e=this.schema.required),this.parent&&this.parent.schema.required&&t.isArray(this.parent.schema.required)){var n=this.parent.schema.required;if(n)for(var i=0;i<n.length;i++)if(n[i]===this.propertyId){e=!0;break}}return e},getTitle:function(){},getDescription:function(){},getSchemaOfSchema:function(){var e={title:this.getTitle(),description:this.getDescription(),type:"object",properties:{title:{title:"Title",description:"Short description of the property.",type:"string"},description:{title:"Description",description:"Detailed description of the property.",type:"string"},readonly:{title:"Readonly",description:"Indicates that the field is read-only.  A read-only field cannot have it's value changed.  Read-only fields render in a grayed-out or disabled control.  If the field is rendered using a view with the <code>displayReadonly</code> attribute set to false, the read-only field will not appear.",type:"boolean","default":!1},required:{title:"Required",description:"Indicates whether the field's value is required.  If set to true, the field must take on a valid value and cannnot be left empty or unassigned.",type:"boolean","default":!1},"default":{title:"Default",description:"The default value to be assigned for this property.  If the data for the field is empty or not provided, this default value will be plugged in for you.  Specify a default value when you want to pre-populate the field's value ahead of time.",type:"any"},type:{title:"Type",description:"Data type of the property.",type:"string",readonly:!0},format:{title:"Format",description:"Data format of the property.",type:"string"},disallow:{title:"Disallowed Values",description:"List of disallowed values for the property.",type:"array"},dependencies:{title:"Dependencies",description:"List of property dependencies.",type:"array"}}};return this.getType&&!t.isValEmpty(this.getType())&&(e.properties.type["default"]=this.getType(),e.properties.type["enum"]=[this.getType()]),e},getOptionsForSchema:function(){return{fields:{title:{helper:"Field short description",type:"text"},description:{helper:"Field detailed description",type:"textarea"},readonly:{helper:"Field will be read only if checked",rightLabel:"This field is read-only",type:"checkbox"},required:{helper:"Field value must be set if checked",rightLabel:"This field is required",type:"checkbox"},"default":{helper:"Field default value",type:"textarea"},type:{helper:"Field data type",type:"text"},format:{type:"select",dataSource:function(e){for(var n in t.defaultFormatFieldMapping)this.selectOptions.push({value:n,text:n});e()}},disallow:{helper:"Disallowed values for the field",itemLabel:"Value",type:"array"},dependencies:{helper:"Field Dependencies",multiple:!0,size:3,type:"select",dataSource:function(e,t){if(e.parent&&e.parent.schemaParent&&e.parent.schemaParent.parent)for(var n in e.parent.schemaParent.parent.childrenByPropertyId)n!=e.parent.schemaParent.propertyId&&e.selectOptions.push({value:n,text:n});t&&t()}}}}},getSchemaOfOptions:function(){var e={title:"Options for "+this.getTitle(),description:this.getDescription()+" (Options)",type:"object",properties:{form:{},id:{title:"Field Id",description:"Unique field id. Auto-generated if not provided.",type:"string"},type:{title:"Field Type",description:"Field type.",type:"string","default":this.getFieldType(),readonly:!0},validate:{title:"Validation",description:"Field validation is required if true.",type:"boolean","default":!0},showMessages:{title:"Show Messages",description:"Display validation messages if true.",type:"boolean","default":!0},disabled:{title:"Disabled",description:"Field will be disabled if true.",type:"boolean","default":!1},readonly:{title:"Readonly",description:"Field will be readonly if true.",type:"boolean","default":!1},hidden:{title:"Hidden",description:"Field will be hidden if true.",type:"boolean","default":!1},label:{title:"Label",description:"Field label.",type:"string"},helper:{title:"Helper",description:"Field help message.",type:"string"},helpers:{title:"Helpers",description:"An array of field help messages.  Each message will be displayed on it's own line.",type:"array",items:{type:"string"}},fieldClass:{title:"CSS class",description:"Specifies one or more CSS classes that should be applied to the dom element for this field once it is rendered.  Supports a single value, comma-delimited values, space-delimited values or values passed in as an array.",type:"string"},hideInitValidationError:{title:"Hide Initial Validation Errors",description:"Hide initial validation errors if true.",type:"boolean","default":!1},focus:{title:"Focus",description:"If true, the initial focus for the form will be set to the first child element (usually the first field in the form).  If a field name or path is provided, then the specified child field will receive focus.  For example, you might set focus to 'name' (selecting the 'name' field) or you might set it to 'client/name' which picks the 'name' field on the 'client' object.",type:"checkbox","default":!0},optionLabels:{title:"Enumerated Value Labels",description:"An array of string labels for items in the enum array",type:"array"},view:{title:"Override of the view for this field",description:"Allows for this field to be rendered with a different view (such as 'display' or 'create')",
type:"string"}}};return this.isTopLevel()?e.properties.form={title:"Form",description:"Options for rendering the FORM tag.",type:"object",properties:{attributes:{title:"Form Attributes",description:"List of attributes for the FORM tag.",type:"object",properties:{id:{title:"Id",description:"Unique form id. Auto-generated if not provided.",type:"string"},action:{title:"Action",description:"Form submission endpoint",type:"string"},method:{title:"Method",description:"Form submission method","enum":["post","get"],type:"string"},rubyrails:{title:"Ruby On Rails",description:"Ruby on Rails Name Standard","enum":["true","false"],type:"string"},name:{title:"Name",description:"Form name",type:"string"},focus:{title:"Focus",description:"Focus Setting",type:"any"}}},buttons:{title:"Form Buttons",description:"Configuration for form-bound buttons",type:"object",properties:{submit:{type:"object",title:"Submit Button",required:!1},reset:{type:"object",title:"Reset button",required:!1}}},toggleSubmitValidState:{title:"Toggle Submit Valid State",description:"Toggle the validity state of the Submit button",type:"boolean","default":!0}}}:delete e.properties.form,e},getOptionsForOptions:function(){var e={type:"object",fields:{id:{type:"text",readonly:!0},type:{type:"text"},validate:{rightLabel:"Enforce validation",type:"checkbox"},showMessages:{rightLabel:"Show validation messages",type:"checkbox"},disabled:{rightLabel:"Disable this field",type:"checkbox"},hidden:{type:"checkbox",rightLabel:"Hide this field"},label:{type:"text"},helper:{type:"textarea"},helpers:{type:"array",items:{type:"textarea"}},fieldClass:{type:"text"},hideInitValidationError:{rightLabel:"Hide initial validation errors",type:"checkbox"},focus:{type:"checkbox",rightLabel:"Auto-focus first child field"},optionLabels:{type:"array",items:{type:"string"}},view:{type:"text"}}};return this.isTopLevel()&&(e.fields.form={type:"object",fields:{attributes:{type:"object",fields:{id:{type:"text",readonly:!0},action:{type:"text"},method:{type:"select"},name:{type:"text"}}}}}),e}}),t.registerMessages({disallowValue:"{0} are disallowed values.",notOptional:"This field is not optional."})}(jQuery),function(e){var t=e.alpaca;t.ControlField=t.Field.extend({onConstruct:function(){var t=this;this.isControlField=!0,this._getControlVal=function(n){var i=null;return this.control&&(i=e(this.control).val(),n&&(i=t.ensureProperType(i))),i}},setup:function(){var e=this;this.base();var n=e.resolveControlTemplateType();if(!n)return t.throwErrorWithCallback("Unable to find template descriptor for control: "+e.getFieldType());if(this.controlDescriptor=this.view.getTemplateDescriptor("control-"+n,e),"undefined"==typeof this.options.renderButtons&&(this.options.renderButtons=!0),this.options.buttons)for(var i in this.options.buttons)this.options.buttons[i].label&&(this.options.buttons[i].value=this.options.buttons[i].label),this.options.buttons[i].title&&(this.options.buttons[i].value=this.options.buttons[i].title),this.options.buttons[i].type||(this.options.buttons[i].type="button"),this.options.buttons[i].styles||(this.options.buttons[i].styles=this.view.styles.button)},getControlEl:function(){return this.control},resolveControlTemplateType:function(){var e=this,t=!1,n=null,i=this;do if(i.getFieldType){var a=this.view.getTemplateDescriptor("control-"+i.getFieldType(),e);a?(n=i.getFieldType(),t=!0):i=i.constructor.ancestor.prototype}else t=!0;while(!t);return n},onSetup:function(){},isAutoFocusable:function(){return!0},getTemplateDescriptorId:function(){return"control"},renderFieldElements:function(n){var i=this;this.control=e(this.field).find("."+t.MARKER_CLASS_CONTROL_FIELD),this.control.removeClass(t.MARKER_CLASS_CONTROL_FIELD),i.prepareControlModel(function(e){i.beforeRenderControl(e,function(){i.renderControl(e,function(a){a&&(i.control.replaceWith(a),i.control=a,i.control.addClass(t.CLASS_CONTROL)),i.fireCallback("control"),i.afterRenderControl(e,function(){n()})})})})},prepareControlModel:function(e){var t={};t.id=this.getId(),t.name=this.name,t.options=this.options,t.schema=this.schema,t.data=this.data,t.required=this.isRequired(),t.view=this.view,e(t)},beforeRenderControl:function(e,t){t()},afterRenderControl:function(t,n){var i=this;i.firstUpdateObservableFire||"undefined"==typeof i.data||null==i.data||(i.firstUpdateObservableFire=!0,i.updateObservable()),e(this.getFieldEl()).find(".alpaca-control-button").each(function(){e(this).click(function(t){e(this).attr("button-pushed",!0)});var t=e(this).attr("data-key");if(t){var n=i.options.buttons[t];n&&n.click&&e(this).click(function(e,t){return function(n){n.preventDefault(),t.call(e,n)}}(i,n.click))}}),n()},renderControl:function(e,n){var i=null;this.controlDescriptor&&(i=t.tmpl(this.controlDescriptor,e)),n(i)},postRender:function(e){this.base(function(){e()})},updateDOMElement:function(){this.base(),this.control.attr("name",this.getName())},setDefault:function(){var e=t.isEmpty(this.schema["default"])?"":this.schema["default"];this.setValue(e)},getValue:function(){var e=this,t=this.base();return this.isDisplayOnly()||(t=e.getControlValue()),t=e.ensureProperType(t)},getControlValue:function(){return this._getControlVal(!0)},_validateEnum:function(){if(this.schema["enum"]){var n=this.data;return n=this.getValue(),!this.isRequired()&&t.isValEmpty(n)?!0:e.inArray(n,this.schema["enum"])>-1?!0:!1}return!0},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validateEnum(),a=this.schema["enum"];return"object"==typeof this.options.optionLabels&&a.length&&this.options.optionLabels.length>=a.length&&(a=this.options.optionLabels.slice(0,a.length)),n.invalidValueOfEnum={message:i?"":t.substituteTokens(this.getMessage("invalidValueOfEnum"),[a.join(", "),this.data]),status:i},e&&n.invalidValueOfEnum.status},initEvents:function(){this.base(),this.control&&this.control.length>0&&this.initControlEvents()},initControlEvents:function(){var e=this,t=this.control;t.click(function(t){e.onClick.call(e,t),e.trigger("click",t)}),t.change(function(t){setTimeout(function(){e.onChange.call(e,t),e.triggerWithPropagation("change",t)},250)}),t.focus(function(t){if(e.wasFocused=!0,!e.suspendBlurFocus){var n=e.onFocus.call(e,t);return n!==!1&&(n=e.trigger("focus",t)),n}}),t.blur(function(t){if(e.wasBlurred=!0,!e.suspendBlurFocus){var n=e.onBlur.call(e,t);return n!==!1&&(n=e.trigger("blur",t)),n}}),t.keypress(function(t){var n=e.onKeyPress.call(e,t);return n!==!1&&(n=e.trigger("keypress",t)),n}),t.keyup(function(t){var n=e.onKeyUp.call(e,t);return n!==!1&&(n=e.trigger("keyup",t)),n}),t.keydown(function(t){var n=e.onKeyDown.call(e,t);return n!==!1&&(n=e.trigger("keydown",t)),n})},onKeyPress:function(e){var t=this,n=!1;if(t.view.type&&"edit"===t.view.type){var i=this.isValid();i||(n=!0)}else if(t.view.type&&"create"===t.view.type){var i=this.isValid();!i&&t.wasBlurred&&(n=!0)}n&&window.setTimeout(function(){t.refreshValidationState()},50)},onKeyDown:function(e){},onKeyUp:function(e){},onClick:function(e){},disable:function(){this.base(),this.control&&this.control.length>0&&e(this.control).prop("disabled",!0)},enable:function(){this.base(),this.control&&this.control.length>0&&e(this.control).prop("disabled",!1)},sortEnum:function(){var e=this;if(e.schema["enum"]&&e.schema["enum"].length>0){for(var t=[],n=0;n<e.schema["enum"].length;n++){var i=e.schema["enum"][n],a=e.schema["enum"][n];e.options&&e.options.optionLabels&&e.options.optionLabels.length>=n+1&&(a=e.options.optionLabels[n]),t.push({value:i,text:a})}e.sortSelectableOptions(t),e.schema["enum"]=[],e.options.optionLabels=[];for(var n=0;n<t.length;n++)e.schema["enum"].push(t[n].value),e.options.optionLabels.push(t[n].text)}},sortSelectableOptions:function(e){var t=this,n=function(e,t){return e.text>t.text?1:e.text<t.text?-1:0},i=n;t.options.sort&&"function"==typeof t.options.sort&&(i=t.options.sort),e.sort(i)},getSchemaOfSchema:function(){return t.merge(this.base(),{properties:{"enum":{title:"Enumerated Values",description:"List of specific values for this property",type:"array"}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{"enum":{itemLabel:"Value",type:"array"}}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{name:{title:"Field Name",description:"Field Name.",type:"string"},sort:{title:"Sort Function",description:"Defines an f(a,b) sort function for the array of enumerated values [{text, value}].  This is used to sort enum and optionLabels as well as results that come back from any data sources (for select and radio controls).",type:"function"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{name:{type:"text"}}})}}),t.registerMessages({invalidValueOfEnum:"This field should have one of the values in {0}.  Current value is: {1}"})}(jQuery),function(e){var t=e.alpaca;t.ContainerField=t.Field.extend({onConstruct:function(){this.isContainerField=!0},isContainer:function(){return!0},getContainerEl:function(){return this.container},getTemplateDescriptorId:function(){return"container"},resolveContainerTemplateType:function(){var e=!1,t=null,n=this;do if(n.getFieldType){var i=this.view.getTemplateDescriptor("container-"+n.getFieldType(),this);i?(t=n.getFieldType(),e=!0):n=n.constructor.ancestor.prototype}else e=!0;while(!e);return t},resolveContainerItemTemplateType:function(){var e=!1,t=null,n=this;do if(n.getFieldType){var i=this.view.getTemplateDescriptor("container-"+n.getFieldType()+"-item",this);i?(t=n.getFieldType(),e=!0):n=n.constructor.ancestor.prototype}else e=!0;while(!e);return t},setup:function(){var e=this;this.base();var n=e.resolveContainerTemplateType();if(!n)return t.throwErrorWithCallback("Unable to find template descriptor for container: "+e.getFieldType());this.containerDescriptor=this.view.getTemplateDescriptor("container-"+n,e);var i=!0;t.isEmpty(this.view.collapsible)||(i=this.view.collapsible),t.isEmpty(this.options.collapsible)||(i=this.options.collapsible),this.options.collapsible=i;var a="button";t.isEmpty(this.view.legendStyle)||(a=this.view.legendStyle),t.isEmpty(this.options.legendStyle)||(a=this.options.legendStyle),this.options.legendStyle=a,this.lazyLoading=!1,t.isEmpty(this.options.lazyLoading)||(this.lazyLoading=this.options.lazyLoading,this.lazyLoading&&(this.options.collapsed=!0)),this.children=[],this.childrenById={},this.childrenByPropertyId={}},destroy:function(){this.form&&(this.form.destroy(!0),delete this.form),t.each(this.children,function(){this.destroy()}),this.base()},renderFieldElements:function(n){var i=this;this.container=e(this.field).find("."+t.MARKER_CLASS_CONTAINER_FIELD),this.container.removeClass(t.MARKER_CLASS_CONTAINER_FIELD),i.prepareContainerModel(function(e){i.beforeRenderContainer(e,function(){i.renderContainer(e,function(a){a&&(i.container.replaceWith(a),i.container=a,i.container.addClass(t.CLASS_CONTAINER)),i.view.horizontal?i.container.addClass("alpaca-horizontal"):i.container.addClass("alpaca-vertical"),i.fireCallback("container"),i.afterRenderContainer(e,function(){n()})})})})},prepareContainerModel:function(e){var t=this,n={id:this.getId(),name:this.name,schema:this.schema,options:this.options,view:this.view};t.createItems(function(t){t||(t=[]);for(var i=0;i<t.length;i++)t[i].containerItemEl||(t[i].containerItemEl=t[i].getFieldEl());n.items=t,e(n)})},beforeRenderContainer:function(e,t){t()},renderContainer:function(e,n){var i=null;this.containerDescriptor&&(i=t.tmpl(this.containerDescriptor,e)),n(i)},afterRenderContainer:function(e,t){var n=this;n.beforeApplyCreatedItems(e,function(){n.applyCreatedItems(e,function(){n.afterApplyCreatedItems(e,function(){t()})})})},postRender:function(e){this.base(function(){e()})},initEvents:function(){this.base()},createItems:function(e){e()},beforeApplyCreatedItems:function(e,t){t()},applyCreatedItems:function(n,i){var a=this,r=null;if(a.isTopLevel()&&a.view.getLayout()&&(r=a.view.getLayout().bindings,!r&&a.view.getLayout().templateDescriptor&&n.items.length>0)){r={};for(var s=0;s<n.items.length;s++){var o=n.items[s].name;r[o]="[data-alpaca-layout-binding='"+o+"']"}}n.items.length>0?(e(a.container).addClass("alpaca-container-has-items"),e(a.container).attr("data-alpaca-container-item-count",n.items.length)):(e(a.container).removeClass("alpaca-container-has-items"),e(a.container).removeAttr("data-alpaca-container-item-count"));for(var s=0;s<n.items.length;s++){var l=n.items[s],u=e(a.container).find("."+t.MARKER_CLASS_CONTAINER_FIELD_ITEM+"["+t.MARKER_DATA_CONTAINER_FIELD_ITEM_KEY+"='"+l.name+"']");if(r){var c=r[l.name];if(c){var d=e(c,a.field);if(0==d.length)try{d=e("#"+c,a.field)}catch(p){}d.length>0&&(e(l.containerItemEl).appendTo(d),l.domEl=d)}e(u).remove()}else{var d=e(u).parent();e(u).replaceWith(l.containerItemEl),l.domEl=d}e(l.containerItemEl).addClass("alpaca-container-item"),0===s&&e(l.containerItemEl).addClass("alpaca-container-item-first"),s+1===n.items.length&&e(l.containerItemEl).addClass("alpaca-container-item-last"),e(l.containerItemEl).attr("data-alpaca-container-item-index",s),e(l.containerItemEl).attr("data-alpaca-container-item-name",l.name),e(l.containerItemEl).attr("data-alpaca-container-item-parent-field-id",a.getId()),a.registerChild(l,s)}a.options.collapsible&&a.fireCallback("collapsible"),a.triggerUpdate(),i()},afterApplyCreatedItems:function(e,t){t()},registerChild:function(e,n){t.isEmpty(n)?this.children.push(e):this.children.splice(n,0,e),this.childrenById[e.getId()]=e,e.propertyId&&(this.childrenByPropertyId[e.propertyId]=e),e.parent=this},unregisterChild:function(e){var n=this.children[e];n&&(t.isEmpty(e)||this.children.splice(e,1),delete this.childrenById[n.getId()],n.propertyId&&delete this.childrenByPropertyId[n.propertyId],n.parent=null)},updateDOMElement:function(){var t=this;this.base(),t.children.length>0?(e(t.getContainerEl()).addClass("alpaca-container-has-items"),e(t.getContainerEl()).attr("data-alpaca-container-item-count",t.children.length)):(e(t.getContainerEl()).removeClass("alpaca-container-has-items"),e(t.getContainerEl()).removeAttr("data-alpaca-container-item-count"));for(var n=0;n<t.children.length;n++){var i=t.children[n];i.path||("array"===i.schema.type?i.path=t.path+"["+n+"]":i.path=t.path+"/"+i.propertyId),i.calculateName(),e(i.containerItemEl).removeClass("alpaca-container-item-first"),e(i.containerItemEl).removeClass("alpaca-container-item-last"),e(i.containerItemEl).removeClass("alpaca-container-item-index"),e(i.containerItemEl).removeClass("alpaca-container-item-key"),e(i.containerItemEl).addClass("alpaca-container-item"),0===n&&e(i.containerItemEl).addClass("alpaca-container-item-first"),n+1===t.children.length&&e(i.containerItemEl).addClass("alpaca-container-item-last"),e(i.containerItemEl).attr("data-alpaca-container-item-index",n),e(i.containerItemEl).attr("data-alpaca-container-item-name",i.name),e(i.containerItemEl).attr("data-alpaca-container-item-parent-field-id",t.getId()),i.updateDOMElement()}},handleRepositionDOMRefresh:function(){var e=this;e.getParent()?e.getParent().updateDOMElement():e.updateDOMElement()},onDependentReveal:function(){for(var e=0;e<this.children.length;e++)this.children[e].onDependentReveal()},onDependentConceal:function(){for(var e=0;e<this.children.length;e++)this.children[e].onDependentConceal()},focus:function(t){var n=this;if(this.isDisplayOnly())return void(t&&t());this.base();var i=-1,a=[],r=this.getContainerEl();this.form&&(r=this.form.getFormEl()),e(r).find(".alpaca-container-item[data-alpaca-container-item-parent-field-id='"+this.getId()+"']").each(function(){var t=e(this).attr("data-alpaca-container-item-index");a.push(n.children[t])});for(var s=0;s<a.length;s++)if(a[s]&&!a[s].isValid(!0)&&a[s].isControlField&&a[s].isAutoFocusable()&&!a[s].options.readonly){i=s;break}-1===i&&a.length>0&&(i=0),i>-1&&(a[i].focus(),t&&t(a[i]))},disable:function(){this.base();for(var e=0;e<this.children.length;e++)this.children[e].disable()},enable:function(){this.base();for(var e=0;e<this.children.length;e++)this.children[e].enable()},getValue:function(){var e=this,t=e.getContainerValue();return e.isDisplayOnly()&&t&&(t=JSON.stringify(t,null,"  ")),t},getContainerValue:function(){return null},firstChild:function(){var e=null;return this.children.length>0&&(e=this.children[0]),e},lastChild:function(){var e=null;return this.children.length>0&&(e=this.children[this.children.length-1]),e},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{lazyLoading:{title:"Lazy Loading",description:"Child fields will only be rendered when the fieldset is expanded if this option is set true.",type:"boolean","default":!1},collapsible:{title:"Collapsible",description:"Field set is collapsible if true.",type:"boolean","default":!0},collapsed:{title:"Collapsed",description:"Field set is initially collapsed if true.",type:"boolean","default":!1},legendStyle:{title:"Legend Style",description:"Field set legend style.",type:"string","enum":["button","link"],"default":"button"},animate:{title:"Animate movements and transitions",description:"Up and down transitions will be animated",type:"boolean","default":!0}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{lazyLoading:{rightLabel:"Lazy loading child fields ?",helper:"Lazy loading will be enabled if checked.",type:"checkbox"},collapsible:{rightLabel:"Field set collapsible ?",helper:"Field set is collapsible if checked.",type:"checkbox"},collapsed:{rightLabel:"Field set initially collapsed ?",description:"Field set is initially collapsed if checked.",type:"checkbox"},legendStyle:{type:"select"},animate:{rightLabel:"Animate movements and transitions",type:"checkbox"}}})}})}(jQuery),function(e){var t=e.alpaca;t.Form=Base.extend({constructor:function(e,n,i,a,r){if(this.domEl=e,this.parent=null,this.connector=a,this.errorCallback=r,this.options=n,this.options.attributes?this.attributes=this.options.attributes:this.attributes={},this.options.buttons){this.options.buttons.submit&&(this.options.buttons.submit.type||(this.options.buttons.submit.type="submit"),this.options.buttons.submit.name||(this.options.buttons.submit.name="submit"),this.options.buttons.submit.value||(this.options.buttons.submit.value="Submit")),this.options.buttons.reset&&(this.options.buttons.reset.type||(this.options.buttons.reset.type="reset"),this.options.buttons.reset.name||(this.options.buttons.reset.name="reset"),this.options.buttons.reset.value||(this.options.buttons.reset.value="Reset"));for(var s in this.options.buttons)this.options.buttons[s].label&&(this.options.buttons[s].value=this.options.buttons[s].label),this.options.buttons[s].title&&(this.options.buttons[s].value=this.options.buttons[s].title),this.options.buttons[s].type||(this.options.buttons[s].type="button")}this.attributes.id?this.id=this.attributes.id:(this.id=t.generateId(),this.attributes.id=this.id),this.options.buttons&&this.options.buttons.submit&&t.isUndefined(this.options.toggleSubmitValidState)&&(this.options.toggleSubmitValidState=!0),this.viewType=n.viewType,this.view=new t.RuntimeView(i,this);for(var s in this.options.buttons)this.options.buttons[s].styles||(this.options.buttons[s].styles=this.view.styles.button)},render:function(e){var t=this;this.form&&this.form.remove(),this.processRender(this.domEl,function(){t.form.appendTo(t.container),t.form.addClass("alpaca-form"),t.fireCallback("form"),e(t)})},afterInitialize:function(){var e=this;e.options.toggleSubmitValidState&&e.adjustSubmitButtonState()},isFormValid:function(){this.topControl.validate(!0);var e=this.topControl.isValid(!0);return e},isValid:function(){return this.isFormValid()},validate:function(e){return this.topControl.validate(e)},enableSubmitButton:function(){if(e(".alpaca-form-button-submit").attrProp("disabled",!1),e.mobile)try{e(".alpaca-form-button-submit").button("refresh")}catch(t){}},disableSubmitButton:function(){if(e(".alpaca-form-button-submit").attrProp("disabled",!0),e.mobile)try{e(".alpaca-form-button-submit").button("refresh")}catch(t){}},adjustSubmitButtonState:function(){this.disableSubmitButton(),this.isFormValid()&&this.enableSubmitButton()},processRender:function(n,i){var a=this;if(this.formDescriptor=this.view.getTemplateDescriptor("form"),!this.formDescriptor)return t.throwErrorWithCallback("Could not find template descriptor: form");var r=t.tmpl(this.formDescriptor,{id:this.getId(),options:this.options,view:this.view});r.appendTo(n),this.form=r,this.formFieldsContainer=e(this.form).find("."+t.MARKER_CLASS_FORM_ITEMS_FIELD),this.formFieldsContainer.removeClass(t.MARKER_CLASS_FORM_ITEMS_FIELD),t.isEmpty(this.form.attr("id"))&&this.form.attr("id",this.getId()+"-form-outer"),t.isEmpty(this.form.attr("data-alpaca-form-id"))&&this.form.attr("data-alpaca-form-id",this.getId()),e(n).find("form").attr(this.attributes),this.buttons={},e(n).find(".alpaca-form-button").each(function(){e(this).click(function(t){e(this).attr("button-pushed",!0)});var t=e(this).attr("data-key");if(t){var n=a.options.buttons[t];n&&n.click&&e(this).click(function(e,t){return function(n){n.preventDefault(),t.call(e,n)}}(a,n.click))}}),i()},getId:function(){return this.id},getType:function(){return this.type},getParent:function(){return this.parent},getValue:function(){return this.topControl.getValue()},setValue:function(e){this.topControl.setValue(e)},initEvents:function(){var t=this,n=e(this.domEl).find("form"),i=this.getValue();e(n).submit(i,function(e){return t.onSubmit(e,t)}),this.options.toggleSubmitValidState&&(e(t.topControl.getFieldEl()).bind("fieldupdate",function(){t.adjustSubmitButtonState()}),e(t.topControl.getFieldEl()).bind("fieldkeyup",function(){t.adjustSubmitButtonState()}),e(t.topControl.getFieldEl()).bind("fieldblur",function(){t.adjustSubmitButtonState()}))},getButtonEl:function(t){return e(this.domEl).find(".alpaca-form-button-"+t)},onSubmit:function(e,n){if(!this.isFormValid())return e.stopPropagation(),this.refreshValidationState(!0),!1;if(this.submitHandler){e.stopPropagation();var i=this.submitHandler(e,n);return t.isUndefined(i)&&(i=!1),i}},registerSubmitHandler:function(e){t.isFunction(e)&&(this.submitHandler=e)},refreshValidationState:function(e,t){this.topControl.refreshValidationState(e,t)},disable:function(){this.topControl.disable()},enable:function(){this.topControl.enable()},focus:function(e){this.topControl.focus(function(t){e&&e(t)})},destroy:function(e){this.getFormEl().remove(),!e&&this.parent&&this.parent.destroy()},show:function(){this.getFormEl().css({display:""})},hide:function(){this.getFormEl().css({display:"none"})},clear:function(e){this.topControl.clear(e)},isEmpty:function(){return this.topControl.isEmpty()},fireCallback:function(e,t,n,i,a,r){this.view.fireCallback(this,e,t,n,i,a,r)},getFormEl:function(){return this.form},submit:function(){this.form.submit()},ajaxSubmit:function(n){var i=this;n||(n={}),n.url=i.options.attributes.action,n.type=i.options.attributes.method,n.data||(n.data=this.getValue()),n.dataType||(n.dataType="json"),n.headers||(n.headers={});var a=i.determineCsrfToken();return a&&(n.headers[t.CSRF_HEADER_NAME]=a),e.ajax(n)},determineCsrfToken:function(){var e=t.CSRF_TOKEN;if(!e)for(var n=0;n<t.CSRF_COOKIE_NAMES.length;n++){var i=t.CSRF_COOKIE_NAMES[n],a=t.readCookie(i);if(a){e=a;break}}return e}})}(jQuery),function(e){var t=e.alpaca,n=36e5;t.Connector=Base.extend({constructor:function(e,a){this.id=e,this.config=a,this.isUri=function(e){return!t.isEmpty(e)&&t.isUri(e)},this.cache=new i("URL",!0,n)},connect:function(e,t){e()},loadTemplate:function(e,n,i){t.isEmpty(e)?i({message:"Empty data source.",reason:"TEMPLATE_LOADING_ERROR"}):t.isUri(e)?this.loadUri(e,!1,function(e){n&&t.isFunction(n)&&n(e)},function(e){i&&t.isFunction(i)&&i(e)}):n(e)},loadData:function(e,t,n,i){return this._handleLoadJsonResource(e,n,i)},loadSchema:function(e,t,n,i){return this._handleLoadJsonResource(e,n,i)},loadOptions:function(e,t,n,i){return this._handleLoadJsonResource(e,n,i)},loadView:function(e,t,n,i){return this._handleLoadJsonResource(e,n,i)},loadAll:function(e,n,i){var a=this,r=function(){var r=e.dataSource,s=e.schemaSource,o=e.optionsSource,l=e.viewSource;s||"string"!=typeof e.schema||(s=e.schema),o||"string"!=typeof e.options||(o=e.options),l||"string"!=typeof e.view||(l=e.view);var u={},c=0,d=0,p=function(){c===d&&n&&t.isFunction(n)&&n(u.data,u.options,u.schema,u.view)},h=function(e){i&&t.isFunction(i)&&i(e)};if(r&&d++,s&&d++,o&&d++,l&&d++,0===d)return void p();var f=function(e,n,i){u[e]=n,i&&("object"==typeof u[e]&&"object"==typeof i?t.mergeObject(u[e],i):u[e]=i)};r&&a.loadData(r,e,function(t){f("data",e.data,t),c++,p()},h),s&&a.loadSchema(s,e,function(t){f("schema",e.schema,t),c++,p()},h),o&&a.loadOptions(o,e,function(t){f("options",e.options,t),c++,p()},h),l&&a.loadView(l,e,function(t){f("view",e.view,t),c++,p()},h)},s=function(e){i&&t.isFunction(i)&&i(e)};a.connect(r,s)},loadJson:function(e,t,n){this.loadUri(e,!0,t,n)},buildAjaxConfig:function(e,t){var n={url:e,type:"get"};return t?n.dataType="json":n.dataType="text",n},loadUri:function(n,i,a,r){var s=this,o=s.buildAjaxConfig(n,i);o.success=function(e){s.cache.put(n,e),a&&t.isFunction(a)&&a(e)},o.error=function(e,i,a){r&&t.isFunction(r)&&r({message:"Unable to load data from uri : "+n,stage:"DATA_LOADING_ERROR",details:{jqXHR:e,textStatus:i,errorThrown:a}})};var l=s.cache.get(n);l!==!1&&a&&t.isFunction(a)?a(l):e.ajax(o)},loadReferenceSchema:function(e,t,n){return this._handleLoadJsonResource(e,t,n)},loadReferenceOptions:function(e,t,n){return this._handleLoadJsonResource(e,t,n)},_handleLoadJsonResource:function(e,t,n){this.isUri(e)?this.loadJson(e,function(e){t(e)},n):t(e)},loadDataSource:function(e,t,n){return this._handleLoadDataSource(e,t,n)},_handleLoadDataSource:function(e,n,i){var a=e;return t.isObject(a)&&(a=e.url),this._handleLoadJsonResource(a,n,i)}}),t.registerConnectorClass("default",t.Connector);var i=function(e,t,n){switch(t?this.on=!0:this.on=!1,null!=n&&(this.defaultLifetime=n),this.type=e,this.type){case"URL":this.put=this.put_url;break;case"GET":this.put=this.put_GET}};i.prototype.on=!1,i.prototype.type=void 0,i.prototype.defaultLifetime=18e5,i.prototype.items={},i.prototype.put_url=function(e,t,n){null==n&&(n=this.defaultLifetime);var i=this.make_key(e);return this.items[i]={},this.items[i].key=i,this.items[i].url=e,this.items[i].response=t,this.items[i].expire=(new Date).getTime()+n,!0},i.prototype.put_GET=function(e,t,n,i){null==i&&(i=this.defaultLifetime);var a=this.make_key(e,[t]);return this.items[a]={},this.items[a].key=a,this.items[a].url=e,this.items[a].data=t,this.items[a].response=n,this.items[a].expire=(new Date).getTime()+i,!0},i.prototype.get=function(e,t){var n=this.make_key(e,t);return null==this.items[n]?!1:this.items[n].expire<(new Date).getTime()?!1:this.items[n].response},i.prototype.make_key=function(e,t){var n=e;switch(this.type){case"URL":break;case"GET":n+=this.stringify(t[0])}return n},i.prototype.flush=function(){return cache.items={},!0},i.prototype.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return this.str("",{"":e})},i.prototype.quote=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},i.prototype.str=function(e,t){var n,i,a,r,s,o=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return this.quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)s[n]=this.str(n,l)||"null";return a=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]",gap=o,a}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)i=rep[n],"string"==typeof i&&(a=this.str(i,l),a&&s.push(this.quote(i)+(gap?": ":":")+a));else for(i in l)Object.hasOwnProperty.call(l,i)&&(a=this.str(i,l),a&&s.push(this.quote(i)+(gap?": ":":")+a));return a=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}",gap=o,a}}}(jQuery),function(e){var t=e.alpaca;t.CloudCmsConnector=t.Connector.extend({connect:function(e,n){var i=this,a=function(t,a){return t?void n(t):(a&&(i.branch=Chain(a),i.bindHelperFunctions(i.branch)),void e())};t.globalContext&&t.globalContext.branch?a(null,t.globalContext.branch):(i.branch=null,i.doConnect(function(e,t){a(e,t)}))},doConnect:function(e){this.config.key||(this.config.key="default"),Gitana.connect(this.config,function(t){return t?void e(t):void(this.getDriver().getOriginalConfiguration().loadAppHelper?this.datastore("content").readBranch("master").then(function(){e(null,this)}):e())})},bindHelperFunctions:function(e){e.loadAlpacaSchema||(e.loadAlpacaSchema=function(t,n,i){var a=function(){return e.getUri()+"/alpaca/schema"},r={};return r.id=t,this.chainGetResponse(this,a,r).then(function(e){i.call(this,null,e)})}),e.loadAlpacaOptions||(e.loadAlpacaOptions=function(t,n,i){var a=function(){return e.getUri()+"/alpaca/options"},r={};return r.schemaId=n.schemaSource,r.id=t,this.chainGetResponse(this,a,r).then(function(e){i.call(this,null,e)})}),e.loadAlpacaData||(e.loadAlpacaData=function(t,n,i){var a=function(){return e.getUri()+"/alpaca/data"},r={};return r.id=t,this.chainGetResponse(this,a,r).then(function(e){i.call(this,null,e)})}),e.loadAlpacaDataSource||(e.loadAlpacaDataSource=function(n,i,a){var r={};i&&t.copyInto(r,i);var s=function(){return e.getUri()+"/alpaca/datasource"};return this.chainPostResponse(this,s,r,n).then(function(e){a.call(this,null,e.datasource)})})},loadData:function(e,t,n,i){var a=this;return a.branch?void a.branch.loadAlpacaData(e,t,function(e,t){if(e)return void i(e);var a=null;t&&(a=JSON.parse(JSON.stringify(t))),n(a)}):this.base(e,t,n,i)},loadSchema:function(e,t,n,i){var a=this;return a.branch?void a.branch.loadAlpacaSchema(e,t,function(e,t){return e?void i(e):void n(t)}):this.base(e,t,n,i)},loadOptions:function(e,t,n,i){var a=this;return a.branch?void a.branch.loadAlpacaOptions(e,t,function(e,t){return e?void i(e):(t||(t={}),t.form.buttons={submit:{title:"Submit",click:function(e){var t=this,n=this.getValue();n||(n={});var i=this.ajaxSubmit({xhrFields:{withCredentials:!0},crossDomain:!0,processData:!1,data:JSON.stringify(n),contentType:"application/json; charset=utf-8"});i.done(function(){t.topControl.trigger("formSubmitSuccess")}),i.fail(function(){t.topControl.trigger("formSubmitFail")})}}},"undefined"==typeof t.focus&&(t.focus=!0),t.form.attributes.action=a.config.baseURL+t.form.attributes.action,void n(t))}):this.base(e,t,n,i)},loadReferenceSchema:function(e,t,n){var i=this;return i.loadSchema(e,t,n)},loadReferenceOptions:function(e,t,n){var i=this;return i.loadOptions(e,t,n)},loadDataSource:function(e,t,n){var i=this;if(!i.branch)return this.base(e,t,n);var a=e.pagination;return delete e.pagination,i.branch.loadAlpacaDataSource(e,a,function(e,i){return e?void n(e):void t(i)})}}),t.registerConnectorClass("cloudcms",t.CloudCmsConnector)}(jQuery),function(e){var t=e.alpaca;t.Fields.TextField=t.ControlField.extend({getFieldType:function(){return"text"},setup:function(){this.base(),this.inputType||(this.inputType="text"),this.options.inputType&&(this.inputType=this.options.inputType),this.options.data||(this.options.data={}),this.options.attributes||(this.options.attributes={}),"undefined"==typeof this.options.allowOptionalEmpty&&(this.options.allowOptionalEmpty=!0),this.options.autocomplete&&"string"==typeof this.options.autocomplete&&("on"===this.options.autocomplete.toLowerCase()?this.options.autocomplete=!0:"true"===this.options.autocomplete.toLowerCase()?this.options.autocomplete=!0:"yes"===this.options.autocomplete.toLowerCase()?this.options.autocomplete=!0:this.options.autocomplete=!1),
"undefined"==typeof this.options.autocomplete&&(this.options.autocomplete=!1),"undefined"==typeof this.options.disallowEmptySpaces&&(this.options.disallowEmptySpaces=!1),"undefined"==typeof this.options.disallowOnlyEmptySpaces&&(this.options.disallowOnlyEmptySpaces=!1)},destroy:function(){this.base(),this.control&&this.control.typeahead&&this.options.typeahead&&e(this.control).typeahead("destroy")},postRender:function(e){var t=this;this.base(function(){t.control&&(t.applyAutocomplete(),t.applyMask(),t.applyTypeAhead(),t.updateMaxLengthIndicator()),e()})},applyAutocomplete:function(){var t=this;"undefined"!=typeof t.options.autocomplete&&(e(t.field).addClass("alpaca-autocomplete"),e(t.control).attr("autocomplete",t.options.autocomplete?"on":"off"),t.fireCallback("autocomplete"))},applyMask:function(){var e=this;e.control.mask&&e.options.maskString&&e.control.mask(e.options.maskString)},applyTypeAhead:function(){var n=this;if(n.control.typeahead&&n.options.typeahead&&!t.isEmpty(n.options.typeahead)){var i=n.options.typeahead.config;i||(i={});var a=n.options.typeahead.datasets;a||(a={}),a.name||(a.name=n.getId());var r=n.options.typeahead.events;if(r||(r={}),"local"===a.type||"remote"===a.type||"prefetch"===a.type){var s={datumTokenizer:function(e){var t="";for(var n in e)(e.hasOwnProperty(n)||e[n])&&(t+=" "+e[n]);return Bloodhound.tokenizers.whitespace(t)},queryTokenizer:Bloodhound.tokenizers.whitespace};if("local"===a.type){var o=[];if("function"==typeof a.source)s.local=a.source;else{for(var l=0;l<a.source.length;l++){var u=a.source[l];"string"==typeof u&&(u={value:u}),o.push(u)}s.local=o}a.local&&(s.local=a.local)}"prefetch"===a.type&&(s.prefetch={url:a.source},a.filter&&(s.prefetch.filter=a.filter)),"remote"===a.type&&(s.remote={url:a.source},a.filter&&(s.remote.filter=a.filter),a.replace&&(s.remote.replace=a.replace));var c=new Bloodhound(s);c.initialize(),a.source=c.ttAdapter()}if(a.templates)for(var d in a.templates){var p=a.templates[d];"string"==typeof p&&(a.templates[d]=Handlebars.compile(p))}e(n.control).typeahead(i,a),e(n.control).on("typeahead:autocompleted",function(t,i){n.setValue(i.value),e(n.control).change()}),e(n.control).on("typeahead:selected",function(t,i){n.setValue(i.value),e(n.control).change()}),r&&(r.autocompleted&&e(n.control).on("typeahead:autocompleted",function(e,t){r.autocompleted(e,t)}),r.selected&&e(n.control).on("typeahead:selected",function(e,t){r.selected(e,t)}));var h=e(n.control);e(n.control).change(function(){var t=e(this).val(),n=e(h).typeahead("val");n!==t&&e(h).typeahead("val",n)}),e(n.field).find("span.twitter-typeahead").first().css("display","block"),e(n.field).find("span.twitter-typeahead input.tt-input").first().css("background-color","")}},prepareControlModel:function(e){var t=this;this.base(function(n){n.inputType=t.inputType,e(n)})},updateMaxLengthIndicator:function(){var n=this,i=!1,a="";if(!t.isEmpty(n.schema.maxLength)&&n.options.showMaxLengthIndicator){var r=n.getValue()||"",s=n.schema.maxLength-r.length;s>=0?a="You have "+s+" characters remaining":(a="Your message is too long by "+-1*s+" characters",i=!0);var o=e(n.field).find(".alpaca-field-text-max-length-indicator");0===o.length&&(o=e("<p class='alpaca-field-text-max-length-indicator'></p>"),e(n.control).after(o)),e(o).html(a),e(o).removeClass("err"),i&&e(o).addClass("err")}},getControlValue:function(){var t=this,n=this._getControlVal(!0);if(t.control.mask&&t.options.maskString){var i=e(this.control).data(e.mask.dataName);i&&(n=i(),n=t.ensureProperType(n))}return n},setValue:function(e){this.control&&this.control.length>0&&(t.isEmpty(e)?this.control.val(""):this.control.val(e)),this.base(e),this.updateMaxLengthIndicator()},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validatePattern();return n.invalidPattern={message:i?"":t.substituteTokens(this.getMessage("invalidPattern"),[this.schema.pattern]),status:i},i=this._validateMaxLength(),n.stringTooLong={message:i?"":t.substituteTokens(this.getMessage("stringTooLong"),[this.schema.maxLength]),status:i},i=this._validateMinLength(),n.stringTooShort={message:i?"":t.substituteTokens(this.getMessage("stringTooShort"),[this.schema.minLength]),status:i},e&&n.invalidPattern.status&&n.stringTooLong.status&&n.stringTooShort.status},_validatePattern:function(){if(this.schema.pattern){var e=this.getValue();if(""===e&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if(t.isEmpty(e)&&(e=""),"string"==typeof e&&!e.match(this.schema.pattern))return!1}return!0},_validateMinLength:function(){if(!t.isEmpty(this.schema.minLength)){var e=this.getValue();if(e!==e&&(e=""),""===e&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if(t.isEmpty(e)&&(e=""),(""+e).length<this.schema.minLength)return!1}return!0},_validateMaxLength:function(){if(!t.isEmpty(this.schema.maxLength)){var e=this.getValue();if(""===e&&this.options.allowOptionalEmpty&&!this.isRequired())return!0;if(t.isEmpty(e)&&(e=""),(""+e).length>this.schema.maxLength)return!1}return!0},focus:function(t){if(this.control&&this.control.length>0){var n=e(this.control).get(0);try{var i=n.value?n.value.length:0;n.selectionStart=i,n.selectionEnd=i}catch(a){}n.focus(),t&&t(this)}},getType:function(){return"string"},onKeyPress:function(e){var n=this;if(9!==e.keyCode&&37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode){if(8===e.keyCode){if(!t.isEmpty(n.schema.minLength)&&(n.options.constrainLengths||n.options.constrainMinLength)){var i=n.getValue()||"";i.length<=n.schema.minLength&&(e.preventDefault(),e.stopImmediatePropagation())}}else if(!t.isEmpty(n.schema.maxLength)&&(n.options.constrainLengths||n.options.constrainMaxLength)){var i=n.getValue()||"";i.length>=n.schema.maxLength&&(e.preventDefault(),e.stopImmediatePropagation())}32===e.keyCode&&n.options.disallowEmptySpaces&&(e.preventDefault(),e.stopImmediatePropagation())}},onKeyUp:function(t){var n=this;n.updateMaxLengthIndicator(),e(this.field).trigger("fieldkeyup")},getTitle:function(){return"Single-Line Text"},getDescription:function(){return"Text field for single-line text."},getSchemaOfSchema:function(){return t.merge(this.base(),{properties:{minLength:{title:"Minimal Length",description:"Minimal length of the property value.",type:"number"},maxLength:{title:"Maximum Length",description:"Maximum length of the property value.",type:"number"},pattern:{title:"Pattern",description:"Regular expression for the property value.",type:"string"}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{"default":{helper:"Field default value",type:"text"},minLength:{type:"integer"},maxLength:{type:"integer"},pattern:{type:"text"}}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{size:{title:"Field Size",description:"Field size.",type:"number","default":40},maskString:{title:"Mask Expression",description:"Expression for the field mask. Field masking will be enabled if not empty.",type:"string"},placeholder:{title:"Field Placeholder",description:"Field placeholder.",type:"string"},typeahead:{title:"Type Ahead",description:"Provides configuration for the $.typeahead plugin if it is available.  For full configuration options, see: https://github.com/twitter/typeahead.js"},allowOptionalEmpty:{title:"Allow Optional Empty",description:"Allows this non-required field to validate when the value is empty"},inputType:{title:"HTML5 Input Type",description:"Allows for the override of the underlying HTML5 input type.  If not specified, an assumed value is provided based on the kind of input control (i.e. 'text', 'date', 'email' and so forth)",type:"string"},data:{title:"Data attributes for the underlying DOM input control",description:"Allows you to specify a key/value map of data attributes that will be added as DOM attribuets for the underlying input control.  The data attributes will be added as data-{name}='{value}'.",type:"object"},autocomplete:{title:"HTML autocomplete attribute for the underlying DOM input control",description:"Allows you to specify the autocomplete attribute for the underlying input control whether or not field should have autocomplete enabled.",type:"string"},disallowEmptySpaces:{title:"Disallow Empty Spaces",description:"Whether to disallow the entry of empty spaces in the text",type:"boolean","default":!1},disallowOnlyEmptySpaces:{title:"Disallow Only Empty Spaces",description:"Whether to disallow the entry of only empty spaces in the text",type:"boolean","default":!1}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{size:{type:"integer"},maskString:{helper:"a - an alpha character;9 - a numeric character;* - an alphanumeric character",type:"text"},typeahead:{type:"object"},allowOptionalEmpty:{type:"checkbox"},inputType:{type:"text"},data:{type:"object"}}})}}),t.registerMessages({invalidPattern:"This field should have pattern {0}",stringTooShort:"This field should contain at least {0} numbers or characters",stringTooLong:"This field should contain at most {0} numbers or characters"}),t.registerFieldClass("text",t.Fields.TextField),t.registerDefaultSchemaFieldMapping("string","text")}(jQuery),function(e){var t=e.alpaca;t.Fields.TextAreaField=t.Fields.TextField.extend({getFieldType:function(){return"textarea"},setup:function(){this.base(),this.options.rows||(this.options.rows=5),this.options.cols||(this.options.cols=40)},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validateWordCount();return n.wordLimitExceeded={message:i?"":t.substituteTokens(this.getMessage("wordLimitExceeded"),[this.options.wordlimit]),status:i},e&&n.wordLimitExceeded.status},_validateWordCount:function(){if(this.options.wordlimit&&this.options.wordlimit>-1){var e=this.data;if(e){var t=e.split(" ").length;if(t>this.options.wordlimit)return!1}}return!0},getTitle:function(){return"Multi-Line Text"},getDescription:function(){return"Textarea field for multiple line text."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{rows:{title:"Rows",description:"Number of rows",type:"number","default":5},cols:{title:"Columns",description:"Number of columns",type:"number","default":40},wordlimit:{title:"Word Limit",description:"Limits the number of words allowed in the text area.",type:"number","default":-1}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{rows:{type:"integer"},cols:{type:"integer"},wordlimit:{type:"integer"}}})}}),t.registerMessages({wordLimitExceeded:"The maximum word limit of {0} has been exceeded."}),t.registerFieldClass("textarea",t.Fields.TextAreaField)}(jQuery),function(e){var t=e.alpaca;t.Fields.CheckBoxField=t.ControlField.extend({getFieldType:function(){return"checkbox"},setup:function(){var n=this;n.base(),this.options.rightLabel||(this.options.rightLabel=""),"undefined"==typeof n.options.multiple&&("array"===n.schema.type?n.options.multiple=!0:"undefined"!=typeof n.schema["enum"]&&(n.options.multiple=!0)),n.checkboxOptions=[],n.options.multiple&&e.each(n.getEnum(),function(e,i){var a=i;n.options.optionLabels&&(t.isEmpty(n.options.optionLabels[e])?t.isEmpty(n.options.optionLabels[i])||(a=n.options.optionLabels[i]):a=n.options.optionLabels[e]),n.checkboxOptions.push({value:i,text:a})})},getEnum:function(){var e=[];return this.schema&&this.schema["enum"]&&(e=this.schema["enum"]),e},onClick:function(e){this.refreshValidationState()},prepareControlModel:function(e){var t=this;this.base(function(n){n.checkboxOptions=t.checkboxOptions,e(n)})},postRender:function(t){var n=this;this.base(function(){if(n.data&&"undefined"!=typeof n.data&&n.setValue(n.data),e(n.getFieldEl()).find("input:checkbox").change(function(e){n.triggerWithPropagation("change")}),n.options.multiple&&(e(n.getFieldEl()).find("input:checkbox").prop("checked",!1),n.data)){var i=n.data;if("string"==typeof n.data){i=n.data.split(",");for(var a=0;a<i.length;a++)i[a]=e.trim(i[a])}for(var r in i)e(n.getFieldEl()).find('input:checkbox[data-checkbox-value="'+i[r]+'"]').prop("checked",!0)}t()})},getControlValue:function(){var n=this,i=null;if(n.options.multiple){for(var a=[],r=0;r<n.checkboxOptions.length;r++){var s=e(n.getFieldEl()).find("input[data-checkbox-index='"+r+"']");if(t.checked(s)){var o=e(s).attr("data-checkbox-value");a.push(o)}}"array"===n.schema.type?i=a:"string"===n.schema.type&&(i=a.join(","))}else{var l=e(n.getFieldEl()).find("input");i=l.length>0?t.checked(e(l[0])):!1}return i},setValue:function(n){var i=this,a=function(n){t.isString(n)&&(n="true"===n);var a=e(i.getFieldEl()).find("input");a.length>0&&t.checked(e(a[0]),n)},r=function(a){"string"==typeof a&&(a=a.split(","));for(var r=0;r<a.length;r++)a[r]=t.trim(a[r]);t.checked(e(i.getFieldEl()).find("input[data-checkbox-value]"),!1);for(var s=0;s<a.length;s++){var o=e(i.getFieldEl()).find('input[data-checkbox-value="'+a[s]+'"]');o.length>0&&t.checked(e(o[0]),n)}},s=!1;i.options.multiple?"string"==typeof n?(r(n),s=!0):t.isArray(n)&&(r(n),s=!0):"boolean"==typeof n?(a(n),s=!0):"string"==typeof n&&(a(n),s=!0),!s&&n&&t.logError("CheckboxField cannot set value for schema.type="+i.schema.type+" and value="+n),this.base(n)},_validateEnum:function(){var e=this;if(!e.options.multiple)return!0;var n=e.getValue();return!e.isRequired()&&t.isValEmpty(n)?!0:("string"==typeof n&&(n=n.split(",")),t.anyEquality(n,e.schema["enum"]))},disable:function(){e(this.control).find("input").each(function(){e(this).disabled=!0,e(this).prop("disabled",!0)})},enable:function(){e(this.control).find("input").each(function(){e(this).disabled=!1,e(this).prop("disabled",!1)})},getType:function(){return"boolean"},getTitle:function(){return"Checkbox Field"},getDescription:function(){return"Checkbox Field for boolean (true/false), string ('true', 'false' or comma-delimited string of values) or data array."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{rightLabel:{title:"Option Label",description:"Optional right-hand side label for single checkbox field.",type:"string"},multiple:{title:"Multiple",description:"Whether to render multiple checkboxes for multi-valued type (such as an array or a comma-delimited string)",type:"boolean"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{rightLabel:{type:"text"},multiple:{type:"checkbox"}}})}}),t.registerFieldClass("checkbox",t.Fields.CheckBoxField),t.registerDefaultSchemaFieldMapping("boolean","checkbox")}(jQuery),function(e){var t=e.alpaca;t.Fields.FileField=t.Fields.TextField.extend({getFieldType:function(){return"file"},setValue:function(e){this.data=e,this.data=e,this.updateObservable(),this.triggerUpdate()},getControlValue:function(){return this.data},onChange:function(e){this.base(e),this.options.selectionHandler&&this.processSelectionHandler(e.target.files)},processSelectionHandler:function(e){if(e&&e.length>0&&"undefined"!=typeof FileReader){var t=[],n=0,i=new FileReader;i.onload=function(){var i=this;return function(a){var r=a.target.result;t.push(r),n++,n===e.length&&i.options.selectionHandler.call(i,e,t)}}.call(this);for(var a=0;a<e.length;a++)i.readAsDataURL(e[a])}},getTitle:function(){return"File Field"},getDescription:function(){return"Field for uploading files."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{selectionHandler:{title:"Selection Handler",description:"Function that should be called when files are selected.  Requires HTML5.",type:"boolean","default":!1}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{selectionHandler:{type:"checkbox"}}})}}),t.registerFieldClass("file",t.Fields.FileField)}(jQuery),function(e){var t=e.alpaca;t.Fields.ListField=t.ControlField.extend({setup:function(){var n=this;n.base(),n.selectOptions=[],n.getEnum()&&(n.sortEnum(),e.each(n.getEnum(),function(e,i){var a=i;n.options.optionLabels&&(t.isEmpty(n.options.optionLabels[e])?t.isEmpty(n.options.optionLabels[i])||(a=n.options.optionLabels[i]):a=n.options.optionLabels[e]),n.selectOptions.push({value:i,text:a})})),n.isRequired()&&!n.data&&n.options.removeDefaultNone===!0&&n.schema["enum"]&&n.schema["enum"].length>0&&(n.data=n.schema["enum"][0]),n.options.datasource&&!n.options.dataSource&&(n.options.dataSource=n.options.datasource,delete n.options.datasource)},prepareControlModel:function(e){var t=this;this.base(function(n){n.noneLabel=t.getMessage("noneLabel"),"undefined"!=typeof t.options.noneLabel&&(n.noneLabel=t.options.noneLabel),n.hideNone=t.isRequired(),"undefined"!=typeof t.options.removeDefaultNone&&(n.hideNone=t.options.removeDefaultNone),e(n)})},getEnum:function(){return this.schema&&this.schema["enum"]?this.schema["enum"]:void 0},convertValue:function(n){var i=this;return t.isArray(n)?e.each(n,function(t,a){e.each(i.selectOptions,function(e,i){i.value===a&&(n[t]=i.value)})}):e.each(this.selectOptions,function(e,t){t.value===n&&(n=t.value)}),n},beforeRenderControl:function(n,i){var a=this;this.base(n,function(){if(a.options.dataSource){a.selectOptions=[];var r=function(){a.sortSelectableOptions(a.selectOptions),a.schema["enum"]=[],a.options.optionLabels=[];for(var e=0;e<a.selectOptions.length;e++)a.schema["enum"].push(a.selectOptions[e].value),a.options.optionLabels.push(a.selectOptions[e].text);n.selectOptions=a.selectOptions,i()};if(t.isFunction(a.options.dataSource))a.options.dataSource.call(a,function(e){if(t.isArray(e)){for(var n=0;n<e.length;n++)"string"==typeof e[n]?a.selectOptions.push({text:e[n],value:e[n]}):t.isObject(e[n])&&a.selectOptions.push(e[n]);r()}else if(t.isObject(e)){for(var i in e)a.selectOptions.push({text:i,value:e[i]});r()}else r()});else if(t.isUri(a.options.dataSource))e.ajax({url:a.options.dataSource,type:"get",dataType:"json",success:function(n){var i=n;a.options.dsTransformer&&t.isFunction(a.options.dsTransformer)&&(i=a.options.dsTransformer(i)),i&&(t.isObject(i)?(e.each(i,function(e,t){a.selectOptions.push({value:e,text:t})}),r()):t.isArray(i)&&(e.each(i,function(e,t){a.selectOptions.push({value:t.value,text:t.text})}),r()))},error:function(e,t,n){a.errorCallback({message:"Unable to load data from uri : "+a.options.dataSource,stage:"DATASOURCE_LOADING_ERROR",details:{jqXHR:e,textStatus:t,errorThrown:n}})}});else if(t.isArray(a.options.dataSource)){for(var s=0;s<a.options.dataSource.length;s++)"string"==typeof a.options.dataSource[s]?a.selectOptions.push({text:a.options.dataSource[s],value:a.options.dataSource[s]}):t.isObject(a.options.dataSource[s])&&a.selectOptions.push(a.options.dataSource[s]);r()}else if(t.isObject(a.options.dataSource))if(a.options.dataSource.connector){var o=a.connector;if(t.isObject(a.options.dataSource.connector)){var l=a.options.dataSource.connector.id,u=a.options.dataSource.connector.config;u||(u={});var c=t.getConnectorClass(l);c&&(o=new c(l,u))}var d=a.options.dataSource.config;d||(d={}),o.loadDataSource(d,function(e){for(var n=0;n<e.length;n++)"string"==typeof e[n]?a.selectOptions.push({text:e[n],value:e[n]}):t.isObject(e[n])&&a.selectOptions.push(e[n]);r()})}else{for(var p in a.options.dataSource)a.selectOptions.push({text:a.options.dataSource[p],value:p});r()}else i()}else i()})},getSchemaOfSchema:function(){return t.merge(this.base(),{properties:{"enum":{title:"Enumeration",description:"List of field value options",type:"array",required:!0}}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{optionLabels:{title:"Option Labels",description:"Labels for options. It can either be a map object or an array field that maps labels to items defined by enum schema property one by one.",type:"array"},dataSource:{title:"Option Datasource",description:"Datasource for generating list of options.  This can be a string or a function.  If a string, it is considered to be a URI to a service that produces a object containing key/value pairs or an array of elements of structure {'text': '', 'value': ''}.  This can also be a function that is called to produce the same list.",type:"string"},removeDefaultNone:{title:"Remove Default None",description:"If true, the default 'None' option will not be shown.",type:"boolean","default":!1},noneLabel:{title:"None Label",description:"The label to use for the 'None' option in a list (select, radio or otherwise).",type:"string","default":"None"},hideNone:{title:"Hide None",description:"Whether to hide the None option from a list (select, radio or otherwise).  This will be true if the field is required and false otherwise.",type:"boolean","default":!1}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{optionLabels:{itemLabel:"Label",type:"array"},dataSource:{type:"text"},removeDefaultNone:{type:"checkbox",rightLabel:"Remove Default None"},noneLabel:{type:"text"},hideNone:{type:"checkbox",rightLabel:"Hide the 'None' option from the list"}}})}}),t.registerMessages({noneLabel:"None"})}(jQuery),function(e){var t=e.alpaca;t.Fields.RadioField=t.Fields.ListField.extend({getFieldType:function(){return"radio"},setup:function(){this.base(),this.options.name?this.name=this.options.name:this.name||(this.name=this.getId()+"-name"),t.isUndefined(this.options.emptySelectFirst)&&(this.options.emptySelectFirst=!1),t.isUndefined(this.options.vertical)&&(this.options.vertical=!0)},getControlValue:function(){var t=this,n=null;return e(this.control).find(":checked").each(function(){n=e(this).val(),n=t.ensureProperType(n)}),n},setValue:function(n){var i=this;e(this.control).find("input").each(function(){t.checked(e(this),null)}),"undefined"!=typeof n&&t.checked(e(i.control).find('input[value="'+n+'"]'),"checked"),this.options.emptySelectFirst&&0===e(this.control).find("input:checked").length&&t.checked(e(i.control).find("input:radio").first(),"checked"),this.base(n)},initControlEvents:function(){var t=this;t.base();var n=e(this.control).find("input");n.focus(function(e){t.suspendBlurFocus||(t.onFocus.call(t,e),t.trigger("focus",e))}),n.blur(function(e){t.suspendBlurFocus||(t.onBlur.call(t,e),t.trigger("blur",e))})},prepareControlModel:function(e){var t=this;this.base(function(n){n.selectOptions=t.selectOptions,n.removeDefaultNone=t.options.removeDefaultNone,e(n)})},afterRenderControl:function(n,i){var a=this;this.base(n,function(){a.options.emptySelectFirst&&a.selectOptions&&a.selectOptions.length>0&&(a.data=a.selectOptions[0].value,0===e("input:radio:checked",a.control).length&&t.checked(e(a.control).find('input:radio[value="'+a.data+'"]'),"checked")),a.options.vertical?e(a.control).css("display","block"):e(a.control).css("display","inline-block"),i()})},onClick:function(t){var n=this,i=n.getValue();this.base(t);var a=e(t.currentTarget).find("input").val();"undefined"!=typeof a&&(n.setValue(a),n.refreshValidationState(),i!==a&&n.trigger("change"))},disable:function(){this.base(),this.getFieldEl().addClass("disabled")},enable:function(){this.base(),this.getFieldEl().removeClass("disabled")},getTitle:function(){return"Radio Group Field"},getDescription:function(){return"Radio Group Field with list of options."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{name:{title:"Field name",description:"Field name.",type:"string"},emptySelectFirst:{title:"Empty Select First",description:"If the data is empty, then automatically select the first item in the list.",type:"boolean","default":!1},vertical:{title:"Position the radio selector items vertically",description:"By default, radio controls are stacked vertically.  Set to false if you'd like radio controls to lay out horizontally.",type:"boolean","default":!0}}})}}),t.registerFieldClass("radio",t.Fields.RadioField)}(jQuery),function(e){var t=e.alpaca;t.Fields.SelectField=t.Fields.ListField.extend({getFieldType:function(){return"select"},setup:function(){this.base()},getControlValue:function(){var e=this._getControlVal(!0);return"undefined"==typeof e&&(e=this.data),this.convertValue(e)},setValue:function(e){t.isArray(e)?t.compareArrayContent(e,this.getValue())||(!t.isEmpty(e)&&this.control&&this.control.val(e),this.base(e)):e!==this.getValue()&&(this.control&&"undefined"!=typeof e&&null!=e&&this.control.val(e),this.base(e))},getEnum:function(){if(this.schema){if(this.schema["enum"])return this.schema["enum"];if(this.schema.type&&"array"===this.schema.type&&this.schema.items&&this.schema.items["enum"])return this.schema.items["enum"]}},initControlEvents:function(){var e=this;if(e.base(),e.options.multiple){var t=this.control.parent().find("button.multiselect");t.focus(function(t){e.suspendBlurFocus||(e.onFocus.call(e,t),e.trigger("focus",t))}),t.blur(function(t){e.suspendBlurFocus||(e.onBlur.call(e,t),e.trigger("blur",t))})}},beforeRenderControl:function(e,t){var n=this;this.base(e,function(){n.schema.type&&"array"===n.schema.type&&(n.options.multiple=!0),t()})},prepareControlModel:function(e){var t=this;this.base(function(n){n.selectOptions=t.selectOptions,e(n)})},afterRenderControl:function(n,i){var a=this;this.base(n,function(){if(t.isUndefined(a.data)&&a.options.emptySelectFirst&&a.selectOptions&&a.selectOptions.length>0&&(a.data=a.selectOptions[0].value),a.data&&a.setValue(a.data),a.options.multiple&&e.fn.multiselect){var n=null;n=a.options.multiselect?a.options.multiselect:{},n.nonSelectedText||(n.nonSelectedText="None",a.options.noneLabel&&(n.nonSelectedText=a.options.noneLabel)),a.options.hideNone&&delete n.nonSelectedText,e(a.getControlEl()).multiselect(n)}i()})},_validateEnum:function(){var n=this;if(this.schema["enum"]){var i=this.data;if(!this.isRequired()&&t.isValEmpty(i))return!0;if(this.options.multiple){var a=!0;return i||(i=[]),t.isArray(i)||t.isObject(i)||(i=[i]),e.each(i,function(t,i){return e.inArray(i,n.schema["enum"])<=-1?(a=!1,!1):void 0}),a}return e.inArray(i,this.schema["enum"])>-1}return!0},onChange:function(e){this.base(e);var n=this;t.later(25,this,function(){var e=n.getValue();n.setValue(e),n.refreshValidationState()})},_validateMinItems:function(){return this.schema.items&&this.schema.items.minItems&&e(":selected",this.control).length<this.schema.items.minItems?!1:!0},_validateMaxItems:function(){return this.schema.items&&this.schema.items.maxItems&&e(":selected",this.control).length>this.schema.items.maxItems?!1:!0},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validateMaxItems();return n.tooManyItems={message:i?"":t.substituteTokens(this.getMessage("tooManyItems"),[this.schema.items.maxItems]),status:i},i=this._validateMinItems(),n.notEnoughItems={message:i?"":t.substituteTokens(this.getMessage("notEnoughItems"),[this.schema.items.minItems]),status:i},e&&n.tooManyItems.status&&n.notEnoughItems.status},focus:function(t){if(this.control&&this.control.length>0){var n=e(this.control).get(0);n.focus(),t&&t(this)}},getTitle:function(){return"Select Field"},getDescription:function(){return"Select Field"},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{multiple:{title:"Mulitple Selection",description:"Allow multiple selection if true.",type:"boolean","default":!1},size:{title:"Displayed Options",description:"Number of options to be shown.",type:"number"},emptySelectFirst:{title:"Empty Select First",description:"If the data is empty, then automatically select the first item in the list.",type:"boolean","default":!1},multiselect:{title:"Multiselect Plugin Settings",description:"Multiselect plugin properties - http://davidstutz.github.io/bootstrap-multiselect",type:"any"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{multiple:{rightLabel:"Allow multiple selection ?",helper:"Allow multiple selection if checked",type:"checkbox"},size:{type:"integer"},emptySelectFirst:{type:"checkbox",rightLabel:"Empty Select First"},multiselect:{type:"object",rightLabel:"Multiselect plugin properties - http://davidstutz.github.io/bootstrap-multiselect"}}})}}),t.registerFieldClass("select",t.Fields.SelectField)}(jQuery),function(e){var t=e.alpaca;t.Fields.NumberField=t.Fields.TextField.extend({setup:function(){this.base(),"undefined"==typeof this.options.numericEntry&&(this.options.numericEntry=!1)},getFieldType:function(){return"number"},postRender:function(e){var t=this;this.base(function(){t.control&&t.on("keypress",function(e){var n=e.charCode||e.keyCode||0,i=!0;return t.options.numericEntry&&(i=i&&n>=48&&57>=n),i||(e.preventDefault(),e.stopImmediatePropagation()),i}),e()})},getControlValue:function(){var e=this._getControlVal(!0);return"undefined"==typeof e||""==e?e:parseFloat(e)},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validateNumber();return n.stringNotANumber={message:i?"":this.getMessage("stringNotANumber"),status:i},i=this._validateDivisibleBy(),n.stringDivisibleBy={message:i?"":t.substituteTokens(this.getMessage("stringDivisibleBy"),[this.schema.divisibleBy]),status:i},i=this._validateMaximum(),n.stringValueTooLarge={message:"",status:i},i||(this.schema.exclusiveMaximum?n.stringValueTooLarge.message=t.substituteTokens(this.getMessage("stringValueTooLargeExclusive"),[this.schema.maximum]):n.stringValueTooLarge.message=t.substituteTokens(this.getMessage("stringValueTooLarge"),[this.schema.maximum])),i=this._validateMinimum(),n.stringValueTooSmall={message:"",status:i},i||(this.schema.exclusiveMinimum?n.stringValueTooSmall.message=t.substituteTokens(this.getMessage("stringValueTooSmallExclusive"),[this.schema.minimum]):n.stringValueTooSmall.message=t.substituteTokens(this.getMessage("stringValueTooSmall"),[this.schema.minimum])),i=this._validateMultipleOf(),n.stringValueNotMultipleOf={message:"",status:i},i||(n.stringValueNotMultipleOf.message=t.substituteTokens(this.getMessage("stringValueNotMultipleOf"),[this.schema.multipleOf])),e&&n.stringNotANumber.status&&n.stringDivisibleBy.status&&n.stringValueTooLarge.status&&n.stringValueTooSmall.status&&n.stringValueNotMultipleOf.status&&n.invalidPattern.status&&n.stringTooLong.status&&n.stringTooShort.status},_validateNumber:function(){var e=this._getControlVal();if("number"==typeof e&&(e=""+e),t.isValEmpty(e))return!0;var n=t.testRegex(t.regexps.number,e);if(!n)return!1;var i=this.getValue();return isNaN(i)?!1:!0},_validateDivisibleBy:function(){var e=this.getValue();return t.isEmpty(this.schema.divisibleBy)||e%this.schema.divisibleBy===0?!0:!1},_validateMaximum:function(){var e=this.getValue();if(!t.isEmpty(this.schema.maximum)){if(e>this.schema.maximum)return!1;if(!t.isEmpty(this.schema.exclusiveMaximum)&&e==this.schema.maximum&&this.schema.exclusiveMaximum)return!1}return!0},_validateMinimum:function(){var e=this.getValue();if(!t.isEmpty(this.schema.minimum)){if(e<this.schema.minimum)return!1;if(!t.isEmpty(this.schema.exclusiveMinimum)&&e==this.schema.minimum&&this.schema.exclusiveMinimum)return!1}return!0},_validateMultipleOf:function(){var e=this.getValue();return!t.isEmpty(this.schema.multipleOf)&&e&&0!==this.schema.multipleOf?!1:!0},getType:function(){return"number"},onKeyPress:function(e){var n=this;if(9!==e.keyCode&&37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode){if(8===e.keyCode){if(!t.isEmpty(n.schema.minLength)&&(n.options.constrainLengths||n.options.constrainMinLength)){var i=n.getValue()||"";t.isNumber(i)&&(i=i.toString()),i.length<=n.schema.minLength&&(e.preventDefault(),e.stopImmediatePropagation())}}else if(!t.isEmpty(n.schema.maxLength)&&(n.options.constrainLengths||n.options.constrainMaxLength)){var i=n.getValue()||"";t.isNumber(i)&&(i=i.toString()),i.length>=n.schema.maxLength&&(e.preventDefault(),e.stopImmediatePropagation())}32===e.keyCode&&n.options.disallowEmptySpaces&&(e.preventDefault(),e.stopImmediatePropagation())}},onKeyUp:function(t){var n=this;n.updateMaxLengthIndicator(),e(this.field).trigger("fieldkeyup")},getSchemaOfSchema:function(){return t.merge(this.base(),{properties:{multipleOf:{title:"Multiple Of",description:"Property value must be a multiple of the multipleOf schema property such that division by this value yields an interger (mod zero).",type:"number"},minimum:{title:"Minimum",description:"Minimum value of the property.",type:"number"},maximum:{title:"Maximum",description:"Maximum value of the property.",type:"number"},exclusiveMinimum:{title:"Exclusive Minimum",description:"Property value can not equal the number defined by the minimum schema property.",
type:"boolean","default":!1},exclusiveMaximum:{title:"Exclusive Maximum",description:"Property value can not equal the number defined by the maximum schema property.",type:"boolean","default":!1}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{multipleOf:{title:"Multiple Of",description:"The value must be a integral multiple of the property",type:"number"},minimum:{title:"Minimum",description:"Minimum value of the property",type:"number"},maximum:{title:"Maximum",description:"Maximum value of the property",type:"number"},exclusiveMinimum:{rightLabel:"Exclusive minimum ?",helper:"Field value must be greater than but not equal to this number if checked",type:"checkbox"},exclusiveMaximum:{rightLabel:"Exclusive Maximum ?",helper:"Field value must be less than but not equal to this number if checked",type:"checkbox"}}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{numericEntry:{title:"Numeric Entry",description:"Whether to constrain data entry key presses to numeric values (0-9)",type:"boolean","default":!1}}})},getTitle:function(){return"Number Field"},getDescription:function(){return"Field for float numbers."}}),t.registerMessages({stringValueTooSmall:"The minimum value for this field is {0}",stringValueTooLarge:"The maximum value for this field is {0}",stringValueTooSmallExclusive:"Value of this field must be greater than {0}",stringValueTooLargeExclusive:"Value of this field must be less than {0}",stringDivisibleBy:"The value must be divisible by {0}",stringNotANumber:"This value is not a number.",stringValueNotMultipleOf:"This value is not a multiple of {0}"}),t.registerFieldClass("number",t.Fields.NumberField),t.registerDefaultSchemaFieldMapping("number","number")}(jQuery),function(e){var t=e.alpaca;t.Fields.ArrayField=t.ContainerField.extend({getFieldType:function(){return"array"},setup:function(){var n=this;this.base();var i=n.resolveContainerItemTemplateType();if(!i)return t.throwErrorWithCallback("Unable to find template descriptor for container item: "+n.getFieldType());this.containerItemTemplateDescriptor=n.view.getTemplateDescriptor("container-"+i+"-item",n),this.options.toolbarStyle||(this.options.toolbarStyle=t.isEmpty(this.view.toolbarStyle)?"button":this.view.toolbarStyle),this.options.toolbarStyle||(this.options.toolbarStyle="button"),this.options.actionbarStyle||(this.options.actionbarStyle=t.isEmpty(this.view.actionbarStyle)?"top":this.view.actionbarStyle),this.options.actionbarStyle||(this.options.actionbarStyle="top"),this.schema.items||(this.schema.items={}),this.options.items||(this.options.items={}),this.schema.items.maxItems&&(this.schema.maxItems=this.schema.items.maxItems,delete this.schema.items.maxItems),this.schema.items.minItems&&(this.schema.minItems=this.schema.items.minItems,delete this.schema.items.minItems),this.schema.items.uniqueItems&&(this.schema.uniqueItems=this.schema.items.uniqueItems,delete this.schema.items.uniqueItems),this.options.rubyrails=!1,this.parent&&this.parent.options&&this.parent.options.form&&this.parent.options.form.attributes&&(t.isEmpty(this.parent.options.form.attributes.rubyrails)||(this.options.rubyrails=!0));var a=t.defaultToolbarSticky;if(t.isEmpty(this.view.toolbarSticky)||(a=this.view.toolbarSticky),t.isEmpty(this.options.toolbarSticky)||(a=this.options.toolbarSticky),this.options.toolbarSticky=a,"undefined"==typeof n.options.hideToolbarWithChildren&&(n.options.hideToolbarWithChildren=!0),this.schema.items&&this.schema.uniqueItems&&t.mergeObject(this.options,{forceRevalidation:!0}),"undefined"==typeof this.data&&(this.data=[]),null==this.data&&(this.data=[]),""==this.data&&(this.data=[]),t.isString(this.data))try{var r=t.parseJSON(this.data);if(!t.isArray(r)&&!t.isObject(r))return void t.logWarn("ArrayField parsed string data but it was not an array: "+this.data);this.data=r}catch(s){this.data=[this.data]}if(!t.isArray(this.data)&&!t.isObject(this.data))return void t.logWarn("ArrayField data is not an array: "+JSON.stringify(this.data,null,"  "));var o=function(e,t,i){var a=n.findAction(e,t);a||(a={core:!0},e.push(a));for(var r in i)a[r]||(a[r]=i[r])},l=function(e,t){var n=0;do"undefined"==typeof e[n].enabled&&(e[n].enabled=!0),t||delete e[n].label,e[n].enabled?n++:e.splice(n,1);while(n<e.length);e.sort(function(e,t){return e.core&&!t.core?-1:!e.core&&t.core?1:0})};if(n.toolbar={},n.options.toolbar)for(var u in n.options.toolbar)n.toolbar[u]=n.options.toolbar[u];if("undefined"==typeof n.toolbar.showLabels&&(n.toolbar.showLabels=!0),n.toolbar.actions||(n.toolbar.actions=[]),o(n.toolbar.actions,"add",{label:n.getMessage("addItemButtonLabel"),action:"add",iconClass:n.view.getStyle("addIcon"),click:function(e,t){n.handleToolBarAddItemClick(function(e){})}}),l(n.toolbar.actions,n.toolbar.showLabels),n.actionbar={},n.options.actionbar)for(var c in n.options.actionbar)n.actionbar[c]=n.options.actionbar[c];"undefined"==typeof n.actionbar.showLabels&&(n.actionbar.showLabels=!1),n.actionbar.actions||(n.actionbar.actions=[]),o(n.actionbar.actions,"add",{label:n.getMessage("addButtonLabel"),action:"add",iconClass:n.view.getStyle("addIcon"),click:function(e,t,i){n.handleActionBarAddItemClick(i,function(e){})}}),o(n.actionbar.actions,"remove",{label:n.getMessage("removeButtonLabel"),action:"remove",iconClass:n.view.getStyle("removeIcon"),click:function(e,t,i){n.handleActionBarRemoveItemClick(i,function(e){})}}),o(n.actionbar.actions,"up",{label:n.getMessage("upButtonLabel"),action:"up",iconClass:n.view.getStyle("upIcon"),click:function(e,t,i){n.handleActionBarMoveItemUpClick(i,function(){})}}),o(n.actionbar.actions,"down",{label:n.getMessage("downButtonLabel"),action:"down",iconClass:n.view.getStyle("downIcon"),click:function(e,t,i){n.handleActionBarMoveItemDownClick(i,function(){})}}),l(n.actionbar.actions,n.actionbar.showLabels);var d=this.data.length,p=e.extend(!0,{},this.data);p.length=d,this.data=Array.prototype.slice.call(p)},setValue:function(e){var n=this;if(e&&t.isArray(e)){var i=0;do if(i<n.children.length){var a=n.children[i];e.length>i?(a.setValue(e[i]),i++):n.removeItem(i)}while(i<n.children.length);i<e.length&&n.resolveItemSchemaOptions(function(a,r,s){if(a||t.logDebug("Unable to resolve schema for item: "+i),s)return t.throwErrorWithCallback("Circular reference detected for schema: "+JSON.stringify(a),n.errorCallback);for(var o=[];i<e.length;){var l=function(e,i){return function(s){n.addItem(e,a,r,i[e],function(){t.nextTick(function(){s()})})}}(i,e[i]);o.push(l),i++}t.series(o,function(){})})}},getContainerValue:function(){if(0===this.children.length&&!this.isRequired())return[];for(var e=[],t=0;t<this.children.length;t++){var n=this.children[t].getValue();n!==n&&(n=void 0),"undefined"!=typeof n&&e.push(n)}return e},createItems:function(e){var n=this,i=[];n.data&&n.data.length>0?n.resolveItemSchemaOptions(function(a,r,s){if(s)return t.throwErrorWithCallback("Circular reference detected for schema: "+JSON.stringify(a),n.errorCallback);for(var o=[],l=0;l<n.data.length;l++){var u=n.data[l],c=function(e,s){return function(o){n.createItem(e,a,r,s,function(e){i.push(e),t.nextTick(function(){o()})})}}(l,u);o.push(c)}t.series(o,function(t){e(i)})}):e(i)},createItem:function(n,i,a,r,s){var o=this;if(o._validateEqualMaxItems()){var l=e("<div></div>");l.alpaca({data:r,options:a,schema:i,view:this.view.id?this.view.id:this.view,connector:this.connector,error:function(e){o.destroy(),o.errorCallback.call(o,e)},notTopLevel:!0,render:function(e,t){e.parent=o,e.path=o.path+"["+n+"]",e.render(null,function(){o.refreshValidationState(),o.updatePathAndName(),o.triggerUpdate(),t&&t()})},postRender:function(n){var i=t.tmpl(o.containerItemTemplateDescriptor,{id:o.getId(),name:n.name,parentFieldId:o.getId(),actionbarStyle:o.options.actionbarStyle,view:o.view,data:r}),a=e(i).find("."+t.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD);return 0===a.length&&e(i).hasClass(t.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD)&&(a=e(i)),0===a.length?void o.errorCallback.call(o,{message:"Cannot find insertion point for field: "+o.getId()}):(e(a).before(n.getFieldEl()),e(a).remove(),n.containerItemEl=i,t.fieldApplyFieldAndChildren(n,function(e){e.hideInitValidationError=!1}),t.isFunction(o.options.items.postRender)&&o.options.items.postRender.call(n,a),void(s&&s(n)))}})}},resolveItemSchemaOptions:function(e){var n,i=this,a=function(t,n,a){i.options.readonly&&(n.readonly=!0),e(t,n,a)};!n&&i.options&&i.options.fields&&i.options.fields.item&&(n=i.options.fields.item),!n&&i.options&&i.options.items&&(n=i.options.items);var r;if(i.schema&&i.schema.items&&(r=i.schema.items),r&&r.$ref){for(var s=r.$ref,o=this,l=[o];o.parent;)o=o.parent,l.push(o);var u=r,c=n;t.loadRefSchemaOptions(o,s,function(e,n){for(var i=0,r=0;r<l.length;r++)l[r].schema&&(l[r].schema.id===s||l[r].schema.id==="#"+s?i++:l[r].schema.$ref===s&&i++);var o=i>10,d={};u&&t.mergeObject(d,u),e&&t.mergeObject(d,e),delete d.id;var p={};c&&t.mergeObject(p,c),n&&t.mergeObject(p,n),t.nextTick(function(){a(d,p,o)})})}else t.nextTick(function(){a(r,n)})},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validateUniqueItems();return n.valueNotUnique={message:i?"":this.getMessage("valueNotUnique"),status:i},i=this._validateMaxItems(),n.tooManyItems={message:i?"":t.substituteTokens(this.getMessage("tooManyItems"),[this.schema.maxItems]),status:i},i=this._validateMinItems(),n.notEnoughItems={message:i?"":t.substituteTokens(this.getMessage("notEnoughItems"),[this.schema.minItems]),status:i},e&&n.valueNotUnique.status&&n.tooManyItems.status&&n.notEnoughItems.status},_validateEqualMaxItems:function(){return this.schema.maxItems&&this.schema.maxItems>=0&&this.getSize()>=this.schema.maxItems?!1:!0},_validateEqualMinItems:function(){return this.schema.minItems&&this.schema.minItems>=0&&this.getSize()<=this.schema.minItems?!1:!0},_validateMinItems:function(){return this.schema.minItems&&this.schema.minItems>=0&&this.getSize()<this.schema.minItems?!1:!0},_validateMaxItems:function(){return this.schema.maxItems&&this.schema.maxItems>=0&&this.getSize()>this.schema.maxItems?!1:!0},_validateUniqueItems:function(){if(this.schema.items&&this.schema.uniqueItems)for(var e={},t=0;t<this.children.length;t++){var n=this.children[t].getValue();if(n||(n=""),e[n])return!1;e[n]=!0}return!0},findAction:function(t,n){var i=null;return e.each(t,function(e,t){t.action==n&&(i=t)}),i},postRender:function(e){var t=this;this.base(function(){t.updateToolbars(),e()})},getSize:function(){return this.children.length},updatePathAndName:function(){var n=function(i){i.children&&e.each(i.children,function(a,r){i.prePath&&t.startsWith(r.path,i.prePath)&&(r.prePath=r.path,r.path=r.path.replace(i.prePath,i.path)),i.preName&&t.startsWith(r.name,i.preName)&&(r.preName=r.name,r.name=r.name.replace(i.preName,i.name),r.field&&e(r.field).attr("name",r.name)),n(r)})};this.children&&this.children.length>0&&e.each(this.children,function(t,i){var a=i.path.lastIndexOf("/"),r=i.path.substring(a+1);r.indexOf("[")<0&&r.indexOf("]")<0&&(r=r.substring(r.indexOf("[")+1,r.indexOf("]"))),r!==t&&(i.prePath=i.path,i.path=i.path.substring(0,a)+"/["+t+"]"),i.nameCalculated&&(i.preName=i.name,i.parent&&i.parent.name&&i.path?i.name=i.parent.name+"_"+t:i.path&&(i.name=i.path.replace(/\//g,"").replace(/\[/g,"_").replace(/\]/g,"")),this.parent.options.rubyrails?e(i.field).attr("name",i.parent.name):e(i.field).attr("name",i.name)),i.prePath||(i.prePath=i.path),n(i)})},updateToolbars:function(){var t=this;if("display"!==this.view.type&&!this.schema.readonly){t.toolbar&&(t.fireCallback("arrayToolbar",!0),t.fireCallback("arrayToolbar")),t.actionbar&&(t.fireCallback("arrayActionbars",!0),t.fireCallback("arrayActionbars"));var n=e(this.getFieldEl()).find(".alpaca-array-toolbar[data-alpaca-array-toolbar-field-id='"+t.getId()+"']");if(this.children.length>0&&t.options.hideToolbarWithChildren?e(n).hide():(e(n).show(),e(n).find("[data-alpaca-array-toolbar-action]").each(function(){var n=e(this).attr("data-alpaca-array-toolbar-action"),i=t.findAction(t.toolbar.actions,n);i&&e(this).off().click(function(e){e.preventDefault(),i.click.call(t,n,i)})})),"undefined"==typeof this.options.toolbarSticky||null===this.options.toolbarSticky){var i=this.getFieldEl().find(".alpaca-container-item[data-alpaca-container-item-parent-field-id='"+t.getId()+"']");e(i).each(function(n){var i=e(t.getFieldEl()).find(".alpaca-array-actionbar[data-alpaca-array-actionbar-parent-field-id='"+t.getId()+"'][data-alpaca-array-actionbar-item-index='"+n+"']");i&&i.length>0&&(e(this).hover(function(){e(i).show()},function(){e(i).hide()}),e(i).hide())})}else this.options.toolbarSticky?e(t.getFieldEl()).find(".alpaca-array-actionbar[data-alpaca-array-actionbar-parent-field-id='"+t.getId()+"']").show():this.options.toolbarSticky||e(t.getFieldEl()).find(".alpaca-array-actionbar[data-alpaca-array-actionbar-parent-field-id='"+t.getId()+"']").hide();var a=e(t.getFieldEl()).find(".alpaca-array-actionbar[data-alpaca-array-actionbar-parent-field-id='"+t.getId()+"']");e(a).each(function(){var n=e(this).attr("data-alpaca-array-actionbar-item-index");"string"==typeof n&&(n=parseInt(n,10)),e(this).find("[data-alpaca-array-actionbar-action]").each(function(){var i=e(this).attr("data-alpaca-array-actionbar-action"),a=t.findAction(t.actionbar.actions,i);a&&e(this).off().click(function(e){e.preventDefault(),a.click.call(t,i,a,n)})}),t._validateEqualMaxItems()?(e(this).find("[data-alpaca-array-toolbar-action='add']").each(function(n){e(this).removeClass("alpaca-button-disabled"),t.fireCallback("enableButton",this)}),e(this).find("[data-alpaca-array-actionbar-action='add']").each(function(n){e(this).removeClass("alpaca-button-disabled"),t.fireCallback("enableButton",this)})):(e(this).find("[data-alpaca-array-toolbar-action='add']").each(function(n){e(this).addClass("alpaca-button-disabled"),t.fireCallback("disableButton",this)}),e(this).find("[data-alpaca-array-actionbar-action='add']").each(function(n){e(this).addClass("alpaca-button-disabled"),t.fireCallback("disableButton",this)})),t._validateEqualMinItems()?e(this).find("[data-alpaca-array-actionbar-action='remove']").each(function(n){e(this).removeClass("alpaca-button-disabled"),t.fireCallback("enableButton",this)}):e(this).find("[data-alpaca-array-actionbar-action='remove']").each(function(n){e(this).addClass("alpaca-button-disabled"),t.fireCallback("disableButton",this)})}),e(a).first().find("[data-alpaca-array-actionbar-action='up']").each(function(){e(this).addClass("alpaca-button-disabled"),t.fireCallback("disableButton",this)}),e(a).last().find("[data-alpaca-array-actionbar-action='down']").each(function(){e(this).addClass("alpaca-button-disabled"),t.fireCallback("disableButton",this)})}},doResolveItemContainer:function(){var t=this;return e(t.container)},handleToolBarAddItemClick:function(e){var n=this;n.resolveItemSchemaOptions(function(i,a,r){if(r)return t.throwErrorWithCallback("Circular reference detected for schema: "+JSON.stringify(i),n.errorCallback);var s=n.children.length,o=t.createEmptyDataInstance(i);n.addItem(s,i,a,o,function(t){e&&e(t)})})},handleActionBarAddItemClick:function(e,n){var i=this;i.resolveItemSchemaOptions(function(a,r,s){if(s)return t.throwErrorWithCallback("Circular reference detected for schema: "+JSON.stringify(a),i.errorCallback);var o=t.createEmptyDataInstance(a);i.addItem(e+1,a,r,o,function(e){n&&n(e)})})},handleActionBarRemoveItemClick:function(e,t){var n=this;n.removeItem(e,function(){t&&t()})},handleActionBarMoveItemUpClick:function(e,t){var n=this;n.moveItem(e,e-1,n.options.animate,function(){t&&t()})},handleActionBarMoveItemDownClick:function(e,t){var n=this;n.moveItem(e,e+1,n.options.animate,function(){t&&t()})},doAddItem:function(t,n){var i=this,a=i.doResolveItemContainer();if(0===t)e(a).append(n.containerItemEl);else{var r=a.children("[data-alpaca-container-item-index='"+(t-1)+"']");r&&r.length>0&&r.after(n.containerItemEl)}i.doAfterAddItem(n)},doAfterAddItem:function(e){},addItem:function(e,t,n,i,a){var r=this;r._validateEqualMaxItems()&&r.createItem(e,t,n,i,function(t){r.registerChild(t,e),r.doAddItem(e,t),r.handleRepositionDOMRefresh(),r.updateToolbars(),r.refreshValidationState(),r.trigger("add",t),r.triggerUpdate(),t.triggerWithPropagation.call(t,"ready","down"),a&&a(t)})},doRemoveItem:function(e){var t=this,n=t.doResolveItemContainer();n.children(".alpaca-container-item[data-alpaca-container-item-index='"+e+"']").remove()},removeItem:function(e,t){var n=this;this._validateEqualMinItems()&&(n.unregisterChild(e),n.doRemoveItem(e),n.handleRepositionDOMRefresh(),n.updateToolbars(),n.refreshValidationState(),n.trigger("remove",e),n.triggerUpdate(),t&&t())},moveItem:function(n,i,a,r){var s=this;if("function"==typeof a&&(r=a,a=s.options.animate),"undefined"==typeof a&&(a=s.options.animate?s.options.animate:!0),"string"==typeof n&&(n=parseInt(n,10)),"string"==typeof i&&(i=parseInt(i,10)),0>i&&(i=0),i>=s.children.length&&(i=s.children.length-1),-1!==i&&n!==i){var o=s.children[i];if(o){var l=s.getId(),u=s.getContainerEl().find(".alpaca-container-item[data-alpaca-container-item-index='"+n+"'][data-alpaca-container-item-parent-field-id='"+l+"']"),c=s.getContainerEl().find(".alpaca-container-item[data-alpaca-container-item-index='"+i+"'][data-alpaca-container-item-parent-field-id='"+l+"']"),d=e("<div class='tempMarker1'></div>");u.before(d);var p=e("<div class='tempMarker2'></div>");c.before(p);var h=function(){for(var t=[],a=0;a<s.children.length;a++)a===n?t[a]=s.children[i]:a===i?t[a]=s.children[n]:t[a]=s.children[a];s.children=t,d.replaceWith(c),p.replaceWith(u),s.handleRepositionDOMRefresh(),e(u).find(".alpaca-container-item[data-alpaca-array-actionbar-item-index='"+n+"'][data-alpaca-container-item-parent-field-id='"+s.getId()+"']").attr("data-alpaca-array-actionbar-item-index",i),e(c).find(".alpaca-container-item[data-alpaca-array-actionbar-item-index='"+i+"'][data-alpaca-container-item-parent-field-id='"+s.getId()+"']").attr("data-alpaca-array-actionbar-item-index",n),s.updateToolbars(),s.refreshValidationState(),s.triggerUpdate(),s.trigger("move"),r&&r()},f=0;a&&(f=500),t.animatedSwap(u,c,f,function(){h()})}}},getType:function(){return"array"},getTitle:function(){return"Array Field"},getDescription:function(){return"Field for list of items with same data type or structure."},getSchemaOfSchema:function(){var e={properties:{items:{title:"Array Items",description:"Schema for array items.",type:"object"},minItems:{title:"Minimum Items",description:"Minimum number of items.",type:"number"},maxItems:{title:"Maximum Items",description:"Maximum number of items.",type:"number"},uniqueItems:{title:"Items Unique",description:"Item values should be unique if true.",type:"boolean","default":!1}}};return this.children&&this.children[0]&&t.merge(e.properties.items.properties,this.children[0].getSchemaOfSchema()),t.merge(this.base(),e)},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{items:{type:"object"},minItems:{type:"integer"},maxItems:{type:"integer"},uniqueItems:{type:"checkbox"}}})},getSchemaOfOptions:function(){var e={properties:{toolbarSticky:{title:"Sticky Toolbar",description:"If true, the array item toolbar will always be enabled.  If false, the toolbar is always disabled.  If undefined or null, the toolbar will appear when hovered over.",type:"boolean","default":void 0},toolbarStyle:{title:"Toolbar Style",description:"The kind of top-level toolbar to render for the array field.  Either 'button' or 'link'.",type:"string","default":"button"},actionbarStyle:{title:"Actionbar Style",description:"The kind of actionbar to render for each item in the array.  Either 'top', 'bottom', 'left', or 'right'.",type:"string","default":"top"},toolbar:{type:"object",title:"Toolbar Configuration",properties:{showLabels:{type:"boolean","default":!0,title:"Whether to show labels next to actions"},actions:{type:"array",title:"Toolbar Actions Configuration",items:{action:{type:"string",title:"Action Key"},label:{type:"string",title:"Action Label"},iconClass:{type:"string",title:"Action CSS Classes for Icon"},click:{type:"function",title:"Action Click Handler"},enabled:{type:"boolean",title:"Whether to enable the action","default":!0}}}}},actionbar:{type:"object",properties:{showLabels:{type:"boolean","default":!1,title:"Whether to show labels next to actions"},actions:{type:"array",title:"Actions Bar Actions Configuration",items:{action:{type:"string",title:"Action Key"},label:{type:"string",title:"Action Label"},iconClass:{type:"string",title:"Action CSS Classes for Icon"},click:{type:"function",title:"Action Click Handler"},enabled:{type:"boolean",title:"Whether to enable the action","default":!0}}}}},hideToolbarWithChildren:{type:"boolean",title:"Hide Toolbar with Children",description:"Indicates whether to hide the top toolbar when child elements are available.","default":!0}}};return this.children&&this.children[0]&&t.merge(e.properties.items.properties,this.children[0].getSchemaOfSchema()),t.merge(this.base(),e)},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{toolbarSticky:{type:"checkbox"},items:{type:"object",fields:{}}}})}}),t.registerMessages({notEnoughItems:"The minimum number of items is {0}",tooManyItems:"The maximum number of items is {0}",valueNotUnique:"Values are not unique",notAnArray:"This value is not an Array"}),t.registerFieldClass("array",t.Fields.ArrayField),t.registerDefaultSchemaFieldMapping("array","array"),t.registerMessages({addItemButtonLabel:"Add New Item",addButtonLabel:"Add",removeButtonLabel:"Remove",upButtonLabel:"Up",downButtonLabel:"Down"})}(jQuery),function(e){var t=e.alpaca;t.Fields.ObjectField=t.ContainerField.extend({getFieldType:function(){return"object"},setup:function(){var e=this;this.base();var n=e.resolveContainerItemTemplateType();if(!n){e.resolveContainerItemTemplateType();return t.throwErrorWithCallback("Unable to find template descriptor for container item: "+e.getFieldType())}if(this.containerItemTemplateDescriptor=e.view.getTemplateDescriptor("container-"+n+"-item",e),!t.isEmpty(this.data)&&""!==this.data&&!t.isObject(this.data)){if(!t.isString(this.data))return;try{if(this.data=t.parseJSON(this.data),!t.isObject(this.data))return void t.logWarn("ObjectField parsed data but it was not an object: "+JSON.stringify(this.data))}catch(i){return}}},setValue:function(e){if(e||(e={}),t.isObject(e)){var n={};for(var i in this.childrenById){var a=this.childrenById[i].propertyId;n[a]=this.childrenById[i]}var r={};for(var s in e)e.hasOwnProperty(s)&&(r[s]=e[s]);for(var a in r){var o=n[a];o&&(o.setValue(r[a]),delete n[a],delete r[a])}for(var a in n){var o=n[a];o.setValue(null)}}},getContainerValue:function(){if(0===this.children.length&&!this.isRequired())return{};for(var e={},n=0;n<this.children.length;n++){var i=this.children[n].propertyId,a=this.children[n].getValue();if(a!==a&&(a=void 0),"undefined"!=typeof a&&this.determineAllDependenciesValid(i)){var r=null;"boolean"==typeof a?r=a?!0:!1:t.isArray(a)||t.isObject(a)||t.isNumber(a)?r=a:(a||0===a)&&(r=a),null!==r&&(e[i]=r)}}return e},afterRenderContainer:function(e,n){var i=this;this.base(e,function(){if(i.isTopLevel()&&i.view){i.wizardConfigs=i.view.getWizard(),"undefined"!=typeof i.wizardConfigs&&(i.wizardConfigs&&i.wizardConfigs!==!0||(i.wizardConfigs={}));var e=i.view.getLayout().templateDescriptor;i.wizardConfigs&&t.isObject(i.wizardConfigs)&&(!e||i.wizardConfigs.bindings?i.autoWizard():i.wizard())}n()})},createItems:function(e){var n=this,i=[],a={};for(var r in n.data)a[r]=r;var s=n.data;n.schema&&n.schema.properties&&(s=n.schema.properties);var o=function(){var n=[];for(var r in a)n.push(r);n.length>0&&t.logDebug("There were "+n.length+" extra data keys that were not part of the schema "+JSON.stringify(n)),e(i)},l=[];for(var u in s){var c=null;n.data&&n.data.hasOwnProperty(u)&&(c=n.data[u]);var d=function(e,a,r){return function(s){n.resolvePropertySchemaOptions(e,function(o,l,u){return u?t.throwErrorWithCallback("Circular reference detected for schema: "+JSON.stringify(o),n.errorCallback):(o||t.logDebug("Unable to resolve schema for property: "+e),void n.createItem(e,o,l,a,null,function(n){i.push(n),delete r[e],t.nextTick(function(){s()})}))})}}(u,c,a);l.push(d)}t.series(l,function(e){for(var t=!1,n=0;n<i.length;n++)if("undefined"!=typeof i[n].options.order){t=!0;break}t&&i.sort(function(e,t){var n=e.options.order;n||(n=0);var i=t.options.order;return i||(i=0),n-i}),o()})},createItem:function(n,i,a,r,s,o){var l=this,u=e("<div></div>");u.alpaca({data:r,options:a,schema:i,view:this.view.id?this.view.id:this.view,connector:this.connector,error:function(e){l.destroy(),l.errorCallback.call(l,e)},notTopLevel:!0,render:function(e,t){e.parent=l,e.propertyId=n,"/"!==l.path?e.path=l.path+"/"+n:e.path=l.path+n,e.render(null,function(){t()})},postRender:function(n){var i=t.tmpl(l.containerItemTemplateDescriptor,{id:l.getId(),name:n.name,parentFieldId:l.getId(),actionbarStyle:l.options.actionbarStyle,view:l.view,data:r}),a=e(i).find("."+t.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD);return 0===a.length&&e(i).hasClass(t.MARKER_CLASS_CONTAINER_FIELD_ITEM_FIELD)&&(a=e(i)),0===a.length?void l.errorCallback.call(l,{message:"Cannot find insertion point for field: "+l.getId()}):(e(a).before(n.getFieldEl()),e(a).remove(),n.containerItemEl=i,t.fieldApplyFieldAndChildren(n,function(e){e.hideInitValidationError=!1}),void(o&&o(n)))}})},resolvePropertySchemaOptions:function(e,n){var i=this,a=function(e,t,a){i.options.readonly&&(t.readonly=!0),n(e,t,a)},r=null;i.schema&&i.schema.properties&&i.schema.properties[e]&&(r=i.schema.properties[e]);var s={};if(i.options&&i.options.fields&&i.options.fields[e]&&(s=i.options.fields[e]),r&&r.$ref){for(var o=r.$ref,l=this,u=[l];l.parent;)l=l.parent,u.push(l);var c=r,d=s;t.loadRefSchemaOptions(l,o,function(e,n){for(var i=0,r=0;r<u.length;r++)u[r].schema&&(u[r].schema.id===o||u[r].schema.id==="#"+o?i++:u[r].schema.$ref===o&&i++);var s=i>1,l={};c&&t.mergeObject(l,c),e&&t.mergeObject(l,e),c&&c.id&&(l.id=c.id);var p={};d&&t.mergeObject(p,d),n&&t.mergeObject(p,n),t.nextTick(function(){a(l,p,s)})})}else t.nextTick(function(){a(r,s)})},applyCreatedItems:function(e,t){var n=this;this.base(e,function(){var i=function(a){if(a===e.items.length)return void t();var r=e.items[a],s=r.propertyId;n.showOrHidePropertyBasedOnDependencies(s),n.bindDependencyFieldUpdateEvent(s),n.refreshDependentFieldStates(s),i(a+1)};i(0)})},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validateMaxProperties();return n.tooManyProperties={message:i?"":t.substituteTokens(this.getMessage("tooManyProperties"),[this.schema.maxProperties]),status:i},i=this._validateMinProperties(),n.tooFewProperties={message:i?"":t.substituteTokens(this.getMessage("tooManyItems"),[this.schema.minProperties]),status:i},e&&n.tooManyProperties.status&&n.tooFewProperties.status},_validateMaxProperties:function(){if("undefined"==typeof this.schema.maxProperties)return!0;var e=this.schema.maxProperties,t=0;for(var n in this.data)t++;return e>=t},_validateMinProperties:function(){if("undefined"==typeof this.schema.minProperties)return!0;var e=this.schema.minProperties,t=0;for(var n in this.data)t++;return t>=e},showOrHidePropertyBasedOnDependencies:function(e){var n=this,i=this.childrenByPropertyId[e];if(!i)return t.throwErrorWithCallback("Missing property: "+e,n.errorCallback);var a=this.determineAllDependenciesValid(e);a?(i.show(),i.onDependentReveal()):(i.hide(),i.onDependentConceal()),i.getFieldEl().trigger("fieldupdate")},getChildDependencies:function(e){var t=null;if(this.schema.dependencies&&(t=this.schema.dependencies[e]),!t){var n=this.childrenByPropertyId[e];n&&(t=n.schema.dependencies)}return t},getChildConditionalDependencies:function(e){var t=null,n=this.childrenByPropertyId[e];return n&&(t=n.options.dependencies),t},determineAllDependenciesValid:function(n){var i=this,a=this.childrenByPropertyId[n];if(!a)return t.throwErrorWithCallback("Missing property: "+n,i.errorCallback);var r=i.getChildDependencies(n);if(!r)return!0;var s=!0;return t.isString(r)?s=i.determineSingleDependencyValid(n,r):t.isArray(r)&&e.each(r,function(e,t){s=s&&i.determineSingleDependencyValid(n,t)}),s},bindDependencyFieldUpdateEvent:function(n){var i=this,a=this.childrenByPropertyId[n];if(!a)return t.throwErrorWithCallback("Missing property: "+n,i.errorCallback);var r=i.getChildDependencies(n);if(!r)return!0;var s=function(e,n){var r=t.resolveField(i,n);r&&(r.getFieldEl().bind("fieldupdate",function(e,t,n,a){return function(t){i.showOrHidePropertyBasedOnDependencies(n),e.getFieldEl().trigger("fieldupdate")}}(a,r,e,n)),r.getFieldEl().trigger("fieldupdate"))};t.isString(r)?s(n,r):t.isArray(r)&&e.each(r,function(e,t){s(n,t)})},refreshDependentFieldStates:function(n){var i=this,a=this.childrenByPropertyId[n];if(!a)return t.throwErrorWithCallback("Missing property: "+n,i.errorCallback);var r=i.getChildDependencies(n);if(!r)return!0;var s=function(e){var n=t.resolveField(i,e);n&&n.getFieldEl().trigger("fieldupdate")};t.isString(r)?s(r):t.isArray(r)&&e.each(r,function(e,t){s(t)})},determineSingleDependencyValid:function(e,n){var i=this,a=t.resolveField(i,n);if(!a)return!1;var r=a.data,s=!1,o=this.getChildConditionalDependencies(e);if(o&&0!==o.length){"boolean"!==a.getType()||r||(r=!1);var l=o[n];!t.isEmpty(l)&&t.isFunction(l)?s=l.call(this,r):(s=!0,t.isArray(l)?t.anyEquality(r,l)||(s=!1):t.isEmpty(l)||t.anyEquality(l,r)||(s=!1))}else s="boolean"!==a.getType()||this.childrenByPropertyId[e].options.dependencies||r?!t.isValEmpty(a.data):!1;return a&&a.isHidden()&&(s=!1),s},getIndex:function(e){if(t.isEmpty(e))return-1;for(var n=0;n<this.children.length;n++){var i=this.children[n].propertyId;if(i==e)return n}return-1},addItem:function(e,t,n,i,a,r){var s=this;this.createItem(e,t,n,i,a,function(e){var t=null;if(a&&s.childrenById[a])for(var n=0;n<s.children.length;n++)if(s.children[n].getId()==a){t=n;break}s.registerChild(e,null!=t?t+1:null),s.doAddItem(t,e),s.handleRepositionDOMRefresh(),s.refreshValidationState(!0,function(){s.trigger("add",e),s.triggerUpdate(),e.triggerWithPropagation.call(e,"ready","down"),r&&r()})})},doAddItem:function(t,n){var i=this;if(t){var a=i.getContainerEl().children("[data-alpaca-container-item-index='"+t+"']");a&&a.length>0&&a.after(n.containerItemEl)}else e(i.container).append(n.containerItemEl);i.doAfterAddItem(n)},doAfterAddItem:function(e){},doResolveItemContainer:function(){var t=this;return e(t.container)},removeItem:function(t,n){var i=this,a=this.childrenByPropertyId[t];a?(this.children=e.grep(this.children,function(e,n){return e.propertyId!==t}),delete this.childrenByPropertyId[t],delete this.childrenById[a.getId()],i.doRemoveItem(a),this.refreshValidationState(!0,function(){i.handleRepositionDOMRefresh(),i.trigger("remove",a),i.triggerUpdate(),n&&n()})):n()},doRemoveItem:function(e){var t=this,n=t.doResolveItemContainer();n.children(".alpaca-container-item[data-alpaca-container-item-name='"+e.name+"']").remove(),e.destroy()},wizard:function(){var n=this,i=this.wizardConfigs.steps;i||(i=[]);var a=this.wizardConfigs.title,r=this.wizardConfigs.description,s=this.wizardConfigs.buttons;s||(s={}),s.previous||(s.previous={}),s.previous.title||(s.previous.title="Previous"),s.previous.align||(s.previous.align="left"),s.previous.type||(s.previous.type="button"),s.next||(s.next={}),s.next.title||(s.next.title="Next"),s.next.align||(s.next.align="right"),s.next.type||(s.next.type="button"),this.wizardConfigs.hideSubmitButton||(s.submit||(s.submit={}),s.submit.title||(s.submit.title="Submit"),s.submit.align||(s.submit.align="right"),s.submit.type||(s.submit.type="button"));for(var o in s)s[o].type||(s[o].type="button");var l=this.wizardConfigs.showSteps;"undefined"==typeof l&&(l=!0);var u=this.wizardConfigs.showProgressBar,c=this.wizardConfigs.validation;"undefined"==typeof c&&(c=!0);var a=e(this.field).attr("data-alpaca-wizard-title"),r=e(this.field).attr("data-alpaca-wizard-description"),d=e(this.field).attr("data-alpaca-wizard-validation");
"undefined"!=typeof d&&(c=d?!0:!1);var p=e(this.field).attr("data-alpaca-wizard-show-steps");"undefined"!=typeof p&&(l=p?!0:!1);var h=e(this.field).attr("data-alpaca-wizard-show-progress-bar");"undefined"!=typeof h&&(u=h?!0:!1);var f=e(this.field).find("[data-alpaca-wizard-role='step']");0==i.length&&f.each(function(t){var n={},a=e(this).attr("data-alpaca-wizard-step-title");"undefined"!=typeof a&&(n.title=a),n.title||(n.title="Step "+t);var r=e(this).attr("data-alpaca-wizard-step-description");"undefined"!=typeof r&&(n.description=r),n.description||(n.description="Step "+t),i.push(n)}),"undefined"==typeof u&&i.length>1&&(u=!0);var m={};m.wizardTitle=a,m.wizardDescription=r,m.showSteps=l,m.performValidation=c,m.steps=i,m.buttons=s,m.schema=n.schema,m.options=n.options,m.data=n.data,m.showProgressBar=u,m.markAllStepsVisited=this.wizardConfigs.markAllStepsVisited,m.view=n.view;var g=n.view.getTemplateDescriptor("wizard",n);if(g){var v=t.tmpl(g,m);e(n.field).append(v);var b=e(v).find(".alpaca-wizard-nav"),y=e(v).find(".alpaca-wizard-steps"),w=e(v).find(".alpaca-wizard-buttons"),x=e(v).find(".alpaca-wizard-progress-bar");e(y).append(f),function(i,a,r,s){var o=0,l=e(r).find("[data-alpaca-wizard-button-key='previous']"),u=e(r).find("[data-alpaca-wizard-button-key='next']"),c=e(r).find("[data-alpaca-wizard-button-key='submit']"),d=function(){if(s.showSteps){if(s.visits||(s.visits={}),s.markAllStepsVisited)for(var t=e(i).find("[data-alpaca-wizard-step-index]"),n=0;n<t.length;n++)s.visits[n]=!0;s.visits[o]=!0;var t=e(i).find("[data-alpaca-wizard-step-index]");e(t).removeClass("disabled"),e(t).removeClass("completed"),e(t).removeClass("active"),e(t).removeClass("visited");for(var n=0;n<t.length;n++)o>n?e(i).find("[data-alpaca-wizard-step-index='"+n+"']").addClass("completed"):n===o?e(i).find("[data-alpaca-wizard-step-index='"+n+"']").addClass("active"):s.visits&&s.visits[n]||e(i).find("[data-alpaca-wizard-step-index='"+n+"']").addClass("disabled"),s.visits&&s.visits[n]&&e(i).find("[data-alpaca-wizard-step-index='"+n+"']").addClass("visited")}if(s.showProgressBar){var r=o+1,d=s.steps.length+1,p=parseInt(r/d*100,10)+"%";e(x).find(".progress-bar").attr("aria-valuemax",d),e(x).find(".progress-bar").attr("aria-valuenow",r),e(x).find(".progress-bar").css("width",p)}l.hide(),u.hide(),c.hide(),1==s.steps.length?c.show():s.steps.length>1&&(o>0&&l.show(),u.show(),0==o?u.show():o==s.steps.length-1&&(u.hide(),c.show())),e(a).find("[data-alpaca-wizard-role='step']").hide(),e(e(a).find("[data-alpaca-wizard-role='step']")[o]).show()},p=function(i,r){if(!s.performValidation)return void r(!0);var l=[],u=e(e(a).find("[data-alpaca-wizard-role='step']")[o]);e(u).find(".alpaca-field").each(function(){var t=e(this).attr("data-alpaca-field-id");if(t){var i=n.childrenById[t];i&&l.push(i)}});for(var c=[],d=0;d<l.length;d++)c.push(function(e){return function(t){e.refreshValidationState(!0,function(){t()})}}(l[d]));t.series(c,function(){for(var e=!0,t=0;t<l.length;t++)e=e&&l[t].isValid(!0);var a=s.buttons[i];a&&a.validate?a.validate.call(n,function(t){e=e&&t,r(e)}):r(e)})};e(l).click(function(e){if(e.preventDefault(),o>=1){var t=s.buttons.previous;t&&t.click&&t.click.call(n,e),o--,d()}}),e(u).click(function(e){e.preventDefault(),o+1<=s.steps.length-1&&p("next",function(t){if(t){var i=s.buttons.next;i&&i.click&&i.click.call(n,e),o++,d()}else window.setTimeout(function(){n.focus(function(e){})},250)})}),e(c).click(function(e){e.preventDefault(),o===s.steps.length-1&&p("submit",function(t){if(t){var i=s.buttons.submit;i&&(i.click?i.click.call(n,e):n.form&&n.form.submit())}else window.setTimeout(function(){n.focus(function(e){})},250)})}),e(r).find("[data-alpaca-wizard-button-key]").each(function(){var t=e(this).attr("data-alpaca-wizard-button-key");if("submit"!=t&&"next"!=t&&"previous"!=t){var i=s.buttons[t];i&&i.click&&e(this).click(function(e){return function(t){e.click.call(n,t)}}(i))}}),e(i).find("[data-alpaca-wizard-step-index]").click(function(t){t.preventDefault();var n=e(this).attr("data-alpaca-wizard-step-index");n&&(n=parseInt(n,10),(n==o||s.visits&&s.visits[n])&&(o>n?(o=n,d()):n>o&&p(null,function(e){e&&(o=n,d())})))}),n.on("moveToStep",function(e){var t=e.index,n=e.skipValidation;"undefined"!=typeof t&&t<=s.steps.length-1&&(n?(o=t,d()):p(null,function(e){e&&(o=t,d())}))}),n.on("advanceOrSubmit",function(t){p(null,function(t){t&&(o===s.steps.length-1?e(c).click():e(u).click())})}),d()}(b,y,w,m)}},autoWizard:function(){var t=this.wizardConfigs.bindings;t||(t={});for(var n in this.childrenByPropertyId)t.hasOwnProperty(n)||(t[n]=1);var i=!0;e(this.field).find("[data-alpaca-wizard-role='step']").length>0&&(i=!1);var a=1,r=[];do{r=[];for(var n in t)t[n]===a&&this.childrenByPropertyId&&this.childrenByPropertyId[n]&&r.push(this.childrenByPropertyId[n]);if(r.length>0){var s=null;i?(s=e('<div data-alpaca-wizard-role="step"></div>'),e(this.field).append(s)):s=e(e(this.field).find("[data-alpaca-wizard-role='step']")[a-1]);for(var o=!1,l=0;l<r.length;l++)if("undefined"!=typeof r[l].options.order){o=!0;break}o&&r.sort(function(e,t){var n=e.options.order;n||(n=0);var i=t.options.order;return i||(i=0),n-i});for(var l=0;l<r.length;l++)e(s).append(r[l].containerItemEl);a++}}while(r.length>0);this.wizard(),0===e(this.container).children().length&&e(this.container).css("display","none")},getType:function(){return"object"},moveItem:function(n,i,a,r){var s=this;if("function"==typeof a&&(r=a,a=s.options.animate),"undefined"==typeof a&&(a=s.options.animate?s.options.animate:!0),"string"==typeof n&&(n=parseInt(n,10)),"string"==typeof i&&(i=parseInt(i,10)),0>i&&(i=0),i>=s.children.length&&(i=s.children.length-1),-1!==i){var o=s.children[i];if(o){var l=s.getContainerEl().children("[data-alpaca-container-item-index='"+n+"']"),u=s.getContainerEl().children("[data-alpaca-container-item-index='"+i+"']"),c=e("<div class='tempMarker1'></div>");l.before(c);var d=e("<div class='tempMarker2'></div>");u.before(d);var p=function(){for(var t=[],a=0;a<s.children.length;a++)a===n?t[a]=s.children[i]:a===i?t[a]=s.children[n]:t[a]=s.children[a];s.children=t,c.replaceWith(u),d.replaceWith(l),s.handleRepositionDOMRefresh(),e(l).find("[data-alpaca-array-actionbar-item-index='"+n+"']").attr("data-alpaca-array-actionbar-item-index",i),e(u).find("[data-alpaca-array-actionbar-item-index='"+i+"']").attr("data-alpaca-array-actionbar-item-index",n),s.refreshValidationState(),s.triggerUpdate(),s.trigger("move"),r&&r()};a?t.animatedSwap(l,u,500,function(){p()}):p()}}},getTitle:function(){return"Object Field"},getDescription:function(){return"Object field for containing other fields"},getSchemaOfSchema:function(){var e={properties:{properties:{title:"Properties",description:"List of child properties.",type:"object"},maxProperties:{type:"number",title:"Maximum Number Properties",description:"The maximum number of properties that this object is allowed to have"},minProperties:{type:"number",title:"Minimum Number of Properties",description:"The minimum number of properties that this object is required to have"}}},n=e.properties.properties;if(n.properties={},this.children)for(var i=0;i<this.children.length;i++){var a=this.children[i].propertyId;n.properties[a]=this.children[i].getSchemaOfSchema(),n.properties[a].title=a+" :: "+n.properties[a].title}return t.merge(this.base(),e)},getSchemaOfOptions:function(){var e=t.merge(this.base(),{properties:{},order:{type:"number",title:"Order",description:"Allows for optional specification of the index of this field in the properties array."}}),n={properties:{fields:{title:"Field Options",description:"List of options for child fields.",type:"object"}}},i=n.properties.fields;if(i.properties={},this.children)for(var a=0;a<this.children.length;a++){var r=this.children[a].propertyId;i.properties[r]=this.children[a].getSchemaOfOptions(),i.properties[r].title=r+" :: "+i.properties[r].title}return t.merge(e,n)}}),t.registerMessages({tooManyProperties:"The maximum number of properties ({0}) has been exceeded.",tooFewProperties:"There are not enough properties ({0} are required)"}),t.registerFieldClass("object",t.Fields.ObjectField),t.registerDefaultSchemaFieldMapping("object","object")}(jQuery),function(e){var t=e.alpaca;t.Fields.AnyField=t.ControlField.extend({getFieldType:function(){return"any"},setup:function(){this.base()},getControlValue:function(){return this._getControlVal(!0)},setValue:function(e){t.isEmpty(e)?this.control.val(""):this.control.val(e),this.base(e)},disable:function(){this.control.disabled=!0},enable:function(){this.control.disabled=!1},focus:function(e){this.control.focus(),e&&e(this)},getType:function(){return"any"},getTitle:function(){return"Any Field"},getDescription:function(){return"Any field."},getSchemaOfSchema:function(){return t.merge(this.base(),{properties:{}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{}})}}),t.registerFieldClass("any",t.Fields.AnyField),t.registerDefaultSchemaFieldMapping("any","any")}(jQuery),function(e){var t=e.alpaca;t.Fields.HiddenField=t.ControlField.extend({getFieldType:function(){return"hidden"},setup:function(){this.base()},getControlValue:function(){return this._getControlVal(!0)},setValue:function(e){t.isEmpty(e)?this.getControlEl().val(""):this.getControlEl().val(e),this.base(e)},getType:function(){return"string"},getTitle:function(){return"Hidden"},getDescription:function(){return"Field for a hidden HTML input"}}),t.registerFieldClass("hidden",t.Fields.HiddenField)}(jQuery),function(e){var t=e.alpaca;t.Fields.AddressField=t.Fields.ObjectField.extend({getFieldType:function(){return"address"},setup:function(){this.base(),void 0===this.data&&(this.data={street:["",""]}),this.schema={title:"Home Address",type:"object",properties:{street:{title:"Street",type:"array",items:{type:"string",maxLength:30,minItems:0,maxItems:3}},city:{title:"City",type:"string"},state:{title:"State",type:"string","enum":["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"]},zip:{title:"Zip Code",type:"string",pattern:/^(\d{5}(-\d{4})?)?$/}}},t.merge(this.options,{fields:{zip:{maskString:"99999",size:5},state:{optionLabels:["ALABAMA","ALASKA","AMERICANSAMOA","ARIZONA","ARKANSAS","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICTOFCOLUMBIA","FEDERATEDSTATESOFMICRONESIA","FLORIDA","GEORGIA","GUAM","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MARSHALLISLANDS","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEWHAMPSHIRE","NEWJERSEY","NEWMEXICO","NEWYORK","NORTHCAROLINA","NORTHDAKOTA","NORTHERNMARIANAISLANDS","OHIO","OKLAHOMA","OREGON","PALAU","PENNSYLVANIA","PUERTORICO","RHODEISLAND","SOUTHCAROLINA","SOUTHDAKOTA","TENNESSEE","TEXAS","UTAH","VERMONT","VIRGINISLANDS","VIRGINIA","WASHINGTON","WESTVIRGINIA","WISCONSIN","WYOMING"]}}}),t.isEmpty(this.options.addressValidation)&&(this.options.addressValidation=!0)},isContainer:function(){return!1},getAddress:function(){var t=this.getValue();"view"===this.view.type&&(t=this.data);var n="";return t&&(t.street&&e.each(t.street,function(e,t){n+=t+" "}),t.city&&(n+=t.city+" "),t.state&&(n+=t.state+" "),t.zip&&(n+=t.zip)),n},afterRenderContainer:function(t,n){var i=this;this.base(t,function(){var t=i.getContainerEl();if(e(t).addClass("alpaca-addressfield"),i.options.addressValidation&&!i.isDisplayOnly()){e('<div style="clear:both;"></div>').appendTo(t);var a=e('<div class="alpaca-form-button">Show Google Map</div>').appendTo(t);a.button&&a.button({text:!0}),a.click(function(){if(google&&google.maps){var t=new google.maps.Geocoder,n=i.getAddress();t&&t.geocode({address:n},function(t,n){if(n===google.maps.GeocoderStatus.OK){var a=i.getId()+"-map-canvas";0===e("#"+a).length&&e("<div id='"+a+"' class='alpaca-field-address-mapcanvas'></div>").appendTo(i.getFieldEl());var r=new google.maps.Map(document.getElementById(i.getId()+"-map-canvas"),{zoom:10,center:t[0].geometry.location,mapTypeId:google.maps.MapTypeId.ROADMAP});new google.maps.Marker({map:r,position:t[0].geometry.location})}else i.displayMessage("Geocoding failed: "+n)})}else i.displayMessage("Google Map API is not installed.")}).wrap("<small/>"),i.options.showMapOnLoad&&a.click()}n()})},getType:function(){return"any"},getTitle:function(){return"Address"},getDescription:function(){return"Standard US Address with Street, City, State and Zip. Also comes with support for Google map."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{validateAddress:{title:"Address Validation",description:"Enable address validation if true",type:"boolean","default":!0},showMapOnLoad:{title:"Whether to show the map when first loaded",type:"boolean"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{validateAddress:{helper:"Address validation if checked",rightLabel:"Enable Google Map for address validation?",type:"checkbox"}}})}}),t.registerFieldClass("address",t.Fields.AddressField)}(jQuery),function(e){var t=e.alpaca;t.Fields.CKEditorField=t.Fields.TextAreaField.extend({getFieldType:function(){return"ckeditor"},setup:function(){this.data||(this.data=""),this.base(),"undefined"==typeof this.options.ckeditor&&(this.options.ckeditor={})},afterRenderControl:function(t,n){var i=this;this.base(t,function(){!i.isDisplayOnly()&&i.control&&"undefined"!=typeof CKEDITOR&&i.on("ready",function(){i.editor||(i.editor=CKEDITOR.replace(e(i.control)[0],i.options.ckeditor),i.initCKEditorEvents())}),e(i.control).bind("destroyed",function(){if(i.editor){i.editor.removeAllListeners();try{i.editor.destroy(!1)}catch(e){}i.editor=null}}),n()})},initCKEditorEvents:function(){var e=this;e.editor&&(e.editor.on("click",function(t){e.onClick.call(e,t),e.trigger("click",t)}),e.editor.on("change",function(t){e.onChange(),e.triggerWithPropagation("change",t)}),e.editor.on("blur",function(t){e.onBlur(),e.trigger("blur",t)}),e.editor.on("focus",function(t){e.onFocus.call(e,t),e.trigger("focus",t)}),e.editor.on("key",function(t){e.onKeyPress.call(e,t),e.trigger("keypress",t)}))},setValue:function(e){var t=this;this.base(e),t.editor&&t.editor.setData(e)},getControlValue:function(){var e=this,t=null;return e.editor&&(t=e.editor.getData()),t},destroy:function(){var e=this;e.editor&&(e.editor.destroy(),e.editor=null),this.base()},getTitle:function(){return"CK Editor"},getDescription:function(){return"Provides an instance of a CK Editor control for use in editing HTML."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{ckeditor:{title:"CK Editor options",description:"Use this entry to provide configuration options to the underlying CKEditor plugin.",type:"any"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{ckeditor:{type:"any"}}})}}),t.registerFieldClass("ckeditor",t.Fields.CKEditorField)}(jQuery),function(e){var t=e.alpaca;t.Fields.ColorField=t.Fields.TextField.extend({setup:function(){var t=this;this.spectrumAvailable=!1,t.isDisplayOnly()||"undefined"==typeof e.fn.spectrum||(this.spectrumAvailable=!0),"undefined"==typeof this.options.spectrum&&t.spectrumAvailable&&(this.inputType="color"),this.base(),"undefined"==typeof this.options.spectrum&&(this.options.spectrum={}),"undefined"==typeof this.options.spectrum.showInput&&(this.options.spectrum.showInput=!0),"undefined"==typeof this.options.spectrum.showPalette&&(this.options.spectrum.showPalette=!0),"undefined"==typeof this.options.spectrum.preferredFormat&&(this.options.spectrum.preferredFormat="hex3"),"undefined"==typeof this.options.spectrum.clickoutFiresChange&&(this.options.spectrum.clickoutFiresChange=!0),this.options.spectrum.color=this.data},getFieldType:function(){return"color"},getType:function(){return"string"},afterRenderControl:function(t,n){var i=this;this.base(t,function(){i.spectrumAvailable&&i.control&&(setTimeout(function(){e(i.control[0]).spectrum(i.options.spectrum)},100),e(i.control).on("change.spectrum",function(e,t){i.setValue(t.toHexString())})),n()})},getTitle:function(){return"Color Field"},getDescription:function(){return"A color picker for selecting hexadecimal color values"}}),t.registerFieldClass("color",t.Fields.ColorField),t.registerDefaultSchemaFieldMapping("color","color")}(jQuery),function(e){var t=e.alpaca;t.Fields.CountryField=t.Fields.SelectField.extend({getFieldType:function(){return"country"},setup:function(){t.isUndefined(this.options.capitalize)&&(this.options.capitalize=!1),this.schema["enum"]=[],this.options.optionLabels=[];var e=this.getMessage("countries");if(e)for(var n in e){this.schema["enum"].push(n);var i=e[n];this.options.capitalize&&(i=i.toUpperCase()),this.options.optionLabels.push(i)}this.base()},getTitle:function(){return"Country Field"},getDescription:function(){return"Provides a dropdown selector of countries keyed by their ISO3 code.  The names of the countries are read from the I18N bundle for the current locale."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{capitalize:{title:"Capitalize",description:"Whether the values should be capitalized",type:"boolean","default":!1,readonly:!0}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{capitalize:{type:"checkbox"}}})}}),t.registerFieldClass("country",t.Fields.CountryField),t.registerDefaultFormatFieldMapping("country","country")}(jQuery),function(e){var t=function(){var e={up:Math.ceil,down:function(e){return~~e},nearest:Math.round};return function(t){return e[t]}}(),n=e.alpaca;n.Fields.CurrencyField=n.Fields.TextField.extend({constructor:function(e,t,n,i,a,r,s){n=n||{};var o=this.getSchemaOfPriceFormatOptions().properties;for(var l in o){var u=o[l];l in n||(n[l]=u["default"]||void 0)}"undefined"!=typeof t&&(t=""+parseFloat(t).toFixed(n.centsLimit)),this.base(e,t,n,i,a,r,s)},getFieldType:function(){return"currency"},afterRenderControl:function(t,n){var i=this,a=this.getControlEl();this.base(t,function(){e(a).priceFormat(i.options),n()})},getControlValue:function(){var n=this.getControlEl(),i=e(n).is("input")?n.val():n.html();if(this.options.unmask||"none"!==this.options.round){var a=function(){var e="";for(var t in i){var n=i[t];isNaN(n)?n===this.options.centsSeparator&&(e+="."):e+=n}return parseFloat(e)}.bind(this)();if("none"!==this.options.round&&(a=t(this.options.round)(a),!this.options.unmask)){for(var r=[],s=""+a,o=0,l=0;o<i.length;o++)isNaN(i[o])?r.push(i[o]):r.push(s[l++]||0);return r.join("")}return a}return i},getTitle:function(){return"Currency Field"},getDescription:function(){return"Provides an automatically formatted and configurable input for entering currency amounts."},getSchemaOfPriceFormatOptions:function(){return{properties:{allowNegative:{title:"Allow Negative",description:"Determines if negative numbers are allowed.",type:"boolean","default":!1},centsLimit:{title:"Cents Limit",description:"The limit of fractional digits.",type:"number","default":2,minimum:0},centsSeparator:{title:"Cents Separator",description:"The separator between whole and fractional amounts.",type:"text","default":"."},clearPrefix:{title:"Clear Prefix",description:"Determines if the prefix is cleared on blur.",type:"boolean","default":!1},clearSuffix:{title:"Clear Suffix",description:"Determines if the suffix is cleared on blur.",type:"boolean","default":!1},insertPlusSign:{title:"Plus Sign",description:"Determines if a plus sign should be inserted for positive values.",type:"boolean","default":!1},limit:{title:"Limit",description:"A limit of the length of the field.",type:"number","default":void 0,minimum:0},prefix:{title:"Prefix",description:"The prefix if any for the field.",type:"text","default":"$"},round:{title:"Round",description:"Determines if the field is rounded. (Rounding is done when getValue is called and is not reflected in the UI)",type:"string","enum":["up","down","nearest","none"],"default":"none"},suffix:{title:"Suffix",description:"The suffix if any for the field.",type:"text","default":""},thousandsSeparator:{title:"Thousands Separator",description:"The separator between thousands.",type:"string","default":","},unmask:{title:"Unmask",description:"If true then the resulting value for this field will be unmasked.  That is, the resulting value will be a float instead of a string (with the prefix, suffix, etc. removed).",type:"boolean","default":!0}}}},getSchemaOfOptions:function(){return n.merge(this.base(),this.getSchemaOfPriceFormatOptions())},getOptionsForOptions:function(){return n.merge(this.base(),{fields:{allowNegative:{type:"checkbox"},centsLimit:{type:"number"},centsSeparator:{type:"text"},clearPrefix:{type:"checkbox"},clearSuffix:{type:"checkbox"},insertPlusSign:{type:"checkbox"},limit:{type:"number"},prefix:{type:"text"},round:{type:"select"},suffix:{type:"text"},thousandsSeparator:{type:"string"},unmask:{type:"checkbox"}}})}}),n.registerFieldClass("currency",n.Fields.CurrencyField)}(jQuery),function(e){var t=e.alpaca;t.Fields.DateField=t.Fields.TextField.extend({getFieldType:function(){return"date"},getDefaultFormat:function(){return"MM/DD/YYYY"},getDefaultExtraFormats:function(){return[]},setup:function(){var e=this;if(this.base(),e.options.picker||(e.options.picker={}),"undefined"==typeof e.options.picker.useCurrent&&(e.options.picker.useCurrent=!1),e.options.picker.format&&(e.options.dateFormat=e.options.picker.format),e.options.dateFormat||(e.options.dateFormat=e.getDefaultFormat()),e.options.picker.format||(e.options.picker.format=e.options.dateFormat),e.options.picker.locale||(e.options.picker.locale="en_US"),e.options.picker.dayViewHeaderFormat||(e.options.picker.dayViewHeaderFormat="MMMM YYYY"),!e.options.picker.extraFormats){var t=e.getDefaultExtraFormats();t&&(e.options.picker.extraFormats=t)}"undefined"==typeof e.options.manualEntry&&(e.options.manualEntry=!1)},onKeyPress:function(e){return this.options.manualEntry?(e.preventDefault(),void e.stopImmediatePropagation()):void this.base(e)},onKeyDown:function(e){return this.options.manualEntry?(e.preventDefault(),void e.stopImmediatePropagation()):void this.base(e)},beforeRenderControl:function(e,t){this.field.css("position","relative"),t()},afterRenderControl:function(t,n){var i=this;this.base(t,function(){"display"!==i.view.type&&e.fn.datetimepicker&&(i.getControlEl().datetimepicker(i.options.picker),i.picker=i.getControlEl().data("DateTimePicker"),i.picker&&i.options.dateFormat&&i.picker.format(i.options.dateFormat),i.picker&&(i.options.dateFormat=i.picker.format()),i.getFieldEl().on("dp.change",function(e){setTimeout(function(){i.onChange.call(i,e),i.triggerWithPropagation("change",e)},250)}),i.data&&i.picker.date(i.data)),n()})},setManualEntry:function(e){this.options.manualEntry=e},getDate:function(){var e=this,t=null;try{t=e.picker?e.picker.date()?e.picker.date()._d:null:new Date(this.getValue())}catch(n){console.error(n)}return t},date:function(){return this.getDate()},onChange:function(e){this.base(),this.refreshValidationState()},isAutoFocusable:function(){return!1},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validateDateFormat();return n.invalidDate={message:i?"":t.substituteTokens(this.getMessage("invalidDate"),[this.options.dateFormat]),status:i},e&&n.invalidDate.status},_validateDateFormat:function(){var e=this,n=!0;if(e.options.dateFormat){var i=e.getValue();if(i||e.isRequired()){var a=[];if(a.push(e.options.dateFormat),e.options.picker&&e.options.picker.extraFormats)for(var r=0;r<e.options.picker.extraFormats.length;r++)a.push(e.options.picker.extraFormats[r]);for(var r=0;r<a.length;r++)n=n||t.moment(i,e.options.dateFormat,!0).isValid()}}return n},setValue:function(e){var n=this;this.base(e),this.picker&&t.moment(e,n.options.dateFormat,!0).isValid()&&this.picker.date(e)},destroy:function(){this.base(),this.picker=null},getTitle:function(){return"Date Field"},getDescription:function(){return"Date Field"},getSchemaOfSchema:function(){return t.merge(this.base(),{properties:{format:{title:"Format",description:"Property data format",type:"string","default":"date","enum":["date"],readonly:!0}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{format:{type:"text"}}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{dateFormat:{title:"Date Format",description:"Date format (using moment.js format)",type:"string"},picker:{title:"DatetimePicker options",description:"Options that are supported by the <a href='http://eonasdan.github.io/bootstrap-datetimepicker/'>Bootstrap DateTime Picker</a>.",type:"any"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{dateFormat:{type:"text"},picker:{type:"any"}}})}}),t.registerMessages({invalidDate:"Invalid date for format {0}"}),t.registerFieldClass("date",t.Fields.DateField),t.registerDefaultFormatFieldMapping("date","date")}(jQuery),function(e){var t=e.alpaca;t.Fields.DatetimeField=t.Fields.DateField.extend({getFieldType:function(){return"datetime"},getDefaultFormat:function(){return"MM/DD/YYYY HH:mm:ss"},getDefaultExtraFormats:function(){return["MM/DD/YYYY hh:mm:ss a","MM/DD/YYYY HH:mm","MM/DD/YYYY"]},setup:function(){this.base()},getTitle:function(){return"Datetime Field"},getDescription:function(){return"Datetime Field based on <a href='http://eonasdan.github.io/bootstrap-datetimepicker/'>Bootstrap DateTime Picker</a>."}}),t.registerFieldClass("datetime",t.Fields.DatetimeField),t.registerDefaultFormatFieldMapping("datetime","datetime"),t.registerDefaultFormatFieldMapping("date-time","datetime")}(jQuery),function(e){var t=e.alpaca;t.Fields.EditorField=t.Fields.TextField.extend({getFieldType:function(){return"editor"},setup:function(){var e=this;this.base(),e.options.aceTheme||(e.options.aceTheme="ace/theme/chrome"),e.options.aceMode||(e.options.aceMode="ace/mode/json"),"undefined"==typeof e.options.beautify&&(e.options.beautify=!0),e.options.beautify&&this.data&&("ace/mode/json"===e.options.aceMode&&(t.isObject(this.data)?this.data=JSON.stringify(this.data,null,"    "):t.isString(this.data)&&(this.data=JSON.stringify(JSON.parse(this.data),null,"    "))),"ace/mode/html"===e.options.aceMode&&"undefined"!=typeof html_beautify&&(this.data=html_beautify(this.data)),"ace/mode/css"===e.options.aceMode&&"undefined"!=typeof css_beautify&&(this.data=css_beautify(this.data)),"ace/mode/javascript"===e.options.aceMode&&"undefined"!=typeof js_beautify&&(this.data=js_beautify(this.data))),"ace/mode/json"===e.options.aceMode&&(this.data&&"{}"!==this.data||(this.data="{\n	\n}"))},afterRenderControl:function(n,i){var a=this;this.base(n,function(){if(a.control){var n=a.options.aceHeight;n&&e(a.control).css("height",n);var r=a.options.aceWidth;r||(r="100%"),e(a.control).css("width",r)}var s=e(a.control)[0];if(!ace&&window.ace&&(ace=window.ace),ace){a.editor=ace.edit(s),a.editor.setOptions({maxLines:1/0}),a.editor.getSession().setUseWrapMode(!0);var o=a.options.aceTheme;a.editor.setTheme(o);var l=a.options.aceMode;if(a.editor.getSession().setMode(l),a.editor.renderer.setHScrollBarAlwaysVisible(!1),a.editor.setShowPrintMargin(!1),a.editor.setValue(a.data),a.editor.clearSelection(),a.editor.getSession().getUndoManager().reset(),a.options.aceFitContentHeight){var u=function(){var t=!1;0===a.editor.renderer.lineHeight&&(t=!0,a.editor.renderer.lineHeight=16);var n=a.editor.getSession().getScreenLength()*a.editor.renderer.lineHeight+a.editor.renderer.scrollBar.getWidth();e(a.control).height(n.toString()+"px"),a.editor.resize(),t&&window.setTimeout(function(){a.editor.clearSelection()},100)};u(),a.editor.getSession().on("change",u)}a.schema.readonly&&a.editor.setReadOnly(!0),e(s).bind("destroyed",function(){a.editor&&(a.editor.destroy(),a.editor=null)})}else t.logError("Editor Field is missing the 'ace' Cloud 9 Editor");i()})},destroy:function(){this.editor&&(this.editor.destroy(),this.editor=null),this.base()},getEditor:function(){return this.editor},handleValidate:function(){var e=this.base(),n=this.validation,i=this._validateWordCount();n.wordLimitExceeded={message:i?"":t.substituteTokens(this.getMessage("wordLimitExceeded"),[this.options.wordlimit]),status:i};var a=this._validateEditorAnnotations();return n.editorAnnotationsExist={message:a?"":this.getMessage("editorAnnotationsExist"),status:a},e&&n.wordLimitExceeded.status&&n.editorAnnotationsExist.status},_validateEditorAnnotations:function(){if(this.editor){var e=this.editor.getSession().getAnnotations();if(e&&e.length>0)return!1}return!0},_validateWordCount:function(){if(this.options.wordlimit&&this.options.wordlimit>-1){var e=this.editor.getValue();if(e){var t=e.split(" ").length;if(t>this.options.wordlimit)return!1}}return!0},onDependentReveal:function(){this.editor&&this.editor.resize()},setValue:function(e){var n=this;this.editor&&("object"==n.schema.type&&t.isObject(e)&&(e=JSON.stringify(e,null,"    ")),this.editor.setValue(e),n.editor.clearSelection()),this.base(e)},getControlValue:function(){var e=null;return this.editor&&(e=this.editor.getValue()),"object"==this.schema.type&&(e=e?JSON.parse(e):{}),e},getTitle:function(){return"Editor"},getDescription:function(){return"Editor"},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{aceTheme:{title:"ACE Editor Theme",description:"Specifies the theme to set onto the editor instance",type:"string","default":"ace/theme/twilight"},aceMode:{title:"ACE Editor Mode",description:"Specifies the mode to set onto the editor instance",type:"string","default":"ace/mode/javascript"},aceWidth:{title:"ACE Editor Height",description:"Specifies the width of the wrapping div around the editor",type:"string","default":"100%"},aceHeight:{title:"ACE Editor Height",description:"Specifies the height of the wrapping div around the editor",type:"string","default":"300px"},aceFitContentHeight:{title:"ACE Fit Content Height",description:"Configures the ACE Editor to auto-fit its height to the contents of the editor",type:"boolean","default":!1},wordlimit:{title:"Word Limit",description:"Limits the number of words allowed in the text area.",type:"number","default":-1}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{aceTheme:{type:"text"},aceMode:{type:"text"},wordlimit:{type:"integer"}}})}}),t.registerMessages({wordLimitExceeded:"The maximum word limit of {0} has been exceeded.",editorAnnotationsExist:"The editor has errors in it that must be corrected"}),t.registerFieldClass("editor",t.Fields.EditorField)}(jQuery),function(e){var t=e.alpaca;t.Fields.EmailField=t.Fields.TextField.extend({getFieldType:function(){return"email"},setup:function(){this.inputType="email",this.base(),this.schema.pattern||(this.schema.pattern=t.regexps.email)},handleValidate:function(){var e=this.base(),t=this.validation;return t.invalidPattern.status||(t.invalidPattern.message=this.getMessage("invalidEmail")),e},getTitle:function(){return"Email Field"},getDescription:function(){return"Email Field."},getSchemaOfSchema:function(){var e=this.schema&&this.schema.pattern?this.schema.pattern:t.regexps.email;return t.merge(this.base(),{properties:{pattern:{title:"Pattern",description:"Field Pattern in Regular Expression",type:"string","default":e,"enum":[e],readonly:!0},format:{title:"Format",description:"Property data format",type:"string","default":"email","enum":["email"],readonly:!0}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{format:{type:"text"}}})}}),t.registerMessages({invalidEmail:"Invalid Email address e.g. info@cloudcms.com"}),t.registerFieldClass("email",t.Fields.EmailField),t.registerDefaultFormatFieldMapping("email","email")}(jQuery),function(e){var t=e.alpaca;t.Fields.GridField=t.Fields.ArrayField.extend({getFieldType:function(){return"grid"},setup:function(){
this.base(),"undefined"==typeof this.options.grid&&(this.options.grid={})},afterRenderContainer:function(t,n){var i=this;this.base(t,function(){var t=[],a=[];for(var r in i.options.fields){var s=i.options.fields[r],o=r;s.label&&(o=s.label),a.push(o)}t.push(a);for(var l=0;l<i.data.length;l++){var u=[];for(var c in i.data[l])u.push(i.data[l][c]);t.push(u)}var d=e(i.container).find(".alpaca-container-grid-holder"),p=i.options.grid;p.data=t,e(d).handsontable(p),n()})},getType:function(){return"array"},getTitle:function(){return"Grid Field"},getDescription:function(){return"Renders array items into a grid"}}),t.registerFieldClass("grid",t.Fields.GridField)}(jQuery),function(e){var t=e.alpaca;t.Fields.ImageField=t.Fields.TextField.extend({getFieldType:function(){return"image"},getTitle:function(){return"Image Field"},getDescription:function(){return"Image Field."}}),t.registerFieldClass("image",t.Fields.ImageField)}(jQuery),function(e){var t=e.alpaca;t.Fields.IntegerField=t.Fields.NumberField.extend({getFieldType:function(){return"integer"},getControlValue:function(){var e=this.base();return"undefined"==typeof e||""==e?e:parseInt(e,10)},onChange:function(e){this.base(),this.slider&&this.slider.slider("value",this.getValue())},postRender:function(n){var i=this;this.base(function(){i.options.slider&&(t.isEmpty(i.schema.maximum)||t.isEmpty(i.schema.minimum)||i.control&&(i.control.after('<div id="slider"></div>'),i.slider=e("#slider",i.control.parent()).slider({value:i.getValue(),min:i.schema.minimum,max:i.schema.maximum,slide:function(e,t){i.setValue(t.value),i.refreshValidationState()}}))),n()})},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateInteger();return t.stringNotANumber={message:n?"":this.getMessage("stringNotAnInteger"),status:n},e},_validateInteger:function(){var e=this._getControlVal();if("number"==typeof e&&(e=""+e),t.isValEmpty(e))return!0;var n=t.testRegex(t.regexps.integer,e);if(!n)return!1;var i=this.getValue();return isNaN(i)?!1:!0},getType:function(){return"integer"},getTitle:function(){return"Integer Field"},getDescription:function(){return"Field for integers."},getSchemaOfSchema:function(){return t.merge(this.base(),{properties:{minimum:{title:"Minimum",description:"Minimum value of the property.",type:"integer"},maximum:{title:"Maximum",description:"Maximum value of the property.",type:"integer"},divisibleBy:{title:"Divisible By",description:"Property value must be divisible by this number.",type:"integer"}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{minimum:{helper:"Minimum value of the field.",type:"integer"},maximum:{helper:"Maximum value of the field.",type:"integer"},divisibleBy:{helper:"Property value must be divisible by this number.",type:"integer"}}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{slider:{title:"Slider",description:"Generate jQuery UI slider control with the field if true.",type:"boolean","default":!1}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{slider:{rightLabel:"Slider control ?",helper:"Generate slider control if selected.",type:"checkbox"}}})}}),t.registerMessages({stringNotAnInteger:"This value is not an integer."}),t.registerFieldClass("integer",t.Fields.IntegerField),t.registerDefaultSchemaFieldMapping("integer","integer")}(jQuery),function(e){var t=e.alpaca;t.Fields.IPv4Field=t.Fields.TextField.extend({getFieldType:function(){return"ipv4"},setup:function(){this.base(),this.schema.pattern||(this.schema.pattern=t.regexps.ipv4)},handleValidate:function(){var e=this.base(),t=this.validation;return t.invalidPattern.status||(t.invalidPattern.message=this.getMessage("invalidIPv4")),e},getTitle:function(){return"IP Address Field"},getDescription:function(){return"IP Address Field."},getSchemaOfSchema:function(){var e=this.schema&&this.schema.pattern?this.schema.pattern:t.regexps.ipv4;return t.merge(this.base(),{properties:{pattern:{title:"Pattern",description:"Field Pattern in Regular Expression",type:"string","default":e,readonly:!0},format:{title:"Format",description:"Property data format",type:"string","enum":["ip-address"],"default":"ip-address",readonly:!0}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{format:{type:"text"}}})}}),t.registerMessages({invalidIPv4:"Invalid IPv4 address, e.g. 192.168.0.1"}),t.registerFieldClass("ipv4",t.Fields.IPv4Field),t.registerDefaultFormatFieldMapping("ip-address","ipv4")}(jQuery),function(e){function t(e){if("string"==typeof e.data){var t=e.handler,n=e.data.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!/textarea|select/i.test(e.target.nodeName)&&"text"!==e.target.type){var i="keypress"!==e.type&&jQuery.hotkeys.specialKeys[e.which],a=String.fromCharCode(e.which).toLowerCase(),r="",s={};e.altKey&&"alt"!==i&&(r+="alt+"),e.ctrlKey&&"ctrl"!==i&&(r+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==i&&(r+="meta+"),e.shiftKey&&"shift"!==i&&(r+="shift+"),i?s[r+i]=!0:(s[r+a]=!0,s[r+jQuery.hotkeys.shiftNums[a]]=!0,"shift+"===r&&(s[jQuery.hotkeys.shiftNums[a]]=!0));for(var o=0,l=n.length;l>o;o++)if(s[n[o]])return t.apply(this,arguments)}}}}var n=e.alpaca;n.Fields.JSONField=n.Fields.TextAreaField.extend({getFieldType:function(){return"json"},setValue:function(e){(n.isObject(e)||"object"==typeof e)&&(e=JSON.stringify(e,null,3)),this.base(e)},getControlValue:function(){var e=this.base();return e&&n.isString(e)&&(e=JSON.parse(e)),e},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateJSON();return t.stringNotAJSON={message:n.status?"":this.getMessage("stringNotAJSON")+" "+n.message,status:n.status},e&&t.stringNotAJSON.status},_validateJSON:function(){var e=this.control.val();if(n.isValEmpty(e))return{status:!0};try{var t=JSON.parse(e);return this.setValue(JSON.stringify(t,null,3)),{status:!0}}catch(i){return{status:!1,message:i.message}}},afterRenderControl:function(e,t){var n=this;this.base(e,function(){n.control&&(n.control.bind("keypress",function(e){var t=e.keyCode||e.wich;34===t&&n.control.insertAtCaret('"'),123===t&&n.control.insertAtCaret("}"),91===t&&n.control.insertAtCaret("]")}),n.control.bind("keypress","Ctrl+l",function(){n.getFieldEl().removeClass("alpaca-field-focused"),n.refreshValidationState()}),n.control.attr("title","Type Ctrl+L to format and validate the JSON string.")),t()})},getTitle:function(){return"JSON Editor"},getDescription:function(){return"Editor for JSON objects with basic validation and formatting."}}),n.registerMessages({stringNotAJSON:"This value is not a valid JSON string."}),n.registerFieldClass("json",n.Fields.JSONField),e.fn.insertAtCaret=function(e){return this.each(function(){if(document.selection)this.focus(),sel=document.selection.createRange(),sel.text=e,this.focus();else if(this.selectionStart||"0"==this.selectionStart){var t=this.selectionStart,n=this.selectionEnd,i=this.scrollTop;this.value=this.value.substring(0,t)+e+this.value.substring(n,this.value.length),this.focus(),this.selectionStart=t,this.selectionEnd=t,this.scrollTop=i}else this.value+=e,this.focus()})},jQuery.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:t}})}(jQuery),function(e){var t=e.alpaca;t.Fields.LowerCaseField=t.Fields.TextField.extend({getFieldType:function(){return"lowercase"},setup:function(){this.base(),this.data&&(this.data=this.data.toLowerCase())},setValue:function(e){var t=e.toLowerCase();t!=this.getValue()&&this.base(t)},onKeyPress:function(e){this.base(e);var n=this;t.later(25,this,function(){var e=n.getValue();n.setValue(e)})},getTitle:function(){return"Lowercase Text"},getDescription:function(){return"Text field for lowercase text."}}),t.registerFieldClass("lowercase",t.Fields.LowerCaseField),t.registerDefaultFormatFieldMapping("lowercase","lowercase")}(jQuery),function(e){var t=e.alpaca;t.Fields.MapField=t.Fields.ArrayField.extend({getFieldType:function(){return"map"},getType:function(){return"object"},setup:function(){if(this.data&&t.isObject(this.data)){var n=[];e.each(this.data,function(e,i){var a=t.copyOf(i);a._key=e,n.push(a)}),this.data=n}this.base(),t.mergeObject(this.options,{forceRevalidation:!0}),t.isEmpty(this.data)},getContainerValue:function(){if(0!==this.children.length||this.isRequired()){for(var e={},t=0;t<this.children.length;t++){var n=this.children[t].getValue(),i=n._key;i&&(delete n._key,e[i]=n)}return e}},handleValidate:function(){var e=this.base(),t=this.validation,n=this._validateMapKeysNotEmpty();t.keyMissing={message:n?"":this.getMessage("keyMissing"),status:n};var i=this._validateMapKeysUnique();return t.keyNotUnique={message:i?"":this.getMessage("keyNotUnique"),status:i},e&&t.keyMissing.status&&t.keyNotUnique.status},_validateMapKeysNotEmpty:function(){for(var e=!0,t=0;t<this.children.length;t++){var n=this.children[t].getValue(),i=n._key;if(!i){e=!1;break}}return e},_validateMapKeysUnique:function(){for(var e=!0,t={},n=0;n<this.children.length;n++){var i=this.children[n].getValue(),a=i._key;t[a]&&(e=!1),t[a]=a}return e},getTitle:function(){return"Map Field"},getDescription:function(){return"Field for objects with key/value pairs that share the same schema for values."}}),t.registerFieldClass("map",t.Fields.MapField),t.registerMessages({keyNotUnique:"Keys of map field are not unique.",keyMissing:"Map contains an empty key."})}(jQuery),function(e){var t=e.alpaca;t.Fields.OptionTreeField=t.Fields.TextField.extend({getFieldType:function(){return"optiontree"},setup:function(){var e=this;this.base(),this.options.tree||(this.options.tree={}),this.options.tree.selectors||(this.options.tree.selectors={}),this.options.tree.order||(this.options.tree.order=[]);for(var n in this.options.tree.selectors){if(!this.options.tree.selectors[n].schema)return void t.logError("OptionTree selector for: "+n+" is missing schema");this.options.tree.selectors[n].options||(this.options.tree.selectors[n].options={})}this.options.tree.data||(this.options.tree.data=[]);for(var i=0;i<this.options.tree.data.length;i++){var a=this.options.tree.data[i];if(a.attributes)for(var n in a.attributes)this.options.tree.selectors[n]||(this.options.tree.selectors[n]={}),this.options.tree.selectors[n].label||(this.options.tree.selectors[n].options.noneLabel="Choose..."),this.options.tree.selectors[n].type||(this.options.tree.selectors[n].options.type="select")}if(!e.options.tree.order){e.options.tree.order=[];for(var n in e.options.tree.selectors)e.options.tree.order.push(e.options.tree.selectors[n])}"undefined"==typeof e.options.tree.horizontal&&(e.options.tree.horizontal=!0),this.locationValueLists={},this.locationValues={};for(var i=0;i<e.options.tree.data.length;i++)if(e.options.tree.data[i].attributes){var r="root";for(var n in e.options.tree.data[i].attributes){var s=e.options.tree.data[i].attributes[n],o=this.locationValueLists[r];o||(o=[],this.locationValueLists[r]=o);for(var l=!1,u=0;u<o.length;u++)if(o[u].value===s){l=!0;break}l||o.push({text:s,value:s}),r.length>0&&(r+="~"),r+=n+"="+s}this.locationValues[r]=e.options.tree.data[i].value}this.currentAttributes={},this.controls={}},toLocation:function(e){var t="root";for(var n in e){var i=e[n];t.length>0&&(t+="~"),t+=n+"="+i}return t},existsLocationWithPrefix:function(e){var t=!1;for(var n in this.locationValueLists)if(n.indexOf(e)>-1){t=!0;break}return t},afterRenderControl:function(t,n){var i=this;i.optionTreeHolder=e(i.field).find(".optiontree"),i.options.tree.horizontal&&e(i.field).addClass("optiontree-horizontal"),this.base(t,function(){i.refreshOptionTreeControls(function(){n()})})},refreshOptionTreeControls:function(n){var i=this;for(var a in i.controls)i.controls[a].hide();for(var r=0,s=0;s<i.options.tree.order.length;s++){var o=i.options.tree.order[s];"undefined"!=typeof i.currentAttributes[o]&&null!==i.currentAttributes[o]&&""!==i.currentAttributes[o]&&r++}var l="root",u=[],c=0,s=0;do{if(s<i.options.tree.order.length){var o=i.options.tree.order[s],d=s==i.options.tree.order.length-1||i.existsLocationWithPrefix(l+"~"+o+"=");if(d)if(r>=c){if(i.controls[o])i.controls[o].show(),l+="~"+o+"="+i.currentAttributes[o];else{var p=i.options.tree.selectors[o],h=s+1===i.options.tree.order.length,f=function(t,n,a,r,s,o){return function(l){var u=a.schema,c=a.options;c||(c={}),c.type||(c.type="select"),"select"===c.type&&(c.dataSource=function(e){var t=i.toLocation(i.currentAttributes),n=i.locationValueLists[t];e(n)});var d=e("<div class='optiontree-selector'></div>");e(d).alpaca({schema:u,options:c,postRender:function(a){r[n]=a,e(s).append(d),a.selectorId=n,a.on("change",function(){var e=this.selectorId;i.currentAttributes[e]=this.getValue();for(var n=0;n<i.options.tree.order.length;n++)if(n>t){var e=i.options.tree.order[n];delete i.currentAttributes[e],r[e]&&(r[e].destroy(),delete r[e])}if(o){for(var a=null,n=0;n<i.options.tree.data.length;n++){var s=!0,l=i.options.tree.data[n].attributes;for(var u in i.currentAttributes)if(l[u]!==i.currentAttributes[u]){s=!1;break}s&&(a=i.options.tree.data[n].value)}a&&i.setValue(a)}i.refreshOptionTreeControls()}),a.show(),l()}})}}(s,o,p,i.controls,i.optionTreeHolder,h);u.push(f),l+="~"+o+"="+i.currentAttributes[o]}c++}else i.controls[o]&&(i.controls[o].destroy(),delete i.controls[o]);else i.controls[o]&&(i.controls[o].destroy(),delete i.controls[o])}s++}while(s<i.options.tree.order.length);t.series(u,function(){n&&n()})},getType:function(){return"any"},getTitle:function(){return"Option Tree"},getDescription:function(){return"Option Tree"},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{tree:{type:"object",properties:{options:{type:"object"},order:{type:"array",items:{type:"string"}},data:{type:"array",items:{type:"object",properties:{value:{type:"any"},attributes:{type:"object"}}}},horizontal:{type:"boolean"}}}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{}})}}),t.registerFieldClass("optiontree",t.Fields.OptionTreeField)}(jQuery),function(e){var t=e.alpaca;t.Fields.PasswordField=t.Fields.TextField.extend({getFieldType:function(){return"password"},setup:function(){this.base(),this.schema.pattern||(this.schema.pattern=t.regexps.password)},handleValidate:function(){var e=this.base(),t=this.validation;return t.invalidPattern.status||(t.invalidPattern.message=this.getMessage("invalidPassword")),e},getTitle:function(){return"Password Field"},getDescription:function(){return"Password Field."},getSchemaOfSchema:function(){var e=this.schema&&this.schema.pattern?this.schema.pattern:/^[0-9a-zA-Z\x20-\x7E]*$/;return t.merge(this.base(),{properties:{pattern:{title:"Pattern",description:"Field Pattern in Regular Expression",type:"string","default":this.schema.pattern,"enum":[e],readonly:!0},format:{title:"Format",description:"Property data format",type:"string","default":"password","enum":["password"],readonly:!0}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{format:{type:"text"}}})}}),t.registerMessages({invalidPassword:"Invalid Password"}),t.registerFieldClass("password",t.Fields.PasswordField),t.registerDefaultFormatFieldMapping("password","password")}(jQuery),function(e){var t=e.alpaca;t.Fields.PersonalNameField=t.Fields.TextField.extend({getFieldType:function(){return"personalname"},setValue:function(e){for(var t="",n=0;n<e.length;n++)t+=0===n?e.charAt(n).toUpperCase():" "===e.charAt(n-1)||"-"===e.charAt(n-1)||"'"===e.charAt(n-1)?e.charAt(n).toUpperCase():e.charAt(n);t!=this.getValue()&&this.base(t)},onKeyPress:function(e){this.base(e);var n=this;t.later(25,this,function(){var e=n.getValue();n.setValue(e)})},getTitle:function(){return"Personal Name"},getDescription:function(){return"Text Field for personal name with captical letter for first letter & after hyphen, space or apostrophe."}}),t.registerFieldClass("personalname",t.Fields.PersonalNameField)}(jQuery),function(e){var t=e.alpaca;t.Fields.PhoneField=t.Fields.TextField.extend({setup:function(){this.inputType="tel",this.base(),this.schema.pattern||(this.schema.pattern=t.regexps.phone),t.isEmpty(this.options.maskString)&&(this.options.maskString="(999) 999-9999")},postRender:function(e){this.base(function(){e()})},handleValidate:function(){var e=this.base(),t=this.validation;return t.invalidPattern.status||(t.invalidPattern.message=this.getMessage("invalidPhone")),e},getFieldType:function(){return"phone"},getTitle:function(){return"Phone Field"},getDescription:function(){return"Phone Field."},getSchemaOfSchema:function(){var e=this.schema&&this.schema.pattern?this.schema.pattern:t.regexps.phone;return t.merge(this.base(),{properties:{pattern:{title:"Pattern",description:"Field Pattern in Regular Expression",type:"string","default":e,"enum":[e],readonly:!0},format:{title:"Format",description:"Property data format",type:"string","default":"phone","enum":["phone"],readonly:!0}}})},getOptionsForSchema:function(){return t.merge(this.base(),{fields:{format:{type:"text"}}})},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{maskString:{title:"Field Mask String",description:"Expression for field mask",type:"string","default":"(999) 999-9999"}}})}}),t.registerMessages({invalidPhone:"Invalid Phone Number, e.g. (123) 456-9999"}),t.registerFieldClass("phone",t.Fields.PhoneField),t.registerDefaultFormatFieldMapping("phone","phone")}(jQuery),function(e){var t=e.alpaca;t.Fields.SearchField=t.Fields.TextField.extend({setup:function(){this.inputType="search",this.base(),this.options.attributes.results=5},getFieldType:function(){return"search"},getType:function(){return"string"},getTitle:function(){return"Search Field"},getDescription:function(){return"A search box field"}}),t.registerFieldClass("search",t.Fields.SearchField),t.registerDefaultSchemaFieldMapping("search","search")}(jQuery),function(e){var t=e.alpaca;t.usHoldings={},t.usHoldings.territories={"American Samoa":"AS","District Of Columbia":"DC","Federated States Of Micronesia":"FM",Guam:"GU","Marshall Islands":"MH","Northern Mariana Islands":"MP",Palau:"PW","Puerto Rico":"PR","Virgin Islands":"VI"},t.usHoldings.states={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"},t.Fields.StateField=t.Fields.SelectField.extend({getFieldType:function(){return"state"},setup:function(){t.isUndefined(this.options.capitalize)&&(this.options.capitalize=!1),t.isUndefined(this.options.includeStates)&&(this.options.includeStates=!0),t.isUndefined(this.options.includeTerritories)&&(this.options.includeTerritories=!0),t.isUndefined(this.options.format)&&(this.options.format="name"),"name"===this.options.format||"code"===this.options.format||(t.logError("The configured state format: "+this.options.format+" is not a legal value [name, code]"),this.options.format="name");var e=t.retrieveUSHoldings(this.options.includeStates,this.options.includeTerritories,"code"===this.options.format,this.options.capitalize);this.schema["enum"]=e.keys,this.options.optionLabels=e.values,this.base()},getTitle:function(){return"State Field"},getDescription:function(){return"Provides a dropdown selector of states and/or territories in the United States, keyed by their two-character code."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{format:{title:"Format",description:"How to represent the state values in the selector",type:"string","default":"name","enum":["name","code"],readonly:!0},capitalize:{title:"Capitalize",description:"Whether the values should be capitalized",type:"boolean","default":!1,readonly:!0},includeStates:{title:"Include States",description:"Whether to include the states of the United States",type:"boolean","default":!0,readonly:!0},includeTerritories:{title:"Include Territories",description:"Whether to include the territories of the United States",type:"boolean","default":!0,readonly:!0}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{format:{type:"text"},capitalize:{type:"checkbox"},includeStates:{type:"checkbox"},includeTerritories:{type:"checkbox"}}})}}),t.registerFieldClass("state",t.Fields.StateField),t.registerDefaultFormatFieldMapping("state","state"),t.retrieveUSHoldings=function(){return function(n,i,a,r){var s={keys:[],values:[]},o=e.extend({},n?t.usHoldings.states:{},i?t.usHoldings.territories:{}),l=Object.keys(o);l.sort();for(var u in l){var c=l[u],d=o[c],p=a?d:c;r&&(p=p.toUpperCase()),s.keys.push(d),s.values.push(p)}return s}}()}(jQuery),function(e){var t=e.alpaca;t.Fields.TableField=t.Fields.ArrayField.extend({setup:function(){var n=this;n.options||(n.options={}),"undefined"==typeof n.options.animate&&(n.options.animate=!1),"undefined"==typeof this.options.toolbarSticky&&(this.options.toolbarSticky=!0),this.base(),this.options.items.type||(this.options.items.type="tablerow"),this.options.datatable&&(this.options.datatables=this.options.datatable),"undefined"==typeof this.options.datatables&&(this.options.datatables={paging:!1,lengthChange:!1,info:!1,searching:!1,ordering:!0}),"undefined"==typeof this.options.showActionsColumn&&(this.options.showActionsColumn=!0,this.options.readonly&&(this.options.showActionsColumn=!1),this.isDisplayOnly()&&(this.options.showActionsColumn=!1)),this.options.datatables.columns=[],e.fn.dataTableExt&&!e.fn.DataTable.ext.type.search.alpaca&&(e.fn.DataTable.ext.order.alpaca=function(n,i){return this.api().column(i,{order:"index"}).nodes().map(function(n,i){var a=e(n).children().attr("data-alpaca-field-id");return t.fieldInstances[a].getValue()})},e.fn.dataTableExt.afnFiltering.push(function(n,i,a,r,s){var o=e(n.nTableWrapper).find(".dataTables_filter input[type='search']").val();if(!o)return!0;o=""+o,o=e.trim(o),o=o.toLowerCase();for(var l=!1,u=0;u<r.length;u++){var c=r[u];if(c){var d=c.indexOf("data-alpaca-field-id=");if(d>-1){var p=e(c).attr("data-alpaca-field-id"),h=t.fieldInstances[p].getValue();if(h&&(h=""+h,h=h.toLowerCase(),h.indexOf(o)>-1)){l=!0;break}}}}return l}))},getFieldType:function(){return"table"},prepareContainerModel:function(e){var t=this;t.base(function(n){if(n.headers=[],t.schema.items&&t.schema.items.properties)for(var i in t.schema.items.properties){var a={};a.id=i,a.title=t.schema.items.properties[i].title,a.hidden=!1,t.options.items&&t.options.items.fields&&t.options.items.fields[i]&&(t.options.items.fields[i].label&&(a.title=t.options.items.fields[i].label),"hidden"===t.options.items.fields[i].type&&(a.hidden=!0)),n.headers.push(a)}e(n)})},afterRenderContainer:function(t,n){var i=this;this.base(t,function(){i.cleanupDomInjections();var t=e(this.container).find("table");if(i.applyStyle("table",t),i.options.datatables&&e.fn.DataTable){for(var a in i.schema.items.properties)i.options.datatables.columns.push({orderable:!0,orderDataType:"alpaca"});i.options.showActionsColumn&&i.options.datatables.columns.push({orderable:!1,name:"actions"}),e(this.container).find("table").DataTable(i.options.datatables)}e(t).find("thead > tr > th[data-header-id]").each(function(){var t=e(this).attr("data-header-id"),n=i.schema.items.properties[t],a=null;i.options.items.fields&&i.options.items.fields[t]&&(a=i.options.items.fields[t]),n.required||a&&a.required?i.fireCallback("tableHeaderRequired",n,a,this):i.fireCallback("tableHeaderOptional",n,a,this)}),n()}.bind(i))},cleanupDomInjections:function(){var n=function(t){var n=e(t).parent(),i=e(t).children(),a=e(t).attr("class").split(/\s+/);e.each(a,function(t,i){"alpaca-merge-up"===i||e(n).addClass(i)}),e.each(e(t)[0].attributes,function(){this.name&&0===this.name.indexOf("data-")&&e(n).attr(this.name,this.value)}),i.length>0?e(t).replaceWith(i):e(t).remove()};this.getFieldEl().find("tr > .alpaca-field").each(function(){n(this)}),this.getFieldEl().find("tr > .alpaca-container").each(function(){n(this)});var i=this.getFieldEl().find("."+t.MARKER_CLASS_ARRAY_ITEM_ACTIONBAR);i.length>0&&i.each(function(){var t=e("<td class='actionbar' nowrap='nowrap'></td>");e(this).before(t),e(t).append(this)}),this.getFieldEl().find(".alpaca-merge-up").each(function(){n(this)})},doResolveItemContainer:function(){var t=this;return e(t.container).find("table tbody")},doAfterAddItem:function(e){var t=this;t.cleanupDomInjections()},doAfterRemoveItem:function(e){var t=this;t.cleanupDomInjections()},getType:function(){return"array"},getTitle:function(){return"Table Field"},getDescription:function(){return"Renders array items into a table"},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{datatables:{title:"DataTables Configuration",description:"Optional configuration to be passed to the underlying DataTables Plugin.",type:"object"},showActionsColumn:{title:"Show Actions Column","default":!0,description:"Whether to show or hide the actions column.",type:"boolean"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{datatables:{type:"object"},showActionsColumn:{type:"checkbox"}}})}}),t.registerFieldClass("table",t.Fields.TableField)}(jQuery),function(e){var t=e.alpaca;t.Fields.TableRowField=t.Fields.ObjectField.extend({prepareContainerModel:function(e){var t=this;this.base(function(n){n.options.showActionsColumn=t.parent.options.showActionsColumn;for(var i=0;i<n.items.length;i++)"hidden"===n.items[i].options.type&&(n.items[i].hidden=!0);e(n)})},getFieldType:function(){return"tablerow"},getType:function(){return"object"},getTitle:function(){return"Table Row Field"},getDescription:function(){return"Renders object items into a table row"}}),t.registerFieldClass("tablerow",t.Fields.TableRowField)}(jQuery),function(e){var t=e.alpaca;t.Fields.TagField=t.Fields.LowerCaseField.extend({getFieldType:function(){return"tag"},setup:function(){this.base(),this.options.separator||(this.options.separator=",")},getControlValue:function(){var e=this.base();return""===e?[]:e.split(this.options.separator)},setValue:function(e){return""!==e?e?void this.base(e.join(this.options.separator)):void this.base(""):void 0},onBlur:function(t){this.base(t);var n=this.getValue(),i=[];e.each(n,function(e,t){""!==t.trim()&&i.push(t.trim())}),this.setValue(i)},getTitle:function(){return"Tag Field"},getDescription:function(){return"Text field for entering list of tags separated by delimiter."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{separator:{title:"Separator",description:"Separator used to split tags.",type:"string","default":","}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{separator:{type:"text"}}})}}),t.registerFieldClass("tag",t.Fields.TagField)}(jQuery),function(e){var t=e.alpaca;t.Fields.TimeField=t.Fields.DateField.extend({getFieldType:function(){return"time"},getDefaultFormat:function(){return"h:mm:ss a"},setup:function(){this.base()},getTitle:function(){return"Time Field"},getDescription:function(){return"Time Field"}}),t.registerMessages({invalidTime:"Invalid time"}),t.registerFieldClass("time",t.Fields.TimeField),t.registerDefaultFormatFieldMapping("time","time")}(jQuery),function(e){var t=e.alpaca;t.Fields.TinyMCEField=t.Fields.TextAreaField.extend({getFieldType:function(){return"tinymce"},setup:function(){var e=this;this.data||(this.data=""),e.options.toolbar||(e.options.toolbar="insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),this.base()},setValue:function(e){var t=this;this.base(e),t.editor&&t.editor.setContent(e)},getControlValue:function(){var e=this,t=null;return e.editor&&(t=e.editor.getContent()),t},initTinyMCEEvents:function(){var e=this;e.editor&&(e.editor.on("click",function(t){e.onClick.call(e,t),e.trigger("click",t)}),e.editor.on("change",function(t){e.onChange(),e.triggerWithPropagation("change",t)}),e.editor.on("blur",function(t){e.onBlur(),e.trigger("blur",t)}),e.editor.on("focus",function(t){e.onFocus.call(e,t),e.trigger("focus",t)}),e.editor.on("keypress",function(t){e.onKeyPress.call(e,t),e.trigger("keypress",t)}),e.editor.on("keyup",function(t){e.onKeyUp.call(e,t),e.trigger("keyup",t)}),e.editor.on("keydown",function(t){e.onKeyDown.call(e,t),e.trigger("keydown",t)}))},afterRenderControl:function(t,n){var i=this;this.base(t,function(){!i.isDisplayOnly()&&i.control&&"undefined"!=typeof tinyMCE&&i.on("ready",function(){if(!i.editor){var t=e(i.control)[0].id;tinyMCE.init({init_instance_callback:function(e){i.editor=e,i.initTinyMCEEvents()},selector:"#"+t,toolbar:i.options.toolbar})}}),n()})},destroy:function(){var e=this;e.editor&&(e.editor.remove(),e.editor=null),this.base()},getTitle:function(){return"TinyMCE Editor"},getDescription:function(){return"Provides an instance of a TinyMCE control for use in editing HTML."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{toolbar:{title:"TinyMCE toolbar options",description:"Toolbar options for TinyMCE plugin.",type:"string"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{toolbar:{type:"text"}}})}}),t.registerFieldClass("tinymce",t.Fields.TinyMCEField)}(jQuery),function(e){var t=e.alpaca;t.Fields.TokenField=t.Fields.TextField.extend({getFieldType:function(){return"token"},setup:function(){this.base(),this.options.separator||(this.options.separator=","),"undefined"==typeof this.options.tokenfield&&(this.options.tokenfield={}),"undefined"==typeof this.options.tokenfield.showAutocompleteOnFocus&&(this.options.tokenfield.showAutocompleteOnFocus=!0)},getControlValue:function(){return this.base()},setValue:function(e){this.base(e)},onBlur:function(e){this.base(e)},afterRenderControl:function(t,n){var i=this;this.base(t,function(){!i.isDisplayOnly()&&i.control&&"undefined"!=typeof e.fn.tokenfield&&i.on("ready",function(){e(i.control).tokenfield(i.options.tokenfield)}),n()})},getTitle:function(){return"Token Field"},getDescription:function(){return"Token field for entering list of tokens separated by delimiter."},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{separator:{title:"Separator",description:"Separator used to split tokens.",type:"string","default":","},tokenfield:{title:"Token Field options",description:"Settings to pass into the underlying bootstrap-tokenfield control",type:"object","default":void 0}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{separator:{type:"text"}}})}}),t.registerFieldClass("token",t.Fields.TokenField)}(jQuery),function(e){var t=e.alpaca;t.Fields.UploadField=t.Fields.TextField.extend({constructor:function(n,i,a,r,s,o){var l=this;this.base(n,i,a,r,s,o),this.wrapTemplate=function(n){return function(i){for(var a=i.files,r=i.formatFileSize,s=i.options,o=[],u=0;u<a.length;u++){var c={};c.options=l.options,c.file=t.cloneObject(a[u]),c.size=r(c.size),c.buttons=l.options.buttons,c.view=l.view,c.fileIndex=u;var d=t.tmpl(l.view.getTemplateDescriptor(n),c,l);o.push(d[0]);
}return o=e(o),e(o).each(function(){s.fileupload&&s.fileupload.autoUpload&&e(this).find("button.start").css("display","none"),l.handleWrapRow(this,s);var t=e(this);e(this).find("button.delete").on("click",function(){var n=e(t).find("button.delete"),i=e(n).attr("data-file-index"),r=a[i];l.onFileDelete.call(l,t,n,r),l.triggerWithPropagation("change"),setTimeout(function(){l.refreshUIState()},200)})}),e(o)}}},getFieldType:function(){return"upload"},setup:function(){var e=this;this.base(),e.options.renderButtons=!1,e.options.buttons||(e.options.buttons=[]),e.options.hideDeleteButton||e.options.buttons.push({key:"delete",isDelete:!0}),"undefined"==typeof e.options.multiple&&(e.options.multiple=!1),"undefined"==typeof e.options.showUploadPreview&&(e.options.showUploadPreview=!0),"undefined"==typeof e.options.showHeaders&&(e.options.showHeaders=!0),e.data||(e.data=[]),e.options.upload||(e.options.upload={}),"undefined"==typeof e.options.maxNumberOfFiles&&(e.options.upload.maxNumberOfFiles?(e.options.maxNumberOfFiles=e.options.upload.maxNumberOfFiles,1===e.options.maxNumberOfFiles?e.options.multiple=!1:e.options.maxNumberOfFiles>1&&(e.options.multiple=!0)):(e.options.maxNumberOfFiles=1,"boolean"==typeof e.options.multiple&&e.options.multiple&&(e.options.maxNumberOfFiles=-1)),e.options.maxNumberOfFiles&&(e.options.upload.maxNumberOfFiles=e.options.maxNumberOfFiles)),"undefined"==typeof e.options.maxFileSize&&(e.options.upload.maxFileSize?e.options.maxFileSize=e.options.upload.maxFileSize:e.options.maxFileSize=-1,e.options.maxFileSize&&(e.options.upload.maxFileSize=e.options.maxFileSize)),"undefined"==typeof e.options.fileTypes&&(e.options.upload.acceptFileTypes?e.options.fileTypes=e.options.upload.acceptFileTypes:e.options.fileTypes=null,e.options.fileTypes&&(e.options.upload.acceptFileTypes=e.options.fileTypes)),e.options.errorHandler||(e.options.errorHandler=function(e){alert(e.join("\n"))});var n=e.determineCsrfToken();n&&(e.options.upload||(e.options.upload={}),e.options.upload.headers||(e.options.upload.headers={}),e.options.upload.headers[t.CSRF_HEADER_NAME]=n)},determineCsrfToken:function(){var e=t.CSRF_TOKEN;if(!e)for(var n=0;n<t.CSRF_COOKIE_NAMES.length;n++){var i=t.CSRF_COOKIE_NAMES[n],a=t.readCookie(i);if(a){e=a;break}}return e},prepareControlModel:function(e){var t=this;t.base(function(n){n.chooseButtonLabel=t.options.chooseButtonLabel,n.chooseButtonLabel||(n.chooseButtonLabel=t.getMessage("chooseFiles"),1===t.options.maxNumberOfFiles&&(n.chooseButtonLabel=t.getMessage("chooseFile"))),n.dropZoneMessage=t.options.dropZoneMessage,n.dropZoneMessage||(n.dropZoneMessage=t.getMessage("dropZoneSingle"),1===n.maxNumberOfFiles&&(n.dropZoneMessage=t.getMessage("dropZoneMultiple"))),e(n)})},afterRenderControl:function(t,n){var i=this;this.base(t,function(){i.handlePostRender(function(){i.isDisplayOnly()&&(e(i.control).find("button").hide(),e(i.control).find(".btn").hide(),e(i.control).find(".alpaca-fileupload-chooserow").hide(),e(i.control).find(".dropzone-message").hide()),n()})})},getUploadTemplate:function(){return this.wrapTemplate("control-upload-partial-upload")},getDownloadTemplate:function(){return this.wrapTemplate("control-upload-partial-download")},handlePostRender:function(t){var n=this,i=this.control,a={};if(a.dataType="json",a.uploadTemplateId=null,a.uploadTemplate=this.getUploadTemplate(),a.downloadTemplateId=null,a.downloadTemplate=this.getDownloadTemplate(),a.filesContainer=e(i).find(".files"),a.dropZone=e(i).find(".fileupload-active-zone"),a.url="/",a.method="post",a.showUploadPreview=n.options.showUploadPreview,n.options.upload)for(var r in n.options.upload)a[r]=n.options.upload[r];n.options.multiple&&(e(i).find(".alpaca-fileupload-input").attr("multiple",!0),e(i).find(".alpaca-fileupload-input").attr("name",n.name+"_files[]")),e(i).find(".progress").css("display","none"),a.progressall=function(t,n){var a=!1;if(n.loaded<n.total&&(a=!0),a){e(i).find(".progress").css("display","block");var r=parseInt(n.loaded/n.total*100,10);e("#progress .progress-bar").css("width",r+"%")}else e(i).find(".progress").css("display","none")},a.add=function(t,i){var a=[],r=0;do{var s=!1;if(r<i.originalFiles.length){if(n.options.fileTypes){var o=n.options.fileTypes;"string"==typeof n.options.fileTypes&&(o=new RegExp(n.options.fileTypes)),o.test(i.originalFiles[r].type)||(a.push("Not an accepted file type: "+i.originalFiles[r].type),s=!0)}n.options.maxFileSize>-1&&i.originalFiles[r].size>n.options.maxFileSize&&(a.push("Filesize is too big: "+i.originalFiles[r].size),s=!0)}s?r++:r++}while(r<i.originalFiles.length);a.length>0?n.options.errorHandler(a):i.files&&i.files.length>0&&e.each(i.files,function(t,n){if("undefined"!=typeof FileReader){var a=new FileReader,r=t+1;e(".files tr:nth-child("+r+")> td.preview");n.previewData||(n.previewData={}),a.onload=function(){var e=event.target.result;n.previewData=e},a.readAsDataURL(n)}i.submit()})},n.applyConfiguration(a);var s=n.fileUpload=e(i).find(".alpaca-fileupload-input").fileupload(a);s.bindFirst("fileuploaddone",function(e,t){var i=n.options.enhanceFiles;i?i(a,t):n.enhanceFiles(a,t),t.files=t.files?t.files:t.result.files,setTimeout(function(){n.refreshUIState()},250)}),s.bindFirst("fileuploadsubmit",function(t,i){n.options.upload&&n.options.upload.formData&&e.each(i.files,function(e,t){for(var i in n.options.upload.formData){var a=i,r=n.options.upload.formData[i];r=n.applyTokenSubstitutions(r,e,t,n.options.upload.formData),t.formData||(t.formData={}),t.formData[a]=r}}),n.options.properties&&e.each(i.files,function(e,t){for(var a in n.options.properties){var r="property"+e+"__"+a,s=n.options.properties[a];s=n.applyTokenSubstitutions(s,e,t),i.formData||(i.formData={}),i.formData[r]=s}}),n.options.parameters&&e.each(i.files,function(e,t){for(var a in n.options.parameters){var r="param"+e+"__"+a,s=n.options.parameters[a];s=n.applyTokenSubstitutions(s,e,t),i.formData||(i.formData={}),i.formData[r]=s}})}),s.bind("fileuploaddone",function(e,t){var i=n.getValue(),a=function(e){return e===t.files.length?void n.setValue(i):void n.convertFileToDescriptor(t.files[e],function(t,n){n&&i.push(n),a(e+1)})};a(0)}),s.bind("fileuploadfail",function(e,t){t.errorThrown&&n.onUploadFail(t)}),s.bind("fileuploadalways",function(e,t){n.refreshUIState()}),n.applyBindings(s,i),n.preload(s,i,function(a){if(a){var r=e(n.control).find(".alpaca-fileupload-input");e(r).fileupload("option","done").call(r,e.Event("done"),{result:{files:a}}),n.afterPreload(s,i,a,function(){t()})}else t()}),"undefined"!=typeof document&&e(document).bind("drop dragover",function(e){e.preventDefault()})},handleWrapRow:function(e,t){},applyTokenSubstitutions:function(e,t,n,i){var a={index:t,name:n.name,size:n.size,url:i&&i.url?i.url:n.url,thumbnailUrl:i&&i.thumbnailUrl?i.thumbnailUrl:n.thumbnailUrl},r=-1,s=0;do if(r=e.indexOf("{",s),r>-1){var o=e.indexOf("}",r);if(o>-1){var l=e.substring(r+1,o),u=a[l];u&&(e=e.substring(0,r)+u+e.substring(o+1)),s=o+1}}while(r>-1);return e},removeValue:function(e){for(var t=this,n=t.getValue(),i=0;i<n.length;i++)if(n[i].id==e){n.splice(i,1);break}t.setValue(n)},applyConfiguration:function(e){},applyBindings:function(e){},convertFileToDescriptor:function(e,t){var n={id:e.id,name:e.name,size:e.size,url:e.url,thumbnailUrl:e.formData.thumbnailUrl,deleteUrl:e.formData.deleteUrl,deleteType:e.formData.deleteType};t(null,n)},convertDescriptorToFile:function(e,t){var n={id:e.id,name:e.name,size:e.size,url:e.url,thumbnailUrl:e.thumbnailUrl,deleteUrl:e.deleteUrl,deleteType:e.deleteType};t(null,n)},enhanceFiles:function(e,t){},preload:function(e,t,n){var i=this,a=[],r=i.getValue(),s=function(e){return e==r.length?void n(a):void i.convertDescriptorToFile(r[e],function(t,n){n&&a.push(n),s(e+1)})};s(0)},afterPreload:function(e,t,n,i){var a=this;a.refreshUIState(),i()},getControlValue:function(){return this.data},setValue:function(e){e||(e=[]),this.data=e,this.updateObservable(),this.triggerUpdate()},reload:function(t){var n=this,i=this.getValue(),a=[],r=function(s){if(s===i.length){var o=e(n.control).find(".alpaca-fileupload-input");return e(o).fileupload("option","done").call(o,e.Event("done"),{result:{files:a}}),n.refreshValidationState(),void t()}n.convertDescriptorToFile(i[s],function(e,t){t&&a.push(t),r(s+1)})};r(0)},plugin:function(){var t=this;return e(t.control).find(".alpaca-fileupload-input").data().blueimpFileupload},refreshUIState:function(){var e=this,t=e.plugin();if(t){var n=e.options.maxNumberOfFiles;t.options.getNumberOfFiles&&t.options.getNumberOfFiles()>=n?e.refreshButtons(!1):e.refreshButtons(!0)}},refreshButtons:function(t){var n=this;e(n.control).find(".btn.fileinput-button").prop("disabled",!0),e(n.control).find(".btn.fileinput-button").attr("disabled","disabled"),e(n.control).find(".fileupload-active-zone p.dropzone-message").css("display","none"),t&&(e(n.control).find(".btn.fileinput-button").prop("disabled",!1),e(n.control).find(".btn.fileinput-button").attr("disabled",null),e(n.control).find(".fileupload-active-zone p.dropzone-message").css("display","block"))},onFileDelete:function(n,i,a){var r=this,s=a.deleteUrl,o=a.deleteType,l={method:o,url:s,headers:{}},u=r.determineCsrfToken();u&&(l.headers[t.CSRF_HEADER_NAME]=u),e.ajax(l),e.each(r.data,function(e,t){t.id===a.id&&r.data.splice(e,1)})},onUploadFail:function(e){for(var t=this,n=0;n<e.files.length;n++)e.files[n].error=e.errorThrown;t.options.uploadFailHandler&&t.options.uploadFailHandler.call(t,e)},disable:function(){e(this.field).find(".fileinput-button").prop("disabled",!0),e(this.field).find(".fileinput-button").attr("disabled","disabled"),e(this.field).find(".alpaca-fileupload-well").css("visibility","hidden")},enable:function(){e(this.field).find(".fileinput-button").prop("disabled",!1),e(this.field).find(".fileinput-button").removeAttr("disabled"),e(this.field).find(".alpaca-fileupload-well").css("visibility","visible")},getTitle:function(){return"Upload Field"},getDescription:function(){return"Provides an upload field with support for thumbnail preview"},getType:function(){return"array"},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{maxNumberOfFiles:{title:"Maximum Number of Files",description:"The maximum number of files to allow to be uploaded.  If greater than zero, the maximum number will be constrained.  If -1, then no limit is imposed.",type:"number","default":1},maxFileSize:{title:"Maximum File Size (in bytes)",description:"The maximum file size allowed per upload.  If greater than zero, the maximum file size will be limited to the given size in bytes.  If -1, then no limit is imposed.",type:"number","default":-1},fileTypes:{title:"File Types",description:"A regular expression limiting the file types that can be uploaded based on filename",type:"string"},multiple:{title:"Multiple",description:"Whether to allow multiple file uploads.  If maxNumberOfFiles is not specified, multiple will toggle between 1 and unlimited.",type:"boolean","default":!1},showUploadPreview:{title:"Show Upload Preview",description:"Whether to show thumbnails for uploaded assets (requires preview support)",type:"boolean","default":!0},errorHandler:{title:"Error Handler",description:"Optional function handler to be called when there is an error uploading one or more files.  This handler is typically used to instantiate a modal or other UI element to inform the end user.",type:"function"},uploadFailHandler:{title:"Upload Fail Handler",description:"Optional function handler to be called when one or more files fails to upload.  This function is responsible for parsing the underlying xHR request and populating the error message state.",type:"function"}}})}}),t.registerFieldClass("upload",t.Fields.UploadField),t.registerMessages({chooseFile:"Choose file...",chooseFiles:"Choose files...",dropZoneSingle:"Click the Choose button or Drag and Drop a file here to upload...",dropZoneMultiple:"Click the Choose button or Drag and Drop files here to upload..."}),function(e){function t(t){return o?t.data("events"):e._data(t[0]).events}function n(e,n,i){var a=t(e),r=a[n];if(!o){var s=i?r.splice(r.delegateCount-1,1)[0]:r.pop();return void r.splice(i?0:r.delegateCount||0,0,s)}i?a.live.unshift(a.live.pop()):r.unshift(r.pop())}function i(t,i,a){var r=i.split(/\s+/);t.each(function(){for(var t=0;t<r.length;++t){var i=e.trim(r[t]).match(/[^\.]+/i)[0];n(e(this),i,a)}})}var a=e.fn.jquery.split("."),r=parseInt(a[0]),s=parseInt(a[1]),o=1>r||1===r&&7>s;e.fn.bindFirst=function(){var t=e.makeArray(arguments),n=t.shift();return n&&(e.fn.bind.apply(this,arguments),i(this,n)),this}}(e)}(jQuery),function(e){var t=e.alpaca;t.Fields.UpperCaseField=t.Fields.TextField.extend({getFieldType:function(){return"uppercase"},setup:function(){this.base(),this.data&&(this.data=this.data.toUpperCase())},setValue:function(e){var n=null;e&&t.isString(e)&&(n=e.toUpperCase()),n!=this.getValue()&&this.base(n)},onKeyPress:function(e){this.base(e);var n=this;t.later(25,this,function(){var e=n.getValue();n.setValue(e)})},getTitle:function(){return"Uppercase Text"},getDescription:function(){return"Text field for uppercase text."}}),t.registerFieldClass("uppercase",t.Fields.UpperCaseField),t.registerDefaultFormatFieldMapping("uppercase","uppercase")}(jQuery),function(e){var t=e.alpaca;t.Fields.URLField=t.Fields.TextField.extend({getFieldType:function(){return"url"},setup:function(){this.inputType="url",this.base(),"undefined"==typeof this.options.allowIntranet&&(this.options.allowIntranet=!1),this.options.allowIntranet?this.schema.pattern=t.regexps["intranet-url"]:this.schema.pattern=t.regexps.url,this.schema.format="uri"},handleValidate:function(){var e=this.base(),t=this.validation;return t.invalidPattern.status||(t.invalidPattern.message=this.getMessage("invalidURLFormat")),e},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{allowIntranet:{title:"Allow intranet",description:"Allows URLs with unqualified hostnames"}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{allowIntranet:{type:"checkbox"}}})},getTitle:function(){return"URL Field"},getDescription:function(){return"Provides a text control with validation for an internet web address."}}),t.registerMessages({invalidURLFormat:"The URL provided is not a valid web address."}),t.registerFieldClass("url",t.Fields.URLField),t.registerDefaultFormatFieldMapping("url","url")}(jQuery),function(e){var t=e.alpaca;t.Fields.ZipcodeField=t.Fields.TextField.extend({getFieldType:function(){return"zipcode"},setup:function(){this.base(),this.options.format=this.options.format?this.options.format:"nine","nine"===this.options.format?this.schema.pattern=t.regexps["zipcode-nine"]:"five"===this.options.format?this.schema.pattern=t.regexps["zipcode-five"]:(t.logError("The configured zipcode format: "+this.options.format+" is not a legal value [five, nine]"),this.options.format="nine",this.schema.pattern=t.regexps["zipcode-nine"]),"nine"===this.options.format?this.options.maskString="99999-9999":"five"===this.options.format&&(this.options.maskString="99999")},handleValidate:function(){var e=this.base(),t=this.validation;return t.invalidPattern.status||("nine"===this.options.format?t.invalidPattern.message=this.getMessage("invalidZipcodeFormatNine"):"five"===this.options.format&&(t.invalidPattern.message=this.getMessage("invalidZipcodeFormatFive"))),e},getSchemaOfOptions:function(){return t.merge(this.base(),{properties:{format:{title:"Format",description:"How to represent the zipcode field",type:"string","default":"five","enum":["five","nine"],readonly:!0}}})},getOptionsForOptions:function(){return t.merge(this.base(),{fields:{format:{type:"text"}}})},getTitle:function(){return"Zipcode Field"},getDescription:function(){return"Provides a five or nine-digital US zipcode control with validation."}}),t.registerMessages({invalidZipcodeFormatFive:"Invalid Five-Digit Zipcode (#####)",invalidZipcodeFormatNine:"Invalid Nine-Digit Zipcode (#####-####)"}),t.registerFieldClass("zipcode",t.Fields.ZipcodeField),t.registerDefaultFormatFieldMapping("zipcode","zipcode")}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",title:"Abstract base view",messages:{countries:{afg:"Afghanistan",ala:"Aland Islands",alb:"Albania",dza:"Algeria",asm:"American Samoa",and:"Andorra",ago:"Angola",aia:"Anguilla",ata:"Antarctica",atg:"Antigua and Barbuda",arg:"Argentina",arm:"Armenia",abw:"Aruba",aus:"Australia",aut:"Austria",aze:"Azerbaijan",bhs:"Bahamas",bhr:"Bahrain",bgd:"Bangladesh",brb:"Barbados",blr:"Belarus",bel:"Belgium",blz:"Belize",ben:"Benin",bmu:"Bermuda",btn:"Bhutan",bol:"Bolivia",bih:"Bosnia and Herzegovina",bwa:"Botswana",bvt:"Bouvet Island",bra:"Brazil",iot:"British Indian Ocean Territory",brn:"Brunei Darussalam",bgr:"Bulgaria",bfa:"Burkina Faso",bdi:"Burundi",khm:"Cambodia",cmr:"Cameroon",can:"Canada",cpv:"Cape Verde",cym:"Cayman Islands",caf:"Central African Republic",tcd:"Chad",chl:"Chile",chn:"China",cxr:"Christmas Island",cck:"Cocos (Keeling), Islands",col:"Colombia",com:"Comoros",cog:"Congo",cod:"Congo, the Democratic Republic of the",cok:"Cook Islands",cri:"Costa Rica",hrv:"Croatia",cub:"Cuba",cyp:"Cyprus",cze:"Czech Republic",civ:"Cote d'Ivoire",dnk:"Denmark",dji:"Djibouti",dma:"Dominica",dom:"Dominican Republic",ecu:"Ecuador",egy:"Egypt",slv:"El Salvador",gnq:"Equatorial Guinea",eri:"Eritrea",est:"Estonia",eth:"Ethiopia",flk:"Falkland Islands (Malvinas),",fro:"Faroe Islands",fji:"Fiji",fin:"Finland",fra:"France",guf:"French Guiana",pyf:"French Polynesia",atf:"French Southern Territories",gab:"Gabon",gmb:"Gambia",geo:"Georgia",deu:"Germany",gha:"Ghana",gib:"Gibraltar",grc:"Greece",grl:"Greenland",grd:"Grenada",glp:"Guadeloupe",gum:"Guam",gtm:"Guatemala",ggy:"Guernsey",gin:"Guinea",gnb:"Guinea-Bissau",guy:"Guyana",hti:"Haiti",hmd:"Heard Island and McDonald Islands",vat:"Holy See (Vatican City State),",hnd:"Honduras",hkg:"Hong Kong",hun:"Hungary",isl:"Iceland",ind:"India",idn:"Indonesia",irn:"Iran, Islamic Republic of",irq:"Iraq",irl:"Ireland",imn:"Isle of Man",isr:"Israel",ita:"Italy",jam:"Jamaica",jpn:"Japan",jey:"Jersey",jor:"Jordan",kaz:"Kazakhstan",ken:"Kenya",kir:"Kiribati",prk:"Korea, Democratic People's Republic of",kor:"Korea, Republic of",kwt:"Kuwait",kgz:"Kyrgyzstan",lao:"Lao People's Democratic Republic",lva:"Latvia",lbn:"Lebanon",lso:"Lesotho",lbr:"Liberia",lby:"Libyan Arab Jamahiriya",lie:"Liechtenstein",ltu:"Lithuania",lux:"Luxembourg",mac:"Macao",mkd:"Macedonia, the former Yugoslav Republic of",mdg:"Madagascar",mwi:"Malawi",mys:"Malaysia",mdv:"Maldives",mli:"Mali",mlt:"Malta",mhl:"Marshall Islands",mtq:"Martinique",mrt:"Mauritania",mus:"Mauritius",myt:"Mayotte",mex:"Mexico",fsm:"Micronesia, Federated States of",mda:"Moldova, Republic of",mco:"Monaco",mng:"Mongolia",mne:"Montenegro",msr:"Montserrat",mar:"Morocco",moz:"Mozambique",mmr:"Myanmar",nam:"Namibia",nru:"Nauru",npl:"Nepal",nld:"Netherlands",ant:"Netherlands Antilles",ncl:"New Caledonia",nzl:"New Zealand",nic:"Nicaragua",ner:"Niger",nga:"Nigeria",niu:"Niue",nfk:"Norfolk Island",mnp:"Northern Mariana Islands",nor:"Norway",omn:"Oman",pak:"Pakistan",plw:"Palau",pse:"Palestinian Territory, Occupied",pan:"Panama",png:"Papua New Guinea",pry:"Paraguay",per:"Peru",phl:"Philippines",pcn:"Pitcairn",pol:"Poland",prt:"Portugal",pri:"Puerto Rico",qat:"Qatar",rou:"Romania",rus:"Russian Federation",rwa:"Rwanda",reu:"Reunion",blm:"Saint Barthelemy",shn:"Saint Helena",kna:"Saint Kitts and Nevis",lca:"Saint Lucia",maf:"Saint Martin (French part)",spm:"Saint Pierre and Miquelon",vct:"Saint Vincent and the Grenadines",wsm:"Samoa",smr:"San Marino",stp:"Sao Tome and Principe",sau:"Saudi Arabia",sen:"Senegal",srb:"Serbia",syc:"Seychelles",sle:"Sierra Leone",sgp:"Singapore",svk:"Slovakia",svn:"Slovenia",slb:"Solomon Islands",som:"Somalia",zaf:"South Africa",sgs:"South Georgia and the South Sandwich Islands",esp:"Spain",lka:"Sri Lanka",sdn:"Sudan",sur:"Suriname",sjm:"Svalbard and Jan Mayen",swz:"Swaziland",swe:"Sweden",che:"Switzerland",syr:"Syrian Arab Republic",twn:"Taiwan, Province of China",tjk:"Tajikistan",tza:"Tanzania, United Republic of",tha:"Thailand",tls:"Timor-Leste",tgo:"Togo",tkl:"Tokelau",ton:"Tonga",tto:"Trinidad and Tobago",tun:"Tunisia",tur:"Turkey",tkm:"Turkmenistan",tca:"Turks and Caicos Islands",tuv:"Tuvalu",uga:"Uganda",ukr:"Ukraine",are:"United Arab Emirates",gbr:"United Kingdom",usa:"United States",umi:"United States Minor Outlying Islands",ury:"Uruguay",uzb:"Uzbekistan",vut:"Vanuatu",ven:"Venezuela",vnm:"Viet Nam",vgb:"Virgin Islands, British",vir:"Virgin Islands, U.S.",wlf:"Wallis and Futuna",esh:"Western Sahara",yem:"Yemen",zmb:"Zambia",zwe:"Zimbabwe"},empty:"",required:"This field is required",valid:"",invalid:"This field is invalid",months:["January","February","March","April","May","June","July","August","September","October","November","December"],timeUnits:{SECOND:"seconds",MINUTE:"minutes",HOUR:"hours",DAY:"days",MONTH:"months",YEAR:"years"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{de_AT:{required:"Eingabe erforderlich",invalid:"Eingabe invalid",months:["Jnner","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],timeUnits:{SECOND:"Sekunden",MINUTE:"Minuten",HOUR:"Stunden",DAY:"Tage",MONTH:"Monate",YEAR:"Jahre"},notOptional:"Dieses Feld ist nicht optional",disallowValue:"Diese Werte sind nicht erlaubt: {0}",invalidValueOfEnum:"Diese Feld sollte einen der folgenden Werte enthalten: {0}. [{1}]",notEnoughItems:"Die Mindestanzahl von Elementen ist {0}",tooManyItems:"Die Maximalanzahl von Elementen ist {0}",valueNotUnique:"Diese Werte sind nicht eindeutig",notAnArray:"Keine Liste von Werten",invalidDate:"Falsches Datumsformat: {0}",invalidEmail:"Ungltige e-Mail Adresse, z.B.: info@cloudcms.com",stringNotAnInteger:"Eingabe ist keine Ganz Zahl.",invalidIPv4:"Ungltige IPv4 Adresse, z.B.: 192.168.0.1",stringValueTooSmall:"Die Mindestanzahl von Zeichen ist {0}",stringValueTooLarge:"Die Maximalanzahl von Zeichen ist {0}",stringValueTooSmallExclusive:"Die Anzahl der Zeichen muss grer sein als {0}",stringValueTooLargeExclusive:"Die Anzahl der Zeichen muss kleiner sein als {0}",stringDivisibleBy:"Der Wert muss durch {0} dividierbar sein",stringNotANumber:"Die Eingabe ist keine Zahl",invalidPassword:"Ungltiges Passwort.",invalidPhone:"Ungltige Telefonnummer, z.B.: (123) 456-9999",invalidPattern:"Diese Feld stimmt nicht mit folgender Vorgabe berein {0}",stringTooShort:"Dieses Feld sollte mindestens {0} Zeichen enthalten",stringTooLong:"Dieses Feld sollte hchstens {0} Zeichen enthalten"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{de_DE:{required:"Eingabe erforderlich",invalid:"Eingabe ungltig",months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],timeUnits:{SECOND:"Sekunden",MINUTE:"Minuten",HOUR:"Stunden",DAY:"Tage",MONTH:"Monate",YEAR:"Jahre"},notOptional:"Dieses Feld ist nicht optional",disallowValue:"Diese Werte sind nicht erlaubt: {0}",invalidValueOfEnum:"Diese Feld sollte einen der folgenden Werte enthalten: {0}. [{1}]",notEnoughItems:"Die Mindestanzahl von Elementen ist {0}",tooManyItems:"Die Maximalanzahl von Elementen ist {0}",valueNotUnique:"Diese Werte sind nicht eindeutig",notAnArray:"Keine Liste von Werten",invalidDate:"Falsches Datumsformat: {0}",invalidEmail:"Keine gltige E-Mail Adresse",stringNotAnInteger:"Keine Ganze Zahl",invalidIPv4:"Ungltige IPv4 Adresse",stringValueTooSmall:"Die Mindestanzahl von Zeichen ist {0}",stringValueTooLarge:"Die Maximalanzahl von Zeichen ist {0}",stringValueTooSmallExclusive:"Die Anzahl der Zeichen muss grer sein als {0}",stringValueTooLargeExclusive:"Die Anzahl der Zeichen muss kleiner sein als {0}",stringDivisibleBy:"Der Wert muss durch {0} dividierbar sein",stringNotANumber:"Die Eingabe ist keine Zahl",invalidPassword:"Ungltiges Passwort",invalidPhone:"Ungltige Telefonnummer",invalidPattern:"Diese Feld stimmt nicht mit folgender Vorgabe berein {0}",stringTooShort:"Dieses Feld sollte mindestens {0} Zeichen enthalten",stringTooLong:"Dieses Feld sollte hchstens {0} Zeichen enthalten"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{es_ES:{required:"Este campo es obligatorio",invalid:"Este campo es invlido",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],timeUnits:{SECOND:"segundos",MINUTE:"minutos",HOUR:"horas",DAY:"das",MONTH:"meses",YEAR:"aos"},notOptional:"Este campo no es opcional.",disallowValue:"{0} son los valores rechazados.",invalidValueOfEnum:"Este campo debe tener uno de los valores adentro {0}. [{1}]",notEnoughItems:"El nmero mnimo de artculos es {0}",tooManyItems:"El nmero mximo de artculos es {0}",valueNotUnique:"Los valores no son nicos",notAnArray:"Este valor no es un arsenal",invalidDate:"Fecha invlida para el formato {0}",invalidEmail:"Email address invlido, ex: info@cloudcms.com",stringNotAnInteger:"Este valor no es un nmero entero.",invalidIPv4:"Direccin invlida IPv4, ex: 192.168.0.1",stringValueTooSmall:"El valor mnimo para este campo es {0}",stringValueTooLarge:"El valor mximo para este campo es {0}",stringValueTooSmallExclusive:"El valor de este campo debe ser mayor que {0}",stringValueTooLargeExclusive:"El valor de este campo debe ser menos que {0}",stringDivisibleBy:"El valor debe ser divisible cerca {0}",stringNotANumber:"Este valor no es un nmero.",invalidPassword:"Contrasea invlida",invalidPhone:"Nmero de telfono invlido, ex: (123) 456-9999",invalidPattern:"Este campo debe tener patrn {0}",stringTooShort:"Este campo debe contener por lo menos {0} nmeros o caracteres",stringTooLong:"Este campo debe contener a lo ms {0} nmeros o caracteres",noneLabel:"Ninguno",addItemButtonLabel:"Aadir",addButtonLabel:"Aadir",removeButtonLabel:"Quitar",upButtonLabel:"Arriba",downButtonLabel:"Abajo"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{fr_FR:{required:"Ce champ est requis",invalid:"Ce champ est invalide",months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],timeUnits:{SECOND:"secondes",MINUTE:"minutes",HOUR:"heures",DAY:"jours",MONTH:"mois",YEAR:"annes"},notOptional:"Ce champ n'est pas optionnel.",disallowValue:"{0} sont des valeurs interdites.",invalidValueOfEnum:"Ce champ doit prendre une des valeurs suivantes : {0}. [{1}]",notEnoughItems:"Le nombre minimum d'lments est {0}",tooManyItems:"Le nombre maximum d'lments est {0}",valueNotUnique:"Les valeurs sont uniques",notAnArray:"Cette valeur n'est pas une liste",invalidDate:"Cette date ne correspond pas au format {0}",invalidEmail:"Adresse de courriel invalide, ex: info@cloudcms.com",stringNotAnInteger:"Cette valeur n'est pas un nombre entier.",invalidIPv4:"Adresse IPv4 invalide, ex: 192.168.0.1",stringValueTooSmall:"La valeur minimale pour ce champ est {0}",stringValueTooLarge:"La valeur maximale pour ce champ est {0}",stringValueTooSmallExclusive:"La valeur doit-tre suprieure  {0}",stringValueTooLargeExclusive:"La valeur doit-tre infrieure  {0}",stringDivisibleBy:"La valeur doit-tre divisible par {0}",stringNotANumber:"Cette valeur n'est pas un nombre.",invalidPassword:"Mot de passe invalide",invalidPhone:"Numro de tlphone invalide, ex: (123) 456-9999",invalidPattern:"Ce champ doit correspondre au motif {0}",stringTooShort:"Ce champ doit contenir au moins {0} caractres",stringTooLong:"Ce champ doit contenir au plus {0} caractres"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{hr_HR:{required:"Polje je obavezno",invalid:"Pogrena vrijednost",months:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],timeUnits:{SECOND:"sekunda",MINUTE:"minuta",HOUR:"sati",DAY:"dan",MONTH:"mjesec",YEAR:"godina"},notOptional:"Polje nije opciono.",disallowValue:"{0} vrijednost nije dozvoljena.",invalidValueOfEnum:"Mogue vrijednosti : {0}. [{1}]",notEnoughItems:"Odaberite najmanje {0}",tooManyItems:"Odaberite najvie {0}",valueNotUnique:"Vrijednost nije jedinstvena",notAnArray:"Vrijednost nije popis",invalidDate:"Datum nije u formatu {0}",invalidEmail:"E-mail adresa nije u ispravnom formatu, npr: ime.prezime@internet.com",stringNotAnInteger:"Vrijednost nije cijeli broj.",invalidIPv4:"IPv4 adresa nije ispravna, npr: 192.168.0.1",stringValueTooSmall:"Vrijednost je ispod doputenog {0}",stringValueTooLarge:"Vrijednost je iznad doputenog {0}",stringValueTooSmallExclusive:"Vrijednost mora biti vea od {0}",stringValueTooLargeExclusive:"Vrijednost mora biti manja od {0}",stringDivisibleBy:"Vrijednost mora biti djeljiva sa {0}",stringNotANumber:"Vrijednost nije broj.",invalidPassword:"Neispravna lozinka",invalidPhone:"Telefon nije ispravan, npr: (123) 456-9999",invalidPattern:"Pogrean uzorak {0}",stringTooShort:"Polje mora imati namjanje {0} znakova",stringTooLong:"Polje mora imati najvie {0} znakova"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{it_IT:{required:"Questo campo  obbligatorio",invalid:"Questo campo  invalido",months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],timeUnits:{SECOND:"secondi",MINUTE:"minuti",HOUR:"ore",DAY:"giorni",MONTH:"mesi",YEAR:"anni"},notOptional:"Questo campo non  opzionale",disallowValue:"{0} sono valori invalidi",invalidValueOfEnum:"Questo campo deve avere uno dei seguenti valori {0} (valore attuale: {1})",notEnoughItems:"Il numero minimo di elementi richiesti  {0}",tooManyItems:"Il numero massimo di elementi ammessi  {0}",valueNotUnique:"I valori non sono univoci",notAnArray:"Questo valore non  di tipo array",invalidDate:"Data invalida per il formato {0}",invalidEmail:"Indirizzo email invalido, si attendono valori del tipo: info@cloudcms.com",stringNotAnInteger:"Questo valore non  un numero intero",invalidIPv4:"Indirizzo IPv4 invalido, si attendono valori del tipo: 192.168.0.1",stringValueTooSmall:"Il valore minimo per questo campo  {0}",stringValueTooLarge:"Il valore massimo per questo campo  {0}",stringValueTooSmallExclusive:"Il valore di questo campo deve essere maggiore di {0}",stringValueTooLargeExclusive:"Il valore di questo campo deve essere minore di {0}",stringDivisibleBy:"Il valore di questo campo deve essere divisibile per {0}",stringNotANumber:"Questo valore non  un numero",invalidPassword:"Password invalida",invalidPhone:"Numero di telefono invalido, si attendono valori del tipo: (123) 456-9999",invalidPattern:"Questo campo deve avere la seguente struttura: {0}",stringTooShort:"Questo campo non deve contenere meno di {0} caratteri",stringTooLong:"Questo campo non deve contenere pi di {0} caratteri",noneLabel:"Nessuno",addItemButtonLabel:"Aggiungi",addButtonLabel:"Aggiungi",removeButtonLabel:"Rimuovi",upButtonLabel:"Su",downButtonLabel:"Gi"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{ja_JP:{required:"",invalid:"",months:["1","2","3","4","5","6","7","8","9","10","11","12"],timeUnits:{SECOND:"",MINUTE:"",HOUR:"",DAY:"",MONTH:"",YEAR:""},notOptional:"",disallowValue:"{0} ",invalidValueOfEnum:" {0}  {1} ",notEnoughItems:" {0} ",tooManyItems:" {0} ",valueNotUnique:"",notAnArray:"",stringValueTooSmall:" {0} ",stringValueTooLarge:" {0} ",stringValueTooSmallExclusive:" {0} ",stringValueTooLargeExclusive:" {0} ",stringDivisibleBy:" {0} ",stringNotANumber:"",stringValueNotMultipleOf:" {0} ",stringNotAnInteger:"",stringNotAJSON:" JSON ",stringTooShort:" {0} ",stringTooLong:" {0} ",invalidTime:"",invalidDate:" {0} ",
invalidEmail:" info@cloudcms.com ",invalidIPv4:"IPv4  192.168.0.1 ",invalidPassword:"",invalidPhone:" (123) 456-9999 ",invalidPattern:" {0} ",invalidURLFormat:"URL ",keyMissing:"",keyNotUnique:"",ObjecttooFewProperties:" ({0} )",tooManyProperties:" ({0}) ",wordLimitExceeded:"{0} ",editorAnnotationsExist:"",invalidZipcodeFormatFive:"5 Zipcode (#####) ",invalidZipcodeFormatNine:"9 Zipcode (#####-####) "}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{nl_BE:{required:"Dit veld is verplicht",invalid:"Dit veld is ongeldig",months:["Januari","Februari","Maart","April","Mei","Juni","July","Augustus","September","Oktober","November","December"],timeUnits:{SECOND:"seconden",MINUTE:"minuten",HOUR:"uren",DAY:"dagen",MONTH:"maanden",YEAR:"jaren"},notOptional:"Dit veld is niet optioneel.",disallowValue:"{0} zijn verboden waarden.",invalidValueOfEnum:"Dit veld moet n van volgende bevatten : {0}. [{1}]",notEnoughItems:"Het minimum aantal elementen is {0}",tooManyItems:"Het maximum aantal elementen is {0}",valueNotUnique:"De waarden zijn uniek",notAnArray:"Deze waarde is geen lijst",invalidDate:"De datum komt niet overeen met formaat {0}",invalidEmail:"Ongeldig e-mailadres, vb.: info@cloudcms.com",stringNotAnInteger:"Deze waarde is geen geheel getal.",invalidIPv4:"Ongeldig IPv4 adres, vb.: 192.168.0.1",stringValueTooSmall:"De minimale waarde voor dit veld is {0}",stringValueTooLarge:"De maximale waarde voor dit veld is {0}",stringValueTooSmallExclusive:"De waarde moet groter zijn dan {0}",stringValueTooLargeExclusive:"De waarde moet kleiner zijn dan {0}",stringDivisibleBy:"De waarde moet deelbaar zijn door {0}",stringNotANumber:"Deze waarde is geen getal.",invalidPassword:"Ongeldig wachtwoord",invalidPhone:"Ongeldig telefoonnummer, vb: (123) 456-9999",invalidPattern:"Dit veld moet overeenkomen met patroon {0}",stringTooShort:"Dit veld moet minstens {0} tekens bevatten",stringTooLong:"Dit veld moet minder dan {0} tekens bevatten"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{pl_PL:{required:"To pole jest wymagane",invalid:"To pole jest nieprawidowe",months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],timeUnits:{SECOND:"sekundy",MINUTE:"minuty",HOUR:"godziny",DAY:"dni",MONTH:"miesice",YEAR:"lata"},notOptional:"To pole nie jest opcjonalne",disallowValue:"Ta warto nie jest dozwolona: {0}",invalidValueOfEnum:"To pole powinno zawiera jedn z nastpujcych wartoci: {0}. [{1}]",notEnoughItems:"Minimalna liczba elementw wynosi {0}",tooManyItems:"Maksymalna liczba elementw wynosi {0}",valueNotUnique:"Te wartoci nie s unikalne",notAnArray:"Ta warto nie jest tablic",invalidDate:"Niepoprawny format daty: {0}",invalidEmail:"Niepoprawny adres email, n.p.: info@cloudcms.com",stringNotAnInteger:"Ta warto nie jest liczb cakowit",invalidIPv4:"Niepoprawny adres IPv4, n.p.: 192.168.0.1",stringValueTooSmall:"Minimalna warto dla tego pola wynosi {0}",stringValueTooLarge:"Maksymalna warto dla tego pola wynosi {0}",stringValueTooSmallExclusive:"Warto dla tego pola musi by wiksza ni {0}",stringValueTooLargeExclusive:"Warto dla tego pola musi by mniejsza ni {0}",stringDivisibleBy:"Warto musi by podzielna przez {0}",stringNotANumber:"Warto nie jest liczb",invalidPassword:"Niepoprawne haso",invalidPhone:"Niepoprawny numer telefonu, n.p.: (123) 456-9999",invalidPattern:"To pole powinno mie format {0}",stringTooShort:"To pole powinno zawiera co najmniej {0} znakw",stringTooLong:"To pole powinno zawiera najwyej {0} znakw"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{pt_BR:{required:"Este campo  obrigatrio",invalid:"Este campo  invlido",months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],timeUnits:{SECOND:"segundos",MINUTE:"minutos",HOUR:"horas",DAY:"dias",MONTH:"meses",YEAR:"anos"},notOptional:"Este campo no  opcional.",disallowValue:"{0} so valores proibidas.",invalidValueOfEnum:"Este campo deve ter um dos seguintes valores: {0}. [{1}]",notEnoughItems:"O nmero mnimo de elementos  {0}",tooManyItems:"O nmero mximo de elementos  {0}",valueNotUnique:"Os valores no so nicos",notAnArray:"Este valor no  uma lista",invalidDate:"Esta data no tem o formato {0}",invalidEmail:"Endereo de email invlida, ex: info@cloudcms.com",stringNotAnInteger:"Este valor no  um nmero inteiro.",invalidIPv4:"Endereo IPv4 invlida, ex: 192.168.0.1",stringValueTooSmall:"O valor mnimo para este campo  {0}",stringValueTooLarge:"O valor mximo para este campo  {0}",stringValueTooSmallExclusive:"O valor deste campo deve ser maior que {0}",stringValueTooLargeExclusive:"O valor deste campo deve ser menor que {0}",stringDivisibleBy:"O valor deve ser divisvel por {0}",stringNotANumber:"Este valor no  um nmero.",invalidPassword:"Senha invlida",invalidPhone:"Nmero de telefone invlido, ex: (123) 456-9999",invalidPattern:"Este campo deve ter o padro {0}",stringTooShort:"Este campo deve incluir pelo menos {0} caracteres",stringTooLong:"Este campo pode incluir no mximo {0} caracteres"}}})}(jQuery),function(e){var t=e.alpaca;t.registerView({id:"base",messages:{zh_CN:{required:"&#27492;&#22495;&#24517;&#39035;",invalid:"&#27492;&#22495;&#19981;&#21512;&#26684;",months:["&#19968;&#26376;","&#20108;&#26376;","&#19977;&#26376;","&#22235;&#26376;","&#20116;&#26376;","&#20845;&#26376;","&#19971;&#26376;","&#20843;&#26376;","&#20061;&#26376;","&#21313;&#26376;","&#21313;&#19968;&#26376;","&#21313;&#20108;&#26376;"],timeUnits:{SECOND:"&#31186;",MINUTE:"&#20998;",HOUR:"&#26102;",DAY:"&#26085;",MONTH:"&#26376;",YEAR:"&#24180;"},notOptional:"&#27492;&#22495;&#38750;&#20219;&#36873;",disallowValue:"&#38750;&#27861;&#36755;&#20837;&#21253;&#25324; {0}.",invalidValueOfEnum:"&#20801;&#35768;&#36755;&#20837;&#21253;&#25324; {0}. [{1}]",notEnoughItems:"&#26368;&#23567;&#20010;&#25968; {0}",tooManyItems:"&#26368;&#22823;&#20010;&#25968; {0}",valueNotUnique:"&#36755;&#20837;&#20540;&#19981;&#29420;&#29305;",notAnArray:"&#19981;&#26159;&#25968;&#32452;",invalidDate:"&#26085;&#26399;&#26684;&#24335;&#22240;&#35813;&#26159; {0}",invalidEmail:"&#20234;&#22969;&#20799;&#26684;&#24335;&#19981;&#23545;, ex: info@cloudcms.com",stringNotAnInteger:"&#19981;&#26159;&#25972;&#25968;.",invalidIPv4:"&#19981;&#26159;&#21512;&#27861;IP&#22320;&#22336;, ex: 192.168.0.1",stringValueTooSmall:"&#26368;&#23567;&#20540;&#26159; {0}",stringValueTooLarge:"&#26368;&#22823;&#20540;&#26159; {0}",stringValueTooSmallExclusive:"&#20540;&#24517;&#39035;&#22823;&#20110; {0}",stringValueTooLargeExclusive:"&#20540;&#24517;&#39035;&#23567;&#20110; {0}",stringDivisibleBy:"&#20540;&#24517;&#39035;&#33021;&#34987; {0} &#25972;&#38500;",stringNotANumber:"&#19981;&#26159;&#25968;&#23383;.",invalidPassword:"&#38750;&#27861;&#23494;&#30721;",invalidPhone:"&#38750;&#27861;&#30005;&#35805;&#21495;&#30721;, ex: (123) 456-9999",invalidPattern:"&#27492;&#22495;&#39035;&#26377;&#26684;&#24335; {0}",stringTooShort:"&#27492;&#22495;&#33267;&#23569;&#38271;&#24230; {0}",stringTooLong:"&#27492;&#22495;&#26368;&#22810;&#38271;&#24230; {0}"}}})}(jQuery),function(e){var t=e.alpaca,n={};n.field=function(){},n.control=function(){},n.container=function(){},n.form=function(){},n.required=function(){},n.optional=function(){},n.readonly=function(){},n.disabled=function(){},n.enabled=function(){},n.clearValidity=function(){},n.invalid=function(e){},n.valid=function(){},n.addMessage=function(e,t,n,i){},n.removeMessages=function(){},n.enableButton=function(e){},n.disableButton=function(e){},n.arrayToolbar=function(n){var i=this;if(n){var a=e(i.getFieldEl()).find(".alpaca-array-toolbar[data-alpaca-array-toolbar-field-id='"+i.getId()+"']");if(a.length>0){var r=e("<div class='"+t.MARKER_CLASS_ARRAY_TOOLBAR+"' "+t.MARKER_DATA_ARRAY_TOOLBAR_FIELD_ID+"='"+i.getId()+"'></div>");a.before(r),a.remove()}}else{var r=e(i.getContainerEl()).find("."+t.MARKER_CLASS_ARRAY_TOOLBAR+"["+t.MARKER_DATA_ARRAY_TOOLBAR_FIELD_ID+"='"+i.getId()+"']");if(r.length>0){var s=i.view.getTemplateDescriptor("container-array-toolbar",i);if(s){var o=t.tmpl(s,{actions:i.toolbar.actions,id:i.getId(),toolbarStyle:i.options.toolbarStyle,view:i.view});e(r).before(o),e(r).remove()}}}},n.arrayActionbars=function(n){for(var i=this,a=0;a<i.children.length;a++){var r=i.children[a],s=r.getId();if(n){var o=e(i.getFieldEl()).find(".alpaca-array-actionbar[data-alpaca-array-actionbar-field-id='"+s+"']");if(o.length>0){var l=e("<div class='"+t.MARKER_CLASS_ARRAY_ITEM_ACTIONBAR+"' "+t.MARKER_DATA_ARRAY_ITEM_KEY+"='"+r.name+"'></div>");o.before(l),o.remove()}}else{var l=e(i.getFieldEl()).find("."+t.MARKER_CLASS_ARRAY_ITEM_ACTIONBAR+"["+t.MARKER_DATA_ARRAY_ITEM_KEY+"='"+r.name+"']");if(l.length>0){var u=i.view.getTemplateDescriptor("container-array-actionbar",i);if(u){var c=t.tmpl(u,{actions:i.actionbar.actions,name:r.name,parentFieldId:i.getId(),fieldId:r.getId(),itemIndex:a,actionbarStyle:i.options.actionbarStyle,view:i.view});e(l).before(c),e(l).remove()}}}}},n.autocomplete=function(){};var i={};i.button="",i.smallButton="",i.addIcon="",i.removeIcon="",i.upIcon="",i.downIcon="",i.expandedIcon="",i.collapsedIcon="",i.table="",t.registerView({id:"web-display",parent:"base",type:"display",ui:"web",title:"Default HTML5 display view",displayReadonly:!0,templates:{},callbacks:n,styles:i,horizontal:!1}),t.registerView({id:"web-display-horizontal",parent:"web-display",horizontal:!0}),t.registerView({id:"web-edit",parent:"base",type:"edit",ui:"web",title:"Default HTML5 edit view",displayReadonly:!0,templates:{},callbacks:n,styles:i,horizontal:!1}),t.registerView({id:"web-edit-horizontal",parent:"web-edit",horizontal:!0}),t.registerView({id:"web-create",parent:"web-edit",type:"create",title:"Default HTML5 create view",displayReadonly:!1,templates:{},horizontal:!1}),t.registerView({id:"web-create-horizontal",parent:"web-create",horizontal:!0})}(jQuery),function(e){var t=e.alpaca,n={};n.button="btn btn-default",n.smallButton="btn btn-default btn-sm",n.addIcon="glyphicon glyphicon-plus-sign",n.removeIcon="glyphicon glyphicon-minus-sign",n.upIcon="glyphicon glyphicon-chevron-up",n.downIcon="glyphicon glyphicon-chevron-down",n.expandedIcon="glyphicon glyphicon-circle-arrow-down",n.collapsedIcon="glyphicon glyphicon-circle-arrow-right",n.table="table table-striped table-bordered table-hover";var i={};i.required=function(){var t=this.getFieldEl(),n=e(t).find("label.alpaca-control-label");e('<span class="alpaca-icon-required glyphicon glyphicon-star"></span>').prependTo(n)},i.invalid=function(){this.isControlField&&e(this.getFieldEl()).addClass("has-error")},i.valid=function(){e(this.getFieldEl()).removeClass("has-error")},i.control=function(){var t=this.getFieldEl(),n=this.getControlEl();if(e(t).find("input").addClass("form-control"),e(t).find("textarea").addClass("form-control"),e(t).find("select").addClass("form-control"),e(t).find("input[type=checkbox]").removeClass("form-control"),e(t).find("input[type=file]").removeClass("form-control"),e(t).find("input[type=radio]").removeClass("form-control"),"color"===this.inputType&&e(t).find("input").removeClass("form-control"),e(t).find("input[type=checkbox]").parent().parent().addClass("checkbox"),e(t).find("input[type=radio]").parent().parent().addClass("radio"),e(t).parents("form").hasClass("form-inline")&&(e(t).find("input[type=checkbox]").parent().addClass("checkbox-inline"),e(t).find("input[type=radio]").parent().addClass("radio-inline")),e(t).find("label.alpaca-control-label").addClass("control-label"),this.view.horizontal){e(t).find("label.alpaca-control-label").addClass("col-sm-3");var i=e("<div></div>");i.addClass("col-sm-9"),e(n).after(i),i.append(n),e(t).append("<div style='clear:both;'></div>")}},i.container=function(){var t=this.getContainerEl();this.view.horizontal&&e(t).addClass("form-horizontal")},i.form=function(){this.getFormEl()},i.enableButton=function(t){e(t).removeAttr("disabled")},i.disableButton=function(t){e(t).attr("disabled","disabled")},i.collapsible=function(){var n=this.getFieldEl(),i=e(n).find("legend").first(),a=e("[data-toggle='collapse']",i);if(e(a).length>0){var r=this.getContainerEl(),s=e(r).attr("id");s||(s=t.generateId(),e(r).attr("id",s)),e(r).addClass("collapse in"),e(a).attr("data-target")||e(a).attr("data-target","#"+s),e(a).mouseover(function(t){e(this).css("cursor","pointer")})}},i.tableHeaderRequired=function(t,n,i){e('<span class="alpaca-icon-required glyphicon glyphicon-star"></span>').prependTo(i)},i.tableHeaderOptional=function(e,t,n){},t.registerView({id:"bootstrap-display",parent:"web-display",type:"display",ui:"bootstrap",title:"Display View for Bootstrap 3",displayReadonly:!0,callbacks:i,styles:n,templates:{}}),t.registerView({id:"bootstrap-display-horizontal",parent:"bootstrap-display",horizontal:!0}),t.registerView({id:"bootstrap-edit",parent:"web-edit",type:"edit",ui:"bootstrap",title:"Edit View for Bootstrap 3",displayReadonly:!0,callbacks:i,styles:n,templates:{}}),t.registerView({id:"bootstrap-edit-horizontal",parent:"bootstrap-edit",horizontal:!0}),t.registerView({id:"bootstrap-create",parent:"bootstrap-edit",title:"Create View for Bootstrap 3",type:"create",displayReadonly:!1}),t.registerView({id:"bootstrap-create-horizontal",parent:"bootstrap-create",horizontal:!0})}(jQuery),Alpaca.defaultView="bootstrap",Alpaca});
/*! alertifyjs - v1.4.1 - Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) */
!function(a){"use strict";function b(a,b){a.className+=" "+b}function c(a,b){for(var c=b.split(" "),d=0;d<c.length;d+=1)a.className=a.className.replace(" "+c[d],"")}function d(){return"rtl"===a.getComputedStyle(document.body).direction}function e(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function f(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function g(a){for(;a.lastChild;)a.removeChild(a.lastChild)}function h(a,b){return function(){if(arguments.length>0){for(var c=[],d=0;d<arguments.length;d+=1)c.push(arguments[d]);return c.push(a),b.apply(a,c)}return b.apply(a,[null,a])}}function i(a,b){return{index:a,button:b,cancel:!1}}function j(){function a(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a){var b=d[a].dialog;return b&&"function"==typeof b.__init&&b.__init(b),b}function c(b,c,e,f){var g={dialog:null,factory:c};return void 0!==f&&(g.factory=function(){return a(new d[f].factory,new c)}),e||(g.dialog=a(new g.factory,q)),d[b]=g}var d={};return{defaults:l,dialog:function(d,e,f,g){if("function"!=typeof e)return b(d);if(this.hasOwnProperty(d))throw new Error("alertify.dialog: name already exists");var h=c(d,e,f,g);f?this[d]=function(){if(0===arguments.length)return h.dialog;var b=a(new h.factory,q);return b&&"function"==typeof b.__init&&b.__init(b),b.main.apply(b,arguments),b.show.apply(b)}:this[d]=function(){if(h.dialog&&"function"==typeof h.dialog.__init&&h.dialog.__init(h.dialog),0===arguments.length)return h.dialog;var a=h.dialog;return a.main.apply(h.dialog,arguments),a.show.apply(h.dialog)}},closeAll:function(a){for(var b=m.slice(0),c=0;c<b.length;c+=1){var d=b[c];(void 0===a||a!==d)&&d.close()}},setting:function(a,c,d){if("notifier"===a)return r.setting(c,d);var e=b(a);return e?e.setting(c,d):void 0},set:function(a,b,c){return this.setting(a,b,c)},get:function(a,b){return this.setting(a,b)},notify:function(a,b,c,d){return r.create(b,d).push(a,c)},message:function(a,b,c){return r.create(null,c).push(a,b)},success:function(a,b,c){return r.create("success",c).push(a,b)},error:function(a,b,c){return r.create("error",c).push(a,b)},warning:function(a,b,c){return r.create("warning",c).push(a,b)},dismissAll:function(){r.dismissAll()}}}var k={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39},l={modal:!0,basic:!1,frameless:!1,movable:!0,resizable:!0,closable:!0,closableByDimmer:!0,maximizable:!0,startMaximized:!1,pinnable:!0,pinned:!0,padding:!0,overflow:!0,maintainFocus:!0,transition:"pulse",autoReset:!0,notifier:{delay:5,position:"bottom-right"},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}},m=[],n=function(){return document.addEventListener?function(a,b,c,d){a.addEventListener(b,c,d===!0)}:document.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:void 0}(),o=function(){return document.removeEventListener?function(a,b,c,d){a.removeEventListener(b,c,d===!0)}:document.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:void 0}(),p=function(){var a,b,c=!1,d={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in d)if(void 0!==document.documentElement.style[a]){b=d[a],c=!0;break}return{type:b,supported:c}}(),q=function(){function j(a){if(!a.__internal){delete a.__init,null===ua&&document.body.setAttribute("tabindex","0");var c;"function"==typeof a.setup?(c=a.setup(),c.options=c.options||{},c.focus=c.focus||{}):c={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof a.hooks&&(a.hooks={});var d=[];if(Array.isArray(c.buttons))for(var e=0;e<c.buttons.length;e+=1){var f=c.buttons[e],g={};for(var i in f)f.hasOwnProperty(i)&&(g[i]=f[i]);d.push(g)}var j=a.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:d,focus:c.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,pinned:void 0,movable:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclose:void 0,onfocus:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0},k={};k.root=document.createElement("div"),k.root.className=xa.base+" "+xa.hidden+" ",k.root.innerHTML=wa.dimmer+wa.modal,k.dimmer=k.root.firstChild,k.modal=k.root.lastChild,k.modal.innerHTML=wa.dialog,k.dialog=k.modal.firstChild,k.dialog.innerHTML=wa.reset+wa.commands+wa.header+wa.body+wa.footer+wa.resizeHandle+wa.reset,k.reset=[],k.reset.push(k.dialog.firstChild),k.reset.push(k.dialog.lastChild),k.commands={},k.commands.container=k.reset[0].nextSibling,k.commands.pin=k.commands.container.firstChild,k.commands.maximize=k.commands.pin.nextSibling,k.commands.close=k.commands.maximize.nextSibling,k.header=k.commands.container.nextSibling,k.body=k.header.nextSibling,k.body.innerHTML=wa.content,k.content=k.body.firstChild,k.footer=k.body.nextSibling,k.footer.innerHTML=wa.buttons.auxiliary+wa.buttons.primary,k.resizeHandle=k.footer.nextSibling,k.buttons={},k.buttons.auxiliary=k.footer.firstChild,k.buttons.primary=k.buttons.auxiliary.nextSibling,k.buttons.primary.innerHTML=wa.button,k.buttonTemplate=k.buttons.primary.firstChild,k.buttons.primary.removeChild(k.buttonTemplate);for(var l=0;l<a.__internal.buttons.length;l+=1){var m=a.__internal.buttons[l];ta.indexOf(m.key)<0&&ta.push(m.key),m.element=k.buttonTemplate.cloneNode(),m.element.innerHTML=m.text,"string"==typeof m.className&&""!==m.className&&b(m.element,m.className);for(var n in m.attrs)"className"!==n&&m.attrs.hasOwnProperty(n)&&m.element.setAttribute(n,m.attrs[n]);"auxiliary"===m.scope?k.buttons.auxiliary.appendChild(m.element):k.buttons.primary.appendChild(m.element)}a.elements=k,j.resetHandler=h(a,T),j.beginMoveHandler=h(a,X),j.beginResizeHandler=h(a,ba),j.bringToFrontHandler=h(a,x),j.modalClickHandler=h(a,N),j.buttonsClickHandler=h(a,P),j.commandsClickHandler=h(a,B),j.transitionInHandler=h(a,U),j.transitionOutHandler=h(a,V),a.set("title",void 0===c.options.title?s.defaults.glossary.title:c.options.title),a.set("modal",void 0===c.options.modal?s.defaults.modal:c.options.modal),a.set("basic",void 0===c.options.basic?s.defaults.basic:c.options.basic),a.set("frameless",void 0===c.options.frameless?s.defaults.frameless:c.options.frameless),a.set("movable",void 0===c.options.movable?s.defaults.movable:c.options.movable),a.set("resizable",void 0===c.options.resizable?s.defaults.resizable:c.options.resizable),a.set("autoReset",void 0===c.options.autoReset?s.defaults.autoReset:c.options.autoReset),a.set("closable",void 0===c.options.closable?s.defaults.closable:c.options.closable),a.set("closableByDimmer",void 0===c.options.closableByDimmer?s.defaults.closableByDimmer:c.options.closableByDimmer),a.set("maximizable",void 0===c.options.maximizable?s.defaults.maximizable:c.options.maximizable),a.set("startMaximized",void 0===c.options.startMaximized?s.defaults.startMaximized:c.options.startMaximized),a.set("pinnable",void 0===c.options.pinnable?s.defaults.pinnable:c.options.pinnable),a.set("pinned",void 0===c.options.pinned?s.defaults.pinned:c.options.pinned),a.set("transition",void 0===c.options.transition?s.defaults.transition:c.options.transition),a.set("padding",void 0===c.options.padding?s.defaults.padding:c.options.padding),a.set("overflow",void 0===c.options.overflow?s.defaults.overflow:c.options.overflow),"function"==typeof a.build&&a.build()}document.body.appendChild(a.elements.root)}function l(){ra=a.scrollX,sa=a.scrollY}function q(){a.scrollTo(ra,sa)}function r(){for(var a=0,d=0;d<m.length;d+=1){var e=m[d];(e.isModal()||e.isMaximized())&&(a+=1)}0===a?c(document.body,xa.noOverflow):a>0&&document.body.className.indexOf(xa.noOverflow)<0&&b(document.body,xa.noOverflow)}function t(a,d,e){"string"==typeof e&&c(a.elements.root,xa.prefix+e),b(a.elements.root,xa.prefix+d),ua=a.elements.root.offsetWidth}function u(a){a.get("modal")?(c(a.elements.root,xa.modeless),a.isOpen()&&(ka(a),J(a),r())):(b(a.elements.root,xa.modeless),a.isOpen()&&(ja(a),J(a),r()))}function v(a){a.get("basic")?b(a.elements.root,xa.basic):c(a.elements.root,xa.basic)}function w(a){a.get("frameless")?b(a.elements.root,xa.frameless):c(a.elements.root,xa.frameless)}function x(a,b){for(var c=m.indexOf(b),d=c+1;d<m.length;d+=1)if(m[d].isModal())return;return document.body.lastChild!==b.elements.root&&(document.body.appendChild(b.elements.root),m.splice(m.indexOf(b),1),m.push(b),S(b)),!1}function y(a,d,e,f){switch(d){case"title":a.setHeader(f);break;case"modal":u(a);break;case"basic":v(a);break;case"frameless":w(a);break;case"pinned":K(a);break;case"closable":M(a);break;case"maximizable":L(a);break;case"pinnable":G(a);break;case"movable":_(a);break;case"resizable":fa(a);break;case"transition":t(a,f,e);break;case"padding":f?c(a.elements.root,xa.noPadding):a.elements.root.className.indexOf(xa.noPadding)<0&&b(a.elements.root,xa.noPadding);break;case"overflow":f?c(a.elements.root,xa.noOverflow):a.elements.root.className.indexOf(xa.noOverflow)<0&&b(a.elements.root,xa.noOverflow);break;case"transition":t(a,f,e)}"function"==typeof a.hooks.onupdate&&a.hooks.onupdate.call(a,d,e,f)}function z(a,b,c,d,e){var f={op:void 0,items:[]};if("undefined"==typeof e&&"string"==typeof d)f.op="get",b.hasOwnProperty(d)?(f.found=!0,f.value=b[d]):(f.found=!1,f.value=void 0);else{var g;if(f.op="set","object"==typeof d){var h=d;for(var i in h)b.hasOwnProperty(i)?(b[i]!==h[i]&&(g=b[i],b[i]=h[i],c.call(a,i,g,h[i])),f.items.push({key:i,value:h[i],found:!0})):f.items.push({key:i,value:h[i],found:!1})}else{if("string"!=typeof d)throw new Error("args must be a string or object");b.hasOwnProperty(d)?(b[d]!==e&&(g=b[d],b[d]=e,c.call(a,d,g,e)),f.items.push({key:d,value:e,found:!0})):f.items.push({key:d,value:e,found:!1})}}return f}function A(a){var b;O(a,function(a){return b=a.invokeOnClose===!0}),!b&&a.isOpen()&&a.close()}function B(a,b){var c=a.srcElement||a.target;switch(c){case b.elements.commands.pin:b.isPinned()?D(b):C(b);break;case b.elements.commands.maximize:b.isMaximized()?F(b):E(b);break;case b.elements.commands.close:A(b)}return!1}function C(a){a.set("pinned",!0)}function D(a){a.set("pinned",!1)}function E(a){b(a.elements.root,xa.maximized),a.isOpen()&&r()}function F(a){c(a.elements.root,xa.maximized),a.isOpen()&&r()}function G(a){a.get("pinnable")?b(a.elements.root,xa.pinnable):c(a.elements.root,xa.pinnable)}function H(a){var b=f();a.elements.modal.style.marginTop=e()+"px",a.elements.modal.style.marginLeft=b+"px",a.elements.modal.style.marginRight=-b+"px"}function I(a){var b=parseInt(a.elements.modal.style.marginTop,10),c=parseInt(a.elements.modal.style.marginLeft,10);if(a.elements.modal.style.marginTop="",a.elements.modal.style.marginLeft="",a.elements.modal.style.marginRight="",a.isOpen()){var d=0,g=0;""!==a.elements.dialog.style.top&&(d=parseInt(a.elements.dialog.style.top,10)),a.elements.dialog.style.top=d+(b-e())+"px",""!==a.elements.dialog.style.left&&(g=parseInt(a.elements.dialog.style.left,10)),a.elements.dialog.style.left=g+(c-f())+"px"}}function J(a){a.get("modal")||a.get("pinned")?I(a):H(a)}function K(a){a.get("pinned")?(c(a.elements.root,xa.unpinned),a.isOpen()&&I(a)):(b(a.elements.root,xa.unpinned),a.isOpen()&&!a.isModal()&&H(a))}function L(a){a.get("maximizable")?b(a.elements.root,xa.maximizable):c(a.elements.root,xa.maximizable)}function M(a){a.get("closable")?(b(a.elements.root,xa.closable),pa(a)):(c(a.elements.root,xa.closable),qa(a))}function N(a,b){var c=a.srcElement||a.target;return ya||c!==b.elements.modal||b.get("closableByDimmer")!==!0||A(b),ya=!1,!1}function O(a,b){for(var c=0;c<a.__internal.buttons.length;c+=1){var d=a.__internal.buttons[c];if(!d.element.disabled&&b(d)){var e=i(c,d);"function"==typeof a.callback&&a.callback.apply(a,[e]),e.cancel===!1&&a.close();break}}}function P(a,b){var c=a.srcElement||a.target;O(b,function(a){return a.element===c&&(za=!0)})}function Q(a){if(za)return void(za=!1);var b=m[m.length-1],c=a.keyCode;return 0===b.__internal.buttons.length&&c===k.ESC&&b.get("closable")===!0?(A(b),!1):ta.indexOf(c)>-1?(O(b,function(a){return a.key===c}),!1):void 0}function R(a){var b=m[m.length-1],c=a.keyCode;if(c===k.LEFT||c===k.RIGHT){for(var d=b.__internal.buttons,e=0;e<d.length;e+=1)if(document.activeElement===d[e].element)switch(c){case k.LEFT:return void d[(e||d.length)-1].element.focus();case k.RIGHT:return void d[(e+1)%d.length].element.focus()}}else if(c<k.F12+1&&c>k.F1-1&&ta.indexOf(c)>-1)return a.preventDefault(),a.stopPropagation(),O(b,function(a){return a.key===c}),!1}function S(a,b){if(b)b.focus();else{var c=a.__internal.focus,d=c.element;switch(typeof c.element){case"number":a.__internal.buttons.length>c.element&&(d=a.get("basic")===!0?a.elements.reset[0]:a.__internal.buttons[c.element].element);break;case"string":d=a.elements.body.querySelector(c.element);break;case"function":d=c.element.call(a)}"undefined"!=typeof d&&null!==d||0!==a.__internal.buttons.length||(d=a.elements.reset[0]),d&&d.focus&&(d.focus(),c.select&&d.select&&d.select())}}function T(a,b){if(!b)for(var c=m.length-1;c>-1;c-=1)if(m[c].isModal()){b=m[c];break}if(b&&b.isModal()){var d,e=a.srcElement||a.target,f=e===b.elements.reset[1]||0===b.__internal.buttons.length&&e===document.body;f&&(b.get("maximizable")?d=b.elements.commands.maximize:b.get("closable")&&(d=b.elements.commands.close)),void 0===d&&("number"==typeof b.__internal.focus.element?e===b.elements.reset[0]?d=b.elements.buttons.auxiliary.firstChild||b.elements.buttons.primary.firstChild:f&&(d=b.elements.reset[0]):e===b.elements.reset[0]&&(d=b.elements.buttons.primary.lastChild||b.elements.buttons.auxiliary.lastChild)),S(b,d)}}function U(a,b){clearTimeout(b.__internal.timerIn),S(b),q(),za=!1,"function"==typeof b.get("onfocus")&&b.get("onfocus").call(b),o(b.elements.dialog,p.type,b.__internal.transitionInHandler),c(b.elements.root,xa.animationIn)}function V(a,b){clearTimeout(b.__internal.timerOut),o(b.elements.dialog,p.type,b.__internal.transitionOutHandler),$(b),ea(b),b.isMaximized()&&!b.get("startMaximized")&&F(b),s.defaults.maintainFocus&&b.__internal.activeElement&&(b.__internal.activeElement.focus(),b.__internal.activeElement=null)}function W(a,b){b.style.left=a[Da]-Ba+"px",b.style.top=a[Ea]-Ca+"px"}function X(a,c){if(null===Fa&&!c.isMaximized()&&c.get("movable")){var d;if("touchstart"===a.type?(a.preventDefault(),d=a.targetTouches[0],Da="clientX",Ea="clientY"):0===a.button&&(d=a),d){Aa=c,Ba=d[Da],Ca=d[Ea];var e=c.elements.dialog;return b(e,xa.capture),e.style.left&&(Ba-=parseInt(e.style.left,10)),e.style.top&&(Ca-=parseInt(e.style.top,10)),W(d,e),b(document.body,xa.noSelection),!1}}}function Y(a){if(Aa){var b;"touchmove"===a.type?(a.preventDefault(),b=a.targetTouches[0]):0===a.button&&(b=a),b&&W(b,Aa.elements.dialog)}}function Z(){if(Aa){var a=Aa.elements.dialog;Aa=null,c(document.body,xa.noSelection),c(a,xa.capture)}}function $(a){Aa=null;var b=a.elements.dialog;b.style.left=b.style.top=""}function _(a){a.get("movable")?(b(a.elements.root,xa.movable),a.isOpen()&&la(a)):($(a),c(a.elements.root,xa.movable),a.isOpen()&&ma(a))}function aa(a,b,c){var e=b,f=0,g=0;do f+=e.offsetLeft,g+=e.offsetTop;while(e=e.offsetParent);var h,i;c===!0?(h=a.pageX,i=a.pageY):(h=a.clientX,i=a.clientY);var j=d();if(j&&(h=document.body.offsetWidth-h,isNaN(Ga)||(f=document.body.offsetWidth-f-b.offsetWidth)),b.style.height=i-g+Ja+"px",b.style.width=h-f+Ja+"px",!isNaN(Ga)){var k=.5*Math.abs(b.offsetWidth-Ha);j&&(k*=-1),b.offsetWidth>Ha?b.style.left=Ga+k+"px":b.offsetWidth>=Ia&&(b.style.left=Ga-k+"px")}}function ba(a,c){if(!c.isMaximized()){var d;if("touchstart"===a.type?(a.preventDefault(),d=a.targetTouches[0]):0===a.button&&(d=a),d){Fa=c,Ja=c.elements.resizeHandle.offsetHeight/2;var e=c.elements.dialog;return b(e,xa.capture),Ga=parseInt(e.style.left,10),e.style.height=e.offsetHeight+"px",e.style.minHeight=c.elements.header.offsetHeight+c.elements.footer.offsetHeight+"px",e.style.width=(Ha=e.offsetWidth)+"px","none"!==e.style.maxWidth&&(e.style.minWidth=(Ia=e.offsetWidth)+"px"),e.style.maxWidth="none",b(document.body,xa.noSelection),!1}}}function ca(a){if(Fa){var b;"touchmove"===a.type?(a.preventDefault(),b=a.targetTouches[0]):0===a.button&&(b=a),b&&aa(b,Fa.elements.dialog,!Fa.get("modal")&&!Fa.get("pinned"))}}function da(){if(Fa){var a=Fa.elements.dialog;Fa=null,c(document.body,xa.noSelection),c(a,xa.capture),ya=!0}}function ea(a){Fa=null;var b=a.elements.dialog;"none"===b.style.maxWidth&&(b.style.maxWidth=b.style.minWidth=b.style.width=b.style.height=b.style.minHeight=b.style.left="",Ga=Number.Nan,Ha=Ia=Ja=0)}function fa(a){a.get("resizable")?(b(a.elements.root,xa.resizable),a.isOpen()&&na(a)):(ea(a),c(a.elements.root,xa.resizable),a.isOpen()&&oa(a))}function ga(){for(var a=0;a<m.length;a+=1){var b=m[a];b.get("autoReset")&&($(b),ea(b))}}function ha(b){1===m.length&&(n(a,"resize",ga),n(document.body,"keyup",Q),n(document.body,"keydown",R),n(document.body,"focus",T),n(document.documentElement,"mousemove",Y),n(document.documentElement,"touchmove",Y),n(document.documentElement,"mouseup",Z),n(document.documentElement,"touchend",Z),n(document.documentElement,"mousemove",ca),n(document.documentElement,"touchmove",ca),n(document.documentElement,"mouseup",da),n(document.documentElement,"touchend",da)),n(b.elements.commands.container,"click",b.__internal.commandsClickHandler),n(b.elements.footer,"click",b.__internal.buttonsClickHandler),n(b.elements.reset[0],"focus",b.__internal.resetHandler),n(b.elements.reset[1],"focus",b.__internal.resetHandler),za=!0,n(b.elements.dialog,p.type,b.__internal.transitionInHandler),b.get("modal")||ja(b),b.get("resizable")&&na(b),b.get("movable")&&la(b)}function ia(b){1===m.length&&(o(a,"resize",ga),o(document.body,"keyup",Q),o(document.body,"keydown",R),o(document.body,"focus",T),o(document.documentElement,"mousemove",Y),o(document.documentElement,"mouseup",Z),o(document.documentElement,"mousemove",ca),o(document.documentElement,"mouseup",da)),o(b.elements.commands.container,"click",b.__internal.commandsClickHandler),o(b.elements.footer,"click",b.__internal.buttonsClickHandler),o(b.elements.reset[0],"focus",b.__internal.resetHandler),o(b.elements.reset[1],"focus",b.__internal.resetHandler),n(b.elements.dialog,p.type,b.__internal.transitionOutHandler),b.get("modal")||ka(b),b.get("movable")&&ma(b),b.get("resizable")&&oa(b)}function ja(a){n(a.elements.dialog,"focus",a.__internal.bringToFrontHandler,!0)}function ka(a){o(a.elements.dialog,"focus",a.__internal.bringToFrontHandler,!0)}function la(a){n(a.elements.header,"mousedown",a.__internal.beginMoveHandler),n(a.elements.header,"touchstart",a.__internal.beginMoveHandler)}function ma(a){o(a.elements.header,"mousedown",a.__internal.beginMoveHandler),o(a.elements.header,"touchstart",a.__internal.beginMoveHandler)}function na(a){n(a.elements.resizeHandle,"mousedown",a.__internal.beginResizeHandler),n(a.elements.resizeHandle,"touchstart",a.__internal.beginResizeHandler)}function oa(a){o(a.elements.resizeHandle,"mousedown",a.__internal.beginResizeHandler),o(a.elements.resizeHandle,"touchstart",a.__internal.beginResizeHandler)}function pa(a){n(a.elements.modal,"click",a.__internal.modalClickHandler)}function qa(a){o(a.elements.modal,"click",a.__internal.modalClickHandler)}var ra,sa,ta=[],ua=null,va=a.navigator.userAgent.indexOf("Safari")>-1&&a.navigator.userAgent.indexOf("Chrome")<0,wa={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<button class="ajs-reset"></button>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},xa={base:"alertify",prefix:"ajs-",hidden:"ajs-hidden",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",modeless:"ajs-modeless",movable:"ajs-movable",resizable:"ajs-resizable",capture:"ajs-capture",fixed:"ajs-fixed",closable:"ajs-closable",maximizable:"ajs-maximizable",maximize:"ajs-maximize",restore:"ajs-restore",pinnable:"ajs-pinnable",unpinned:"ajs-unpinned",pin:"ajs-pin",maximized:"ajs-maximized",animationIn:"ajs-in",animationOut:"ajs-out",shake:"ajs-shake",basic:"ajs-basic",frameless:"ajs-frameless"},ya=!1,za=!1,Aa=null,Ba=0,Ca=0,Da="pageX",Ea="pageY",Fa=null,Ga=Number.Nan,Ha=0,Ia=0,Ja=0;return{__init:j,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(xa.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(xa.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(xa.unpinned)<0},maximize:function(){return this.isMaximized()||E(this),this},restore:function(){return this.isMaximized()&&F(this),this},pin:function(){return this.isPinned()||C(this),this},unpin:function(){return this.isPinned()&&D(this),this},moveTo:function(a,b){if(!isNaN(a)&&!isNaN(b)){var c=this.elements.dialog,e=c,f=0,g=0;c.style.left&&(f-=parseInt(c.style.left,10)),c.style.top&&(g-=parseInt(c.style.top,10));do f+=e.offsetLeft,g+=e.offsetTop;while(e=e.offsetParent);var h=a-f,i=b-g;d()&&(h*=-1),c.style.left=h+"px",c.style.top=i+"px"}return this},resizeTo:function(a,b){var c=parseFloat(a),d=parseFloat(b),e=/(\d*\.\d+|\d+)%/;if(!isNaN(c)&&!isNaN(d)&&this.get("resizable")===!0){(""+a).match(e)&&(c=c/100*document.documentElement.clientWidth),(""+b).match(e)&&(d=d/100*document.documentElement.clientHeight);var f=this.elements.dialog;"none"!==f.style.maxWidth&&(f.style.minWidth=(Ia=f.offsetWidth)+"px"),f.style.maxWidth="none",f.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",f.style.width=c+"px",f.style.height=d+"px"}return this},setting:function(a,b){var c=this,d=z(this,this.__internal.options,function(a,b,d){y(c,a,b,d)},a,b);if("get"===d.op)return d.found?d.value:"undefined"!=typeof this.settings?z(this,this.settings,this.settingUpdated||function(){},a,b).value:void 0;if("set"===d.op){if(d.items.length>0)for(var e=this.settingUpdated||function(){},f=0;f<d.items.length;f+=1){var g=d.items[f];g.found||"undefined"==typeof this.settings||z(this,this.settings,e,g.key,g.value)}return this}},set:function(a,b){return this.setting(a,b),this},get:function(a){return this.setting(a)},setHeader:function(b){return"string"==typeof b?(g(this.elements.header),this.elements.header.innerHTML=b):b instanceof a.HTMLElement&&this.elements.header.firstChild!==b&&(g(this.elements.header),this.elements.header.appendChild(b)),this},setContent:function(b){return"string"==typeof b?(g(this.elements.content),this.elements.content.innerHTML=b):b instanceof a.HTMLElement&&this.elements.content.firstChild!==b&&(g(this.elements.content),this.elements.content.appendChild(b)),this},showModal:function(a){return this.show(!0,a)},show:function(a,d){if(j(this),this.__internal.isOpen){$(this),ea(this),b(this.elements.dialog,xa.shake);var e=this;setTimeout(function(){c(e.elements.dialog,xa.shake)},200)}else{if(this.__internal.isOpen=!0,m.push(this),s.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),"function"==typeof this.prepare&&this.prepare(),ha(this),void 0!==a&&this.set("modal",a),l(),r(),"string"==typeof d&&""!==d&&(this.__internal.className=d,b(this.elements.root,d)),this.get("startMaximized")?this.maximize():this.isMaximized()&&F(this),J(this),c(this.elements.root,xa.animationOut),b(this.elements.root,xa.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,p.supported?1e3:100),va){var f=this.elements.root;f.style.display="none",setTimeout(function(){f.style.display="block"},0)}ua=this.elements.root.offsetWidth,c(this.elements.root,xa.hidden),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),"function"==typeof this.get("onshow")&&this.get("onshow").call(this)}return this},close:function(){return this.__internal.isOpen&&(ia(this),c(this.elements.root,xa.animationIn),b(this.elements.root,xa.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,p.supported?1e3:100),b(this.elements.root,xa.hidden),ua=this.elements.modal.offsetWidth,"undefined"!=typeof this.__internal.className&&""!==this.__internal.className&&c(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),"function"==typeof this.get("onclose")&&this.get("onclose").call(this),m.splice(m.indexOf(this),1),this.__internal.isOpen=!1,r()),this},closeOthers:function(){return s.closeAll(this),this}}}(),r=function(){function d(a){a.__internal||(a.__internal={position:s.defaults.notifier.position,delay:s.defaults.notifier.delay},l=document.createElement("DIV"),i(a)),l.parentNode!==document.body&&document.body.appendChild(l)}function e(a){a.__internal.pushed=!0,m.push(a)}function f(a){m.splice(m.indexOf(a),1),a.__internal.pushed=!1}function i(a){switch(l.className=q.base,a.__internal.position){case"top-right":b(l,q.top+" "+q.right);break;case"top-left":b(l,q.top+" "+q.left);break;case"bottom-left":b(l,q.bottom+" "+q.left);break;default:case"bottom-right":b(l,q.bottom+" "+q.right)}}function j(d,i){function j(a,b){b.dismiss(!0)}function m(a,b){o(b.element,p.type,m),l.removeChild(b.element)}function s(a){return a.__internal||(a.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},a.__internal.clickHandler=h(a,j),a.__internal.transitionEndHandler=h(a,m)),a}function t(a){clearTimeout(a.__internal.timer),clearTimeout(a.__internal.transitionTimeout)}return s({element:d,push:function(a,c){if(!this.__internal.pushed){e(this),t(this);var d,f;switch(arguments.length){case 0:f=this.__internal.delay;break;case 1:"number"==typeof a?f=a:(d=a,f=this.__internal.delay);break;case 2:d=a,f=c}return"undefined"!=typeof d&&this.setContent(d),r.__internal.position.indexOf("top")<0?l.appendChild(this.element):l.insertBefore(this.element,l.firstChild),k=this.element.offsetWidth,b(this.element,q.visible),n(this.element,"click",this.__internal.clickHandler),this.delay(f)}return this},ondismiss:function(){},callback:i,dismiss:function(a){return this.__internal.pushed&&(t(this),("function"!=typeof this.ondismiss||this.ondismiss.call(this)!==!1)&&(o(this.element,"click",this.__internal.clickHandler),"undefined"!=typeof this.element&&this.element.parentNode===l&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,p.supported?1e3:100),c(this.element,q.visible),"function"==typeof this.callback&&this.callback.call(this,a)),f(this))),this},delay:function(a){if(t(this),this.__internal.delay="undefined"==typeof a||isNaN(+a)?r.__internal.delay:+a,this.__internal.delay>0){var b=this;this.__internal.timer=setTimeout(function(){b.dismiss()},1e3*this.__internal.delay)}return this},setContent:function(b){return"string"==typeof b?(g(this.element),this.element.innerHTML=b):b instanceof a.HTMLElement&&this.element.firstChild!==b&&(g(this.element),this.element.appendChild(b)),this},dismissOthers:function(){return r.dismissAll(this),this}})}var k,l,m=[],q={base:"alertify-notifier",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",visible:"ajs-visible",hidden:"ajs-hidden"};return{setting:function(a,b){if(d(this),"undefined"==typeof b)return this.__internal[a];switch(a){case"position":this.__internal.position=b,i(this);break;case"delay":this.__internal.delay=b}return this},set:function(a,b){return this.setting(a,b),this},get:function(a){return this.setting(a)},create:function(a,b){d(this);var c=document.createElement("div");return c.className=q.message+("string"==typeof a&&""!==a?" ajs-"+a:""),j(c,b)},dismissAll:function(a){for(var b=m.slice(0),c=0;c<b.length;c+=1){var d=b[c];(void 0===a||a!==d)&&d.dismiss()}}}}(),s=new j;s.dialog("alert",function(){return{main:function(a,b,c){var d,e,f;switch(arguments.length){case 1:e=a;break;case 2:"function"==typeof b?(e=a,f=b):(d=a,e=b);break;case 3:d=a,e=b,f=c}return this.set("title",d),this.set("message",e),this.set("onok",f),this},setup:function(){return{buttons:[{text:s.defaults.glossary.ok,key:k.ESC,invokeOnClose:!0,className:s.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(a){this.setContent(a)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(a,b,c){switch(a){case"message":this.setMessage(c);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=c)}},callback:function(a){if("function"==typeof this.get("onok")){var b=this.get("onok").call(this,a);"undefined"!=typeof b&&(a.cancel=!b)}}}}),s.dialog("confirm",function(){function a(a){null!==c.timer&&(clearInterval(c.timer),c.timer=null,a.__internal.buttons[c.index].element.innerHTML=c.text)}function b(b,d,e){a(b),c.duration=e,c.index=d,c.text=b.__internal.buttons[d].element.innerHTML,c.timer=setInterval(h(b,c.task),1e3),c.task(null,b)}var c={timer:null,index:null,text:null,duration:null,task:function(b,d){if(d.isOpen()){if(d.__internal.buttons[c.index].element.innerHTML=c.text+" (&#8207;"+c.duration+"&#8207;) ",c.duration-=1,-1===c.duration){a(d);var e=d.__internal.buttons[c.index],f=i(c.index,e);"function"==typeof d.callback&&d.callback.apply(d,[f]),f.close!==!1&&d.close()}}else a(d)}};return{main:function(a,b,c,d){var e,f,g,h;switch(arguments.length){case 1:f=a;break;case 2:f=a,g=b;break;case 3:f=a,g=b,h=c;break;case 4:e=a,f=b,g=c,h=d}return this.set("title",e),this.set("message",f),this.set("onok",g),this.set("oncancel",h),this},setup:function(){return{buttons:[{text:s.defaults.glossary.ok,key:k.ENTER,className:s.defaults.theme.ok},{text:s.defaults.glossary.cancel,key:k.ESC,invokeOnClose:!0,className:s.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(a){this.setContent(a)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(a,b,c){switch(a){case"message":this.setMessage(c);break;case"labels":"ok"in c&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=c.ok,this.__internal.buttons[0].element.innerHTML=c.ok),"cancel"in c&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=c.cancel,this.__internal.buttons[1].element.innerHTML=c.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(c===!0?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===c?0:1}},callback:function(b){a(this);var c;switch(b.index){case 0:"function"==typeof this.get("onok")&&(c=this.get("onok").call(this,b),"undefined"!=typeof c&&(b.cancel=!c));break;case 1:"function"==typeof this.get("oncancel")&&(c=this.get("oncancel").call(this,b),"undefined"!=typeof c&&(b.cancel=!c))}},autoOk:function(a){return b(this,0,a),this},autoCancel:function(a){return b(this,1,a),this}}}),s.dialog("prompt",function(){var b=document.createElement("INPUT"),c=document.createElement("P");

return{main:function(a,b,c,d,e){var f,g,h,i,j;switch(arguments.length){case 1:g=a;break;case 2:g=a,h=b;break;case 3:g=a,h=b,i=c;break;case 4:g=a,h=b,i=c,j=d;break;case 5:f=a,g=b,h=c,i=d,j=e}return this.set("title",f),this.set("message",g),this.set("value",h),this.set("onok",i),this.set("oncancel",j),this},setup:function(){return{buttons:[{text:s.defaults.glossary.ok,key:k.ENTER,className:s.defaults.theme.ok},{text:s.defaults.glossary.cancel,key:k.ESC,invokeOnClose:!0,className:s.defaults.theme.cancel}],focus:{element:b,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){b.className=s.defaults.theme.input,b.setAttribute("type","text"),b.value=this.get("value"),this.elements.content.appendChild(c),this.elements.content.appendChild(b)},prepare:function(){},setMessage:function(b){"string"==typeof b?(g(c),c.innerHTML=b):b instanceof a.HTMLElement&&c.firstChild!==b&&(g(c),c.appendChild(b))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(a,c,d){switch(a){case"message":this.setMessage(d);break;case"value":b.value=d;break;case"type":switch(d){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":b.type=d;break;default:b.type="text"}break;case"labels":d.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=d.ok),d.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=d.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(d===!0?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(a){var c;switch(a.index){case 0:this.settings.value=b.value,"function"==typeof this.get("onok")&&(c=this.get("onok").call(this,a,this.settings.value),"undefined"!=typeof c&&(a.cancel=!c));break;case 1:"function"==typeof this.get("oncancel")&&(c=this.get("oncancel").call(this,a),"undefined"!=typeof c&&(a.cancel=!c))}}}}),"object"==typeof module&&"object"==typeof module.exports?module.exports=s:"function"==typeof define&&define.amd?define([],function(){return s}):a.alertify||(a.alertify=s)}("undefined"!=typeof window?window:this);
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.QRCode=t()}}(function(){return function(){function t(r,e,n){function o(u,a){if(!e[u]){if(!r[u]){var f="function"==typeof require&&require;if(!a&&f)return f(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var h=e[u]={exports:{}};r[u][0].call(h.exports,function(t){return o(r[u][1][t]||t)},h,h.exports,t,r,e,n)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}return t}()({1:[function(t,r,e){r.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},{}],2:[function(t,r,e){var n=t("./utils").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var r=Math.floor(t/7)+2,e=n(t),o=145===e?26:2*Math.ceil((e-13)/(2*r-2)),i=[e-7],u=1;u<r-1;u++)i[u]=i[u-1]-o;return i.push(6),i.reverse()},e.getPositions=function(t){for(var r=[],n=e.getRowColCoords(t),o=n.length,i=0;i<o;i++)for(var u=0;u<o;u++)0===i&&0===u||0===i&&u===o-1||i===o-1&&0===u||r.push([n[i],n[u]]);return r}},{"./utils":21}],3:[function(t,r,e){function n(t){this.mode=o.ALPHANUMERIC,this.data=t}var o=t("./mode"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];n.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var r;for(r=0;r+2<=this.data.length;r+=2){var e=45*i.indexOf(this.data[r]);e+=i.indexOf(this.data[r+1]),t.put(e,11)}this.data.length%2&&t.put(i.indexOf(this.data[r]),6)},r.exports=n},{"./mode":14}],4:[function(t,r,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var r=Math.floor(t/8);return 1==(this.buffer[r]>>>7-t%8&1)},put:function(t,r){for(var e=0;e<r;e++)this.putBit(1==(t>>>r-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},r.exports=n},{}],5:[function(t,r,e){function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=o.alloc(t*t),this.reservedBit=o.alloc(t*t)}var o=t("../utils/buffer");n.prototype.set=function(t,r,e,n){var o=t*this.size+r;this.data[o]=e,n&&(this.reservedBit[o]=!0)},n.prototype.get=function(t,r){return this.data[t*this.size+r]},n.prototype.xor=function(t,r,e){this.data[t*this.size+r]^=e},n.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]},r.exports=n},{"../utils/buffer":28}],6:[function(t,r,e){function n(t){this.mode=i.BYTE,this.data=o.from(t)}var o=t("../utils/buffer"),i=t("./mode");n.getBitsLength=function(t){return 8*t},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){for(var r=0,e=this.data.length;r<e;r++)t.put(this.data[r],8)},r.exports=n},{"../utils/buffer":28,"./mode":14}],7:[function(t,r,e){var n=t("./error-correction-level"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,r){switch(r){case n.L:return o[4*(t-1)+0];case n.M:return o[4*(t-1)+1];case n.Q:return o[4*(t-1)+2];case n.H:return o[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,r){switch(r){case n.L:return i[4*(t-1)+0];case n.M:return i[4*(t-1)+1];case n.Q:return i[4*(t-1)+2];case n.H:return i[4*(t-1)+3];default:return}}},{"./error-correction-level":8}],8:[function(t,r,e){function n(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return n(t)}catch(t){return r}}},{}],9:[function(t,r,e){var n=t("./utils").getSymbolSize;e.getPositions=function(t){var r=n(t);return[[0,0],[r-7,0],[0,r-7]]}},{"./utils":21}],10:[function(t,r,e){var n=t("./utils"),o=n.getBCHDigit(1335);e.getEncodedBits=function(t,r){for(var e=t.bit<<3|r,i=e<<10;n.getBCHDigit(i)-o>=0;)i^=1335<<n.getBCHDigit(i)-o;return 21522^(e<<10|i)}},{"./utils":21}],11:[function(t,r,e){var n=t("../utils/buffer"),o=n.alloc(512),i=n.alloc(256);!function(){for(var t=1,r=0;r<255;r++)o[r]=t,i[t]=r,256&(t<<=1)&&(t^=285);for(r=255;r<512;r++)o[r]=o[r-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},e.exp=function(t){return o[t]},e.mul=function(t,r){return 0===t||0===r?0:o[i[t]+i[r]]}},{"../utils/buffer":28}],12:[function(t,r,e){function n(t){this.mode=o.KANJI,this.data=t}var o=t("./mode"),i=t("./utils");n.getBitsLength=function(t){return 13*t},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var r;for(r=0;r<this.data.length;r++){var e=i.toSJIS(this.data[r]);if(e>=33088&&e<=40956)e-=33088;else{if(!(e>=57408&&e<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");e-=49472}e=192*(e>>>8&255)+(255&e),t.put(e,13)}},r.exports=n},{"./mode":14,"./utils":21}],13:[function(t,r,e){function n(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var o={N1:3,N2:3,N3:40,N4:10};e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var r=t.size,e=0,n=0,i=0,u=null,a=null,f=0;f<r;f++){n=i=0,u=a=null;for(var s=0;s<r;s++){var h=t.get(f,s);h===u?n++:(n>=5&&(e+=o.N1+(n-5)),u=h,n=1),h=t.get(s,f),h===a?i++:(i>=5&&(e+=o.N1+(i-5)),a=h,i=1)}n>=5&&(e+=o.N1+(n-5)),i>=5&&(e+=o.N1+(i-5))}return e},e.getPenaltyN2=function(t){for(var r=t.size,e=0,n=0;n<r-1;n++)for(var i=0;i<r-1;i++){var u=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1);4!==u&&0!==u||e++}return e*o.N2},e.getPenaltyN3=function(t){for(var r=t.size,e=0,n=0,i=0,u=0;u<r;u++){n=i=0;for(var a=0;a<r;a++)n=n<<1&2047|t.get(u,a),a>=10&&(1488===n||93===n)&&e++,i=i<<1&2047|t.get(a,u),a>=10&&(1488===i||93===i)&&e++}return e*o.N3},e.getPenaltyN4=function(t){for(var r=0,e=t.data.length,n=0;n<e;n++)r+=t.data[n];return Math.abs(Math.ceil(100*r/e/5)-10)*o.N4},e.applyMask=function(t,r){for(var e=r.size,o=0;o<e;o++)for(var i=0;i<e;i++)r.isReserved(i,o)||r.xor(i,o,n(t,i,o))},e.getBestMask=function(t,r){for(var n=Object.keys(e.Patterns).length,o=0,i=1/0,u=0;u<n;u++){r(u),e.applyMask(u,t);var a=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(u,t),a<i&&(i=a,o=u)}return o}},{}],14:[function(t,r,e){function n(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}var o=t("./version-check"),i=t("./regex");e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,r){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?t.ccBits[0]:r<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return n(t)}catch(t){return r}}},{"./regex":19,"./version-check":22}],15:[function(t,r,e){function n(t){this.mode=o.NUMERIC,this.data=t.toString()}var o=t("./mode");n.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(t){var r,e,n;for(r=0;r+3<=this.data.length;r+=3)e=this.data.substr(r,3),n=parseInt(e,10),t.put(n,10);var o=this.data.length-r;o>0&&(e=this.data.substr(r),n=parseInt(e,10),t.put(n,3*o+1))},r.exports=n},{"./mode":14}],16:[function(t,r,e){var n=t("../utils/buffer"),o=t("./galois-field");e.mul=function(t,r){for(var e=n.alloc(t.length+r.length-1),i=0;i<t.length;i++)for(var u=0;u<r.length;u++)e[i+u]^=o.mul(t[i],r[u]);return e},e.mod=function(t,r){for(var e=n.from(t);e.length-r.length>=0;){for(var i=e[0],u=0;u<r.length;u++)e[u]^=o.mul(r[u],i);for(var a=0;a<e.length&&0===e[a];)a++;e=e.slice(a)}return e},e.generateECPolynomial=function(t){for(var r=n.from([1]),i=0;i<t;i++)r=e.mul(r,[1,o.exp(i)]);return r}},{"../utils/buffer":28,"./galois-field":11}],17:[function(t,r,e){function n(t,r){for(var e=t.size,n=w.getPositions(r),o=0;o<n.length;o++)for(var i=n[o][0],u=n[o][1],a=-1;a<=7;a++)if(!(i+a<=-1||e<=i+a))for(var f=-1;f<=7;f++)u+f<=-1||e<=u+f||(a>=0&&a<=6&&(0===f||6===f)||f>=0&&f<=6&&(0===a||6===a)||a>=2&&a<=4&&f>=2&&f<=4?t.set(i+a,u+f,!0,!0):t.set(i+a,u+f,!1,!0))}function o(t){for(var r=t.size,e=8;e<r-8;e++){var n=e%2==0;t.set(e,6,n,!0),t.set(6,e,n,!0)}}function i(t,r){for(var e=v.getPositions(r),n=0;n<e.length;n++)for(var o=e[n][0],i=e[n][1],u=-2;u<=2;u++)for(var a=-2;a<=2;a++)-2===u||2===u||-2===a||2===a||0===u&&0===a?t.set(o+u,i+a,!0,!0):t.set(o+u,i+a,!1,!0)}function u(t,r){for(var e,n,o,i=t.size,u=A.getEncodedBits(r),a=0;a<18;a++)e=Math.floor(a/3),n=a%3+i-8-3,o=1==(u>>a&1),t.set(e,n,o,!0),t.set(n,e,o,!0)}function a(t,r,e){var n,o,i=t.size,u=B.getEncodedBits(r,e);for(n=0;n<15;n++)o=1==(u>>n&1),n<6?t.set(n,8,o,!0):n<8?t.set(n+1,8,o,!0):t.set(i-15+n,8,o,!0),n<8?t.set(8,i-n-1,o,!0):n<9?t.set(8,15-n-1+1,o,!0):t.set(8,15-n-1,o,!0);t.set(i-8,8,1,!0)}function f(t,r){for(var e=t.size,n=-1,o=e-1,i=7,u=0,a=e-1;a>0;a-=2)for(6===a&&a--;;){for(var f=0;f<2;f++)if(!t.isReserved(o,a-f)){var s=!1;u<r.length&&(s=1==(r[u]>>>i&1)),t.set(o,a-f,s),i--,-1===i&&(u++,i=7)}if((o+=n)<0||e<=o){o-=n,n=-n;break}}}function s(t,r,e){var n=new d;e.forEach(function(r){n.put(r.mode.bit,4),n.put(r.getLength(),T.getCharCountIndicator(r.mode,t)),r.write(n)});var o=g.getSymbolTotalCodewords(t),i=b.getTotalCodewordsCount(t,r),u=8*(o-i);for(n.getLengthInBits()+4<=u&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var a=(u-n.getLengthInBits())/8,f=0;f<a;f++)n.put(f%2?17:236,8);return h(n,t,r)}function h(t,r,e){for(var n=g.getSymbolTotalCodewords(r),o=b.getTotalCodewordsCount(r,e),i=n-o,u=b.getBlocksCount(r,e),a=n%u,f=u-a,s=Math.floor(n/u),h=Math.floor(i/u),c=h+1,p=s-h,d=new E(p),y=0,v=new Array(u),w=new Array(u),m=0,A=l.from(t.buffer),B=0;B<u;B++){var T=B<f?h:c;v[B]=A.slice(y,y+T),w[B]=d.encode(v[B]),y+=T,m=Math.max(m,T)}var R,C,P=l.alloc(n),I=0;for(R=0;R<m;R++)for(C=0;C<u;C++)R<v[C].length&&(P[I++]=v[C][R]);for(R=0;R<p;R++)for(C=0;C<u;C++)P[I++]=w[C][R];return P}function c(t,r,e,h){var c;if(C(t))c=R.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var l=r;if(!l){var p=R.rawSplit(t);l=A.getBestVersionForData(p,e)}c=R.fromString(t,l||40)}var d=A.getBestVersionForData(c,e);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(r){if(r<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else r=d;var v=s(r,e,c),w=g.getSymbolSize(r),b=new y(w);return n(b,r),o(b),i(b,r),a(b,e,0),r>=7&&u(b,r),f(b,v),isNaN(h)&&(h=m.getBestMask(b,a.bind(null,b,e))),m.applyMask(h,b),a(b,e,h),{modules:b,version:r,errorCorrectionLevel:e,maskPattern:h,segments:c}}var l=t("../utils/buffer"),g=t("./utils"),p=t("./error-correction-level"),d=t("./bit-buffer"),y=t("./bit-matrix"),v=t("./alignment-pattern"),w=t("./finder-pattern"),m=t("./mask-pattern"),b=t("./error-correction-code"),E=t("./reed-solomon-encoder"),A=t("./version"),B=t("./format-info"),T=t("./mode"),R=t("./segments"),C=t("isarray");e.create=function(t,r){if(void 0===t||""===t)throw new Error("No input text");var e,n,o=p.M;return void 0!==r&&(o=p.from(r.errorCorrectionLevel,p.M),e=A.from(r.version),n=m.from(r.maskPattern),r.toSJISFunc&&g.setToSJISFunction(r.toSJISFunc)),c(t,e,o,n)}},{"../utils/buffer":28,"./alignment-pattern":2,"./bit-buffer":4,"./bit-matrix":5,"./error-correction-code":7,"./error-correction-level":8,"./finder-pattern":9,"./format-info":10,"./mask-pattern":13,"./mode":14,"./reed-solomon-encoder":18,"./segments":20,"./utils":21,"./version":23,isarray:33}],18:[function(t,r,e){function n(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}var o=t("../utils/buffer"),i=t("./polynomial"),u=t("buffer").Buffer;n.prototype.initialize=function(t){this.degree=t,this.genPoly=i.generateECPolynomial(this.degree)},n.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var r=o.alloc(this.degree),e=u.concat([t,r],t.length+this.degree),n=i.mod(e,this.genPoly),a=this.degree-n.length;if(a>0){var f=o.alloc(this.degree);return n.copy(f,a),f}return n},r.exports=n},{"../utils/buffer":28,"./polynomial":16,buffer:30}],19:[function(t,r,e){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");var o="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(o,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),u=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return i.test(t)},e.testNumeric=function(t){return u.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},{}],20:[function(t,r,e){function n(t){return unescape(encodeURIComponent(t)).length}function o(t,r,e){for(var n,o=[];null!==(n=t.exec(e));)o.push({data:n[0],index:n.index,mode:r,length:n[0].length});return o}function i(t){var r,e,n=o(y.NUMERIC,c.NUMERIC,t),i=o(y.ALPHANUMERIC,c.ALPHANUMERIC,t);return v.isKanjiModeEnabled()?(r=o(y.BYTE,c.BYTE,t),e=o(y.KANJI,c.KANJI,t)):(r=o(y.BYTE_KANJI,c.BYTE,t),e=[]),n.concat(i,r,e).sort(function(t,r){return t.index-r.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function u(t,r){switch(r){case c.NUMERIC:return l.getBitsLength(t);case c.ALPHANUMERIC:return g.getBitsLength(t);case c.KANJI:return d.getBitsLength(t);case c.BYTE:return p.getBitsLength(t)}}function a(t){return t.reduce(function(t,r){var e=t.length-1>=0?t[t.length-1]:null;return e&&e.mode===r.mode?(t[t.length-1].data+=r.data,t):(t.push(r),t)},[])}function f(t){for(var r=[],e=0;e<t.length;e++){var o=t[e];switch(o.mode){case c.NUMERIC:r.push([o,{data:o.data,mode:c.ALPHANUMERIC,length:o.length},{data:o.data,mode:c.BYTE,length:o.length}]);break;case c.ALPHANUMERIC:r.push([o,{data:o.data,mode:c.BYTE,length:o.length}]);break;case c.KANJI:r.push([o,{data:o.data,mode:c.BYTE,length:n(o.data)}]);break;case c.BYTE:r.push([{data:o.data,mode:c.BYTE,length:n(o.data)}])}}return r}function s(t,r){for(var e={},n={start:{}},o=["start"],i=0;i<t.length;i++){for(var a=t[i],f=[],s=0;s<a.length;s++){var h=a[s],l=""+i+s;f.push(l),e[l]={node:h,lastCount:0},n[l]={};for(var g=0;g<o.length;g++){var p=o[g];e[p]&&e[p].node.mode===h.mode?(n[p][l]=u(e[p].lastCount+h.length,h.mode)-u(e[p].lastCount,h.mode),e[p].lastCount+=h.length):(e[p]&&(e[p].lastCount=h.length),n[p][l]=u(h.length,h.mode)+4+c.getCharCountIndicator(h.mode,r))}}o=f}for(g=0;g<o.length;g++)n[o[g]].end=0;return{map:n,table:e}}function h(t,r){var e,n=c.getBestModeForData(t);if((e=c.from(r,n))!==c.BYTE&&e.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+c.toString(e)+".\n Suggested mode is: "+c.toString(n));switch(e!==c.KANJI||v.isKanjiModeEnabled()||(e=c.BYTE),e){case c.NUMERIC:return new l(t);case c.ALPHANUMERIC:return new g(t);case c.KANJI:return new d(t);case c.BYTE:return new p(t)}}var c=t("./mode"),l=t("./numeric-data"),g=t("./alphanumeric-data"),p=t("./byte-data"),d=t("./kanji-data"),y=t("./regex"),v=t("./utils"),w=t("dijkstrajs");e.fromArray=function(t){return t.reduce(function(t,r){return"string"==typeof r?t.push(h(r,null)):r.data&&t.push(h(r.data,r.mode)),t},[])},e.fromString=function(t,r){for(var n=i(t,v.isKanjiModeEnabled()),o=f(n),u=s(o,r),h=w.find_path(u.map,"start","end"),c=[],l=1;l<h.length-1;l++)c.push(u.table[h[l]].node);return e.fromArray(a(c))},e.rawSplit=function(t){return e.fromArray(i(t,v.isKanjiModeEnabled()))}},{"./alphanumeric-data":3,"./byte-data":6,"./kanji-data":12,"./mode":14,"./numeric-data":15,"./regex":19,"./utils":21,dijkstrajs:31}],21:[function(t,r,e){var n,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return o[t]},e.getBCHDigit=function(t){for(var r=0;0!==t;)r++,t>>>=1;return r},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},{}],22:[function(t,r,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},{}],23:[function(t,r,e){function n(t,r,n){for(var o=1;o<=40;o++)if(r<=e.getCapacity(o,n,t))return o}function o(t,r){return h.getCharCountIndicator(t,r)+4}function i(t,r){var e=0;return t.forEach(function(t){var n=o(t.mode,r);e+=n+t.getBitsLength()}),e}function u(t,r){for(var n=1;n<=40;n++){if(i(t,n)<=e.getCapacity(n,r,h.MIXED))return n}}var a=t("./utils"),f=t("./error-correction-code"),s=t("./error-correction-level"),h=t("./mode"),c=t("./version-check"),l=t("isarray"),g=a.getBCHDigit(7973);e.from=function(t,r){return c.isValid(t)?parseInt(t,10):r},e.getCapacity=function(t,r,e){if(!c.isValid(t))throw new Error("Invalid QR Code version");void 0===e&&(e=h.BYTE);var n=a.getSymbolTotalCodewords(t),i=f.getTotalCodewordsCount(t,r),u=8*(n-i);if(e===h.MIXED)return u;var s=u-o(e,t);switch(e){case h.NUMERIC:return Math.floor(s/10*3);case h.ALPHANUMERIC:return Math.floor(s/11*2);case h.KANJI:return Math.floor(s/13);case h.BYTE:default:return Math.floor(s/8)}},e.getBestVersionForData=function(t,r){var e,o=s.from(r,s.M);if(l(t)){if(t.length>1)return u(t,o);if(0===t.length)return 1;e=t[0]}else e=t;return n(e.mode,e.getLength(),o)},e.getEncodedBits=function(t){if(!c.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var r=t<<12;a.getBCHDigit(r)-g>=0;)r^=7973<<a.getBCHDigit(r)-g;return t<<12|r}},{"./error-correction-code":7,"./error-correction-level":8,"./mode":14,"./utils":21,"./version-check":22,isarray:33}],24:[function(t,r,e){function n(t,r,e,n,u){var a=[].slice.call(arguments,1),f=a.length,s="function"==typeof a[f-1];if(!s&&!o())throw new Error("Callback required as last argument");if(!s){if(f<1)throw new Error("Too few arguments provided");return 1===f?(e=r,r=n=void 0):2!==f||r.getContext||(n=e,e=r,r=void 0),new Promise(function(o,u){try{var a=i.create(e,n);o(t(a,r,n))}catch(t){u(t)}})}if(f<2)throw new Error("Too few arguments provided");2===f?(u=e,e=r,r=n=void 0):3===f&&(r.getContext&&void 0===u?(u=n,n=void 0):(u=n,n=e,e=r,r=void 0));try{var h=i.create(e,n);u(null,t(h,r,n))}catch(t){u(t)}}var o=t("./can-promise"),i=t("./core/qrcode"),u=t("./renderer/canvas"),a=t("./renderer/svg-tag.js");e.create=i.create,e.toCanvas=n.bind(null,u.render),e.toDataURL=n.bind(null,u.renderToDataURL),e.toString=n.bind(null,function(t,r,e){return a.render(t,e)})},{"./can-promise":1,"./core/qrcode":17,"./renderer/canvas":25,"./renderer/svg-tag.js":26}],25:[function(t,r,e){function n(t,r,e){t.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=e,r.width=e,r.style.height=e+"px",r.style.width=e+"px"}function o(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}var i=t("./utils");e.render=function(t,r,e){var u=e,a=r;void 0!==u||r&&r.getContext||(u=r,r=void 0),r||(a=o()),u=i.getOptions(u);var f=i.getImageWidth(t.modules.size,u),s=a.getContext("2d"),h=s.createImageData(f,f);return i.qrToImageData(h.data,t,u),n(s,a,f),s.putImageData(h,0,0),a},e.renderToDataURL=function(t,r,n){var o=n;void 0!==o||r&&r.getContext||(o=r,r=void 0),o||(o={});var i=e.render(t,r,o),u=o.type||"image/png",a=o.rendererOpts||{};return i.toDataURL(u,a.quality)}},{"./utils":27}],26:[function(t,r,e){function n(t,r){var e=t.a/255,n=r+'="'+t.hex+'"';return e<1?n+" "+r+'-opacity="'+e.toFixed(2).slice(1)+'"':n}function o(t,r,e){var n=t+r;return void 0!==e&&(n+=" "+e),n}function i(t,r,e){for(var n="",i=0,u=!1,a=0,f=0;f<t.length;f++){var s=Math.floor(f%r),h=Math.floor(f/r);s||u||(u=!0),t[f]?(a++,f>0&&s>0&&t[f-1]||(n+=u?o("M",s+e,.5+h+e):o("m",i,0),i=0,u=!1),s+1<r&&t[f+1]||(n+=o("h",a),a=0)):i++}return n}var u=t("./utils");e.render=function(t,r,e){var o=u.getOptions(r),a=t.modules.size,f=t.modules.data,s=a+2*o.margin,h=o.color.light.a?"<path "+n(o.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+n(o.color.dark,"stroke")+' d="'+i(f,a,o.margin)+'"/>',l='viewBox="0 0 '+s+" "+s+'"',g=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",p='<svg xmlns="http://www.w3.org/2000/svg" '+g+l+' shape-rendering="crispEdges">'+h+c+"</svg>\n";return"function"==typeof e&&e(null,p),p}},{"./utils":27}],27:[function(t,r,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var r=t.slice().replace("#","").split("");if(r.length<3||5===r.length||r.length>8)throw new Error("Invalid hex color: "+t);3!==r.length&&4!==r.length||(r=Array.prototype.concat.apply([],r.map(function(t){return[t,t]}))),6===r.length&&r.push("F","F");var e=parseInt(r.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var r=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,e=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:e,scale:e?4:o,margin:r,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,r){return r.width&&r.width>=t+2*r.margin?r.width/(t+2*r.margin):r.scale},e.getImageWidth=function(t,r){var n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){for(var o=r.modules.size,i=r.modules.data,u=e.getScale(o,n),a=Math.floor((o+2*n.margin)*u),f=n.margin*u,s=[n.color.light,n.color.dark],h=0;h<a;h++)for(var c=0;c<a;c++){var l=4*(h*a+c),g=n.color.light;if(h>=f&&c>=f&&h<a-f&&c<a-f){var p=Math.floor((h-f)/u),d=Math.floor((c-f)/u);g=s[i[p*o+d]?1:0]}t[l++]=g.r,t[l++]=g.g,t[l++]=g.b,t[l]=g.a}}},{}],28:[function(t,r,e){"use strict";function n(t,r,e){return n.TYPED_ARRAY_SUPPORT||this instanceof n?"number"==typeof t?a(this,t):y(this,t,r,e):new n(t,r,e)}function o(t){if(t>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|t}function i(t){return t!==t}function u(t,r){var e;return n.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r),e.__proto__=n.prototype):(e=t,null===e&&(e=new n(r)),e.length=r),e}function a(t,r){var e=u(t,r<0?0:0|o(r));if(!n.TYPED_ARRAY_SUPPORT)for(var i=0;i<r;++i)e[i]=0;return e}function f(t,r){var e=0|g(r),n=u(t,e),o=n.write(r);return o!==e&&(n=n.slice(0,o)),n}function s(t,r){for(var e=r.length<0?0:0|o(r.length),n=u(t,e),i=0;i<e;i+=1)n[i]=255&r[i];return n}function h(t,r,e,o){if(e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(o||0))throw new RangeError("'length' is out of bounds");var i;return i=void 0===e&&void 0===o?new Uint8Array(r):void 0===o?new Uint8Array(r,e):new Uint8Array(r,e,o),n.TYPED_ARRAY_SUPPORT?i.__proto__=n.prototype:i=s(t,i),i}function c(t,r){if(n.isBuffer(r)){var e=0|o(r.length),a=u(t,e);return 0===a.length?a:(r.copy(a,0,0,e),a)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||i(r.length)?u(t,0):s(t,r);if("Buffer"===r.type&&Array.isArray(r.data))return s(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function l(t,r){r=r||1/0;for(var e,n=t.length,o=null,i=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!o){if(e>56319){(r-=3)>-1&&i.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(r-=3)>-1&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&(r-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((r-=1)<0)break;i.push(e)}else if(e<2048){if((r-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function g(t){return n.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:l(t).length)}function p(t,r,e,n){for(var o=0;o<n&&!(o+e>=r.length||o>=t.length);++o)r[o+e]=t[o];return o}function d(t,r,e,n){return p(l(r,t.length-e),t,e,n)}function y(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?h(t,r,e,n):"string"==typeof r?f(t,r,e):c(t,r)}var v=t("isarray");n.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}();var w=n.TYPED_ARRAY_SUPPORT?2147483647:1073741823;n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),n.prototype.write=function(t,r,e){void 0===r?(e=this.length,r=0):void 0===e&&"string"==typeof r?(e=this.length,r=0):isFinite(r)&&(r|=0,isFinite(e)?e|=0:e=void 0);var n=this.length-r;if((void 0===e||e>n)&&(e=n),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return d(this,t,r,e)},n.prototype.slice=function(t,r){var e=this.length;t=~~t,r=void 0===r?e:~~r,t<0?(t+=e)<0&&(t=0):t>e&&(t=e),r<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t);var o;if(n.TYPED_ARRAY_SUPPORT)o=this.subarray(t,r),o.__proto__=n.prototype;else{var i=r-t;o=new n(i,void 0);for(var u=0;u<i;++u)o[u]=this[u+t]}return o},n.prototype.copy=function(t,r,e,o){if(e||(e=0),o||0===o||(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<e&&(o=e),o===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-e&&(o=t.length-r+e);var i,u=o-e;if(this===t&&e<r&&r<o)for(i=u-1;i>=0;--i)t[i+r]=this[i+e];else if(u<1e3||!n.TYPED_ARRAY_SUPPORT)for(i=0;i<u;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+u),r);return u},n.prototype.fill=function(t,r,e){if("string"==typeof t){if("string"==typeof r?(r=0,e=this.length):"string"==typeof e&&(e=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0);var i;if("number"==typeof t)for(i=r;i<e;++i)this[i]=t;else{var u=n.isBuffer(t)?t:new n(t),a=u.length;for(i=0;i<e-r;++i)this[i+r]=u[i%a]}return this},n.concat=function(t,r){if(!v(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u(null,0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var o=a(null,r),i=0;for(e=0;e<t.length;++e){var f=t[e];if(!n.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(o,i),i+=f.length}return o},n.byteLength=g,n.prototype._isBuffer=!0,n.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.exports.alloc=function(t){var r=new n(t);return r.fill(0),r},r.exports.from=function(t){return new n(t)}},{isarray:33}],29:[function(t,r,e){"use strict";function n(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function o(t){var r=n(t),e=r[0],o=r[1];return 3*(e+o)/4-o}function i(t,r,e){return 3*(r+e)/4-e}function u(t){var r,e,o=n(t),u=o[0],a=o[1],f=new l(i(t,u,a)),s=0,h=a>0?u-4:u;for(e=0;e<h;e+=4)r=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],f[s++]=r>>16&255,f[s++]=r>>8&255,f[s++]=255&r;return 2===a&&(r=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,f[s++]=255&r),1===a&&(r=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,f[s++]=r>>8&255,f[s++]=255&r),f}function a(t){return h[t>>18&63]+h[t>>12&63]+h[t>>6&63]+h[63&t]}function f(t,r,e){for(var n,o=[],i=r;i<e;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(a(n));return o.join("")}function s(t){for(var r,e=t.length,n=e%3,o=[],i=0,u=e-n;i<u;i+=16383)o.push(f(t,i,i+16383>u?u:i+16383));return 1===n?(r=t[e-1],o.push(h[r>>2]+h[r<<4&63]+"==")):2===n&&(r=(t[e-2]<<8)+t[e-1],o.push(h[r>>10]+h[r>>4&63]+h[r<<2&63]+"=")),o.join("")}e.byteLength=o,e.toByteArray=u,e.fromByteArray=s
;for(var h=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=g.length;p<d;++p)h[p]=g[p],c[g.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],30:[function(t,r,e){"use strict";function n(t){if(t>$)throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=new Uint8Array(t);return Object.setPrototypeOf(r,o.prototype),r}function o(t,r,e){if("number"==typeof t){if("string"==typeof r)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return i(t,r,e)}function i(t,r,e){if("string"==typeof t)return s(t,r);if(ArrayBuffer.isView(t))return h(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return c(t,r,e);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return o.from(n,r,e);var i=l(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),r,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t,r,e){return u(t),t<=0?n(t):void 0!==r?"string"==typeof e?n(t).fill(r,e):n(t).fill(r):n(t)}function f(t){return u(t),n(t<0?0:0|g(t))}function s(t,r){if("string"==typeof r&&""!==r||(r="utf8"),!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var e=0|d(t,r),i=n(e),u=i.write(t,r);return u!==e&&(i=i.slice(0,u)),i}function h(t){for(var r=t.length<0?0:0|g(t.length),e=n(r),o=0;o<r;o+=1)e[o]=255&t[o];return e}function c(t,r,e){if(r<0||t.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<r+(e||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===r&&void 0===e?new Uint8Array(t):void 0===e?new Uint8Array(t,r):new Uint8Array(t,r,e),Object.setPrototypeOf(n,o.prototype),n}function l(t){if(o.isBuffer(t)){var r=0|g(t.length),e=n(r);return 0===e.length?e:(t.copy(e,0,0,r),e)}return void 0!==t.length?"number"!=typeof t.length||K(t.length)?n(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}function g(t){if(t>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return 0|t}function p(t){return+t!=t&&(t=0),o.alloc(+t)}function d(t,r){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===e)return 0;for(var i=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return z(t).length;default:if(i)return n?-1:D(t).length;r=(""+r).toLowerCase(),i=!0}}function y(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if(e>>>=0,r>>>=0,e<=r)return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,r,e);case"utf8":case"utf-8":return P(this,r,e);case"ascii":return M(this,r,e);case"latin1":case"binary":return U(this,r,e);case"base64":return C(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function v(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function w(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,K(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=o.from(r,n)),o.isBuffer(r))return 0===r.length?-1:m(t,r,e,n,i);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):m(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,r,e,n,o){function i(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}var u=1,a=t.length,f=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,a/=2,f/=2,e/=2}var s;if(o){var h=-1;for(s=e;s<a;s++)if(i(t,s)===i(r,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===f)return h*u}else-1!==h&&(s-=s-h),h=-1}else for(e+f>a&&(e=a-f),s=e;s>=0;s--){for(var c=!0,l=0;l<f;l++)if(i(t,s+l)!==i(r,l)){c=!1;break}if(c)return s}return-1}function b(t,r,e,n){e=Number(e)||0;var o=t.length-e;n?(n=Number(n))>o&&(n=o):n=o;var i=r.length;n>i/2&&(n=i/2);for(var u=0;u<n;++u){var a=parseInt(r.substr(2*u,2),16);if(K(a))return u;t[e+u]=a}return u}function E(t,r,e,n){return H(D(r,t.length-e),t,e,n)}function A(t,r,e,n){return H(j(r),t,e,n)}function B(t,r,e,n){return A(t,r,e,n)}function T(t,r,e,n){return H(z(r),t,e,n)}function R(t,r,e,n){return H(F(r,t.length-e),t,e,n)}function C(t,r,e){return 0===r&&e===t.length?q.fromByteArray(t):q.fromByteArray(t.slice(r,e))}function P(t,r,e){e=Math.min(t.length,e);for(var n=[],o=r;o<e;){var i=t[o],u=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=e){var f,s,h,c;switch(a){case 1:i<128&&(u=i);break;case 2:f=t[o+1],128==(192&f)&&(c=(31&i)<<6|63&f)>127&&(u=c);break;case 3:f=t[o+1],s=t[o+2],128==(192&f)&&128==(192&s)&&(c=(15&i)<<12|(63&f)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:f=t[o+1],s=t[o+2],h=t[o+3],128==(192&f)&&128==(192&s)&&128==(192&h)&&(c=(15&i)<<18|(63&f)<<12|(63&s)<<6|63&h)>65535&&c<1114112&&(u=c)}}null===u?(u=65533,a=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=a}return I(n)}function I(t){var r=t.length;if(r<=X)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=X));return e}function M(t,r,e){var n="";e=Math.min(t.length,e);for(var o=r;o<e;++o)n+=String.fromCharCode(127&t[o]);return n}function U(t,r,e){var n="";e=Math.min(t.length,e);for(var o=r;o<e;++o)n+=String.fromCharCode(t[o]);return n}function N(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var o="",i=r;i<e;++i)o+=W[t[i]];return o}function S(t,r,e){for(var n=t.slice(r,e),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function L(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function x(t,r,e,n,i,u){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<u)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function _(t,r,e,n,o,i){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function k(t,r,e,n,o){return r=+r,e>>>=0,o||_(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),V.write(t,r,e,n,23,4),e+4}function O(t,r,e,n,o){return r=+r,e>>>=0,o||_(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),V.write(t,r,e,n,52,8),e+8}function Y(t){if(t=t.split("=")[0],t=t.trim().replace(Z,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function D(t,r){r=r||1/0;for(var e,n=t.length,o=null,i=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!o){if(e>56319){(r-=3)>-1&&i.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(r-=3)>-1&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&(r-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((r-=1)<0)break;i.push(e)}else if(e<2048){if((r-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function j(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function F(t,r){for(var e,n,o,i=[],u=0;u<t.length&&!((r-=2)<0);++u)e=t.charCodeAt(u),n=e>>8,o=e%256,i.push(o),i.push(n);return i}function z(t){return q.toByteArray(Y(t))}function H(t,r,e,n){for(var o=0;o<n&&!(o+e>=r.length||o>=t.length);++o)r[o+e]=t[o];return o}function J(t,r){return t instanceof r||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===r.name}function K(t){return t!==t}var q=t("base64-js"),V=t("ieee754"),Q="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=p,e.INSPECT_MAX_BYTES=50;var $=2147483647;e.kMaxLength=$,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(t,r,e){return i(t,r,e)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(t,r,e){return a(t,r,e)},o.allocUnsafe=function(t){return f(t)},o.allocUnsafeSlow=function(t){return f(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,r){if(J(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),J(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),!o.isBuffer(t)||!o.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var e=t.length,n=r.length,i=0,u=Math.min(e,n);i<u;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=o.allocUnsafe(r),i=0;for(e=0;e<t.length;++e){var u=t[e];if(J(u,Uint8Array)&&(u=o.from(u)),!o.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(n,i),i+=u.length}return n},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)v(this,r,r+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)v(this,r,r+3),v(this,r+1,r+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)v(this,r,r+7),v(this,r+1,r+6),v(this,r+2,r+5),v(this,r+3,r+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?P(this,0,t):y.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},Q&&(o.prototype[Q]=o.prototype.inspect),o.prototype.compare=function(t,r,e,n,i){if(J(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(r>>>=0,e>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var u=i-n,a=e-r,f=Math.min(u,a),s=this.slice(n,i),h=t.slice(r,e),c=0;c<f;++c)if(s[c]!==h[c]){u=s[c],a=h[c];break}return u<a?-1:a<u?1:0},o.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},o.prototype.indexOf=function(t,r,e){return w(this,t,r,e,!0)},o.prototype.lastIndexOf=function(t,r,e){return w(this,t,r,e,!1)},o.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(e)?(e>>>=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var o=this.length-r;if((void 0===e||e>o)&&(e=o),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,t,r,e);case"utf8":case"utf-8":return E(this,t,r,e);case"ascii":return A(this,t,r,e);case"latin1":case"binary":return B(this,t,r,e);case"base64":return T(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r,e);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;o.prototype.slice=function(t,r){var e=this.length;t=~~t,r=void 0===r?e:~~r,t<0?(t+=e)<0&&(t=0):t>e&&(t=e),r<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t);var n=this.subarray(t,r);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUIntLE=function(t,r,e){t>>>=0,r>>>=0,e||L(t,r,this.length);for(var n=this[t],o=1,i=0;++i<r&&(o*=256);)n+=this[t+i]*o;return n},o.prototype.readUIntBE=function(t,r,e){t>>>=0,r>>>=0,e||L(t,r,this.length);for(var n=this[t+--r],o=1;r>0&&(o*=256);)n+=this[t+--r]*o;return n},o.prototype.readUInt8=function(t,r){return t>>>=0,r||L(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,r){return t>>>=0,r||L(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,r){return t>>>=0,r||L(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,r){return t>>>=0,r||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,r){return t>>>=0,r||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,r,e){t>>>=0,r>>>=0,e||L(t,r,this.length);for(var n=this[t],o=1,i=0;++i<r&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*r)),n},o.prototype.readIntBE=function(t,r,e){t>>>=0,r>>>=0,e||L(t,r,this.length);for(var n=r,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i},o.prototype.readInt8=function(t,r){return t>>>=0,r||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,r){t>>>=0,r||L(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},o.prototype.readInt16BE=function(t,r){t>>>=0,r||L(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},o.prototype.readInt32LE=function(t,r){return t>>>=0,r||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,r){return t>>>=0,r||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,r){return t>>>=0,r||L(t,4,this.length),V.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,r){return t>>>=0,r||L(t,4,this.length),V.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,r){return t>>>=0,r||L(t,8,this.length),V.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,r){return t>>>=0,r||L(t,8,this.length),V.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,r,e,n){if(t=+t,r>>>=0,e>>>=0,!n){x(this,t,r,e,Math.pow(2,8*e)-1,0)}var o=1,i=0;for(this[r]=255&t;++i<e&&(o*=256);)this[r+i]=t/o&255;return r+e},o.prototype.writeUIntBE=function(t,r,e,n){if(t=+t,r>>>=0,e>>>=0,!n){x(this,t,r,e,Math.pow(2,8*e)-1,0)}var o=e-1,i=1;for(this[r+o]=255&t;--o>=0&&(i*=256);)this[r+o]=t/i&255;return r+e},o.prototype.writeUInt8=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,1,255,0),this[r]=255&t,r+1},o.prototype.writeUInt16LE=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,2,65535,0),this[r]=255&t,this[r+1]=t>>>8,r+2},o.prototype.writeUInt16BE=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=255&t,r+2},o.prototype.writeUInt32LE=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t,r+4},o.prototype.writeUInt32BE=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},o.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r>>>=0,!n){var o=Math.pow(2,8*e-1);x(this,t,r,e,o-1,-o)}var i=0,u=1,a=0;for(this[r]=255&t;++i<e&&(u*=256);)t<0&&0===a&&0!==this[r+i-1]&&(a=1),this[r+i]=(t/u>>0)-a&255;return r+e},o.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r>>>=0,!n){var o=Math.pow(2,8*e-1);x(this,t,r,e,o-1,-o)}var i=e-1,u=1,a=0;for(this[r+i]=255&t;--i>=0&&(u*=256);)t<0&&0===a&&0!==this[r+i+1]&&(a=1),this[r+i]=(t/u>>0)-a&255;return r+e},o.prototype.writeInt8=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=255&t,r+1},o.prototype.writeInt16LE=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,2,32767,-32768),this[r]=255&t,this[r+1]=t>>>8,r+2},o.prototype.writeInt16BE=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=255&t,r+2},o.prototype.writeInt32LE=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,4,2147483647,-2147483648),this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},o.prototype.writeInt32BE=function(t,r,e){return t=+t,r>>>=0,e||x(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t,r+4},o.prototype.writeFloatLE=function(t,r,e){return k(this,t,r,!0,e)},o.prototype.writeFloatBE=function(t,r,e){return k(this,t,r,!1,e)},o.prototype.writeDoubleLE=function(t,r,e){return O(this,t,r,!0,e)},o.prototype.writeDoubleBE=function(t,r,e){return O(this,t,r,!1,e)},o.prototype.copy=function(t,r,e,n){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i=n-e;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,e,n);else if(this===t&&e<r&&r<n)for(var u=i-1;u>=0;--u)t[u+r]=this[u+e];else Uint8Array.prototype.set.call(t,this.subarray(e,n),r);return i},o.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0);var u;if("number"==typeof t)for(u=r;u<e;++u)this[u]=t;else{var a=o.isBuffer(t)?t:o.from(t,n),f=a.length;if(0===f)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<e-r;++u)this[u+r]=a[u%f]}return this};var Z=/[^+\/0-9A-Za-z-_]/g,W=function(){for(var t=new Array(256),r=0;r<16;++r)for(var e=16*r,n=0;n<16;++n)t[e+n]="0123456789abcdef"[r]+"0123456789abcdef"[n];return t}()},{"base64-js":29,ieee754:32}],31:[function(t,r,e){"use strict";var n={single_source_shortest_paths:function(t,r,e){var o={},i={};i[r]=0;var u=n.PriorityQueue.make();u.push(r,0);for(var a,f,s,h,c,l,g,p;!u.empty();){a=u.pop(),f=a.value,h=a.cost,c=t[f]||{};for(s in c)c.hasOwnProperty(s)&&(l=c[s],g=h+l,p=i[s],(void 0===i[s]||p>g)&&(i[s]=g,u.push(s,g),o[s]=f))}if(void 0!==e&&void 0===i[e]){var d=["Could not find a path from ",r," to ",e,"."].join("");throw new Error(d)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var e=[],n=r;n;)e.push(n),t[n],n=t[n];return e.reverse(),e},find_path:function(t,r,e){var o=n.single_source_shortest_paths(t,r,e);return n.extract_shortest_path_from_predecessor_list(o,e)},PriorityQueue:{make:function(t){var r,e=n.PriorityQueue,o={};t=t||{};for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);return o.queue=[],o.sorter=t.sorter||e.default_sorter,o},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var e={value:t,cost:r};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==r&&(r.exports=n)},{}],32:[function(t,r,e){e.read=function(t,r,e,n,o){var i,u,a=8*o-n-1,f=(1<<a)-1,s=f>>1,h=-7,c=e?o-1:0,l=e?-1:1,g=t[r+c];for(c+=l,i=g&(1<<-h)-1,g>>=-h,h+=a;h>0;i=256*i+t[r+c],c+=l,h-=8);for(u=i&(1<<-h)-1,i>>=-h,h+=n;h>0;u=256*u+t[r+c],c+=l,h-=8);if(0===i)i=1-s;else{if(i===f)return u?NaN:1/0*(g?-1:1);u+=Math.pow(2,n),i-=s}return(g?-1:1)*u*Math.pow(2,i-n)},e.write=function(t,r,e,n,o,i){var u,a,f,s=8*i-o-1,h=(1<<s)-1,c=h>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:i-1,p=n?1:-1,d=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(a=isNaN(r)?1:0,u=h):(u=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-u))<1&&(u--,f*=2),r+=u+c>=1?l/f:l*Math.pow(2,1-c),r*f>=2&&(u++,f/=2),u+c>=h?(a=0,u=h):u+c>=1?(a=(r*f-1)*Math.pow(2,o),u+=c):(a=r*Math.pow(2,c-1)*Math.pow(2,o),u=0));o>=8;t[e+g]=255&a,g+=p,a/=256,o-=8);for(u=u<<o|a,s+=o;s>0;t[e+g]=255&u,g+=p,u/=256,s-=8);t[e+g-p]|=128*d}},{}],33:[function(t,r,e){var n={}.toString;r.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}]},{},[24])(24)});
//# sourceMappingURL=qrcode.min.js.map

/*
 AngularJS v1.2.28
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(W,X,u){'use strict';function z(b){return function(){var a=arguments[0],c,a="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.2.28/"+(b?b+"/":"")+a;for(c=1;c<arguments.length;c++)a=a+(1==c?"?":"&")+"p"+(c-1)+"="+encodeURIComponent("function"==typeof arguments[c]?arguments[c].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[c]?"undefined":"string"!=typeof arguments[c]?JSON.stringify(arguments[c]):arguments[c]);return Error(a)}}function Sa(b){if(null==b||Ja(b))return!1;
var a=b.length;return 1===b.nodeType&&a?!0:G(b)||L(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function r(b,a,c){var d;if(b)if(N(b))for(d in b)"prototype"==d||("length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d))||a.call(c,b[d],d);else if(L(b)||Sa(b))for(d=0;d<b.length;d++)a.call(c,b[d],d);else if(b.forEach&&b.forEach!==r)b.forEach(a,c);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d);return b}function Xb(b){var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(c);return a.sort()}function Sc(b,
a,c){for(var d=Xb(b),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function Yb(b){return function(a,c){b(c,a)}}function ib(){for(var b=na.length,a;b;){b--;a=na[b].charCodeAt(0);if(57==a)return na[b]="A",na.join("");if(90==a)na[b]="0";else return na[b]=String.fromCharCode(a+1),na.join("")}na.unshift("0");return na.join("")}function Zb(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function E(b){var a=b.$$hashKey;r(arguments,function(a){a!==b&&r(a,function(a,c){b[c]=a})});Zb(b,a);return b}function U(b){return parseInt(b,
10)}function $b(b,a){return E(new (E(function(){},{prototype:b})),a)}function v(){}function ga(b){return b}function aa(b){return function(){return b}}function F(b){return"undefined"===typeof b}function D(b){return"undefined"!==typeof b}function T(b){return null!=b&&"object"===typeof b}function G(b){return"string"===typeof b}function jb(b){return"number"===typeof b}function va(b){return"[object Date]"===Ba.call(b)}function N(b){return"function"===typeof b}function kb(b){return"[object RegExp]"===Ba.call(b)}
function Ja(b){return b&&b.document&&b.location&&b.alert&&b.setInterval}function Tc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Uc(b,a,c){var d=[];r(b,function(b,f,g){d.push(a.call(c,b,f,g))});return d}function Ta(b,a){if(b.indexOf)return b.indexOf(a);for(var c=0;c<b.length;c++)if(a===b[c])return c;return-1}function Ua(b,a){var c=Ta(b,a);0<=c&&b.splice(c,1);return a}function Ka(b,a,c,d){if(Ja(b)||b&&b.$evalAsync&&b.$watch)throw Va("cpws");if(a){if(b===a)throw Va("cpi");c=c||[];
d=d||[];if(T(b)){var e=Ta(c,b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(L(b))for(var f=a.length=0;f<b.length;f++)e=Ka(b[f],null,c,d),T(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);else{var g=a.$$hashKey;L(a)?a.length=0:r(a,function(b,c){delete a[c]});for(f in b)e=Ka(b[f],null,c,d),T(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e;Zb(a,g)}}else if(a=b)L(b)?a=Ka(b,[],c,d):va(b)?a=new Date(b.getTime()):kb(b)?(a=RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):T(b)&&(a=Ka(b,{},c,d));
return a}function ha(b,a){if(L(b)){a=a||[];for(var c=0;c<b.length;c++)a[c]=b[c]}else if(T(b))for(c in a=a||{},b)!lb.call(b,c)||"$"===c.charAt(0)&&"$"===c.charAt(1)||(a[c]=b[c]);return a||b}function Ca(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&"object"==c)if(L(b)){if(!L(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!Ca(b[d],a[d]))return!1;return!0}}else{if(va(b))return va(a)?isNaN(b.getTime())&&isNaN(a.getTime())||b.getTime()===
a.getTime():!1;if(kb(b)&&kb(a))return b.toString()==a.toString();if(b&&b.$evalAsync&&b.$watch||a&&a.$evalAsync&&a.$watch||Ja(b)||Ja(a)||L(a))return!1;c={};for(d in b)if("$"!==d.charAt(0)&&!N(b[d])){if(!Ca(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==u&&!N(a[d]))return!1;return!0}return!1}function Bb(b,a){var c=2<arguments.length?wa.call(arguments,2):[];return!N(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,c.concat(wa.call(arguments,
0))):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Vc(b,a){var c=a;"string"===typeof b&&"$"===b.charAt(0)?c=u:Ja(a)?c="$WINDOW":a&&X===a?c="$DOCUMENT":a&&(a.$evalAsync&&a.$watch)&&(c="$SCOPE");return c}function oa(b,a){return"undefined"===typeof b?u:JSON.stringify(b,Vc,a?"  ":null)}function ac(b){return G(b)?JSON.parse(b):b}function Wa(b){"function"===typeof b?b=!0:b&&0!==b.length?(b=x(""+b),b=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)):b=!1;
return b}function ia(b){b=A(b).clone();try{b.empty()}catch(a){}var c=A("<div>").append(b).html();try{return 3===b[0].nodeType?x(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+x(b)})}catch(d){return x(c)}}function bc(b){try{return decodeURIComponent(b)}catch(a){}}function cc(b){var a={},c,d;r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=bc(c[0]),D(d)&&(b=D(c[1])?bc(c[1]):!0,lb.call(a,d)?L(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Cb(b){var a=
[];r(b,function(b,d){L(b)?r(b,function(b){a.push(Da(d,!0)+(!0===b?"":"="+Da(b,!0)))}):a.push(Da(d,!0)+(!0===b?"":"="+Da(b,!0)))});return a.length?a.join("&"):""}function mb(b){return Da(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Da(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,a?"%20":"+")}function Wc(b,a){function c(a){a&&d.push(a)}var d=[b],e,f,g=["ng:app","ng-app","x-ng-app",
"data-ng-app"],h=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;r(g,function(a){g[a]=!0;c(X.getElementById(a));a=a.replace(":","\\:");b.querySelectorAll&&(r(b.querySelectorAll("."+a),c),r(b.querySelectorAll("."+a+"\\:"),c),r(b.querySelectorAll("["+a+"]"),c))});r(d,function(a){if(!e){var b=h.exec(" "+a.className+" ");b?(e=a,f=(b[2]||"").replace(/\s+/g,",")):r(a.attributes,function(b){!e&&g[b.name]&&(e=a,f=b.value)})}});e&&a(e,f?[f]:[])}function dc(b,a){var c=function(){b=A(b);if(b.injector()){var c=b[0]===X?
"document":ia(b);throw Va("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);a.unshift("ng");c=ec(a);c.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},d=/^NG_DEFER_BOOTSTRAP!/;if(W&&!d.test(W.name))return c();W.name=W.name.replace(d,"");Xa.resumeBootstrap=function(b){r(b,function(b){a.push(b)});c()}}function nb(b,a){a=
a||"_";return b.replace(Xc,function(b,d){return(d?a:"")+b.toLowerCase()})}function Db(b,a,c){if(!b)throw Va("areq",a||"?",c||"required");return b}function Ya(b,a,c){c&&L(b)&&(b=b[b.length-1]);Db(N(b),a,"not a function, got "+(b&&"object"===typeof b?b.constructor.name||"Object":typeof b));return b}function Ea(b,a){if("hasOwnProperty"===b)throw Va("badname",a);}function fc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&N(b)?Bb(e,b):b}function Eb(b){var a=
b[0];b=b[b.length-1];if(a===b)return A(a);var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return A(c)}function Yc(b){var a=z("$injector"),c=z("ng");b=b.angular||(b.angular={});b.$$minErr=b.$$minErr||z;return b.module||(b.module=function(){var b={};return function(e,f,g){if("hasOwnProperty"===e)throw c("badname","module");f&&b.hasOwnProperty(e)&&(b[e]=null);return b[e]||(b[e]=function(){function b(a,d,e){return function(){c[e||"push"]([a,d,arguments]);return n}}if(!f)throw a("nomod",
e);var c=[],d=[],l=b("$injector","invoke"),n={_invokeQueue:c,_runBlocks:d,requires:f,name:e,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:b("$provide","value"),constant:b("$provide","constant","unshift"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:l,run:function(a){d.push(a);return this}};g&&l(g);return n}())}}())}
function Zc(b){E(b,{bootstrap:dc,copy:Ka,extend:E,equals:Ca,element:A,forEach:r,injector:ec,noop:v,bind:Bb,toJson:oa,fromJson:ac,identity:ga,isUndefined:F,isDefined:D,isString:G,isFunction:N,isObject:T,isNumber:jb,isElement:Tc,isArray:L,version:$c,isDate:va,lowercase:x,uppercase:La,callbacks:{counter:0},$$minErr:z,$$csp:Za});$a=Yc(W);try{$a("ngLocale")}catch(a){$a("ngLocale",[]).provider("$locale",ad)}$a("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:bd});a.provider("$compile",
gc).directive({a:cd,input:hc,textarea:hc,form:dd,script:ed,select:fd,style:gd,option:hd,ngBind:id,ngBindHtml:jd,ngBindTemplate:kd,ngClass:ld,ngClassEven:md,ngClassOdd:nd,ngCloak:od,ngController:pd,ngForm:qd,ngHide:rd,ngIf:sd,ngInclude:td,ngInit:ud,ngNonBindable:vd,ngPluralize:wd,ngRepeat:xd,ngShow:yd,ngStyle:zd,ngSwitch:Ad,ngSwitchWhen:Bd,ngSwitchDefault:Cd,ngOptions:Dd,ngTransclude:Ed,ngModel:Fd,ngList:Gd,ngChange:Hd,required:ic,ngRequired:ic,ngValue:Id}).directive({ngInclude:Jd}).directive(Fb).directive(jc);
a.provider({$anchorScroll:Kd,$animate:Ld,$browser:Md,$cacheFactory:Nd,$controller:Od,$document:Pd,$exceptionHandler:Qd,$filter:kc,$interpolate:Rd,$interval:Sd,$http:Td,$httpBackend:Ud,$location:Vd,$log:Wd,$parse:Xd,$rootScope:Yd,$q:Zd,$sce:$d,$sceDelegate:ae,$sniffer:be,$templateCache:ce,$timeout:de,$window:ee,$$rAF:fe,$$asyncCallback:ge})}])}function ab(b){return b.replace(he,function(a,b,d,e){return e?d.toUpperCase():d}).replace(ie,"Moz$1")}function Gb(b,a,c,d){function e(b){var e=c&&b?[this.filter(b)]:
[this],k=a,m,l,n,q,p,s;if(!d||null!=b)for(;e.length;)for(m=e.shift(),l=0,n=m.length;l<n;l++)for(q=A(m[l]),k?q.triggerHandler("$destroy"):k=!k,p=0,q=(s=q.children()).length;p<q;p++)e.push(Fa(s[p]));return f.apply(this,arguments)}var f=Fa.fn[b],f=f.$original||f;e.$original=f;Fa.fn[b]=e}function S(b){if(b instanceof S)return b;G(b)&&(b=$(b));if(!(this instanceof S)){if(G(b)&&"<"!=b.charAt(0))throw Hb("nosel");return new S(b)}if(G(b)){var a=b;b=X;var c;if(c=je.exec(a))b=[b.createElement(c[1])];else{var d=
b,e;b=d.createDocumentFragment();c=[];if(Ib.test(a)){d=b.appendChild(d.createElement("div"));e=(ke.exec(a)||["",""])[1].toLowerCase();e=da[e]||da._default;d.innerHTML="<div>&#160;</div>"+e[1]+a.replace(le,"<$1></$2>")+e[2];d.removeChild(d.firstChild);for(a=e[0];a--;)d=d.lastChild;a=0;for(e=d.childNodes.length;a<e;++a)c.push(d.childNodes[a]);d=b.firstChild;d.textContent=""}else c.push(d.createTextNode(a));b.textContent="";b.innerHTML="";b=c}Jb(this,b);A(X.createDocumentFragment()).append(this)}else Jb(this,
b)}function Kb(b){return b.cloneNode(!0)}function Ma(b){Lb(b);var a=0;for(b=b.childNodes||[];a<b.length;a++)Ma(b[a])}function lc(b,a,c,d){if(D(d))throw Hb("offargs");var e=pa(b,"events");pa(b,"handle")&&(F(a)?r(e,function(a,c){bb(b,c,a);delete e[c]}):r(a.split(" "),function(a){F(c)?(bb(b,a,e[a]),delete e[a]):Ua(e[a]||[],c)}))}function Lb(b,a){var c=b.ng339,d=cb[c];d&&(a?delete cb[c].data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),lc(b)),delete cb[c],b.ng339=u))}function pa(b,a,c){var d=
b.ng339,d=cb[d||-1];if(D(c))d||(b.ng339=d=++me,d=cb[d]={}),d[a]=c;else return d&&d[a]}function Mb(b,a,c){var d=pa(b,"data"),e=D(c),f=!e&&D(a),g=f&&!T(a);d||g||pa(b,"data",d={});if(e)d[a]=c;else if(f){if(g)return d&&d[a];E(d,a)}else return d}function Nb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function ob(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",$((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g,
" ").replace(" "+$(a)+" "," ")))})}function pb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(a.split(" "),function(a){a=$(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});b.setAttribute("class",$(c))}}function Jb(b,a){if(a){a=a.nodeName||!D(a.length)||Ja(a)?[a]:a;for(var c=0;c<a.length;c++)b.push(a[c])}}function mc(b,a){return qb(b,"$"+(a||"ngController")+"Controller")}function qb(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=L(a)?a:[a];b;){for(var d=
0,e=a.length;d<e;d++)if((c=A.data(b,a[d]))!==u)return c;b=b.parentNode||11===b.nodeType&&b.host}}function nc(b){for(var a=0,c=b.childNodes;a<c.length;a++)Ma(c[a]);for(;b.firstChild;)b.removeChild(b.firstChild)}function oc(b,a){var c=rb[a.toLowerCase()];return c&&pc[b.nodeName]&&c}function ne(b,a){var c=function(c,e){c.preventDefault||(c.preventDefault=function(){c.returnValue=!1});c.stopPropagation||(c.stopPropagation=function(){c.cancelBubble=!0});c.target||(c.target=c.srcElement||X);if(F(c.defaultPrevented)){var f=
c.preventDefault;c.preventDefault=function(){c.defaultPrevented=!0;f.call(c)};c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||!1===c.returnValue};var g=ha(a[e||c.type]||[]);r(g,function(a){a.call(b,c)});8>=R?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};c.elem=b;return c}function Na(b,a){var c=typeof b,d;"function"==c||"object"==c&&null!==b?"function"==typeof(d=
b.$$hashKey)?d=b.$$hashKey():d===u&&(d=b.$$hashKey=(a||ib)()):d=b;return c+":"+d}function db(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function qc(b){var a,c;"function"===typeof b?(a=b.$inject)||(a=[],b.length&&(c=b.toString().replace(oe,""),c=c.match(pe),r(c[1].split(qe),function(b){b.replace(re,function(b,c,d){a.push(d)})})),b.$inject=a):L(b)?(c=b.length-1,Ya(b[c],"fn"),a=b.slice(0,c)):Ya(b,"fn",!0);return a}function ec(b){function a(a){return function(b,c){if(T(b))r(b,
Yb(a));else return a(b,c)}}function c(a,b){Ea(a,"service");if(N(b)||L(b))b=n.instantiate(b);if(!b.$get)throw eb("pget",a);return l[a+h]=b}function d(a,b){return c(a,{$get:b})}function e(a){var b=[],c,d,f,h;r(a,function(a){if(!m.get(a)){m.put(a,!0);try{if(G(a))for(c=$a(a),b=b.concat(e(c.requires)).concat(c._runBlocks),d=c._invokeQueue,f=0,h=d.length;f<h;f++){var g=d[f],k=n.get(g[0]);k[g[1]].apply(k,g[2])}else N(a)?b.push(n.invoke(a)):L(a)?b.push(n.invoke(a)):Ya(a,"module")}catch(p){throw L(a)&&(a=
a[a.length-1]),p.message&&(p.stack&&-1==p.stack.indexOf(p.message))&&(p=p.message+"\n"+p.stack),eb("modulerr",a,p.stack||p.message||p);}}});return b}function f(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===g)throw eb("cdep",d+" <- "+k.join(" <- "));return a[d]}try{return k.unshift(d),a[d]=g,a[d]=b(d)}catch(e){throw a[d]===g&&delete a[d],e;}finally{k.shift()}}function d(a,b,e){var f=[],h=qc(a),g,k,p;k=0;for(g=h.length;k<g;k++){p=h[k];if("string"!==typeof p)throw eb("itkn",p);f.push(e&&e.hasOwnProperty(p)?
e[p]:c(p))}L(a)&&(a=a[g]);return a.apply(b,f)}return{invoke:d,instantiate:function(a,b){var c=function(){},e;c.prototype=(L(a)?a[a.length-1]:a).prototype;c=new c;e=d(a,c,b);return T(e)||N(e)?e:c},get:c,annotate:qc,has:function(b){return l.hasOwnProperty(b+h)||a.hasOwnProperty(b)}}}var g={},h="Provider",k=[],m=new db([],!0),l={$provide:{provider:a(c),factory:a(d),service:a(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:a(function(a,b){return d(a,aa(b))}),constant:a(function(a,
b){Ea(a,"constant");l[a]=b;q[a]=b}),decorator:function(a,b){var c=n.get(a+h),d=c.$get;c.$get=function(){var a=p.invoke(d,c);return p.invoke(b,null,{$delegate:a})}}}},n=l.$injector=f(l,function(){throw eb("unpr",k.join(" <- "));}),q={},p=q.$injector=f(q,function(a){a=n.get(a+h);return p.invoke(a.$get,a)});r(e(b),function(a){p.invoke(a||v)});return p}function Kd(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;
r(a,function(a){b||"a"!==x(a.nodeName)||(b=a)});return b}function f(){var b=c.hash(),d;b?(d=g.getElementById(b))?d.scrollIntoView():(d=e(g.getElementsByName(b)))?d.scrollIntoView():"top"===b&&a.scrollTo(0,0):a.scrollTo(0,0)}var g=a.document;b&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(f)});return f}]}function ge(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function se(b,a,c,d){function e(a){try{a.apply(null,
wa.call(arguments,1))}finally{if(s--,0===s)for(;J.length;)try{J.pop()()}catch(b){c.error(b)}}}function f(a,b){(function ea(){r(w,function(a){a()});t=b(ea,a)})()}function g(){y!=h.url()&&(y=h.url(),r(ba,function(a){a(h.url())}))}var h=this,k=a[0],m=b.location,l=b.history,n=b.setTimeout,q=b.clearTimeout,p={};h.isMock=!1;var s=0,J=[];h.$$completeOutstandingRequest=e;h.$$incOutstandingRequestCount=function(){s++};h.notifyWhenNoOutstandingRequests=function(a){r(w,function(a){a()});0===s?a():J.push(a)};
var w=[],t;h.addPollFn=function(a){F(t)&&f(100,n);w.push(a);return a};var y=m.href,K=a.find("base"),B=null;h.url=function(a,c){m!==b.location&&(m=b.location);l!==b.history&&(l=b.history);if(a){if(y!=a){var e=y&&Ga(y)===Ga(a);y=a;!e&&d.history?c?l.replaceState(null,"",a):(l.pushState(null,"",a),K.attr("href",K.attr("href"))):(e||(B=a),c?m.replace(a):m.href=a);return h}}else return B||m.href.replace(/%27/g,"'")};var ba=[],O=!1;h.onUrlChange=function(a){if(!O){if(d.history)A(b).on("popstate",g);if(d.hashchange)A(b).on("hashchange",
g);else h.addPollFn(g);O=!0}ba.push(a);return a};h.$$checkUrlChange=g;h.baseHref=function(){var a=K.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var M={},ca="",P=h.baseHref();h.cookies=function(a,b){var d,e,f,h;if(a)b===u?k.cookie=escape(a)+"=;path="+P+";expires=Thu, 01 Jan 1970 00:00:00 GMT":G(b)&&(d=(k.cookie=escape(a)+"="+escape(b)+";path="+P).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(k.cookie!==
ca)for(ca=k.cookie,d=ca.split("; "),M={},f=0;f<d.length;f++)e=d[f],h=e.indexOf("="),0<h&&(a=unescape(e.substring(0,h)),M[a]===u&&(M[a]=unescape(e.substring(h+1))));return M}};h.defer=function(a,b){var c;s++;c=n(function(){delete p[c];e(a)},b||0);p[c]=!0;return c};h.defer.cancel=function(a){return p[a]?(delete p[a],q(a),e(v),!0):!1}}function Md(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new se(b,d,a,c)}]}function Nd(){this.$get=function(){function b(b,d){function e(a){a!=
n&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw z("$cacheFactory")("iid",b);var g=0,h=E({},d,{id:b}),k={},m=d&&d.capacity||Number.MAX_VALUE,l={},n=null,q=null;return a[b]={put:function(a,b){if(m<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}if(!F(b))return a in k||g++,k[a]=b,g>m&&this.remove(q.key),b},get:function(a){if(m<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(m<Number.MAX_VALUE){var b=
l[a];if(!b)return;b==n&&(n=b.p);b==q&&(q=b.n);f(b.n,b.p);delete l[a]}delete k[a];g--},removeAll:function(){k={};g=0;l={};n=q=null},destroy:function(){l=h=k=null;delete a[b]},info:function(){return E({},h,{size:g})}}}var a={};b.info=function(){var b={};r(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function ce(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function gc(b,a){var c={},d="Directive",e=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,f=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,
g=/^(on[a-z]+|formaction)$/;this.directive=function k(a,e){Ea(a,"directive");G(a)?(Db(e,"directiveFactory"),c.hasOwnProperty(a)||(c[a]=[],b.factory(a+d,["$injector","$exceptionHandler",function(b,d){var e=[];r(c[a],function(c,f){try{var g=b.invoke(c);N(g)?g={compile:aa(g)}:!g.compile&&g.link&&(g.compile=aa(g.link));g.priority=g.priority||0;g.index=f;g.name=g.name||a;g.require=g.require||g.controller&&g.name;g.restrict=g.restrict||"A";e.push(g)}catch(k){d(k)}});return e}])),c[a].push(e)):r(a,Yb(k));
return this};this.aHrefSanitizationWhitelist=function(b){return D(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return D(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,l,n,q,p,s,J,w,t,y,K){function B(a,b,c,d,e){a instanceof
A||(a=A(a));r(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=A(b).wrap("<span></span>").parent()[0])});var f=O(a,b,a,c,d,e);ba(a,"ng-scope");return function(b,c,d,e){Db(b,"scope");var g=c?Oa.clone.call(a):a;r(d,function(a,b){g.data("$"+b+"Controller",a)});d=0;for(var k=g.length;d<k;d++){var p=g[d].nodeType;1!==p&&9!==p||g.eq(d).data("$scope",b)}c&&c(g,b);f&&f(b,g,g,e);return g}}function ba(a,b){try{a.addClass(b)}catch(c){}}function O(a,b,c,d,e,f){function g(a,c,d,e){var f,p,l,m,q,
n,w;f=c.length;var s=Array(f);for(m=0;m<f;m++)s[m]=c[m];n=m=0;for(q=k.length;m<q;n++)p=s[n],c=k[m++],f=k[m++],c?(c.scope?(l=a.$new(),A.data(p,"$scope",l)):l=a,w=c.transcludeOnThisElement?M(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?M(a,b):null,c(f,l,p,d,w)):f&&f(a,p.childNodes,u,e)}for(var k=[],p,l,m,q,n=0;n<a.length;n++)p=new Ob,l=ca(a[n],[],p,0===n?d:u,e),(f=l.length?I(l,a[n],p,b,c,null,[],[],f):null)&&f.scope&&ba(p.$$element,"ng-scope"),p=f&&f.terminal||!(m=a[n].childNodes)||!m.length?
null:O(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),k.push(f,p),q=q||f||p,f=null;return q?g:null}function M(a,b,c){return function(d,e,f){var g=!1;d||(d=a.$new(),g=d.$$transcluded=!0);e=b(d,e,f,c);if(g)e.on("$destroy",function(){d.$destroy()});return e}}function ca(a,b,c,d,g){var k=c.$attr,p;switch(a.nodeType){case 1:ea(b,qa(Pa(a).toLowerCase()),"E",d,g);for(var l,m,q,n=a.attributes,w=0,s=n&&n.length;w<s;w++){var t=!1,J=!1;l=n[w];if(!R||8<=R||l.specified){p=l.name;m=
$(l.value);l=qa(p);if(q=U.test(l))p=nb(l.substr(6),"-");var y=l.replace(/(Start|End)$/,"");l===y+"Start"&&(t=p,J=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6));l=qa(p.toLowerCase());k[l]=p;if(q||!c.hasOwnProperty(l))c[l]=m,oc(a,l)&&(c[l]=!0);S(a,b,m,l);ea(b,l,"A",d,g,t,J)}}a=a.className;if(G(a)&&""!==a)for(;p=f.exec(a);)l=qa(p[2]),ea(b,l,"C",d,g)&&(c[l]=$(p[3])),a=a.substr(p.index+p[0].length);break;case 3:x(b,a.nodeValue);break;case 8:try{if(p=e.exec(a.nodeValue))l=qa(p[1]),ea(b,l,"M",d,
g)&&(c[l]=$(p[2]))}catch(B){}}b.sort(F);return b}function P(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ja("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return A(d)}function C(a,b,c){return function(d,e,f,g,k){e=P(e[0],b,c);return a(d,e,f,g,k)}}function I(a,c,d,e,f,g,k,q,n){function w(a,b,c,d){if(a){c&&(a=C(a,c,d));a.require=H.require;a.directiveName=z;if(K===H||H.$$isolateScope)a=rc(a,
{isolateScope:!0});k.push(a)}if(b){c&&(b=C(b,c,d));b.require=H.require;b.directiveName=z;if(K===H||H.$$isolateScope)b=rc(b,{isolateScope:!0});q.push(b)}}function t(a,b,c,d){var e,f="data",g=!1;if(G(b)){for(;"^"==(e=b.charAt(0))||"?"==e;)b=b.substr(1),"^"==e&&(f="inheritedData"),g=g||"?"==e;e=null;d&&"data"===f&&(e=d[b]);e=e||c[f]("$"+b+"Controller");if(!e&&!g)throw ja("ctreq",b,a);}else L(b)&&(e=[],r(b,function(b){e.push(t(a,b,c,d))}));return e}function J(a,e,f,g,n){function w(a,b){var c;2>arguments.length&&
(b=a,a=u);Ia&&(c=ca);return n(a,b,c)}var y,Q,B,M,C,P,ca={},ra;y=c===f?d:ha(d,new Ob(A(f),d.$attr));Q=y.$$element;if(K){var ue=/^\s*([@=&])(\??)\s*(\w*)\s*$/;P=e.$new(!0);!I||I!==K&&I!==K.$$originalDirective?Q.data("$isolateScopeNoTemplate",P):Q.data("$isolateScope",P);ba(Q,"ng-isolate-scope");r(K.scope,function(a,c){var d=a.match(ue)||[],f=d[3]||c,g="?"==d[2],d=d[1],k,l,n,q;P.$$isolateBindings[c]=d+f;switch(d){case "@":y.$observe(f,function(a){P[c]=a});y.$$observers[f].$$scope=e;y[f]&&(P[c]=b(y[f])(e));
break;case "=":if(g&&!y[f])break;l=p(y[f]);q=l.literal?Ca:function(a,b){return a===b||a!==a&&b!==b};n=l.assign||function(){k=P[c]=l(e);throw ja("nonassign",y[f],K.name);};k=P[c]=l(e);P.$watch(function(){var a=l(e);q(a,P[c])||(q(a,k)?n(e,a=P[c]):P[c]=a);return k=a},null,l.literal);break;case "&":l=p(y[f]);P[c]=function(a){return l(e,a)};break;default:throw ja("iscp",K.name,c,a);}})}ra=n&&w;O&&r(O,function(a){var b={$scope:a===K||a.$$isolateScope?P:e,$element:Q,$attrs:y,$transclude:ra},c;C=a.controller;
"@"==C&&(C=y[a.name]);c=s(C,b);ca[a.name]=c;Ia||Q.data("$"+a.name+"Controller",c);a.controllerAs&&(b.$scope[a.controllerAs]=c)});g=0;for(B=k.length;g<B;g++)try{M=k[g],M(M.isolateScope?P:e,Q,y,M.require&&t(M.directiveName,M.require,Q,ca),ra)}catch(H){l(H,ia(Q))}g=e;K&&(K.template||null===K.templateUrl)&&(g=P);a&&a(g,f.childNodes,u,n);for(g=q.length-1;0<=g;g--)try{M=q[g],M(M.isolateScope?P:e,Q,y,M.require&&t(M.directiveName,M.require,Q,ca),ra)}catch(D){l(D,ia(Q))}}n=n||{};for(var y=-Number.MAX_VALUE,
M,O=n.controllerDirectives,K=n.newIsolateScopeDirective,I=n.templateDirective,ea=n.nonTlbTranscludeDirective,F=!1,E=!1,Ia=n.hasElementTranscludeDirective,x=d.$$element=A(c),H,z,V,S=e,R,Ha=0,sa=a.length;Ha<sa;Ha++){H=a[Ha];var U=H.$$start,Y=H.$$end;U&&(x=P(c,U,Y));V=u;if(y>H.priority)break;if(V=H.scope)M=M||H,H.templateUrl||(fb("new/isolated scope",K,H,x),T(V)&&(K=H));z=H.name;!H.templateUrl&&H.controller&&(V=H.controller,O=O||{},fb("'"+z+"' controller",O[z],H,x),O[z]=H);if(V=H.transclude)F=!0,H.$$tlb||
(fb("transclusion",ea,H,x),ea=H),"element"==V?(Ia=!0,y=H.priority,V=x,x=d.$$element=A(X.createComment(" "+z+": "+d[z]+" ")),c=x[0],ra(f,wa.call(V,0),c),S=B(V,e,y,g&&g.name,{nonTlbTranscludeDirective:ea})):(V=A(Kb(c)).contents(),x.empty(),S=B(V,e));if(H.template)if(E=!0,fb("template",I,H,x),I=H,V=N(H.template)?H.template(x,d):H.template,V=W(V),H.replace){g=H;V=Ib.test(V)?A($(V)):[];c=V[0];if(1!=V.length||1!==c.nodeType)throw ja("tplrt",z,"");ra(f,x,c);sa={$attr:{}};V=ca(c,[],sa);var Z=a.splice(Ha+
1,a.length-(Ha+1));K&&D(V);a=a.concat(V).concat(Z);v(d,sa);sa=a.length}else x.html(V);if(H.templateUrl)E=!0,fb("template",I,H,x),I=H,H.replace&&(g=H),J=te(a.splice(Ha,a.length-Ha),x,d,f,F&&S,k,q,{controllerDirectives:O,newIsolateScopeDirective:K,templateDirective:I,nonTlbTranscludeDirective:ea}),sa=a.length;else if(H.compile)try{R=H.compile(x,d,S),N(R)?w(null,R,U,Y):R&&w(R.pre,R.post,U,Y)}catch(ve){l(ve,ia(x))}H.terminal&&(J.terminal=!0,y=Math.max(y,H.priority))}J.scope=M&&!0===M.scope;J.transcludeOnThisElement=
F;J.templateOnThisElement=E;J.transclude=S;n.hasElementTranscludeDirective=Ia;return J}function D(a){for(var b=0,c=a.length;b<c;b++)a[b]=$b(a[b],{$$isolateScope:!0})}function ea(b,e,f,g,p,m,n){if(e===p)return null;p=null;if(c.hasOwnProperty(e)){var q;e=a.get(e+d);for(var w=0,s=e.length;w<s;w++)try{q=e[w],(g===u||g>q.priority)&&-1!=q.restrict.indexOf(f)&&(m&&(q=$b(q,{$$start:m,$$end:n})),b.push(q),p=q)}catch(y){l(y)}}return p}function v(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=
e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,f){"class"==f?(ba(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function te(a,b,c,d,e,f,g,k){var p=[],l,m,w=b[0],s=a.shift(),y=E({},s,{templateUrl:null,transclude:null,replace:null,$$originalDirective:s}),J=N(s.templateUrl)?s.templateUrl(b,c):s.templateUrl;
b.empty();n.get(t.getTrustedResourceUrl(J),{cache:q}).success(function(q){var n,t;q=W(q);if(s.replace){q=Ib.test(q)?A($(q)):[];n=q[0];if(1!=q.length||1!==n.nodeType)throw ja("tplrt",s.name,J);q={$attr:{}};ra(d,b,n);var B=ca(n,[],q);T(s.scope)&&D(B);a=B.concat(a);v(c,q)}else n=w,b.html(q);a.unshift(y);l=I(a,n,c,e,b,s,f,g,k);r(d,function(a,c){a==n&&(d[c]=b[0])});for(m=O(b[0].childNodes,e);p.length;){q=p.shift();t=p.shift();var K=p.shift(),C=p.shift(),B=b[0];if(t!==w){var P=t.className;k.hasElementTranscludeDirective&&
s.replace||(B=Kb(n));ra(K,A(t),B);ba(A(B),P)}t=l.transcludeOnThisElement?M(q,l.transclude,C):C;l(m,q,B,d,t)}p=null}).error(function(a,b,c,d){throw ja("tpload",d.url);});return function(a,b,c,d,e){a=e;p?(p.push(b),p.push(c),p.push(d),p.push(a)):(l.transcludeOnThisElement&&(a=M(b,l.transclude,e)),l(m,b,c,d,a))}}function F(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function fb(a,b,c,d){if(b)throw ja("multidir",b.name,c.name,a,ia(d));}function x(a,
c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent().length;b&&ba(a.parent(),"ng-binding");return function(a,c){var e=c.parent(),f=e.data("$binding")||[];f.push(d);e.data("$binding",f);b||ba(e,"ng-binding");a.$watch(d,function(a){c[0].nodeValue=a})}}})}function z(a,b){if("srcdoc"==b)return t.HTML;var c=Pa(a);if("xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b))return t.RESOURCE_URL}function S(a,c,d,e){var f=b(d,!0);if(f){if("multiple"===e&&"SELECT"===
Pa(a))throw ja("selmulti",ia(a));c.push({priority:100,compile:function(){return{pre:function(c,d,k){d=k.$$observers||(k.$$observers={});if(g.test(e))throw ja("nodomevents");if(f=b(k[e],!0,z(a,e)))k[e]=f(c),(d[e]||(d[e]=[])).$$inter=!0,(k.$$observers&&k.$$observers[e].$$scope||c).$watch(f,function(a,b){"class"===e&&a!=b?k.$updateClass(a,b):k.$set(e,a)})}}}})}}function ra(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,k;if(a)for(g=0,k=a.length;g<k;g++)if(a[g]==d){a[g++]=c;k=g+e-1;for(var p=a.length;g<
p;g++,k++)k<p?a[g]=a[k]:delete a[g];a.length-=e-1;break}f&&f.replaceChild(c,d);a=X.createDocumentFragment();a.appendChild(d);c[A.expando]=d[A.expando];d=1;for(e=b.length;d<e;d++)f=b[d],A(f).remove(),a.appendChild(f),delete b[d];b[0]=c;b.length=1}function rc(a,b){return E(function(){return a.apply(null,arguments)},a,b)}var Ob=function(a,b){this.$$element=a;this.$attr=b||{}};Ob.prototype={$normalize:qa,$addClass:function(a){a&&0<a.length&&y.addClass(this.$$element,a)},$removeClass:function(a){a&&0<
a.length&&y.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=sc(a,b),d=sc(b,a);0===c.length?y.removeClass(this.$$element,d):0===d.length?y.addClass(this.$$element,c):y.setClass(this.$$element,c,d)},$set:function(a,b,c,d){var e=oc(this.$$element[0],a);e&&(this.$$element.prop(a,b),d=e);this[a]=b;d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=nb(a,"-"));e=Pa(this.$$element);if("A"===e&&"href"===a||"IMG"===e&&"src"===a)this[a]=b=K(b,"src"===a);!1!==c&&(null===b||b===u?this.$$element.removeAttr(d):
this.$$element.attr(d,b));(c=this.$$observers)&&r(c[a],function(a){try{a(b)}catch(c){l(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);e.push(b);J.$evalAsync(function(){e.$$inter||b(c[a])});return b}};var sa=b.startSymbol(),Ia=b.endSymbol(),W="{{"==sa||"}}"==Ia?ga:function(a){return a.replace(/\{\{/g,sa).replace(/}}/g,Ia)},U=/^ngAttr[A-Z]/;return B}]}function qa(b){return ab(b.replace(we,""))}function sc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),
f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Od(){var b={},a=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,d){Ea(a,"controller");T(a)?E(b,a):b[a]=d};this.$get=["$injector","$window",function(c,d){return function(e,f){var g,h,k;G(e)&&(g=e.match(a),h=g[1],k=g[3],e=b.hasOwnProperty(h)?b[h]:fc(f.$scope,h,!0)||fc(d,h,!0),Ya(e,h,!0));g=c.instantiate(e,f);if(k){if(!f||"object"!==typeof f.$scope)throw z("$controller")("noscp",
h||e.name,k);f.$scope[k]=g}return g}}]}function Pd(){this.$get=["$window",function(b){return A(b.document)}]}function Qd(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function tc(b){var a={},c,d,e;if(!b)return a;r(b.split("\n"),function(b){e=b.indexOf(":");c=x($(b.substr(0,e)));d=$(b.substr(e+1));c&&(a[c]=a[c]?a[c]+", "+d:d)});return a}function uc(b){var a=T(b)?b:u;return function(c){a||(a=tc(b));return c?a[x(c)]||null:a}}function vc(b,a,c){if(N(c))return c(b,
a);r(c,function(c){b=c(b,a)});return b}function Td(){var b=/^\s*(\[|\{[^\{])/,a=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},e=this.defaults={transformResponse:[function(d){G(d)&&(d=d.replace(c,""),b.test(d)&&a.test(d)&&(d=ac(d)));return d}],transformRequest:[function(a){return T(a)&&"[object File]"!==Ba.call(a)&&"[object Blob]"!==Ba.call(a)?oa(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ha(d),put:ha(d),patch:ha(d)},xsrfCookieName:"XSRF-TOKEN",
xsrfHeaderName:"X-XSRF-TOKEN"},f=this.interceptors=[],g=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,c,d,n,q){function p(a){function b(a){var d=E({},a,{data:vc(a.data,a.headers,c.transformResponse)});return 200<=a.status&&300>a.status?d:n.reject(d)}var c={method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},d=function(a){var b=e.headers,c=E({},a.headers),d,f,b=E({},b.common,b[x(a.method)]);
a:for(d in b){a=x(d);for(f in c)if(x(f)===a)continue a;c[d]=b[d]}(function(a){var b;r(a,function(c,d){N(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})})(c);return c}(a);E(c,a);c.headers=d;c.method=La(c.method);var f=[function(a){d=a.headers;var c=vc(a.data,uc(d),a.transformRequest);F(c)&&r(d,function(a,b){"content-type"===x(b)&&delete d[b]});F(a.withCredentials)&&!F(e.withCredentials)&&(a.withCredentials=e.withCredentials);return s(a,c,d).then(b,b)},u],g=n.when(c);for(r(t,function(a){(a.request||a.requestError)&&
f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var h=f.shift(),g=g.then(a,h)}g.success=function(a){g.then(function(b){a(b.data,b.status,b.headers,c)});return g};g.error=function(a){g.then(null,function(b){a(b.data,b.status,b.headers,c)});return g};return g}function s(c,f,g){function m(a,b,c,e){C&&(200<=a&&300>a?C.put(A,[a,b,tc(c),e]):C.remove(A));q(b,a,c,e);d.$$phase||d.$apply()}function q(a,b,d,e){b=Math.max(b,0);(200<=
b&&300>b?t.resolve:t.reject)({data:a,status:b,headers:uc(d),config:c,statusText:e})}function s(){var a=Ta(p.pendingRequests,c);-1!==a&&p.pendingRequests.splice(a,1)}var t=n.defer(),r=t.promise,C,I,A=J(c.url,c.params);p.pendingRequests.push(c);r.then(s,s);!c.cache&&!e.cache||(!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method)||(C=T(c.cache)?c.cache:T(e.cache)?e.cache:w);if(C)if(I=C.get(A),D(I)){if(I&&N(I.then))return I.then(s,s),I;L(I)?q(I[1],I[0],ha(I[2]),I[3]):q(I,200,{},"OK")}else C.put(A,r);F(I)&&
((I=Pb(c.url)?b.cookies()[c.xsrfCookieName||e.xsrfCookieName]:u)&&(g[c.xsrfHeaderName||e.xsrfHeaderName]=I),a(c.method,A,f,m,g,c.timeout,c.withCredentials,c.responseType));return r}function J(a,b){if(!b)return a;var c=[];Sc(b,function(a,b){null===a||F(a)||(L(a)||(a=[a]),r(a,function(a){T(a)&&(a=va(a)?a.toISOString():oa(a));c.push(Da(b)+"="+Da(a))}))});0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));return a}var w=c("$http"),t=[];r(f,function(a){t.unshift(G(a)?q.get(a):q.invoke(a))});r(g,
function(a,b){var c=G(a)?q.get(a):q.invoke(a);t.splice(b,0,{response:function(a){return c(n.when(a))},responseError:function(a){return c(n.reject(a))}})});p.pendingRequests=[];(function(a){r(arguments,function(a){p[a]=function(b,c){return p(E(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,function(a){p[a]=function(b,c,d){return p(E(d||{},{method:a,url:b,data:c}))}})})("post","put","patch");p.defaults=e;return p}]}function xe(b){if(8>=R&&(!b.match(/^(get|post|head|put|delete|options)$/i)||
!W.XMLHttpRequest))return new W.ActiveXObject("Microsoft.XMLHTTP");if(W.XMLHttpRequest)return new W.XMLHttpRequest;throw z("$httpBackend")("noxhr");}function Ud(){this.$get=["$browser","$window","$document",function(b,a,c){return ye(b,xe,b.defer,a.angular.callbacks,c[0])}]}function ye(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),g=null;f.type="text/javascript";f.src=a;f.async=!0;g=function(a){bb(f,"load",g);bb(f,"error",g);e.body.removeChild(f);f=null;var h=-1,s="unknown";a&&("load"!==
a.type||d[b].called||(a={type:"error"}),s=a.type,h="error"===a.type?404:200);c&&c(h,s)};sb(f,"load",g);sb(f,"error",g);8>=R&&(f.onreadystatechange=function(){G(f.readyState)&&/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=null,g({type:"load"}))});e.body.appendChild(f);return g}var g=-1;return function(e,k,m,l,n,q,p,s){function J(){t=g;K&&K();B&&B.abort()}function w(a,d,e,f,g){O&&c.cancel(O);K=B=null;0===d&&(d=e?200:"file"==xa(k).protocol?404:0);a(1223===d?204:d,e,f,g||"");b.$$completeOutstandingRequest(v)}
var t;b.$$incOutstandingRequestCount();k=k||b.url();if("jsonp"==x(e)){var y="_"+(d.counter++).toString(36);d[y]=function(a){d[y].data=a;d[y].called=!0};var K=f(k.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(a,b){w(l,a,d[y].data,"",b);d[y]=v})}else{var B=a(e);B.open(e,k,!0);r(n,function(a,b){D(a)&&B.setRequestHeader(b,a)});B.onreadystatechange=function(){if(B&&4==B.readyState){var a=null,b=null,c="";t!==g&&(a=B.getAllResponseHeaders(),b="response"in B?B.response:B.responseText);t===g&&
10>R||(c=B.statusText);w(l,t||B.status,b,a,c)}};p&&(B.withCredentials=!0);if(s)try{B.responseType=s}catch(ba){if("json"!==s)throw ba;}B.send(m||null)}if(0<q)var O=c(J,q);else q&&N(q.then)&&q.then(J)}}function Rd(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,m,l){for(var n,q,p=0,s=[],J=f.length,w=!1,t=[];p<J;)-1!=(n=f.indexOf(b,p))&&-1!=(q=f.indexOf(a,
n+g))?(p!=n&&s.push(f.substring(p,n)),s.push(p=c(w=f.substring(n+g,q))),p.exp=w,p=q+h,w=!0):(p!=J&&s.push(f.substring(p)),p=J);(J=s.length)||(s.push(""),J=1);if(l&&1<s.length)throw wc("noconcat",f);if(!m||w)return t.length=J,p=function(a){try{for(var b=0,c=J,g;b<c;b++){if("function"==typeof(g=s[b]))if(g=g(a),g=l?e.getTrusted(l,g):e.valueOf(g),null==g)g="";else switch(typeof g){case "string":break;case "number":g=""+g;break;default:g=oa(g)}t[b]=g}return t.join("")}catch(h){a=wc("interr",f,h.toString()),
d(a)}},p.exp=f,p.parts=s,p}var g=b.length,h=a.length;f.startSymbol=function(){return b};f.endSymbol=function(){return a};return f}]}function Sd(){this.$get=["$rootScope","$window","$q",function(b,a,c){function d(d,g,h,k){var m=a.setInterval,l=a.clearInterval,n=c.defer(),q=n.promise,p=0,s=D(k)&&!k;h=D(h)?h:0;q.then(null,null,d);q.$$intervalId=m(function(){n.notify(p++);0<h&&p>=h&&(n.resolve(p),l(q.$$intervalId),delete e[q.$$intervalId]);s||b.$apply()},g);e[q.$$intervalId]=n;return q}var e={};d.cancel=
function(b){return b&&b.$$intervalId in e?(e[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),delete e[b.$$intervalId],!0):!1};return d}]}function ad(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),
SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return 1===b?"one":"other"}}}}function Qb(b){b=b.split("/");for(var a=b.length;a--;)b[a]=
mb(b[a]);return b.join("/")}function xc(b,a,c){b=xa(b,c);a.$$protocol=b.protocol;a.$$host=b.hostname;a.$$port=U(b.port)||ze[b.protocol]||null}function yc(b,a,c){var d="/"!==b.charAt(0);d&&(b="/"+b);b=xa(b,c);a.$$path=decodeURIComponent(d&&"/"===b.pathname.charAt(0)?b.pathname.substring(1):b.pathname);a.$$search=cc(b.search);a.$$hash=decodeURIComponent(b.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ta(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=
b.indexOf("#");return-1==a?b:b.substr(0,a)}function Rb(b){return b.substr(0,Ga(b).lastIndexOf("/")+1)}function zc(b,a){this.$$html5=!0;a=a||"";var c=Rb(b);xc(b,this,b);this.$$parse=function(a){var e=ta(c,a);if(!G(e))throw Sb("ipthprfx",a,c);yc(e,this,b);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Cb(this.$$search),b=this.$$hash?"#"+mb(this.$$hash):"";this.$$url=Qb(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=function(d,
e){var f,g;(f=ta(b,d))!==u?(g=f,g=(f=ta(a,f))!==u?c+(ta("/",f)||f):b+g):(f=ta(c,d))!==u?g=c+f:c==d+"/"&&(g=c);g&&this.$$parse(g);return!!g}}function Tb(b,a){var c=Rb(b);xc(b,this,b);this.$$parse=function(d){var e=ta(b,d)||ta(c,d),e="#"==e.charAt(0)?ta(a,e):this.$$html5?e:"";if(!G(e))throw Sb("ihshprfx",d,a);yc(e,this,b);d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,""));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};this.$$compose=function(){var c=Cb(this.$$search),
e=this.$$hash?"#"+mb(this.$$hash):"";this.$$url=Qb(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:"")};this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)?(this.$$parse(a),!0):!1}}function Ac(b,a){this.$$html5=!0;Tb.apply(this,arguments);var c=Rb(b);this.$$parseLinkUrl=function(d,e){var f,g;b==Ga(d)?f=d:(g=ta(c,d))?f=b+a+g:c===d+"/"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=function(){var c=Cb(this.$$search),e=this.$$hash?"#"+mb(this.$$hash):"";this.$$url=Qb(this.$$path)+
(c?"?"+c:"")+e;this.$$absUrl=b+a+this.$$url}}function tb(b){return function(){return this[b]}}function Bc(b,a){return function(c){if(F(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Vd(){var b="",a=!1;this.hashPrefix=function(a){return D(a)?(b=a,this):b};this.html5Mode=function(b){return D(b)?(a=b,this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,d,e,f){function g(a){c.$broadcast("$locationChangeSuccess",h.absUrl(),a)}var h,k=d.baseHref(),m=d.url();
a?(k=m.substring(0,m.indexOf("/",m.indexOf("//")+2))+(k||"/"),e=e.history?zc:Ac):(k=Ga(m),e=Tb);h=new e(k,"#"+b);h.$$parseLinkUrl(m,m);var l=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(!a.ctrlKey&&!a.metaKey&&2!=a.which){for(var b=A(a.target);"a"!==x(b[0].nodeName);)if(b[0]===f[0]||!(b=b.parent())[0])return;var e=b.prop("href"),g=b.attr("href")||b.attr("xlink:href");T(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=xa(e.animVal).href);l.test(e)||(!e||(b.attr("target")||a.isDefaultPrevented())||
!h.$$parseLinkUrl(e,g))||(a.preventDefault(),h.absUrl()!=d.url()&&(c.$apply(),W.angular["ff-684208-preventDefault"]=!0))}});h.absUrl()!=m&&d.url(h.absUrl(),!0);d.onUrlChange(function(a){h.absUrl()!=a&&(c.$evalAsync(function(){var b=h.absUrl();h.$$parse(a);c.$broadcast("$locationChangeStart",a,b).defaultPrevented?(h.$$parse(b),d.url(b)):g(b)}),c.$$phase||c.$digest())});var n=0;c.$watch(function(){var a=d.url(),b=h.$$replace;n&&a==h.absUrl()||(n++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",
h.absUrl(),a).defaultPrevented?h.$$parse(a):(d.url(h.absUrl(),b),g(a))}));h.$$replace=!1;return n});return h}]}function Wd(){var b=!0,a=this;this.debugEnabled=function(a){return D(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||v;a=!1;try{a=!!e.apply}catch(k){}return a?
function(){var a=[];r(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function ka(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw la("isecfld",a);return b}function ma(b,a){if(b){if(b.constructor===b)throw la("isecfn",a);if(b.document&&
b.location&&b.alert&&b.setInterval)throw la("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw la("isecdom",a);if(b===Object)throw la("isecobj",a);}return b}function ub(b,a,c,d,e){ma(b,d);e=e||{};a=a.split(".");for(var f,g=0;1<a.length;g++){f=ka(a.shift(),d);var h=ma(b[f],d);h||(h={},b[f]=h);b=h;b.then&&e.unwrapPromises&&(ya(d),"$$v"in b||function(a){a.then(function(b){a.$$v=b})}(b),b.$$v===u&&(b.$$v={}),b=b.$$v)}f=ka(a.shift(),d);ma(b[f],d);return b[f]=c}function Qa(b){return"constructor"==
b}function Cc(b,a,c,d,e,f,g){ka(b,f);ka(a,f);ka(c,f);ka(d,f);ka(e,f);var h=function(a){return ma(a,f)},k=g.expensiveChecks,m=k||Qa(b)?h:ga,l=k||Qa(a)?h:ga,n=k||Qa(c)?h:ga,q=k||Qa(d)?h:ga,p=k||Qa(e)?h:ga;return g.unwrapPromises?function(g,h){var k=h&&h.hasOwnProperty(b)?h:g,t;if(null==k)return k;(k=m(k[b]))&&k.then&&(ya(f),"$$v"in k||(t=k,t.$$v=u,t.then(function(a){t.$$v=m(a)})),k=m(k.$$v));if(!a)return k;if(null==k)return u;(k=l(k[a]))&&k.then&&(ya(f),"$$v"in k||(t=k,t.$$v=u,t.then(function(a){t.$$v=
l(a)})),k=l(k.$$v));if(!c)return k;if(null==k)return u;(k=n(k[c]))&&k.then&&(ya(f),"$$v"in k||(t=k,t.$$v=u,t.then(function(a){t.$$v=n(a)})),k=n(k.$$v));if(!d)return k;if(null==k)return u;(k=q(k[d]))&&k.then&&(ya(f),"$$v"in k||(t=k,t.$$v=u,t.then(function(a){t.$$v=q(a)})),k=q(k.$$v));if(!e)return k;if(null==k)return u;(k=p(k[e]))&&k.then&&(ya(f),"$$v"in k||(t=k,t.$$v=u,t.then(function(a){t.$$v=p(a)})),k=p(k.$$v));return k}:function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;if(null==h)return h;h=m(h[b]);
if(!a)return h;if(null==h)return u;h=l(h[a]);if(!c)return h;if(null==h)return u;h=n(h[c]);if(!d)return h;if(null==h)return u;h=q(h[d]);return e?null==h?u:h=p(h[e]):h}}function Ae(b,a){return function(c,d){return b(c,d,ya,ma,a)}}function Dc(b,a,c){var d=a.expensiveChecks,e=d?Be:Ce;if(e.hasOwnProperty(b))return e[b];var f=b.split("."),g=f.length,h;if(a.csp)h=6>g?Cc(f[0],f[1],f[2],f[3],f[4],c,a):function(b,d){var e=0,h;do h=Cc(f[e++],f[e++],f[e++],f[e++],f[e++],c,a)(b,d),d=u,b=h;while(e<g);return h};
else{var k="var p;\n";d&&(k+="s = eso(s, fe);\nl = eso(l, fe);\n");var m=d;r(f,function(b,e){ka(b,c);var f=(e?"s":'((l&&l.hasOwnProperty("'+b+'"))?l:s)')+'["'+b+'"]',g=d||Qa(b);g&&(f="eso("+f+", fe)",m=!0);k+="if(s == null) return undefined;\ns="+f+";\n";a.unwrapPromises&&(k+='if (s && s.then) {\n pw("'+c.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v='+(g?"eso(v)":"v")+";});\n}\n s="+(g?"eso(s.$$v)":"s.$$v")+"\n}\n")});k+="return s;";
h=new Function("s","l","pw","eso","fe",k);h.toString=aa(k);if(m||a.unwrapPromises)h=Ae(h,c)}"hasOwnProperty"!==b&&(e[b]=h);return h}function Xd(){var b={},a={},c={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0,expensiveChecks:!1};this.unwrapPromises=function(a){return D(a)?(c.unwrapPromises=!!a,this):c.unwrapPromises};this.logPromiseWarnings=function(a){return D(a)?(c.logPromiseWarnings=a,this):c.logPromiseWarnings};this.$get=["$filter","$sniffer","$log",function(d,e,f){c.csp=e.csp;var g={csp:c.csp,
unwrapPromises:c.unwrapPromises,logPromiseWarnings:c.logPromiseWarnings,expensiveChecks:!0};ya=function(a){c.logPromiseWarnings&&!Ec.hasOwnProperty(a)&&(Ec[a]=!0,f.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))};return function(e,f){var m;switch(typeof e){case "string":var l=f?a:b;if(l.hasOwnProperty(e))return l[e];m=f?g:c;var n=new Ub(m);m=(new gb(n,d,m)).parse(e);"hasOwnProperty"!==e&&(l[e]=m);return m;case "function":return e;
default:return v}}}]}function Zd(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return De(function(a){b.$evalAsync(a)},a)}]}function De(b,a){function c(a){return a}function d(a){return g(a)}var e=function(){var g=[],m,l;return l={resolve:function(a){if(g){var c=g;g=u;m=f(a);c.length&&b(function(){for(var a,b=0,d=c.length;b<d;b++)a=c[b],m.then(a[0],a[1],a[2])})}},reject:function(a){l.resolve(h(a))},notify:function(a){if(g){var c=g;g.length&&b(function(){for(var b,d=0,e=c.length;d<e;d++)b=
c[d],b[2](a)})}},promise:{then:function(b,f,h){var l=e(),J=function(d){try{l.resolve((N(b)?b:c)(d))}catch(e){l.reject(e),a(e)}},w=function(b){try{l.resolve((N(f)?f:d)(b))}catch(c){l.reject(c),a(c)}},t=function(b){try{l.notify((N(h)?h:c)(b))}catch(d){a(d)}};g?g.push([J,w,t]):m.then(J,w,t);return l.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,c){var d=e();c?d.resolve(a):d.reject(a);return d.promise}function d(e,f){var g=null;try{g=(a||c)()}catch(h){return b(h,
!1)}return g&&N(g.then)?g.then(function(){return b(e,f)},function(a){return b(a,!1)}):b(e,f)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},f=function(a){return a&&N(a.then)?a:{then:function(c){var d=e();b(function(){d.resolve(c(a))});return d.promise}}},g=function(a){var b=e();b.reject(a);return b.promise},h=function(c){return{then:function(f,g){var h=e();b(function(){try{h.resolve((N(g)?g:d)(c))}catch(b){h.reject(b),a(b)}});return h.promise}}};return{defer:e,reject:g,
when:function(h,m,l,n){var q=e(),p,s=function(b){try{return(N(m)?m:c)(b)}catch(d){return a(d),g(d)}},J=function(b){try{return(N(l)?l:d)(b)}catch(c){return a(c),g(c)}},w=function(b){try{return(N(n)?n:c)(b)}catch(d){a(d)}};b(function(){f(h).then(function(a){p||(p=!0,q.resolve(f(a).then(s,J,w)))},function(a){p||(p=!0,q.resolve(J(a)))},function(a){p||q.notify(w(a))})});return q.promise},all:function(a){var b=e(),c=0,d=L(a)?[]:{};r(a,function(a,e){c++;f(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,
--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise}}}function fe(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};f.supported=
e;return f}]}function Yd(){var b=10,a=z("$rootScope"),c=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,e,f,g){function h(){this.$id=ib();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;this.$$destroyed=!1;this.$$asyncQueue=[];this.$$postDigestQueue=[];this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=
{}}function k(b){if(q.$$phase)throw a("inprog",q.$$phase);q.$$phase=b}function m(a,b){var c=f(a);Ya(c,b);return c}function l(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function n(){}h.prototype={constructor:h,$new:function(a){a?(a=new h,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=
this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$id=ib();this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),a=new this.$$childScopeClass);a["this"]=a;a.$parent=this;a.$$prevSibling=this.$$childTail;this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a;return a},$watch:function(a,b,d){var e=m(a,"watch"),f=this.$$watchers,g={fn:b,last:n,get:e,exp:a,eq:!!d};c=null;if(!N(b)){var h=m(b||v,"listener");g.fn=function(a,
b,c){h(c)}}if("string"==typeof a&&e.constant){var k=g.fn;g.fn=function(a,b,c){k.call(this,a,b,c);Ua(f,g)}}f||(f=this.$$watchers=[]);f.unshift(g);return function(){Ua(f,g);c=null}},$watchCollection:function(a,b){var c=this,d,e,g,h=1<b.length,k=0,l=f(a),m=[],n={},q=!0,r=0;return this.$watch(function(){d=l(c);var a,b,f;if(T(d))if(Sa(d))for(e!==m&&(e=m,r=e.length=0,k++),a=d.length,r!==a&&(k++,e.length=r=a),b=0;b<a;b++)f=e[b]!==e[b]&&d[b]!==d[b],f||e[b]===d[b]||(k++,e[b]=d[b]);else{e!==n&&(e=n={},r=0,
k++);a=0;for(b in d)d.hasOwnProperty(b)&&(a++,e.hasOwnProperty(b)?(f=e[b]!==e[b]&&d[b]!==d[b],f||e[b]===d[b]||(k++,e[b]=d[b])):(r++,e[b]=d[b],k++));if(r>a)for(b in k++,e)e.hasOwnProperty(b)&&!d.hasOwnProperty(b)&&(r--,delete e[b])}else e!==d&&(e=d,k++);return k},function(){q?(q=!1,b(d,d,c)):b(d,g,c);if(h)if(T(d))if(Sa(d)){g=Array(d.length);for(var a=0;a<d.length;a++)g[a]=d[a]}else for(a in g={},d)lb.call(d,a)&&(g[a]=d[a]);else g=d})},$digest:function(){var d,f,h,l,m=this.$$asyncQueue,r=this.$$postDigestQueue,
K,B,u=b,O,M=[],A,P,C;k("$digest");g.$$checkUrlChange();c=null;do{B=!1;for(O=this;m.length;){try{C=m.shift(),C.scope.$eval(C.expression)}catch(I){q.$$phase=null,e(I)}c=null}a:do{if(l=O.$$watchers)for(K=l.length;K--;)try{if(d=l[K])if((f=d.get(O))!==(h=d.last)&&!(d.eq?Ca(f,h):"number"===typeof f&&"number"===typeof h&&isNaN(f)&&isNaN(h)))B=!0,c=d,d.last=d.eq?Ka(f,null):f,d.fn(f,h===n?f:h,O),5>u&&(A=4-u,M[A]||(M[A]=[]),P=N(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,P+="; newVal: "+oa(f)+"; oldVal: "+
oa(h),M[A].push(P));else if(d===c){B=!1;break a}}catch(D){q.$$phase=null,e(D)}if(!(l=O.$$childHead||O!==this&&O.$$nextSibling))for(;O!==this&&!(l=O.$$nextSibling);)O=O.$parent}while(O=l);if((B||m.length)&&!u--)throw q.$$phase=null,a("infdig",b,oa(M));}while(B||m.length);for(q.$$phase=null;r.length;)try{r.shift()()}catch(x){e(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this!==q&&(r(this.$$listenerCount,Bb(null,l,this)),a.$$childHead==
this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=v,this.$on=this.$watch=function(){return v})}},
$eval:function(a,b){return f(a)(this,b)},$evalAsync:function(a){q.$$phase||q.$$asyncQueue.length||g.defer(function(){q.$$asyncQueue.length&&q.$digest()});this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return k("$apply"),this.$eval(a)}catch(b){e(b)}finally{q.$$phase=null;try{q.$digest()}catch(c){throw e(c),c;}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||
(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=Ta(c,b);-1!==d&&(c[d]=null,l(e,1,a))}},$emit:function(a,b){var c=[],d,f=this,g=!1,h={name:a,targetScope:f,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=[h].concat(wa.call(arguments,1)),l,m;do{d=f.$$listeners[a]||c;h.currentScope=f;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){e(n)}else d.splice(l,1),l--,m--;if(g)break;
f=f.$parent}while(f);return h},$broadcast:function(a,b){for(var c=this,d=this,f={name:a,targetScope:this,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1},g=[f].concat(wa.call(arguments,1)),h,k;c=d;){f.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){e(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return f}};var q=new h;
return q}]}function bd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return D(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return D(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;if(!R||8<=R)if(f=xa(c).href,""!==f&&!f.match(e))return"unsafe:"+f;return c}}}function Ee(b){if("self"===b)return b;if(G(b)){if(-1<b.indexOf("***"))throw za("iwcard",b);b=b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,
"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return RegExp("^"+b+"$")}if(kb(b))return RegExp("^"+b.source+"$");throw za("imatcher");}function Fc(b){var a=[];D(b)&&r(b,function(b){a.push(Ee(b))});return a}function ae(){this.SCE_CONTEXTS=fa;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=Fc(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&(a=Fc(b));return a};this.$get=["$injector",function(c){function d(a){var b=
function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var e=function(a){throw za("unsafe");};c.has("$sanitize")&&(e=c.get("$sanitize"));var f=d(),g={};g[fa.HTML]=d(f);g[fa.CSS]=d(f);g[fa.URL]=d(f);g[fa.JS]=d(f);g[fa.RESOURCE_URL]=d(g[fa.URL]);return{trustAs:function(a,b){var c=g.hasOwnProperty(a)?g[a]:null;if(!c)throw za("icontext",
a,b);if(null===b||b===u||""===b)return b;if("string"!==typeof b)throw za("itype",a);return new c(b)},getTrusted:function(c,d){if(null===d||d===u||""===d)return d;var f=g.hasOwnProperty(c)?g[c]:null;if(f&&d instanceof f)return d.$$unwrapTrustedValue();if(c===fa.RESOURCE_URL){var f=xa(d.toString()),l,n,q=!1;l=0;for(n=b.length;l<n;l++)if("self"===b[l]?Pb(f):b[l].exec(f.href)){q=!0;break}if(q)for(l=0,n=a.length;l<n;l++)if("self"===a[l]?Pb(f):a[l].exec(f.href)){q=!1;break}if(q)return d;throw za("insecurl",
d.toString());}if(c===fa.HTML)return e(d);throw za("unsafe");},valueOf:function(a){return a instanceof f?a.$$unwrapTrustedValue():a}}}]}function $d(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=["$parse","$sniffer","$sceDelegate",function(a,c,d){if(b&&c.msie&&8>c.msieDocumentMode)throw za("iequirks");var e=ha(fa);e.isEnabled=function(){return b};e.trustAs=d.trustAs;e.getTrusted=d.getTrusted;e.valueOf=d.valueOf;b||(e.trustAs=e.getTrusted=function(a,b){return b},
e.valueOf=ga);e.parseAs=function(b,c){var d=a(c);return d.literal&&d.constant?d:function(a,c){return e.getTrusted(b,d(a,c))}};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;r(fa,function(a,b){var c=x(b);e[ab("parse_as_"+c)]=function(b){return f(a,b)};e[ab("get_trusted_"+c)]=function(b){return g(a,b)};e[ab("trust_as_"+c)]=function(b){return h(a,b)}});return e}]}function be(){this.$get=["$window","$document",function(b,a){var c={},d=U((/android (\d+)/.exec(x((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||
{}).userAgent),f=a[0]||{},g=f.documentMode,h,k=/^(Moz|webkit|O|ms)(?=[A-Z])/,m=f.body&&f.body.style,l=!1,n=!1;if(m){for(var q in m)if(l=k.exec(q)){h=l[0];h=h.substr(0,1).toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in m&&"webkit");l=!!("transition"in m||h+"Transition"in m);n=!!("animation"in m||h+"Animation"in m);!d||l&&n||(l=G(f.body.style.webkitTransition),n=G(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hashchange:"onhashchange"in b&&(!g||7<
g),hasEvent:function(a){if("input"==a&&9==R)return!1;if(F(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:Za(),vendorPrefix:h,transitions:l,animations:n,android:d,msie:R,msieDocumentMode:g}}]}function de(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(b,a,c,d){function e(e,h,k){var m=c.defer(),l=m.promise,n=D(k)&&!k;h=a.defer(function(){try{m.resolve(e())}catch(a){m.reject(a),d(a)}finally{delete f[l.$$timeoutId]}n||b.$apply()},h);l.$$timeoutId=h;f[h]=m;
return l}var f={};e.cancel=function(b){return b&&b.$$timeoutId in f?(f[b.$$timeoutId].reject("canceled"),delete f[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return e}]}function xa(b,a){var c=b;R&&(Y.setAttribute("href",c),c=Y.href);Y.setAttribute("href",c);return{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:"/"===Y.pathname.charAt(0)?Y.pathname:
"/"+Y.pathname}}function Pb(b){b=G(b)?xa(b):b;return b.protocol===Gc.protocol&&b.host===Gc.host}function ee(){this.$get=aa(W)}function kc(b){function a(d,e){if(T(d)){var f={};r(d,function(b,c){f[c]=a(c,b)});return f}return b.factory(d+c,e)}var c="Filter";this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}];a("currency",Hc);a("date",Ic);a("filter",Fe);a("json",Ge);a("limitTo",He);a("lowercase",Ie);a("number",Jc);a("orderBy",Kc);a("uppercase",Je)}function Fe(){return function(b,
a,c){if(!L(b))return b;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0};"function"!==d&&(c="boolean"===d&&c?function(a,b){return Xa.equals(a,b)}:function(a,b){if(a&&b&&"object"===typeof a&&"object"===typeof b){for(var d in a)if("$"!==d.charAt(0)&&lb.call(a,d)&&c(a[d],b[d]))return!0;return!1}b=(""+b).toLowerCase();return-1<(""+a).toLowerCase().indexOf(b)});var f=function(a,b){if("string"===typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case "boolean":case "number":case "string":return c(a,
b);case "object":switch(typeof b){case "object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case "array":for(d=0;d<a.length;d++)if(f(a[d],b))return!0;return!1;default:return!1}};switch(typeof a){case "boolean":case "number":case "string":a={$:a};case "object":for(var g in a)(function(b){"undefined"!==typeof a[b]&&e.push(function(c){return f("$"==b?c:c&&c[b],a[b])})})(g);break;case "function":e.push(a);break;default:return b}d=[];for(g=0;g<b.length;g++){var h=
b[g];e.check(h)&&d.push(h)}return d}}function Hc(b){var a=b.NUMBER_FORMATS;return function(b,d){F(d)&&(d=a.CURRENCY_SYM);return Lc(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,2).replace(/\u00A4/g,d)}}function Jc(b){var a=b.NUMBER_FORMATS;return function(b,d){return Lc(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function Lc(b,a,c,d,e){if(null==b||!isFinite(b)||T(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",k=[],m=!1;if(-1!==g.indexOf("e")){var l=g.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&
l[3]>e+1?(g="0",b=0):(h=g,m=!0)}if(m)0<e&&(-1<b&&1>b)&&(h=b.toFixed(e));else{g=(g.split(Mc)[1]||"").length;F(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);0===b&&(f=!1);b=(""+b).split(Mc);g=b[0];b=b[1]||"";var l=0,n=a.lgSize,q=a.gSize;if(g.length>=n+q)for(l=g.length-n,m=0;m<l;m++)0===(l-m)%q&&0!==m&&(h+=c),h+=g.charAt(m);for(m=l;m<g.length;m++)0===(g.length-m)%n&&0!==m&&(h+=c),h+=g.charAt(m);for(;b.length<e;)b+="0";e&&"0"!==e&&(h+=d+b.substr(0,
e))}k.push(f?a.negPre:a.posPre);k.push(h);k.push(f?a.negSuf:a.posSuf);return k.join("")}function Vb(b,a,c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=b.substr(b.length-a));return d+b}function Z(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Vb(e,a,d)}}function vb(b,a){return function(c,d){var e=c["get"+b](),f=La(a?"SHORT"+b:b);return d[f][e]}}function Ic(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?
a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=U(b[9]+b[10]),g=U(b[9]+b[11]));h.call(a,U(b[1]),U(b[2])-1,U(b[3]));f=U(b[4]||0)-f;g=U(b[5]||0)-g;h=U(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));k.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e){var f="",g=[],h,k;e=e||"mediumDate";e=b.DATETIME_FORMATS[e]||e;G(c)&&(c=Ke.test(c)?U(c):a(c));jb(c)&&(c=new Date(c));
if(!va(c))return c;for(;e;)(k=Le.exec(e))?(g=g.concat(wa.call(k,1)),e=g.pop()):(g.push(e),e=null);r(g,function(a){h=Me[a];f+=h?h(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return f}}function Ge(){return function(b){return oa(b,!0)}}function He(){return function(b,a){if(!L(b)&&!G(b))return b;a=Infinity===Math.abs(Number(a))?Number(a):U(a);if(G(b))return a?0<=a?b.slice(0,a):b.slice(a,b.length):"";var c=[],d,e;a>b.length?a=b.length:a<-b.length&&(a=-b.length);0<a?(d=0,e=a):(d=
b.length+a,e=b.length);for(;d<e;d++)c.push(b[d]);return c}}function Kc(b){return function(a,c,d){function e(a,b){return Wa(b)?function(b,c){return a(c,b)}:a}function f(a,b){var c=typeof a,d=typeof b;return c==d?(va(a)&&va(b)&&(a=a.valueOf(),b=b.valueOf()),"string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Sa(a))return a;c=L(c)?c:[c];0===c.length&&(c=["+"]);c=Uc(c,function(a){var c=!1,d=a||ga;if(G(a)){if("+"==a.charAt(0)||"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);
if(""===a)return e(function(a,b){return f(a,b)},c);d=b(a);if(d.constant){var m=d();return e(function(a,b){return f(a[m],b[m])},c)}}return e(function(a,b){return f(d(a),d(b))},c)});return wa.call(a).sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Aa(b){N(b)&&(b={link:b});b.restrict=b.restrict||"AC";return aa(b)}function Nc(b,a,c,d){function e(a,c){c=c?"-"+nb(c,"-"):"";d.setClass(b,(a?wb:xb)+c,(a?xb:wb)+c)}var f=this,g=b.parent().controller("form")||
yb,h=0,k=f.$error={},m=[];f.$name=a.name||a.ngForm;f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;g.$addControl(f);b.addClass(Ra);e(!0);f.$addControl=function(a){Ea(a.$name,"input");m.push(a);a.$name&&(f[a.$name]=a)};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];r(k,function(b,c){f.$setValidity(c,!0,a)});Ua(m,a)};f.$setValidity=function(a,b,c){var d=k[a];if(b)d&&(Ua(d,c),d.length||(h--,h||(e(b),f.$valid=!0,f.$invalid=!1),k[a]=!1,e(!0,a),g.$setValidity(a,!0,f)));else{h||
e(b);if(d){if(-1!=Ta(d,c))return}else k[a]=d=[],h++,e(!1,a),g.$setValidity(a,!1,f);d.push(c);f.$valid=!1;f.$invalid=!0}};f.$setDirty=function(){d.removeClass(b,Ra);d.addClass(b,zb);f.$dirty=!0;f.$pristine=!1;g.$setDirty()};f.$setPristine=function(){d.removeClass(b,zb);d.addClass(b,Ra);f.$dirty=!1;f.$pristine=!0;r(m,function(a){a.$setPristine()})}}function ua(b,a,c,d){b.$setValidity(a,c);return c?d:u}function Oc(b,a){var c,d;if(a)for(c=0;c<a.length;++c)if(d=a[c],b[d])return!0;return!1}function Ne(b,
a,c,d,e){T(e)&&(b.$$hasNativeValidators=!0,b.$parsers.push(function(f){if(b.$error[a]||Oc(e,d)||!Oc(e,c))return f;b.$setValidity(a,!1)}))}function Ab(b,a,c,d,e,f){var g=a.prop(Oe),h=a[0].placeholder,k={},m=x(a[0].type);d.$$validityState=g;if(!e.android){var l=!1;a.on("compositionstart",function(a){l=!0});a.on("compositionend",function(){l=!1;n()})}var n=function(e){if(!l){var f=a.val();if(R&&"input"===(e||k).type&&a[0].placeholder!==h)h=a[0].placeholder;else if("password"!==m&&Wa(c.ngTrim||"T")&&
(f=$(f)),e=g&&d.$$hasNativeValidators,d.$viewValue!==f||""===f&&e)b.$root.$$phase?d.$setViewValue(f):b.$apply(function(){d.$setViewValue(f)})}};if(e.hasEvent("input"))a.on("input",n);else{var q,p=function(){q||(q=f.defer(function(){n();q=null}))};a.on("keydown",function(a){a=a.keyCode;91===a||(15<a&&19>a||37<=a&&40>=a)||p()});if(e.hasEvent("paste"))a.on("paste cut",p)}a.on("change",n);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)};var s=c.ngPattern;s&&((e=s.match(/^\/(.*)\/([gim]*)$/))?
(s=RegExp(e[1],e[2]),e=function(a){return ua(d,"pattern",d.$isEmpty(a)||s.test(a),a)}):e=function(c){var e=b.$eval(s);if(!e||!e.test)throw z("ngPattern")("noregexp",s,e,ia(a));return ua(d,"pattern",d.$isEmpty(c)||e.test(c),c)},d.$formatters.push(e),d.$parsers.push(e));if(c.ngMinlength){var r=U(c.ngMinlength);e=function(a){return ua(d,"minlength",d.$isEmpty(a)||a.length>=r,a)};d.$parsers.push(e);d.$formatters.push(e)}if(c.ngMaxlength){var w=U(c.ngMaxlength);e=function(a){return ua(d,"maxlength",d.$isEmpty(a)||
a.length<=w,a)};d.$parsers.push(e);d.$formatters.push(e)}}function Wb(b,a){b="ngClass"+b;return["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],l=0;l<b.length;l++)if(e==b[l])continue a;c.push(e)}return c}function e(a){if(!L(a)){if(G(a))return a.split(" ");if(T(a)){var b=[];r(a,function(a,c){a&&(b=b.concat(c.split(" ")))});return b}}return a}return{restrict:"AC",link:function(f,g,h){function k(a,b){var c=g.data("$classCounts")||{},d=[];r(a,function(a){if(0<
b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function m(b){if(!0===a||f.$index%2===a){var m=e(b||[]);if(!l){var p=k(m,1);h.$addClass(p)}else if(!Ca(b,l)){var s=e(l),p=d(m,s),m=d(s,m),m=k(m,-1),p=k(p,1);0===p.length?c.removeClass(g,m):0===m.length?c.addClass(g,p):c.setClass(g,p,m)}}l=ha(b)}var l;f.$watch(h[b],m,!0);h.$observe("class",function(a){m(f.$eval(h[b]))});"ngClass"!==b&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var l=e(f.$eval(h[b]));
g===a?(g=k(l,1),h.$addClass(g)):(g=k(l,-1),h.$removeClass(g))}})}}}]}var Oe="validity",x=function(b){return G(b)?b.toLowerCase():b},lb=Object.prototype.hasOwnProperty,La=function(b){return G(b)?b.toUpperCase():b},R,A,Fa,wa=[].slice,Pe=[].push,Ba=Object.prototype.toString,Va=z("ng"),Xa=W.angular||(W.angular={}),$a,Pa,na=["0","0","0"];R=U((/msie (\d+)/.exec(x(navigator.userAgent))||[])[1]);isNaN(R)&&(R=U((/trident\/.*; rv:(\d+)/.exec(x(navigator.userAgent))||[])[1]));v.$inject=[];ga.$inject=[];var L=
function(){return N(Array.isArray)?Array.isArray:function(b){return"[object Array]"===Ba.call(b)}}(),$=function(){return String.prototype.trim?function(b){return G(b)?b.trim():b}:function(b){return G(b)?b.replace(/^\s\s*/,"").replace(/\s\s*$/,""):b}}();Pa=9>R?function(b){b=b.nodeName?b:b[0];return b.scopeName&&"HTML"!=b.scopeName?La(b.scopeName+":"+b.nodeName):b.nodeName}:function(b){return b.nodeName?b.nodeName:b[0].nodeName};var Za=function(){if(D(Za.isActive_))return Za.isActive_;var b=!(!X.querySelector("[ng-csp]")&&
!X.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return Za.isActive_=b},Xc=/[A-Z]/g,$c={full:"1.2.28",major:1,minor:2,dot:28,codeName:"finnish-disembarkation"};S.expando="ng339";var cb=S.cache={},me=1,sb=W.document.addEventListener?function(b,a,c){b.addEventListener(a,c,!1)}:function(b,a,c){b.attachEvent("on"+a,c)},bb=W.document.removeEventListener?function(b,a,c){b.removeEventListener(a,c,!1)}:function(b,a,c){b.detachEvent("on"+a,c)};S._data=function(b){return this.cache[b[this.expando]]||
{}};var he=/([\:\-\_]+(.))/g,ie=/^moz([A-Z])/,Hb=z("jqLite"),je=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ib=/<|&#?\w+;/,ke=/<([\w:]+)/,le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,da={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=
da.caption=da.thead;da.th=da.td;var Oa=S.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===X.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),S(W).on("load",a))},toString:function(){var b=[];r(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=b?A(this[b]):A(this[this.length+b])},length:0,push:Pe,sort:[].sort,splice:[].splice},rb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){rb[x(b)]=b});
var pc={};r("input select option textarea button form details".split(" "),function(b){pc[La(b)]=!0});r({data:Mb,removeData:Lb},function(b,a){S[a]=b});r({data:Mb,inheritedData:qb,scope:function(b){return A.data(b,"$scope")||qb(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return A.data(b,"$isolateScope")||A.data(b,"$isolateScopeNoTemplate")},controller:mc,injector:function(b){return qb(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Nb,css:function(b,
a,c){a=ab(a);if(D(c))b.style[a]=c;else{var d;8>=R&&(d=b.currentStyle&&b.currentStyle[a],""===d&&(d="auto"));d=d||b.style[a];8>=R&&(d=""===d?u:d);return d}},attr:function(b,a,c){var d=x(a);if(rb[d])if(D(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||v).specified?d:u;else if(D(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?u:b},prop:function(b,a,c){if(D(c))b[a]=c;else return b[a]},text:function(){function b(b,
d){var e=a[b.nodeType];if(F(d))return e?b[e]:"";b[e]=d}var a=[];9>R?(a[1]="innerText",a[3]="nodeValue"):a[1]=a[3]="textContent";b.$dv="";return b}(),val:function(b,a){if(F(a)){if("SELECT"===Pa(b)&&b.multiple){var c=[];r(b.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(F(a))return b.innerHTML;for(var c=0,d=b.childNodes;c<d.length;c++)Ma(d[c]);b.innerHTML=a},empty:nc},function(b,a){S.prototype[a]=function(a,d){var e,
f,g=this.length;if(b!==nc&&(2==b.length&&b!==Nb&&b!==mc?a:d)===u){if(T(a)){for(e=0;e<g;e++)if(b===Mb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===u?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});r({removeData:Lb,dealoc:Ma,on:function a(c,d,e,f){if(D(f))throw Hb("onargs");var g=pa(c,"events"),h=pa(c,"handle");g||pa(c,"events",g={});h||pa(c,"handle",h=ne(c,g));r(d.split(" "),function(d){var f=g[d];if(!f){if("mouseenter"==
d||"mouseleave"==d){var l=X.body.contains||X.body.compareDocumentPosition?function(a,c){var d=9===a.nodeType?a.documentElement:a,e=c&&c.parentNode;return a===e||!!(e&&1===e.nodeType&&(d.contains?d.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&16))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1};g[d]=[];a(c,{mouseleave:"mouseout",mouseenter:"mouseover"}[d],function(a){var c=a.relatedTarget;c&&(c===this||l(this,c))||h(a,d)})}else sb(c,d,h),g[d]=[];f=g[d]}f.push(e)})},
off:lc,one:function(a,c,d){a=A(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;Ma(a);r(new S(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a);d=c})},children:function(a){var c=[];r(a.childNodes,function(a){1===a.nodeType&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){r(new S(c),function(c){1!==a.nodeType&&11!==a.nodeType||a.appendChild(c)})},prepend:function(a,
c){if(1===a.nodeType){var d=a.firstChild;r(new S(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=A(c)[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},remove:function(a){Ma(a);var c=a.parentNode;c&&c.removeChild(a)},after:function(a,c){var d=a,e=a.parentNode;r(new S(c),function(a){e.insertBefore(a,d.nextSibling);d=a})},addClass:pb,removeClass:ob,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;F(f)&&(f=!Nb(a,c));(f?pb:ob)(a,c)})},parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;null!=a&&1!==a.nodeType;)a=a.nextSibling;return a},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Kb,triggerHandler:function(a,c,d){var e,f;e=c.type||c;var g=(pa(a,"events")||{})[e];g&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopPropagation:v,type:e,target:a},
c.type&&(e=E(e,c)),c=ha(g),f=d?[e].concat(d):[e],r(c,function(c){c.apply(a,f)}))}},function(a,c){S.prototype[c]=function(c,e,f){for(var g,h=0;h<this.length;h++)F(g)?(g=a(this[h],c,e,f),D(g)&&(g=A(g))):Jb(g,a(this[h],c,e,f));return D(g)?g:this};S.prototype.bind=S.prototype.on;S.prototype.unbind=S.prototype.off});db.prototype={put:function(a,c){this[Na(a,this.nextUid)]=c},get:function(a){return this[Na(a,this.nextUid)]},remove:function(a){var c=this[a=Na(a,this.nextUid)];delete this[a];return c}};var pe=
/^function\s*[^\(]*\(\s*([^\)]*)\)/m,qe=/,/,re=/^\s*(_?)(\S+?)\1\s*$/,oe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,eb=z("$injector"),Qe=z("$animate"),Ld=["$provide",function(a){this.$$selectors={};this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Qe("notcsel",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=["$timeout","$$asyncCallback",
function(a,d){return{enter:function(a,c,g,h){g?g.after(a):(c&&c[0]||(c=g.parent()),c.append(a));h&&d(h)},leave:function(a,c){a.remove();c&&d(c)},move:function(a,c,d,h){this.enter(a,c,d,h)},addClass:function(a,c,g){c=G(c)?c:L(c)?c.join(" "):"";r(a,function(a){pb(a,c)});g&&d(g)},removeClass:function(a,c,g){c=G(c)?c:L(c)?c.join(" "):"";r(a,function(a){ob(a,c)});g&&d(g)},setClass:function(a,c,g,h){r(a,function(a){pb(a,c);ob(a,g)});h&&d(h)},enabled:v}}]}],ja=z("$compile");gc.$inject=["$provide","$$sanitizeUriProvider"];
var we=/^(x[\:\-_]|data[\:\-_])/i,wc=z("$interpolate"),Re=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ze={http:80,https:443,ftp:21},Sb=z("$location");Ac.prototype=Tb.prototype=zc.prototype={$$html5:!1,$$replace:!1,absUrl:tb("$$absUrl"),url:function(a){if(F(a))return this.$$url;a=Re.exec(a);a[1]&&this.path(decodeURIComponent(a[1]));(a[2]||a[1])&&this.search(a[3]||"");this.hash(a[5]||"");return this},protocol:tb("$$protocol"),host:tb("$$host"),port:tb("$$port"),path:Bc("$$path",function(a){a=null!==a?a.toString():
"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(G(a)||jb(a))a=a.toString(),this.$$search=cc(a);else if(T(a))r(a,function(c,e){null==c&&delete a[e]}),this.$$search=a;else throw Sb("isrcharg");break;default:F(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:Bc("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};var la=z("$parse"),Ec=
{},ya,Se=Function.prototype.call,Te=Function.prototype.apply,Pc=Function.prototype.bind,hb={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:v,"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return D(d)?D(e)?d+e:d:D(e)?e:u},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(D(d)?d:0)-(D(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"^":function(a,c,d,e){return d(a,c)^
e(a,c)},"=":v,"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"&":function(a,c,d,e){return d(a,
c)&e(a,c)},"|":function(a,c,d,e){return e(a,c)(a,c,d(a,c))},"!":function(a,c,d){return!d(a,c)}},Ue={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ub=function(a){this.options=a};Ub.prototype={constructor:Ub,lex:function(a){this.text=a;this.index=0;this.ch=u;this.lastCh=":";for(this.tokens=[];this.index<this.text.length;){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();
else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else if(this.isWhitespace(this.ch)){this.index++;continue}else{a=this.ch+this.peek();var c=a+this.peek(2),d=hb[this.ch],e=hb[a],f=hb[c];f?(this.tokens.push({index:this.index,text:c,fn:f}),this.index+=3):e?(this.tokens.push({index:this.index,text:a,fn:e}),this.index+=2):d?(this.tokens.push({index:this.index,text:this.ch,fn:d}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+
1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},
throwError:function(a,c,d){d=d||this.index;c=D(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw la("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=x(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-
1))break;else this.throwError("Invalid exponent")}this.index++}a*=1;this.tokens.push({index:c,text:a,literal:!0,constant:!0,fn:function(){return a}})},readIdent:function(){for(var a=this,c="",d=this.index,e,f,g,h;this.index<this.text.length;){h=this.text.charAt(this.index);if("."===h||this.isIdent(h)||this.isNumber(h))"."===h&&(e=this.index),c+=h;else break;this.index++}if(e)for(f=this.index;f<this.text.length;){h=this.text.charAt(f);if("("===h){g=c.substr(e-d+1);c=c.substr(0,e-d);this.index=f;break}if(this.isWhitespace(h))f++;
else break}d={index:d,text:c};if(hb.hasOwnProperty(c))d.fn=hb[c],d.literal=!0,d.constant=!0;else{var k=Dc(c,this.options,this.text);d.fn=E(function(a,c){return k(a,c)},{assign:function(d,e){return ub(d,c,e,a.text,a.options)}})}this.tokens.push(d);g&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:g}))},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+
1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=Ue[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a){this.index++;this.tokens.push({index:c,text:e,string:d,literal:!0,constant:!0,fn:function(){return d}});return}d+=g}this.index++}this.throwError("Unterminated quote",c)}};var gb=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};gb.ZERO=E(function(){return 0},{constant:!0});gb.prototype={constructor:gb,
parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);a.literal=!!a.literal;a.constant=!!a.constant;return a},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var c=this.expect();(a=c.fn)||this.throwError("not a primary expression",c);a.literal=!!c.literal;a.constant=
!!c.constant}for(var d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw la("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw la("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){if(0<this.tokens.length){var f=this.tokens[0],g=f.text;if(g===
a||g===c||g===d||g===e||!(a||c||d||e))return f}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,c){return E(function(d,e){return a(d,e,c)},{constant:c.constant})},ternaryFn:function(a,c,d){return E(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})},binaryFn:function(a,c,d){return E(function(e,f){return c(e,
f,a,d)},{constant:a.constant&&d.constant})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,f=0;f<a.length;f++){var g=a[f];g&&(e=g(c,d))}return e}},filterChain:function(){for(var a=this.expression(),c;;)if(c=this.expect("|"))a=this.binaryFn(a,c.fn,this.filter());else return a},filter:function(){for(var a=this.expect(),c=this.$filter(a.text),d=[];;)if(a=this.expect(":"))d.push(this.expression());
else{var e=function(a,e,h){h=[h];for(var k=0;k<d.length;k++)h.push(d[k](a,e));return c.apply(a,h)};return function(){return e}}},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary(),c,d;return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),function(d,f){return a.assign(d,c(d,f),f)}):a},ternary:function(){var a=this.logicalOR(),c,d;if(this.expect("?")){c=this.assignment();
if(d=this.expect(":"))return this.ternaryFn(a,c,this.assignment());this.throwError("expected :",d)}else return a},logicalOR:function(){for(var a=this.logicalAND(),c;;)if(c=this.expect("||"))a=this.binaryFn(a,c.fn,this.logicalAND());else return a},logicalAND:function(){var a=this.equality(),c;if(c=this.expect("&&"))a=this.binaryFn(a,c.fn,this.logicalAND());return a},equality:function(){var a=this.relational(),c;if(c=this.expect("==","!=","===","!=="))a=this.binaryFn(a,c.fn,this.equality());return a},
relational:function(){var a=this.additive(),c;if(c=this.expect("<",">","<=",">="))a=this.binaryFn(a,c.fn,this.relational());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a=this.binaryFn(a,c.fn,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a=this.binaryFn(a,c.fn,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(gb.ZERO,a.fn,
this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var c=this,d=this.expect().text,e=Dc(d,this.options,this.text);return E(function(c,d,h){return e(h||a(c,d))},{assign:function(e,g,h){(h=a(e,h))||a.assign(e,h={});return ub(h,d,g,c.text,c.options)}})},objectIndex:function(a){var c=this,d=this.expression();this.consume("]");return E(function(e,f){var g=a(e,f),h=d(e,f),k;ka(h,c.text);if(!g)return u;(g=ma(g[h],c.text))&&(g.then&&c.options.unwrapPromises)&&
(k=g,"$$v"in g||(k.$$v=u,k.then(function(a){k.$$v=a})),g=g.$$v);return g},{assign:function(e,f,g){var h=ka(d(e,g),c.text);(g=ma(a(e,g),c.text))||a.assign(e,g={});return g[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text){do d.push(this.expression());while(this.expect(","))}this.consume(")");var e=this;return function(f,g){for(var h=[],k=c?c(f,g):f,m=0;m<d.length;m++)h.push(ma(d[m](f,g),e.text));m=a(f,g,k)||v;ma(k,e.text);var l=e.text;if(m){if(m.constructor===m)throw la("isecfn",
l);if(m===Se||m===Te||Pc&&m===Pc)throw la("isecff",l);}h=m.apply?m.apply(k,h):m(h[0],h[1],h[2],h[3],h[4]);return ma(h,e.text)}},arrayDeclaration:function(){var a=[],c=!0;if("]"!==this.peekToken().text){do{if(this.peek("]"))break;var d=this.expression();a.push(d);d.constant||(c=!1)}while(this.expect(","))}this.consume("]");return E(function(c,d){for(var g=[],h=0;h<a.length;h++)g.push(a[h](c,d));return g},{literal:!0,constant:c})},object:function(){var a=[],c=!0;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;
var d=this.expect(),d=d.string||d.text;this.consume(":");var e=this.expression();a.push({key:d,value:e});e.constant||(c=!1)}while(this.expect(","))}this.consume("}");return E(function(c,d){for(var e={},k=0;k<a.length;k++){var m=a[k];e[m.key]=m.value(c,d)}return e},{literal:!0,constant:c})}};var Ce={},Be={},za=z("$sce"),fa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Y=X.createElement("a"),Gc=xa(W.location.href,!0);kc.$inject=["$provide"];Hc.$inject=["$locale"];Jc.$inject=["$locale"];
var Mc=".",Me={yyyy:Z("FullYear",4),yy:Z("FullYear",2,0,!0),y:Z("FullYear",1),MMMM:vb("Month"),MMM:vb("Month",!0),MM:Z("Month",2,1),M:Z("Month",1,1),dd:Z("Date",2),d:Z("Date",1),HH:Z("Hours",2),H:Z("Hours",1),hh:Z("Hours",2,-12),h:Z("Hours",1,-12),mm:Z("Minutes",2),m:Z("Minutes",1),ss:Z("Seconds",2),s:Z("Seconds",1),sss:Z("Milliseconds",3),EEEE:vb("Day"),EEE:vb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(Vb(Math[0<
a?"floor":"ceil"](a/60),2)+Vb(Math.abs(a%60),2))}},Le=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ke=/^\-?\d+$/;Ic.$inject=["$locale"];var Ie=aa(x),Je=aa(La);Kc.$inject=["$parse"];var cd=aa({restrict:"E",compile:function(a,c){8>=R&&(c.href||c.name||c.$set("href",""),a.append(X.createComment("IE fix")));if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){var f="[object SVGAnimatedString]"===Ba.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||
a.preventDefault()})}}}),Fb={};r(rb,function(a,c){if("multiple"!=a){var d=qa("ng-"+c);Fb[d]=function(){return{priority:100,link:function(a,f,g){a.$watch(g[d],function(a){g.$set(c,!!a)})}}}}});r(["src","srcset","href"],function(a){var c=qa("ng-"+a);Fb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Ba.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",g=null);f.$observe(c,function(c){c?(f.$set(h,c),R&&g&&e.prop(g,f[h])):"href"===
a&&f.$set(h,null)})}}}});var yb={$addControl:v,$removeControl:v,$setValidity:v,$setDirty:v,$setPristine:v};Nc.$inject=["$element","$attrs","$scope","$animate"];var Qc=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:Nc,compile:function(){return{pre:function(a,e,f,g){if(!f.action){var h=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};sb(e[0],"submit",h);e.on("$destroy",function(){c(function(){bb(e[0],"submit",h)},0,!1)})}var k=e.parent().controller("form"),
m=f.name||f.ngForm;m&&ub(a,m,g,m);if(k)e.on("$destroy",function(){k.$removeControl(g);m&&ub(a,m,u,m);E(g,yb)})}}}}}]},dd=Qc(),qd=Qc(!0),Ve=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,We=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Xe=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Rc={text:Ab,number:function(a,c,d,e,f,g){Ab(a,c,d,e,f,g);e.$parsers.push(function(a){var c=e.$isEmpty(a);if(c||Xe.test(a))return e.$setValidity("number",
!0),""===a?null:c?a:parseFloat(a);e.$setValidity("number",!1);return u});Ne(e,"number",Ye,null,e.$$validityState);e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a});d.min&&(a=function(a){var c=parseFloat(d.min);return ua(e,"min",e.$isEmpty(a)||a>=c,a)},e.$parsers.push(a),e.$formatters.push(a));d.max&&(a=function(a){var c=parseFloat(d.max);return ua(e,"max",e.$isEmpty(a)||a<=c,a)},e.$parsers.push(a),e.$formatters.push(a));e.$formatters.push(function(a){return ua(e,"number",e.$isEmpty(a)||
jb(a),a)})},url:function(a,c,d,e,f,g){Ab(a,c,d,e,f,g);a=function(a){return ua(e,"url",e.$isEmpty(a)||Ve.test(a),a)};e.$formatters.push(a);e.$parsers.push(a)},email:function(a,c,d,e,f,g){Ab(a,c,d,e,f,g);a=function(a){return ua(e,"email",e.$isEmpty(a)||We.test(a),a)};e.$formatters.push(a);e.$parsers.push(a)},radio:function(a,c,d,e){F(d.name)&&c.attr("name",ib());c.on("click",function(){c[0].checked&&a.$apply(function(){e.$setViewValue(d.value)})});e.$render=function(){c[0].checked=d.value==e.$viewValue};
d.$observe("value",e.$render)},checkbox:function(a,c,d,e){var f=d.ngTrueValue,g=d.ngFalseValue;G(f)||(f=!0);G(g)||(g=!1);c.on("click",function(){a.$apply(function(){e.$setViewValue(c[0].checked)})});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return a!==f};e.$formatters.push(function(a){return a===f});e.$parsers.push(function(a){return a?f:g})},hidden:v,button:v,submit:v,reset:v,file:v},Ye=["badInput"],hc=["$browser","$sniffer",function(a,c){return{restrict:"E",require:"?ngModel",
link:function(d,e,f,g){g&&(Rc[x(f.type)]||Rc.text)(d,e,f,g,c,a)}}}],wb="ng-valid",xb="ng-invalid",Ra="ng-pristine",zb="ng-dirty",Ze=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,c,d,e,f,g){function h(a,c){c=c?"-"+nb(c,"-"):"";g.removeClass(e,(a?xb:wb)+c);g.addClass(e,(a?wb:xb)+c)}this.$modelValue=this.$viewValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$name=
d.name;var k=f(d.ngModel),m=k.assign;if(!m)throw z("ngModel")("nonassign",d.ngModel,ia(e));this.$render=v;this.$isEmpty=function(a){return F(a)||""===a||null===a||a!==a};var l=e.inheritedData("$formController")||yb,n=0,q=this.$error={};e.addClass(Ra);h(!0);this.$setValidity=function(a,c){q[a]!==!c&&(c?(q[a]&&n--,n||(h(!0),this.$valid=!0,this.$invalid=!1)):(h(!1),this.$invalid=!0,this.$valid=!1,n++),q[a]=!c,h(c,a),l.$setValidity(a,c,this))};this.$setPristine=function(){this.$dirty=!1;this.$pristine=
!0;g.removeClass(e,zb);g.addClass(e,Ra)};this.$setViewValue=function(d){this.$viewValue=d;this.$pristine&&(this.$dirty=!0,this.$pristine=!1,g.removeClass(e,Ra),g.addClass(e,zb),l.$setDirty());r(this.$parsers,function(a){d=a(d)});this.$modelValue!==d&&(this.$modelValue=d,m(a,d),r(this.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}}))};var p=this;a.$watch(function(){var c=k(a);if(p.$modelValue!==c){var d=p.$formatters,e=d.length;for(p.$modelValue=c;e--;)c=d[e](c);p.$viewValue!==c&&(p.$viewValue=
c,p.$render())}return c})}],Fd=function(){return{require:["ngModel","^?form"],controller:Ze,link:function(a,c,d,e){var f=e[0],g=e[1]||yb;g.$addControl(f);a.$on("$destroy",function(){g.$removeControl(f)})}}},Hd=aa({require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),ic=function(){return{require:"?ngModel",link:function(a,c,d,e){if(e){d.required=!0;var f=function(a){if(d.required&&e.$isEmpty(a))e.$setValidity("required",!1);else return e.$setValidity("required",
!0),a};e.$formatters.push(f);e.$parsers.unshift(f);d.$observe("required",function(){f(e.$viewValue)})}}}},Gd=function(){return{require:"ngModel",link:function(a,c,d,e){var f=(a=/\/(.*)\//.exec(d.ngList))&&RegExp(a[1])||d.ngList||",";e.$parsers.push(function(a){if(!F(a)){var c=[];a&&r(a.split(f),function(a){a&&c.push($(a))});return c}});e.$formatters.push(function(a){return L(a)?a.join(", "):u});e.$isEmpty=function(a){return!a||!a.length}}}},$e=/^(true|false|\d+)$/,Id=function(){return{priority:100,
compile:function(a,c){return $e.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},id=Aa({compile:function(a){a.addClass("ng-binding");return function(a,d,e){d.data("$binding",e.ngBind);a.$watch(e.ngBind,function(a){d.text(a==u?"":a)})}}}),kd=["$interpolate",function(a){return function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate));d.addClass("ng-binding").data("$binding",c);e.$observe("ngBindTemplate",function(a){d.text(a)})}}],
jd=["$sce","$parse",function(a,c){return{compile:function(d){d.addClass("ng-binding");return function(d,f,g){f.data("$binding",g.ngBindHtml);var h=c(g.ngBindHtml);d.$watch(function(){return(h(d)||"").toString()},function(c){f.html(a.getTrustedHtml(h(d))||"")})}}}}],ld=Wb("",!0),nd=Wb("Odd",0),md=Wb("Even",1),od=Aa({compile:function(a,c){c.$set("ngCloak",u);a.removeClass("ng-cloak")}}),pd=[function(){return{scope:!0,controller:"@",priority:500}}],jc={},af={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var c=qa("ng-"+a);jc[c]=["$parse","$rootScope",function(d,e){return{compile:function(f,g){var h=d(g[c],!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};af[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var sd=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,k,m;c.$watch(e.ngIf,function(f){Wa(f)?k||(k=c.$new(),g(k,function(c){c[c.length++]=X.createComment(" end ngIf: "+e.ngIf+
" ");h={clone:c};a.enter(c,d.parent(),d)})):(m&&(m.remove(),m=null),k&&(k.$destroy(),k=null),h&&(m=Eb(h.clone),a.leave(m,function(){m=null}),h=null))})}}}],td=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,c,d,e,f){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Xa.noop,compile:function(g,h){var k=h.ngInclude||h.src,m=h.onload||"",l=h.autoscroll;return function(g,h,p,r,J){var w=0,t,y,u,B=function(){y&&(y.remove(),y=null);t&&(t.$destroy(),t=null);
u&&(e.leave(u,function(){y=null}),y=u,u=null)};g.$watch(f.parseAsResourceUrl(k),function(f){var k=function(){!D(l)||l&&!g.$eval(l)||d()},p=++w;f?(a.get(f,{cache:c}).success(function(a){if(p===w){var c=g.$new();r.template=a;a=J(c,function(a){B();e.enter(a,null,h,k)});t=c;u=a;t.$emit("$includeContentLoaded");g.$eval(m)}}).error(function(){p===w&&B()}),g.$emit("$includeContentRequested")):(B(),r.template=null)})}}}}],Jd=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",
link:function(c,d,e,f){d.html(f.template);a(d.contents())(c)}}}],ud=Aa({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),vd=Aa({terminal:!0,priority:1E3}),wd=["$locale","$interpolate",function(a,c){var d=/{}/g;return{restrict:"EA",link:function(e,f,g){var h=g.count,k=g.$attr.when&&f.attr(g.$attr.when),m=g.offset||0,l=e.$eval(k)||{},n={},q=c.startSymbol(),p=c.endSymbol(),s=/^when(Minus)?(.+)$/;r(g,function(a,c){s.test(c)&&(l[x(c.replace("when","").replace("Minus","-"))]=
f.attr(g.$attr[c]))});r(l,function(a,e){n[e]=c(a.replace(d,q+h+"-"+m+p))});e.$watch(function(){var c=parseFloat(e.$eval(h));if(isNaN(c))return"";c in l||(c=a.pluralCat(c-m));return n[c](e,f,!0)},function(a){f.text(a)})}}}],xd=["$parse","$animate",function(a,c){var d=z("ngRepeat");return{transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,link:function(e,f,g,h,k){var m=g.ngRepeat,l=m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),n,q,p,s,u,w,t={$id:Na};if(!l)throw d("iexp",
m);g=l[1];h=l[2];(l=l[3])?(n=a(l),q=function(a,c,d){w&&(t[w]=a);t[u]=c;t.$index=d;return n(e,t)}):(p=function(a,c){return Na(c)},s=function(a){return a});l=g.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!l)throw d("iidexp",g);u=l[3]||l[1];w=l[2];var y={};e.$watchCollection(h,function(a){var g,h,l=f[0],n,t={},D,C,I,x,G,v,z,F=[];if(Sa(a))v=a,G=q||p;else{G=q||s;v=[];for(I in a)a.hasOwnProperty(I)&&"$"!=I.charAt(0)&&v.push(I);v.sort()}D=v.length;h=F.length=v.length;for(g=0;g<h;g++)if(I=a===
v?g:v[g],x=a[I],n=G(I,x,g),Ea(n,"`track by` id"),y.hasOwnProperty(n))z=y[n],delete y[n],t[n]=z,F[g]=z;else{if(t.hasOwnProperty(n))throw r(F,function(a){a&&a.scope&&(y[a.id]=a)}),d("dupes",m,n,oa(x));F[g]={id:n};t[n]=!1}for(I in y)y.hasOwnProperty(I)&&(z=y[I],g=Eb(z.clone),c.leave(g),r(g,function(a){a.$$NG_REMOVED=!0}),z.scope.$destroy());g=0;for(h=v.length;g<h;g++){I=a===v?g:v[g];x=a[I];z=F[g];F[g-1]&&(l=F[g-1].clone[F[g-1].clone.length-1]);if(z.scope){C=z.scope;n=l;do n=n.nextSibling;while(n&&n.$$NG_REMOVED);
z.clone[0]!=n&&c.move(Eb(z.clone),null,A(l));l=z.clone[z.clone.length-1]}else C=e.$new();C[u]=x;w&&(C[w]=I);C.$index=g;C.$first=0===g;C.$last=g===D-1;C.$middle=!(C.$first||C.$last);C.$odd=!(C.$even=0===(g&1));z.scope||k(C,function(a){a[a.length++]=X.createComment(" end ngRepeat: "+m+" ");c.enter(a,null,A(l));l=a;z.scope=C;z.clone=a;t[z.id]=z})}y=t})}}}],yd=["$animate",function(a){return function(c,d,e){c.$watch(e.ngShow,function(c){a[Wa(c)?"removeClass":"addClass"](d,"ng-hide")})}}],rd=["$animate",
function(a){return function(c,d,e){c.$watch(e.ngHide,function(c){a[Wa(c)?"addClass":"removeClass"](d,"ng-hide")})}}],zd=Aa(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")});a&&c.css(a)},!0)}),Ad=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],k=[],m=[];c.$watch(e.ngSwitch||e.on,function(d){var n,q;n=0;for(q=k.length;n<q;++n)k[n].remove();n=k.length=0;for(q=
m.length;n<q;++n){var p=h[n];m[n].$destroy();k[n]=p;a.leave(p,function(){k.splice(n,1)})}h.length=0;m.length=0;if(g=f.cases["!"+d]||f.cases["?"])c.$eval(e.change),r(g,function(d){var e=c.$new();m.push(e);d.transclude(e,function(c){var e=d.element;h.push(c);a.enter(c,e.parent(),e)})})})}}}],Bd=Aa({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),Cd=
Aa({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:f,element:c})}}),Ed=Aa({link:function(a,c,d,e,f){if(!f)throw z("ngTransclude")("orphan",ia(c));f(function(a){c.empty();c.append(a)})}}),ed=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],bf=z("ngOptions"),Dd=aa({terminal:!0}),fd=["$compile","$parse",function(a,c){var d=
/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:v};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var k=this,m={},l=e,n;k.databound=d.ngModel;k.init=function(a,c,d){l=a;n=d};k.addOption=function(c){Ea(c,'"option value"');m[c]=!0;l.$viewValue==c&&(a.val(c),n.parent()&&n.remove())};
k.removeOption=function(a){this.hasOption(a)&&(delete m[a],l.$viewValue==a&&this.renderUnknownOption(a))};k.renderUnknownOption=function(c){c="? "+Na(c)+" ?";n.val(c);a.prepend(n);a.val(c);n.prop("selected",!0)};k.hasOption=function(a){return m.hasOwnProperty(a)};c.$on("$destroy",function(){k.renderUnknownOption=v})}],link:function(e,g,h,k){function m(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(x.parent()&&x.remove(),c.val(a),""===a&&w.prop("selected",!0)):F(a)&&w?c.val(""):e.renderUnknownOption(a)};
c.on("change",function(){a.$apply(function(){x.parent()&&x.remove();d.$setViewValue(c.val())})})}function l(a,c,d){var e;d.$render=function(){var a=new db(d.$viewValue);r(c.find("option"),function(c){c.selected=D(a.get(c.value))})};a.$watch(function(){Ca(e,d.$viewValue)||(e=ha(d.$viewValue),d.$render())});c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function n(e,f,g){function h(){var a={"":[]},c=[""],d,k,
s,u,v;s=g.$modelValue;u=A(e)||[];var F=n?Xb(u):u,G,Q,C;Q={};C=!1;if(p)if(k=g.$modelValue,w&&L(k))for(C=new db([]),d={},v=0;v<k.length;v++)d[m]=k[v],C.put(w(e,d),k[v]);else C=new db(k);v=C;var E,K;for(C=0;G=F.length,C<G;C++){k=C;if(n){k=F[C];if("$"===k.charAt(0))continue;Q[n]=k}Q[m]=u[k];d=r(e,Q)||"";(k=a[d])||(k=a[d]=[],c.push(d));p?d=D(v.remove(w?w(e,Q):x(e,Q))):(w?(d={},d[m]=s,d=w(e,d)===w(e,Q)):d=s===x(e,Q),v=v||d);E=l(e,Q);E=D(E)?E:"";k.push({id:w?w(e,Q):n?F[C]:C,label:E,selected:d})}p||(z||null===
s?a[""].unshift({id:"",label:"",selected:!v}):v||a[""].unshift({id:"?",label:"",selected:!0}));Q=0;for(F=c.length;Q<F;Q++){d=c[Q];k=a[d];B.length<=Q?(s={element:y.clone().attr("label",d),label:k.label},u=[s],B.push(u),f.append(s.element)):(u=B[Q],s=u[0],s.label!=d&&s.element.attr("label",s.label=d));E=null;C=0;for(G=k.length;C<G;C++)d=k[C],(v=u[C+1])?(E=v.element,v.label!==d.label&&(E.text(v.label=d.label),E.prop("label",v.label)),v.id!==d.id&&E.val(v.id=d.id),E[0].selected!==d.selected&&(E.prop("selected",
v.selected=d.selected),R&&E.prop("selected",v.selected))):(""===d.id&&z?K=z:(K=t.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),u.push({element:K,label:d.label,id:d.id,selected:d.selected}),q.addOption(d.label,K),E?E.after(K):s.element.append(K),E=K);for(C++;u.length>C;)d=u.pop(),q.removeOption(d.label),d.element.remove()}for(;B.length>Q;)B.pop()[0].element.remove()}var k;if(!(k=s.match(d)))throw bf("iexp",s,ia(f));var l=c(k[2]||k[1]),
m=k[4]||k[6],n=k[5],r=c(k[3]||""),x=c(k[2]?k[1]:m),A=c(k[7]),w=k[8]?c(k[8]):null,B=[[{element:f,label:""}]];z&&(a(z)(e),z.removeClass("ng-scope"),z.remove());f.empty();f.on("change",function(){e.$apply(function(){var a,c=A(e)||[],d={},k,l,q,r,s,t,v;if(p)for(l=[],r=0,t=B.length;r<t;r++)for(a=B[r],q=1,s=a.length;q<s;q++){if((k=a[q].element)[0].selected){k=k.val();n&&(d[n]=k);if(w)for(v=0;v<c.length&&(d[m]=c[v],w(e,d)!=k);v++);else d[m]=c[k];l.push(x(e,d))}}else if(k=f.val(),"?"==k)l=u;else if(""===
k)l=null;else if(w)for(v=0;v<c.length;v++){if(d[m]=c[v],w(e,d)==k){l=x(e,d);break}}else d[m]=c[k],n&&(d[n]=k),l=x(e,d);g.$setViewValue(l);h()})});g.$render=h;e.$watchCollection(A,h);e.$watchCollection(function(){var a={},c=A(e);if(c){for(var d=Array(c.length),f=0,g=c.length;f<g;f++)a[m]=c[f],d[f]=l(e,a);return d}},h);p&&e.$watchCollection(function(){return g.$modelValue},h)}if(k[1]){var q=k[0];k=k[1];var p=h.multiple,s=h.ngOptions,z=!1,w,t=A(X.createElement("option")),y=A(X.createElement("optgroup")),
x=t.clone();h=0;for(var B=g.children(),v=B.length;h<v;h++)if(""===B[h].value){w=z=B.eq(h);break}q.init(k,z,x);p&&(k.$isEmpty=function(a){return!a||0===a.length});s?n(e,g,k):p?l(e,g,k):m(e,g,k,q)}}}}],hd=["$interpolate",function(a){var c={addOption:v,removeOption:v};return{restrict:"E",priority:100,compile:function(d,e){if(F(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var m=d.parent(),l=m.data("$selectController")||m.parent().data("$selectController");l&&l.databound?
d.prop("selected",!1):l=c;f?a.$watch(f,function(a,c){e.$set("value",a);a!==c&&l.removeOption(c);l.addOption(a)}):l.addOption(e.value);d.on("$destroy",function(){l.removeOption(e.value)})}}}}],gd=aa({restrict:"E",terminal:!0});W.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((Fa=W.jQuery)&&Fa.fn.on?(A=Fa,E(Fa.fn,{scope:Oa.scope,isolateScope:Oa.isolateScope,controller:Oa.controller,injector:Oa.injector,inheritedData:Oa.inheritedData}),Gb("remove",!0,!0,!1),Gb("empty",
!1,!1,!1),Gb("html",!1,!1,!0)):A=S,Xa.element=A,Zc(Xa),A(X).ready(function(){Wc(X,dc)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>');
//# sourceMappingURL=angular.min.js.map

/*! 1.6.5 */
!function(){var a=angular.module("angularFileUpload",[]);a.service("$upload",["$http","$q","$timeout",function(a,b,c){function d(d){d.method=d.method||"POST",d.headers=d.headers||{},d.transformRequest=d.transformRequest||function(b,c){return window.ArrayBuffer&&b instanceof window.ArrayBuffer?b:a.defaults.transformRequest[0](b,c)};var e=b.defer();window.XMLHttpRequest.__isShim&&(d.headers.__setXHR_=function(){return function(a){a&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){e.notify(a)},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&e.notify(a)},!1))}}),a(d).then(function(a){e.resolve(a)},function(a){e.reject(a)},function(a){e.notify(a)});var f=e.promise;return f.success=function(a){return f.then(function(b){a(b.data,b.status,b.headers,d)}),f},f.error=function(a){return f.then(null,function(b){a(b.data,b.status,b.headers,d)}),f},f.progress=function(a){return f.then(null,null,function(b){a(b)}),f},f.abort=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),f},f.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(f,arguments),a.apply(f,arguments)}}(d.xhrFn),f},f}this.upload=function(b){b.headers=b.headers||{},b.headers["Content-Type"]=void 0,b.transformRequest=b.transformRequest||a.defaults.transformRequest;var c=new FormData,e=b.transformRequest,f=b.data;return b.transformRequest=function(a,c){if(f)if(b.formDataAppender)for(var d in f){var g=f[d];b.formDataAppender(a,d,g)}else for(var d in f){var g=f[d];if("function"==typeof e)g=e(g,c);else for(var h=0;h<e.length;h++){var i=e[h];"function"==typeof i&&(g=i(g,c))}a.append(d,g)}if(null!=b.file){var j=b.fileFormDataName||"file";if("[object Array]"===Object.prototype.toString.call(b.file))for(var k="[object String]"===Object.prototype.toString.call(j),h=0;h<b.file.length;h++)a.append(k?j:j[h],b.file[h],b.fileName&&b.fileName[h]||b.file[h].name);else a.append(j,b.file,b.fileName||b.file.name)}return a},b.data=c,d(b)},this.http=function(a){return d(a)}}]),a.directive("ngFileSelect",["$parse","$timeout",function(a,b){return function(c,d,e){var f=a(e.ngFileSelect);if("input"!==d[0].tagName.toLowerCase()||"file"!==(d.attr("type")&&d.attr("type").toLowerCase())){for(var g=angular.element('<input type="file">'),h=0;h<d[0].attributes.length;h++)g.attr(d[0].attributes[h].name,d[0].attributes[h].value);d.attr("data-multiple")&&g.attr("multiple","true"),g.css("top",0).css("bottom",0).css("left",0).css("right",0).css("width","100%").css("opacity",0).css("position","absolute").css("filter","alpha(opacity=0)"),d.append(g),(""===d.css("position")||"static"===d.css("position"))&&d.css("position","relative"),d=g}d.bind("change",function(a){var d,e,g=[];if(d=a.__files_||a.target.files,null!=d)for(e=0;e<d.length;e++)g.push(d.item(e));b(function(){f(c,{$files:g,$event:a})})})}}]),a.directive("ngFileDropAvailable",["$parse","$timeout",function(a,b){return function(c,d,e){if("draggable"in document.createElement("span")){var f=a(e.ngFileDropAvailable);b(function(){f(c)})}}}]),a.directive("ngFileDrop",["$parse","$timeout","$location",function(a,b,c){return function(d,e,f){function g(a){return/^[\000-\177]*$/.test(a)}function h(a,d){var e=[],f=a.dataTransfer.items;if(f&&f.length>0&&f[0].webkitGetAsEntry&&"file"!=c.protocol())for(var h=0;h<f.length;h++){var j=f[h].webkitGetAsEntry();null!=j&&(g(j.name)?i(e,j):f[h].webkitGetAsEntry().isDirectory||e.push(f[h].getAsFile()))}else{var k=a.dataTransfer.files;if(null!=k)for(var h=0;h<k.length;h++)e.push(k.item(h))}!function m(a){b(function(){l?m(10):d(e)},a||0)}()}function i(a,b,c){if(null!=b)if(b.isDirectory){var d=b.createReader();l++,d.readEntries(function(d){for(var e=0;e<d.length;e++)i(a,d[e],(c?c:"")+b.name+"/");l--})}else l++,b.file(function(b){l--,b._relativePath=(c?c:"")+b.name,a.push(b)})}if("draggable"in document.createElement("span")){var j=null;e[0].addEventListener("dragover",function(c){if(c.stopPropagation(),c.preventDefault(),b.cancel(j),!e[0].__drag_over_class_)if(f.ngFileDragOverClass.search(/\) *$/)>-1){dragOverClassFn=a(f.ngFileDragOverClass);var g=dragOverClassFn(d,{$event:c});e[0].__drag_over_class_=g}else e[0].__drag_over_class_=f.ngFileDragOverClass||"dragover";e.addClass(e[0].__drag_over_class_)},!1),e[0].addEventListener("dragenter",function(a){a.stopPropagation(),a.preventDefault()},!1),e[0].addEventListener("dragleave",function(){j=b(function(){e.removeClass(e[0].__drag_over_class_),e[0].__drag_over_class_=null},f.ngFileDragOverDelay||1)},!1);var k=a(f.ngFileDrop);e[0].addEventListener("drop",function(a){a.stopPropagation(),a.preventDefault(),e.removeClass(e[0].__drag_over_class_),e[0].__drag_over_class_=null,h(a,function(b){k(d,{$files:b,$event:a})})},!1);var l=0}}}])}();
/*
 AngularJS v1.2.28
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(n,e,A){'use strict';function x(s,g,h){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,c,b,f,w){function y(){p&&(p.remove(),p=null);k&&(k.$destroy(),k=null);l&&(h.leave(l,function(){p=null}),p=l,l=null)}function v(){var b=s.current&&s.current.locals;if(e.isDefined(b&&b.$template)){var b=a.$new(),d=s.current;l=w(b,function(d){h.enter(d,null,l||c,function(){!e.isDefined(t)||t&&!a.$eval(t)||g()});y()});k=d.scope=b;k.$emit("$viewContentLoaded");k.$eval(u)}else y()}
var k,l,p,t=b.autoscroll,u=b.onload||"";a.$on("$routeChangeSuccess",v);v()}}}function z(e,g,h){return{restrict:"ECA",priority:-400,link:function(a,c){var b=h.current,f=b.locals;c.html(f.$template);var w=e(c.contents());b.controller&&(f.$scope=a,f=g(b.controller,f),b.controllerAs&&(a[b.controllerAs]=f),c.data("$ngControllerController",f),c.children().data("$ngControllerController",f));w(a)}}}n=e.module("ngRoute",["ng"]).provider("$route",function(){function s(a,c){return e.extend(new (e.extend(function(){},
{prototype:a})),c)}function g(a,e){var b=e.caseInsensitiveMatch,f={originalPath:a,regexp:a},h=f.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,e,b,c){a="?"===c?c:null;c="*"===c?c:null;h.push({name:b,optional:!!a});e=e||"";return""+(a?"":e)+"(?:"+(a?e:"")+(c&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1");f.regexp=RegExp("^"+a+"$",b?"i":"");return f}var h={};this.when=function(a,c){h[a]=e.extend({reloadOnSearch:!0},c,a&&g(a,c));if(a){var b=
"/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";h[b]=e.extend({redirectTo:a},g(b,c))}return this};this.otherwise=function(a){this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(a,c,b,f,g,n,v,k){function l(){var d=p(),m=r.current;if(d&&m&&d.$$route===m.$$route&&e.equals(d.pathParams,m.pathParams)&&!d.reloadOnSearch&&!u)m.params=d.params,e.copy(m.params,b),a.$broadcast("$routeUpdate",m);else if(d||m)u=!1,a.$broadcast("$routeChangeStart",
d,m),(r.current=d)&&d.redirectTo&&(e.isString(d.redirectTo)?c.path(t(d.redirectTo,d.params)).search(d.params).replace():c.url(d.redirectTo(d.pathParams,c.path(),c.search())).replace()),f.when(d).then(function(){if(d){var a=e.extend({},d.resolve),c,b;e.forEach(a,function(d,c){a[c]=e.isString(d)?g.get(d):g.invoke(d)});e.isDefined(c=d.template)?e.isFunction(c)&&(c=c(d.params)):e.isDefined(b=d.templateUrl)&&(e.isFunction(b)&&(b=b(d.params)),b=k.getTrustedResourceUrl(b),e.isDefined(b)&&(d.loadedTemplateUrl=
b,c=n.get(b,{cache:v}).then(function(a){return a.data})));e.isDefined(c)&&(a.$template=c);return f.all(a)}}).then(function(c){d==r.current&&(d&&(d.locals=c,e.copy(d.params,b)),a.$broadcast("$routeChangeSuccess",d,m))},function(c){d==r.current&&a.$broadcast("$routeChangeError",d,m,c)})}function p(){var a,b;e.forEach(h,function(f,h){var q;if(q=!b){var g=c.path();q=f.keys;var l={};if(f.regexp)if(g=f.regexp.exec(g)){for(var k=1,p=g.length;k<p;++k){var n=q[k-1],r=g[k];n&&r&&(l[n.name]=r)}q=l}else q=null;
else q=null;q=a=q}q&&(b=s(f,{params:e.extend({},c.search(),a),pathParams:a}),b.$$route=f)});return b||h[null]&&s(h[null],{params:{},pathParams:{}})}function t(a,c){var b=[];e.forEach((a||"").split(":"),function(a,d){if(0===d)b.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];b.push(c[f]);b.push(e[2]||"");delete c[f]}});return b.join("")}var u=!1,r={routes:h,reload:function(){u=!0;a.$evalAsync(l)}};a.$on("$locationChangeSuccess",l);return r}]});n.provider("$routeParams",function(){this.$get=
function(){return{}}});n.directive("ngView",x);n.directive("ngView",z);x.$inject=["$route","$anchorScroll","$animate"];z.$inject=["$compile","$controller","$route"]})(window,window.angular);
//# sourceMappingURL=angular-route.min.js.map

/*
 AngularJS v1.2.28
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(p,f,n){'use strict';f.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,b){var c={},g={},h,k=!1,l=f.copy,m=f.isUndefined;b.addPollFn(function(){var a=b.cookies();h!=a&&(h=a,l(a,g),l(a,c),k&&e.$apply())})();k=!0;e.$watch(function(){var a,d,e;for(a in g)m(c[a])&&b.cookies(a,n);for(a in c)d=c[a],f.isString(d)||(d=""+d,c[a]=d),d!==g[a]&&(b.cookies(a,d),e=!0);if(e)for(a in d=b.cookies(),c)c[a]!==d[a]&&(m(d[a])?delete c[a]:c[a]=d[a])});return c}]).factory("$cookieStore",
["$cookies",function(e){return{get:function(b){return(b=e[b])?f.fromJson(b):b},put:function(b,c){e[b]=f.toJson(c)},remove:function(b){delete e[b]}}}])})(window,window.angular);
//# sourceMappingURL=angular-cookies.min.js.map

/*
 AngularJS v1.2.28
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
 */
(function(y,w,z){'use strict';function u(f,a,c){r.directive(f,["$parse","$swipe",function(m,p){var q=75,g=0.3,e=30;return function(h,n,l){function k(d){if(!b)return!1;var s=Math.abs(d.y-b.y);d=(d.x-b.x)*a;return v&&s<q&&0<d&&d>e&&s/d<g}var s=m(l[f]),b,v;p.bind(n,{start:function(d,s){b=d;v=!0},cancel:function(b){v=!1},end:function(b,a){k(b)&&h.$apply(function(){n.triggerHandler(c);s(h,{$event:a})})}})}}])}var r=w.module("ngTouch",[]);r.factory("$swipe",[function(){function f(a){var c=a.touches&&a.touches.length?
    a.touches:[a];a=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||c[0].originalEvent||c[0];return{x:a.clientX,y:a.clientY}}return{bind:function(a,c){var m,p,q,g,e=!1;a.on("touchstart mousedown",function(a){q=f(a);e=!0;p=m=0;g=q;c.start&&c.start(q,a)});a.on("touchcancel",function(a){e=!1;c.cancel&&c.cancel(a)});a.on("touchmove mousemove",function(a){if(e&&q){var n=f(a);m+=Math.abs(n.x-g.x);p+=Math.abs(n.y-g.y);g=n;10>m&&10>p||
(p>m?(e=!1,c.cancel&&c.cancel(a)):(a.preventDefault(),c.move&&c.move(n,a)))}});a.on("touchend mouseup",function(a){e&&(e=!1,c.end&&c.end(f(a),a))})}}}]);r.config(["$provide",function(f){f.decorator("ngClickDirective",["$delegate",function(a){a.shift();return a}])}]);r.directive("ngClick",["$parse","$timeout","$rootElement",function(f,a,c){function m(a,b,c){for(var d=0;d<a.length;d+=2)if(Math.abs(a[d]-b)<e&&Math.abs(a[d+1]-c)<e)return a.splice(d,d+2),!0;return!1}function p(a){if(!(Date.now()-n>g)){var b=
    a.touches&&a.touches.length?a.touches:[a],c=b[0].clientX,b=b[0].clientY;1>c&&1>b||k&&k[0]===c&&k[1]===b||(k&&(k=null),"label"===a.target.tagName.toLowerCase()&&(k=[c,b]),m(l,c,b)||(a.stopPropagation(),a.preventDefault(),a.target&&a.target.blur()))}}function q(c){c=c.touches&&c.touches.length?c.touches:[c];var b=c[0].clientX,e=c[0].clientY;l.push(b,e);a(function(){for(var a=0;a<l.length;a+=2)if(l[a]==b&&l[a+1]==e){l.splice(a,a+2);break}},g,!1)}var g=2500,e=25,h="ng-click-active",n,l,k;return function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             b,e){function d(){k=!1;b.removeClass(h)}var g=f(e.ngClick),k=!1,t,r,u,x;b.on("touchstart",function(a){k=!0;t=a.target?a.target:a.srcElement;3==t.nodeType&&(t=t.parentNode);b.addClass(h);r=Date.now();a=a.touches&&a.touches.length?a.touches:[a];a=a[0].originalEvent||a[0];u=a.clientX;x=a.clientY});b.on("touchmove",function(a){d()});b.on("touchcancel",function(a){d()});b.on("touchend",function(a){var g=Date.now()-r,f=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?
    a.touches:[a],h=f[0].originalEvent||f[0],f=h.clientX,h=h.clientY,s=Math.sqrt(Math.pow(f-u,2)+Math.pow(h-x,2));k&&(750>g&&12>s)&&(l||(c[0].addEventListener("click",p,!0),c[0].addEventListener("touchstart",q,!0),l=[]),n=Date.now(),m(l,f,h),t&&t.blur(),w.isDefined(e.disabled)&&!1!==e.disabled||b.triggerHandler("click",[a]));d()});b.onclick=function(a){};b.on("click",function(b,c){a.$apply(function(){g(a,{$event:c||b})})});b.on("mousedown",function(a){b.addClass(h)});b.on("mousemove mouseup",function(a){b.removeClass(h)})}}]);
    u("ngSwipeLeft",-1,"swipeleft");u("ngSwipeRight",1,"swiperight")})(window,window.angular);
//# sourceMappingURL=angular-touch.min.js.map

/*
 AngularJS v1.2.28
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
 */
(function(G,d,P){'use strict';d.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(H,z,e){e=e.ngAnimateChildren;d.isString(e)&&0===e.length?z.data("$$ngAnimateChildren",!0):H.$watch(e,function(d){z.data("$$ngAnimateChildren",!!d)})}}).factory("$$animateReflow",["$$rAF","$document",function(d,z){return function(e){return d(function(){e()})}}]).config(["$provide","$animateProvider",function(H,z){function e(d){for(var e=0;e<d.length;e++){var g=d[e];if(g.nodeType==ba)return g}}
    function E(g){return d.element(e(g))}var q=d.noop,w=d.forEach,Q=z.$$selectors,ba=1,g="$$ngAnimateState",ga="$$ngAnimateChildren",I="ng-animate",h={running:!0};H.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(y,G,aa,J,K,k,P){function R(a){var b=a.data(g)||{};b.running=!0;a.data(g,b)}function ha(a){if(a){var b=[],c={};a=a.substr(1).split(".");(aa.transitions||aa.animations)&&b.push(G.get(Q[""]));for(var f=0;f<a.length;f++){var d=
        a[f],e=Q[d];e&&!c[d]&&(b.push(G.get(e)),c[d]=!0)}return b}}function M(a,b,c){function f(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];if(c||d)return"leave"==b&&(d=c,c=null),S.push({event:b,fn:c}),n.push({event:b,fn:d}),!0}function e(b,d,f){var g=[];w(b,function(a){a.fn&&g.push(a)});var r=0;w(g,function(b,e){var C=function(){a:{if(d){(d[e]||q)();if(++r<g.length)break a;d=null}f()}};switch(b.event){case "setClass":d.push(b.fn(a,l,A,C));break;case "addClass":d.push(b.fn(a,l||c,
        C));break;case "removeClass":d.push(b.fn(a,A||c,C));break;default:d.push(b.fn(a,C))}});d&&0===d.length&&f()}var g=a[0];if(g){var p="setClass"==b,h=p||"addClass"==b||"removeClass"==b,l,A;d.isArray(c)&&(l=c[0],A=c[1],c=l+" "+A);var k=a.attr("class")+" "+c;if(U(k)){var t=q,v=[],n=[],x=q,u=[],S=[],k=(" "+k).replace(/\s+/g,".");w(ha(k),function(a){!f(a,b)&&p&&(f(a,"addClass"),f(a,"removeClass"))});return{node:g,event:b,className:c,isClassBased:h,isSetClassOperation:p,before:function(a){t=a;e(n,v,function(){t=
        q;a()})},after:function(a){x=a;e(S,u,function(){x=q;a()})},cancel:function(){v&&(w(v,function(a){(a||q)(!0)}),t(!0));u&&(w(u,function(a){(a||q)(!0)}),x(!0))}}}}}function F(a,b,c,f,e,m,p){function k(d){var e="$animate:"+d;x&&(x[e]&&0<x[e].length)&&K(function(){c.triggerHandler(e,{event:a,className:b})})}function l(){k("before")}function A(){k("after")}function q(){k("close");p&&K(function(){p()})}function t(){t.hasBeenRun||(t.hasBeenRun=!0,m())}function v(){if(!v.hasBeenRun){v.hasBeenRun=!0;var e=
        c.data(g);e&&(n&&n.isClassBased?B(c,b):(K(function(){var e=c.data(g)||{};s==e.index&&B(c,b,a)}),c.data(g,e)));q()}}var n=M(c,a,b);if(n){b=n.className;var x=d.element._data(n.node),x=x&&x.events;f||(f=e?e.parent():c.parent());var u=c.data(g)||{};e=u.active||{};var h=u.totalActive||0,C=u.last,D;n.isClassBased&&(D=u.running||u.disabled||C&&!C.isClassBased);if(D||N(c,f))t(),l(),A(),v();else{f=!1;if(0<h){D=[];if(n.isClassBased)"setClass"==C.event?(D.push(C),B(c,b)):e[b]&&(y=e[b],y.event==a?f=!0:(D.push(y),
        B(c,b)));else if("leave"==a&&e["ng-leave"])f=!0;else{for(var y in e)D.push(e[y]),B(c,y);e={};h=0}0<D.length&&w(D,function(a){a.cancel()})}!n.isClassBased||(n.isSetClassOperation||f)||(f="addClass"==a==c.hasClass(b));if(f)t(),l(),A(),q();else{if("leave"==a)c.one("$destroy",function(a){a=d.element(this);var b=a.data(g);b&&(b=b.active["ng-leave"])&&(b.cancel(),B(a,"ng-leave"))});c.addClass(I);var s=O++;h++;e[b]=n;c.data(g,{last:n,active:e,index:s,totalActive:h});l();n.before(function(e){var d=c.data(g);
        e=e||!d||!d.active[b]||n.isClassBased&&d.active[b].event!=a;t();!0===e?v():(A(),n.after(v))})}}}else t(),l(),A(),v()}function V(a){if(a=e(a))a=d.isFunction(a.getElementsByClassName)?a.getElementsByClassName(I):a.querySelectorAll("."+I),w(a,function(a){a=d.element(a);(a=a.data(g))&&a.active&&w(a.active,function(a){a.cancel()})})}function B(a,b){if(e(a)==e(J))h.disabled||(h.running=!1,h.structural=!1);else if(b){var c=a.data(g)||{},d=!0===b;!d&&(c.active&&c.active[b])&&(c.totalActive--,delete c.active[b]);
        if(d||!c.totalActive)a.removeClass(I),a.removeData(g)}}function N(a,b){if(h.disabled)return!0;if(e(a)==e(J))return h.running;var c,f,k;do{if(0===b.length)break;var m=e(b)==e(J),p=m?h:b.data(g)||{};if(p.disabled)return!0;m&&(k=!0);!1!==c&&(m=b.data(ga),d.isDefined(m)&&(c=m));f=f||p.running||p.last&&!p.last.isClassBased}while(b=b.parent());return!k||!c&&f}var O=0;J.data(g,h);k.$$postDigest(function(){k.$$postDigest(function(){h.running=!1})});var W=z.classNameFilter(),U=W?function(a){return W.test(a)}:
        function(){return!0};return{enter:function(a,b,c,e){a=d.element(a);b=b&&d.element(b);c=c&&d.element(c);R(a);y.enter(a,b,c);k.$$postDigest(function(){a=E(a);F("enter","ng-enter",a,b,c,q,e)})},leave:function(a,b){a=d.element(a);V(a);R(a);k.$$postDigest(function(){F("leave","ng-leave",E(a),null,null,function(){y.leave(a)},b)})},move:function(a,b,c,e){a=d.element(a);b=b&&d.element(b);c=c&&d.element(c);V(a);R(a);y.move(a,b,c);k.$$postDigest(function(){a=E(a);F("move","ng-move",a,b,c,q,e)})},addClass:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     b,c){a=d.element(a);a=E(a);F("addClass",b,a,null,null,function(){y.addClass(a,b)},c)},removeClass:function(a,b,c){a=d.element(a);a=E(a);F("removeClass",b,a,null,null,function(){y.removeClass(a,b)},c)},setClass:function(a,b,c,e){a=d.element(a);a=E(a);F("setClass",[b,c],a,null,null,function(){y.setClass(a,b,c)},e)},enabled:function(a,b){switch(arguments.length){case 2:if(a)B(b);else{var c=b.data(g)||{};c.disabled=!0;b.data(g,c)}break;case 1:h.disabled=!a;break;default:a=!h.disabled}return!!a}}}]);z.register("",
        ["$window","$sniffer","$timeout","$$animateReflow",function(g,h,z,J){function K(){L||(L=J(function(){T=[];L=null;s={}}))}function k(a,X){L&&L();T.push(X);L=J(function(){w(T,function(a){a()});T=[];L=null;s={}})}function E(a,X){var b=e(a);a=d.element(b);Y.push(a);b=Date.now()+X;b<=fa||(z.cancel(ea),fa=b,ea=z(function(){R(Y);Y=[]},X,!1))}function R(a){w(a,function(a){(a=a.data(u))&&(a.closeAnimationFn||q)()})}function I(a,b){var c=b?s[b]:null;if(!c){var e=0,d=0,f=0,k=0,h,Z,$,m;w(a,function(a){if(a.nodeType==
            ba){a=g.getComputedStyle(a)||{};$=a[p+Q];e=Math.max(M($),e);m=a[p+t];h=a[p+v];d=Math.max(M(h),d);Z=a[l+v];k=Math.max(M(Z),k);var b=M(a[l+Q]);0<b&&(b*=parseInt(a[l+n],10)||1);f=Math.max(b,f)}});c={total:0,transitionPropertyStyle:m,transitionDurationStyle:$,transitionDelayStyle:h,transitionDelay:d,transitionDuration:e,animationDelayStyle:Z,animationDelay:k,animationDuration:f};b&&(s[b]=c)}return c}function M(a){var b=0;a=d.isString(a)?a.split(/\s*,\s*/):[];w(a,function(a){b=Math.max(parseFloat(a)||
            0,b)});return b}function F(a){var b=a.parent(),c=b.data(x);c||(b.data(x,++da),c=da);return c+"-"+e(a).getAttribute("class")}function V(a,b,c,d){var f=F(b),g=f+" "+c,k=s[g]?++s[g].total:0,h={};if(0<k){var m=c+"-stagger",h=f+" "+m;(f=!s[h])&&b.addClass(m);h=I(b,h);f&&b.removeClass(m)}d=d||function(a){return a()};b.addClass(c);var m=b.data(u)||{},n=d(function(){return I(b,g)});d=n.transitionDuration;f=n.animationDuration;if(0===d&&0===f)return b.removeClass(c),!1;b.data(u,{running:m.running||0,itemIndex:k,
            stagger:h,timings:n,closeAnimationFn:q});a=0<m.running||"setClass"==a;0<d&&B(b,c,a);0<f&&(0<h.animationDelay&&0===h.animationDuration)&&(e(b).style[l]="none 0s");return!0}function B(a,b,c){"ng-enter"!=b&&("ng-move"!=b&&"ng-leave"!=b)&&c?a.addClass(S):e(a).style[p+t]="none"}function N(a,b){var c=p+t,d=e(a);d.style[c]&&0<d.style[c].length&&(d.style[c]="");a.removeClass(S)}function O(a){var b=l;a=e(a);a.style[b]&&0<a.style[b].length&&(a.style[b]="")}function W(a,b,c,d){function g(a){b.off(z,h);b.removeClass(n);
            f(b,c);a=e(b);for(var d in s)a.style.removeProperty(s[d])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(C));Math.max(a-y,0)>=x&&b>=t&&d()}var k=e(b);a=b.data(u);if(-1!=k.getAttribute("class").indexOf(c)&&a){var n="";w(c.split(" "),function(a,b){n+=(0<b?" ":"")+a+"-active"});var p=a.stagger,l=a.timings,q=a.itemIndex,t=Math.max(l.transitionDuration,l.animationDuration),v=Math.max(l.transitionDelay,l.animationDelay),
            x=v*ca,y=Date.now(),z=A+" "+H,r="",s=[];if(0<l.transitionDuration){var B=l.transitionPropertyStyle;-1==B.indexOf("all")&&(r+=m+"transition-property: "+B+";",r+=m+"transition-duration: "+l.transitionDurationStyle+";",s.push(m+"transition-property"),s.push(m+"transition-duration"))}0<q&&(0<p.transitionDelay&&0===p.transitionDuration&&(r+=m+"transition-delay: "+U(l.transitionDelayStyle,p.transitionDelay,q)+"; ",s.push(m+"transition-delay")),0<p.animationDelay&&0===p.animationDuration&&(r+=m+"animation-delay: "+
            U(l.animationDelayStyle,p.animationDelay,q)+"; ",s.push(m+"animation-delay")));0<s.length&&(l=k.getAttribute("style")||"",k.setAttribute("style",l+"; "+r));b.on(z,h);b.addClass(n);a.closeAnimationFn=function(){g();d()};k=(q*(Math.max(p.animationDelay,p.transitionDelay)||0)+(v+t)*D)*ca;a.running++;E(b,k);return g}d()}function U(a,b,c){var d="";w(a.split(","),function(a,e){d+=(0<e?",":"")+(c*b+parseInt(a,10))+"s"});return d}function a(a,b,c,d){if(V(a,b,c,d))return function(a){a&&f(b,c)}}function b(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 b,c,d){if(b.data(u))return W(a,b,c,d);f(b,c);d()}function c(c,d,e,f){var g=a(c,d,e);if(g){var h=g;k(d,function(){N(d,e);O(d);h=b(c,d,e,f)});return function(a){(h||q)(a)}}K();f()}function f(a,b){a.removeClass(b);var c=a.data(u);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(u))}function r(a,b){var c="";a=d.isArray(a)?a:a.split(/\s+/);w(a,function(a,d){a&&0<a.length&&(c+=(0<d?" ":"")+a+b)});return c}var m="",p,H,l,A;G.ontransitionend===P&&G.onwebkittransitionend!==P?(m="-webkit-",
            p="WebkitTransition",H="webkitTransitionEnd transitionend"):(p="transition",H="transitionend");G.onanimationend===P&&G.onwebkitanimationend!==P?(m="-webkit-",l="WebkitAnimation",A="webkitAnimationEnd animationend"):(l="animation",A="animationend");var Q="Duration",t="Property",v="Delay",n="IterationCount",x="$$ngAnimateKey",u="$$ngAnimateCSS3Data",S="ng-animate-block-transitions",C=3,D=1.5,ca=1E3,s={},da=0,T=[],L,ea=null,fa=0,Y=[];return{enter:function(a,b){return c("enter",a,"ng-enter",b)},leave:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           b){return c("leave",a,"ng-leave",b)},move:function(a,b){return c("move",a,"ng-move",b)},beforeSetClass:function(b,c,d,e){var f=r(d,"-remove")+" "+r(c,"-add"),g=a("setClass",b,f,function(a){var e=b.attr("class");b.removeClass(d);b.addClass(c);a=a();b.attr("class",e);return a});if(g)return k(b,function(){N(b,f);O(b);e()}),g;K();e()},beforeAddClass:function(b,c,d){var e=a("addClass",b,r(c,"-add"),function(a){b.addClass(c);a=a();b.removeClass(c);return a});if(e)return k(b,function(){N(b,c);O(b);d()}),
            e;K();d()},setClass:function(a,c,d,e){d=r(d,"-remove");c=r(c,"-add");return b("setClass",a,d+" "+c,e)},addClass:function(a,c,d){return b("addClass",a,r(c,"-add"),d)},beforeRemoveClass:function(b,c,d){var e=a("removeClass",b,r(c,"-remove"),function(a){var d=b.attr("class");b.removeClass(c);a=a();b.attr("class",d);return a});if(e)return k(b,function(){N(b,c);O(b);d()}),e;d()},removeClass:function(a,c,d){return b("removeClass",a,r(c,"-remove"),d)}}}])}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map

/*
	Copyright Kamil Pkala http://github.com/kamilkp
	angular-sortable-view v0.0.13 2015/01/13
*/
!function(e,t){"use strict";function n(e){var n,o=t.element();for(e=t.element(e),n=0;n<this.length;n++)o.push(this[n]);for(n=0;n<e.length;n++)o.push(e[n]);return o}function o(e){if(void 0===e.clientX&&void 0===e.clientY){var t=e.touches||e.originalEvent.touches;t&&t.length&&(e.clientX=t[0].clientX,e.clientY=t[0].clientY)}e.preventDefault()}function r(e){if((e=e[0]).previousElementSibling)return t.element(e.previousElementSibling);for(var n=e.previousSibling;null!=n&&1!=n.nodeType;)n=n.previousSibling;return t.element(n)}function i(e,t){return parseInt(e.css(t))||0}function l(e,n){var o={},r=t.element(e),l=e.getBoundingClientRect(),s=n?i:function(){return 0};return o.left=l.left-s(r,"margin-left")-s(r,"border-left"),o.right=l.right+s(r,"margin-right")+s(r,"border-right"),o.top=l.top-s(r,"margin-top")-s(r,"border-top"),o.bottom=l.bottom+s(r,"margin-bottom")+s(r,"border-bottom"),o.width=o.right-o.left,o.height=o.bottom-o.top,o}function s(e,t){var n=r(e);n.length>0?n.after(t):e.parent().prepend(t)}function c(n){for(var o=n.parent(),r=e.getComputedStyle(o[0]);o.length>0&&"HTML"!==o[0].tagName&&"static"===r.position&&("none"===r.transform||!r.transform);)o=o.parent(),r=e.getComputedStyle(o[0]);return 0===o.length&&(o=t.element(document.documentElement)),o}function a(t){for(var n={left:t.offsetLeft,top:t.offsetTop},o=t.parentNode,r=e.getComputedStyle(o);o&&"BODY"!==o.tagName&&"static"===r.position;)n.top-=o.scrollTop,n.left-=o.scrollLeft,o=o.parentNode,r=e.getComputedStyle(o);return n}function d(t){for(var n,o=[];t&&t!==document.body;)"auto"!==(n=e.getComputedStyle(t)).overflowY&&"scroll"!==n.overflowY||o.push(t),t=t.parentNode;return o.push(document.documentElement),o}function u(e,n){if(e instanceof t.element&&(e=e[0]),null!==h)return e[h](n)}var m=300;t.element(document.head).append(["<style>.sv-helper{position: absolute !important;z-index: 99999;margin: 0 !important;}.sv-candidate{}.sv-placeholder{}.sv-sorting-in-progress{-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}.sv-visibility-hidden{visibility: hidden !important;opacity: 0 !important;}</style>"].join(""));var p=document.documentElement,h=p.matches?"matches":p.matchesSelector?"matchesSelector":p.webkitMatches?"webkitMatches":p.webkitMatchesSelector?"webkitMatchesSelector":p.msMatches?"msMatches":p.msMatchesSelector?"msMatchesSelector":p.mozMatches?"mozMatches":p.mozMatchesSelector?"mozMatchesSelector":null;if(null==h)throw"This browser doesn't support the HTMLElement.matches method";var v=t.element.prototype.closest||function(e){for(var n=this[0].parentNode;n!==document.documentElement&&!n[h](e);)n=n.parentNode;return n[h](e)?t.element(n):t.element()},f=!1;try{var g=Object.defineProperty({},"passive",{get:function(){f=!0}});e.addEventListener("test",null,g)}catch(e){}var y=t.module("angular-sortable-view",[]);y.directive("svRoot",[function(){function t(e,t,n){return n?e.x-t.x<0:e.y-t.y<0}function n(e){return i[e]}function o(e){delete i[e]}var r,i=Object.create(null),c=0;return{restrict:"A",controller:["$scope","$attrs","$interpolate","$parse","$element",function(m,p,h,f,g){var y,$,b,w,x,C,E,S=h(p.svRoot)(m)||++c,T=!1,M=f(p.svOnSort),R=!1,P=d(g[0]);i[S]||(i[S]=[]),p.svOnStart=p.$$element[0].attributes["sv-on-start"],p.svOnStart=p.svOnStart&&p.svOnStart.value,p.svOnStop=p.$$element[0].attributes["sv-on-stop"],p.svOnStop=p.svOnStop&&p.svOnStop.value;var O=f(p.svOnStart),L=f(p.svOnStop),k=function(e,t,n){var o=n.scrollTop,r=Math.max(0,n.scrollHeight-(n===document.body?document.documentElement.clientHeight:n.clientHeight)),i=Math.min(Math.max(0,n.scrollTop+e),r);R=!0,i!==o?(n.scrollTop=i,clearTimeout(E),E=setTimeout(function(){E=null,R&&k(e,t,n)},t)):R=!1};if(this.sortingInProgress=function(){return r},this.stopScrolling=function(){E&&(clearTimeout(E),E=null),R=!1},p.svGrid){if(null===(T="true"===p.svGrid||"false"!==p.svGrid&&null))throw"Invalid value of sv-grid attribute"}else m.$watchCollection(function(){return n(S)},function(e){T=!1;var t=e.filter(function(e){return!e.container}).map(function(e){return{part:e.getPart().id,y:e.element[0].getBoundingClientRect().top}}),n=Object.create(null);t.forEach(function(e){n[e.part]?n[e.part].push(e.y):n[e.part]=[e.y]}),Object.keys(n).forEach(function(e){n[e].sort(),n[e].forEach(function(t,o){o<n[e].length-1&&t>0&&t===n[e][o+1]&&(T=!0)})})});this.$moveUpdate=function(o,i,c,a,d,p,h){var f,E,M=o.containment&&v.call(c,o.containment)[0],L=c[0].getBoundingClientRect(),B=(g[0].getBoundingClientRect(),M&&M.getBoundingClientRect());"element"===o.tolerance&&(i={x:~~(L.left+L.width/2),y:~~(L.top+L.height/2)}),$||(d?($=d.clone()).removeClass("ng-hide"):(($=a.clone()).addClass("sv-visibility-hidden"),$.addClass("sv-placeholder"),$.css({height:L.height+"px",width:L.width+"px"})),a.after($),a.addClass("ng-hide"),x=a,b=o,O(m,{$helper:{element:w=c},$part:p.model(p.scope),$index:h,$item:p.model(p.scope)[h]}),m.$root&&m.$root.$$phase||m.$apply()),E={x:~~((f=$[0].getBoundingClientRect()).left+f.width/2),y:~~(f.top+f.height/2)},r=!0,y=[],w[0].reposition({x:i.x-i.offset.x*L.width,y:i.y-i.offset.y*L.height},B),n(S).forEach(function(e,n){if(null==o.containment||u(e.element,o.containment)||u(e.element,o.containment+" *")){var r=e.element[0].getBoundingClientRect(),l={x:~~(r.left+r.width/2),y:~~(r.top+r.height/2)};e.container||!e.element[0].scrollHeight&&!e.element[0].scrollWidth||y.push({element:e.element,q:(l.x-i.x)*(l.x-i.x)+(l.y-i.y)*(l.y-i.y),view:e.getPart(),targetIndex:e.getIndex(),after:t(l,i,T)}),e.container&&!e.element[0].querySelector("[sv-element]:not(.sv-placeholder):not(.sv-source)")&&y.push({element:e.element,q:(l.x-i.x)*(l.x-i.x)+(l.y-i.y)*(l.y-i.y),view:e.getPart(),targetIndex:0,container:!0})}}),y.push({q:(E.x-i.x)*(E.x-i.x)+(E.y-i.y)*(E.y-i.y),element:$,placeholder:!0}),y.sort(function(e,t){return e.q-t.q}),y.forEach(function(e,t){0!==t||e.placeholder||e.container?0===t&&e.container?(C=e,e.element.append($)):e.element.removeClass("sv-candidate"):(C=e,e.element.addClass("sv-candidate"),e.after?e.element.after($):s(e.element,$))}),L=l(c[0],!0);for(var q,H,I=0,N=P.length;I<N;I++){if(q=P[I],H=q.getBoundingClientRect(),q===document.documentElement&&document.body.scrollTop>0&&(q=document.body),q.scrollTop>0&&(H.top>L.top||L.top<=0)){k(-5,200,q);break}if(q.scrollTop<q.scrollHeight-(q===document.body?document.documentElement:q).clientHeight&&(q!==document.body&&q!==document.documentElement&&H.bottom<L.bottom||L.bottom>e.innerHeight)){k(5,200,q);break}R&&this.stopScrolling()}},this.$drop=function(e,t,n){function o(){if(r=!1,$.remove(),w.remove(),x.removeClass("ng-hide"),y=void 0,$=void 0,n=void 0,w=void 0,x=void 0,L(m,{$part:e.model(e.scope),$index:t,$item:e.model(e.scope)[t]}),C){C.element.removeClass("sv-candidate");var o=e.model(e.scope).splice(t,1),i=C.targetIndex;C.view===e&&C.targetIndex>t&&i--,C.after&&i++,C.view.model(C.view.scope).splice(i,0,o[0]),C.view===e&&t===i||M(m,{$partTo:C.view.model(C.view.scope),$partFrom:e.model(e.scope),$item:o[0],$indexTo:i,$indexFrom:t})}C=void 0,m.$root&&m.$root.$$phase||m.$apply()}if($)if(n.revert){var i=$[0].getBoundingClientRect(),l=w[0].getBoundingClientRect(),s=Math.sqrt(Math.pow(l.top-i.top,2)+Math.pow(l.left-i.left,2)),c=+n.revert*s/200;c=Math.min(c,+n.revert),["-webkit-","-moz-","-ms-","-o-",""].forEach(function(e){void 0!==w[0].style[e+"transition"]&&(w[0].style[e+"transition"]="all "+c+"ms ease")}),setTimeout(o,c),w.css(a($[0]))}else o()},this.addToSortableElements=function(e){n(S).push(e)},this.removeFromSortableElements=function(e){var t=n(S),r=t.indexOf(e);r>-1&&(t.splice(r,1),0===t.length&&o(S))}}]}}]),y.directive("svPart",["$parse",function(e){return{restrict:"A",require:"^svRoot",controller:["$scope",function(e){e.$svRootCtrl=this,this.getPart=function(){return e.part},this.$drop=function(t,n){e.$sortableRoot.$drop(e.part,t,n)}}],scope:!0,link:function(t,n,o,r){if(!o.svPart)throw new Error("no model provided");var i=e(o.svPart);if(!i.assign)throw new Error("model not assignable");t.part={id:t.$id,element:n,model:i,scope:t},t.$sortableRoot=r;var l={element:n,getPart:t.$svRootCtrl.getPart,container:!0};r.addToSortableElements(l),t.$on("$destroy",function(){r.removeFromSortableElements(l)})}}}]),y.directive("svElement",["$parse",function(e){return{restrict:"A",require:["^svPart","^svRoot"],controller:["$scope",function(e){e.$svElementCtrl=this}],link:function(n,r,i,l){function s(){r.off("touchstart",a),y.off("touchstart",a),y.off("mousedown",d)}function a(e){function t(e){f?document.removeEventListener("touchmove",t,{passive:!1}):w.off("touchmove",t),n+m<Date.now()&&(e.preventDefault(),d(e,!0))}var n=Date.now();f?document.addEventListener("touchmove",t,{passive:!1}):w.on("touchmove",t)}function d(s,a){function d(e){l[1].stopScrolling(),w.off(g,m),w.off(v,d),f&&document.removeEventListener("touchmove",m,{passive:!1}),w.removeClass("sv-sorting-in-progress"),u&&l[0].$drop(n.$index,x),r.removeClass("sv-visibility-hidden")}function m(e){o(e),u||(r.parent().prepend(y),u=!0),l[1].$moveUpdate(x,{x:e.clientX,y:e.clientY,offset:C},y,r,h,l[0].getPart(),n.$index)}if(o(s),!l[1].sortingInProgress()&&(0==s.button||"mousedown"!==s.type)){var y,$=r,b=r[0].getBoundingClientRect(),x=e(i.svElement)(n),C={x:(s.clientX-b.left)/b.width,y:(s.clientY-b.top)/b.height};u=!1,x=t.extend({},{tolerance:"pointer",revert:200,containment:"html"},x),p||(p=l[0].helper),h||(h=l[0].placeholder),p?((y=p.clone()).removeClass("ng-hide"),$.addClass("sv-visibility-hidden")):(y=$.clone()).addClass("sv-helper").css({width:b.width+"px"}),y[0].reposition=function(e,t){var n,o,r,i,l=y[0].getBoundingClientRect(),s=c(y),a="HTML"===s[0].tagName,d=s[0].getBoundingClientRect(),u=d.top-(a?0:s[0].scrollTop),m=d.left-(a?0:s[0].scrollLeft),p=e.x-m,h=e.y-u;t&&(n=t.top-u+(a?document.body.scrollTop||document.documentElement.scrollTop:0),o=t.left-m+(a?document.body.scrollLeft||document.documentElement.scrollLeft:0),r=s[0].offsetTop+y[0].parentNode.offsetTop+n+t.height-1,i=s[0].offsetLeft+y[0].parentNode.offsetLeft+o+t.width,h=Math.min(r-l.height,Math.max(h,n)),p=Math.min(i-l.width,Math.max(p,o))),this.style.left=p+"px",this.style.top=h+"px"},w.addClass("sv-sorting-in-progress"),w.on(g,m).on(v,d),f&&document.addEventListener("touchmove",m,{passive:!1}),a&&m(s)}}var u,p,h,v="mouseup touchend touchcancel",g="mousemove"+(f?"":" touchmove"),y=r,$={element:r,getPart:l[0].getPart,getIndex:function(){return n.$index}},b=!1,w=t.element(document.documentElement);l[1].addToSortableElements($),n.$on("$destroy",function(){b=!0,s(),l[1].removeFromSortableElements($)}),r.on("touchstart",a),y.on("mousedown",d),n.$watch("$svElementCtrl.handle",function(e){e&&(s(),(y=e).on("touchstart",a),y.on("mousedown",d))}),n.$watch("$svElementCtrl.helper",function(e){e&&(p=e)}),n.$watch("$svElementCtrl.placeholder",function(e){e&&(h=e)})}}}]),y.directive("svHandle",function(){return{require:"?^svElement",link:function(e,t,o,r){r&&(r.handle=n.call(t,r.handle))}}}),y.directive("svHelper",function(){return{require:["?^svPart","?^svElement"],link:function(e,t,n,o){t.addClass("sv-helper").addClass("ng-hide"),o[1]?o[1].helper=t:o[0]&&(o[0].helper=t)}}}),y.directive("svPlaceholder",function(){return{require:["?^svPart","?^svElement"],link:function(e,t,n,o){t.addClass("sv-placeholder").addClass("ng-hide"),o[1]?o[1].placeholder=t:o[0]&&(o[0].placeholder=t)}}})}(window,window.angular);
/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.2.0",d.prototype.close=function(b){function c(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.2.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),d[e](null==f[b]?this.options[b]:f[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b).on("keydown.bs.carousel",a.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0",c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.to=function(b){var c=this,d=this.getItemIndex(this.$active=this.$element.find(".item.active"));return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=e[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:g});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(e)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:g});return a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one("bsTransitionEnd",function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),f&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(b=!b),e||d.data("bs.collapse",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};c.VERSION="3.2.0",c.DEFAULTS={toggle:!0},c.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$parent&&this.$parent.find("> .panel > .in");if(d&&d.length){var e=d.data("bs.collapse");if(e&&e.transitioning)return;b.call(d,"hide"),e||d.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return g.call(this);var h=a.camelCase(["scroll",f].join("-"));this.$element.one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(350)[f](this.$element[0][h])}}},c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=b,a.fn.collapse.Constructor=c,a.fn.collapse.noConflict=function(){return a.fn.collapse=d,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var d,e=a(this),f=e.attr("data-target")||c.preventDefault()||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(f),h=g.data("bs.collapse"),i=h?"toggle":e.data(),j=e.attr("data-parent"),k=j&&a(j);h&&h.transitioning||(k&&k.find('[data-toggle="collapse"][data-parent="'+j+'"]').not(e).addClass("collapsed"),e[g.hasClass("in")?"addClass":"removeClass"]("collapsed")),b.call(g,i)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f+', [role="menu"], [role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.2.0",c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}else b&&b()},c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.2.0",c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(document.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.$element.parent(),o=this.getPosition(n);g="bottom"==g&&j.top+j.height+l-o.scroll>o.height?"top":"top"==g&&j.top-o.scroll-l<0?"bottom":"right"==g&&j.right+k>o.width?"left":"left"==g&&j.left-k<o.left?"right":g,e.removeClass(m).addClass(g)}var p=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(p,g);var q=function(){d.$element.trigger("shown.bs."+d.type),d.hoverState=null};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(150):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=k.left?2*k.left-e+i:2*k.top-f+j,m=k.left?"left":"top",n=k.left?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(l,d[0][n],m)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.2.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.2.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.2.0",c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.closest("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},c.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault(),b.call(a(this),"show")})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.2.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=b-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){null!=this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:b-this.$element.height()-h}))}}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
function X2JS(v){var q="1.1.5";v=v||{};h();r();function h(){if(v.escapeMode===undefined){v.escapeMode=true;}v.attributePrefix=v.attributePrefix||"_";v.arrayAccessForm=v.arrayAccessForm||"none";v.emptyNodeForm=v.emptyNodeForm||"text";if(v.enableToStringFunc===undefined){v.enableToStringFunc=true;}v.arrayAccessFormPaths=v.arrayAccessFormPaths||[];if(v.skipEmptyTextNodesForObj===undefined){v.skipEmptyTextNodesForObj=true;}if(v.stripWhitespaces===undefined){v.stripWhitespaces=true;}v.datetimeAccessFormPaths=v.datetimeAccessFormPaths||[];}var g={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function r(){function x(z){var y=String(z);if(y.length===1){y="0"+y;}return y;}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"");};}if(typeof Date.prototype.toISOString!=="function"){Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+x(this.getUTCMonth()+1)+"-"+x(this.getUTCDate())+"T"+x(this.getUTCHours())+":"+x(this.getUTCMinutes())+":"+x(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z";};}}function t(x){var y=x.localName;if(y==null){y=x.baseName;}if(y==null||y==""){y=x.nodeName;}return y;}function o(x){return x.prefix;}function p(x){if(typeof(x)=="string"){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;");}else{return x;}}function j(x){return x.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/");}function l(B,y,A){switch(v.arrayAccessForm){case"property":if(!(B[y] instanceof Array)){B[y+"_asArray"]=[B[y]];}else{B[y+"_asArray"]=B[y];}break;}if(!(B[y] instanceof Array)&&v.arrayAccessFormPaths.length>0){var x=0;for(;x<v.arrayAccessFormPaths.length;x++){var z=v.arrayAccessFormPaths[x];if(typeof z==="string"){if(z==A){break;}}else{if(z instanceof RegExp){if(z.test(A)){break;}}else{if(typeof z==="function"){if(z(B,y,A)){break;}}}}}if(x!=v.arrayAccessFormPaths.length){B[y]=[B[y]];}}}function a(C){var A=C.split(/[-T:+Z]/g);var B=new Date(A[0],A[1]-1,A[2]);var z=A[5].split(".");B.setHours(A[3],A[4],z[0]);if(z.length>1){B.setMilliseconds(z[1]);}if(A[6]&&A[7]){var y=A[6]*60+Number(A[7]);var x=/\d\d-\d\d:\d\d$/.test(C)?"-":"+";y=0+(x=="-"?-1*y:y);B.setMinutes(B.getMinutes()-y-B.getTimezoneOffset());}else{if(C.indexOf("Z",C.length-1)!==-1){B=new Date(Date.UTC(B.getFullYear(),B.getMonth(),B.getDate(),B.getHours(),B.getMinutes(),B.getSeconds(),B.getMilliseconds()));}}return B;}function n(A,y,z){if(v.datetimeAccessFormPaths.length>0){var B=z.split(".#")[0];var x=0;for(;x<v.datetimeAccessFormPaths.length;x++){var C=v.datetimeAccessFormPaths[x];if(typeof C==="string"){if(C==B){break;}}else{if(C instanceof RegExp){if(C.test(B)){break;}}else{if(typeof C==="function"){if(C(obj,y,B)){break;}}}}}if(x!=v.datetimeAccessFormPaths.length){return a(A);}else{return A;}}else{return A;}}function w(z,E){if(z.nodeType==g.DOCUMENT_NODE){var F=new Object;var x=z.childNodes;for(var G=0;G<x.length;G++){var y=x.item(G);if(y.nodeType==g.ELEMENT_NODE){var D=t(y);F[D]=w(y,D);}}return F;}else{if(z.nodeType==g.ELEMENT_NODE){var F=new Object;F.__cnt=0;var x=z.childNodes;for(var G=0;G<x.length;G++){var y=x.item(G);var D=t(y);if(y.nodeType!=g.COMMENT_NODE){F.__cnt++;if(F[D]==null){F[D]=w(y,E+"."+D);l(F,D,E+"."+D);}else{if(F[D]!=null){if(!(F[D] instanceof Array)){F[D]=[F[D]];l(F,D,E+"."+D);}}(F[D])[F[D].length]=w(y,E+"."+D);}}}for(var A=0;A<z.attributes.length;A++){var B=z.attributes.item(A);F.__cnt++;F[v.attributePrefix+B.name]=B.value;}var C=o(z);if(C!=null&&C!=""){F.__cnt++;F.__prefix=C;}if(F["#text"]!=null){F.__text=F["#text"];if(F.__text instanceof Array){F.__text=F.__text.join("\n");}if(v.escapeMode){F.__text=j(F.__text);}if(v.stripWhitespaces){F.__text=F.__text.trim();}delete F["#text"];if(v.arrayAccessForm=="property"){delete F["#text_asArray"];}F.__text=n(F.__text,D,E+"."+D);}if(F["#cdata-section"]!=null){F.__cdata=F["#cdata-section"];delete F["#cdata-section"];if(v.arrayAccessForm=="property"){delete F["#cdata-section_asArray"];}}if(F.__cnt==1&&F.__text!=null){F=F.__text;}else{if(F.__cnt==0&&v.emptyNodeForm=="text"){F="";}else{if(F.__cnt>1&&F.__text!=null&&v.skipEmptyTextNodesForObj){if((v.stripWhitespaces&&F.__text=="")||(F.__text.trim()=="")){delete F.__text;}}}}delete F.__cnt;if(v.enableToStringFunc&&(F.__text!=null||F.__cdata!=null)){F.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"");};}return F;}else{if(z.nodeType==g.TEXT_NODE||z.nodeType==g.CDATA_SECTION_NODE){return z.nodeValue;}}}}function m(E,B,D,y){var A="<"+((E!=null&&E.__prefix!=null)?(E.__prefix+":"):"")+B;if(D!=null){for(var C=0;C<D.length;C++){var z=D[C];var x=E[z];if(v.escapeMode){x=p(x);}A+=" "+z.substr(v.attributePrefix.length)+"='"+x+"'";}}if(!y){A+=">";}else{A+="/>";}return A;}function i(y,x){return"</"+(y.__prefix!=null?(y.__prefix+":"):"")+x+">";}function s(y,x){return y.indexOf(x,y.length-x.length)!==-1;}function u(y,x){if((v.arrayAccessForm=="property"&&s(x.toString(),("_asArray")))||x.toString().indexOf(v.attributePrefix)==0||x.toString().indexOf("__")==0||(y[x] instanceof Function)){return true;}else{return false;}}function k(z){var y=0;if(z instanceof Object){for(var x in z){if(u(z,x)){continue;}y++;}}return y;}function b(z){var y=[];if(z instanceof Object){for(var x in z){if(x.toString().indexOf("__")==-1&&x.toString().indexOf(v.attributePrefix)==0){y.push(x);}}}return y;}function f(y){var x="";if(y.__cdata!=null){x+="<![CDATA["+y.__cdata+"]]>";}if(y.__text!=null){if(v.escapeMode){x+=p(y.__text);}else{x+=y.__text;}}return x;}function c(y){var x="";if(y instanceof Object){x+=f(y);}else{if(y!=null){if(v.escapeMode){x+=p(y);}else{x+=y;}}}return x;}function e(z,B,A){var x="";if(z.length==0){x+=m(z,B,A,true);}else{for(var y=0;y<z.length;y++){x+=m(z[y],B,b(z[y]),false);x+=d(z[y]);x+=i(z[y],B);}}return x;}function d(D){var x="";var B=k(D);if(B>0){for(var A in D){if(u(D,A)){continue;}var z=D[A];var C=b(z);if(z==null||z==undefined){x+=m(z,A,C,true);}else{if(z instanceof Object){if(z instanceof Array){x+=e(z,A,C);}else{if(z instanceof Date){x+=m(z,A,C,false);x+=z.toISOString();x+=i(z,A);}else{var y=k(z);if(y>0||z.__text!=null||z.__cdata!=null){x+=m(z,A,C,false);x+=d(z);x+=i(z,A);}else{x+=m(z,A,C,true);}}}}else{x+=m(z,A,C,false);x+=c(z);x+=i(z,A);}}}}x+=c(D);return x;}this.parseXmlString=function(z){var B=window.ActiveXObject||"ActiveXObject" in window;if(z===undefined){return null;}var A;if(window.DOMParser){var C=new window.DOMParser();var x=null;if(!B){try{x=C.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI;}catch(y){x=null;}}try{A=C.parseFromString(z,"text/xml");if(x!=null&&A.getElementsByTagNameNS(x,"parsererror").length>0){A=null;}}catch(y){A=null;}}else{if(z.indexOf("<?")==0){z=z.substr(z.indexOf("?>")+2);}A=new ActiveXObject("Microsoft.XMLDOM");A.async="false";A.loadXML(z);}return A;};this.asArray=function(x){if(x instanceof Array){return x;}else{return[x];}};this.toXmlDateTime=function(x){if(x instanceof Date){return x.toISOString();}else{if(typeof(x)==="number"){return new Date(x).toISOString();}else{return null;}}};this.asDateTime=function(x){if(typeof(x)=="string"){return a(x);}else{return x;}};this.xml2json=function(x){return w(x);};this.xml_str2json=function(x){var y=this.parseXmlString(x);if(y!=null){return this.xml2json(y);}else{return null;}};this.json2xml_str=function(x){return d(x);};this.json2xml=function(y){var x=this.json2xml_str(y);return this.parseXmlString(x);};this.getVersion=function(){return q;};}
"use strict";function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,s=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){l=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(a){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(a);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var a;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(a="Object"===(a=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?e(require("jquery")):e(jQuery)}(function(d){var i,a=0,l=Array.prototype.slice;d.cleanData=(i=d.cleanData,function(e){for(var t,a,n=0;null!=(a=e[n]);n++)try{(t=d._data(a,"events"))&&t.remove&&d(a).triggerHandler("remove")}catch(e){}i(e)}),d.widget=function(e,a,t){var n,i,s,o,l={},r=e.split(".")[0];return e=e.split(".")[1],n=r+"-"+e,t||(t=a,a=d.Widget),d.expr[":"][n.toLowerCase()]=function(e){return!!d.data(e,n)},d[r]=d[r]||{},i=d[r][e],s=d[r][e]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},d.extend(s,i,{version:t.version,_proto:d.extend({},t),_childConstructors:[]}),(o=new a).options=d.widget.extend({},o.options),d.each(t,function(t,n){function i(){return a.prototype[t].apply(this,arguments)}function s(e){return a.prototype[t].apply(this,e)}d.isFunction(n)?l[t]=function(){var e,t=this._super,a=this._superApply;return this._super=i,this._superApply=s,e=n.apply(this,arguments),this._super=t,this._superApply=a,e}:l[t]=n}),s.prototype=d.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||e},l,{constructor:s,namespace:r,widgetName:e,widgetFullName:n}),i?(d.each(i._childConstructors,function(e,t){var a=t.prototype;d.widget(a.namespace+"."+a.widgetName,s,t._proto)}),delete i._childConstructors):a._childConstructors.push(s),d.widget.bridge(e,s),s},d.widget.extend=function(e){for(var t,a,n=l.call(arguments,1),i=0,s=n.length;i<s;i++)for(t in n[i])a=n[i][t],n[i].hasOwnProperty(t)&&void 0!==a&&(d.isPlainObject(a)?e[t]=d.isPlainObject(e[t])?d.widget.extend({},e[t],a):d.widget.extend({},a):e[t]=a);return e},d.widget.bridge=function(s,t){var o=t.prototype.widgetFullName||s;d.fn[s]=function(a){var e="string"==typeof a,n=l.call(arguments,1),i=this;return e?this.each(function(){var e,t=d.data(this,o);return"instance"===a?(i=t,!1):t?d.isFunction(t[a])&&"_"!==a.charAt(0)?(e=t[a].apply(t,n))!==t&&void 0!==e?(i=e&&e.jquery?i.pushStack(e.get()):e,!1):void 0:d.error("no such method '"+a+"' for "+s+" widget instance"):d.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+a+"'")}):(n.length&&(a=d.widget.extend.apply(null,[a].concat(n))),this.each(function(){var e=d.data(this,o);e?(e.option(a||{}),e._init&&e._init()):d.data(this,o,new t(a,this))})),i}},d.Widget=function(){},d.Widget._childConstructors=[],d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=d(t||this.defaultElement||this)[0],this.element=d(t),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=d(),this.hoverable=d(),this.focusable=d(),t!==this&&(d.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=d(t.style?t.ownerDocument:t.document||t),this.window=d(this.document[0].defaultView||this.document[0].parentWindow)),this.options=d.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(e,t){var a,n,i,s=e;if(0===arguments.length)return d.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(a=e.split(".")).shift(),a.length){for(n=s[e]=d.widget.extend({},this.options[e]),i=0;i<a.length-1;i++)n[a[i]]=n[a[i]]||{},n=n[a[i]];if(e=a.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=t}return this._setOptions(s),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(i,s,e){var o,l=this;"boolean"!=typeof i&&(e=s,s=i,i=!1),e?(s=o=d(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,o=this.widget()),d.each(e,function(e,t){function a(){if(i||!0!==l.options.disabled&&!d(this).hasClass("ui-state-disabled"))return("string"==typeof t?l[t]:t).apply(l,arguments)}"string"!=typeof t&&(a.guid=t.guid=t.guid||a.guid||d.guid++);var e=e.match(/^([\w:-]*)\s*(.*)$/),n=e[1]+l.eventNamespace,e=e[2];e?o.delegate(e,n,a):s.bind(n,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=d(this.bindings.not(e).get()),this.focusable=d(this.focusable.not(e).get()),this.hoverable=d(this.hoverable.not(e).get())},_delay:function(e,t){var a=this;return setTimeout(function(){return("string"==typeof e?a[e]:e).apply(a,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){d(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){d(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){d(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){d(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,a){var n,i,s=this.options[e];if(a=a||{},(t=d.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],i=t.originalEvent)for(n in i)n in t||(t[n]=i[n]);return this.element.trigger(t,a),!(d.isFunction(s)&&!1===s.apply(this.element[0],[t].concat(a))||t.isDefaultPrevented())}},d.each({show:"fadeIn",hide:"fadeOut"},function(s,o){d.Widget.prototype["_"+s]=function(t,e,a){var n=(e="string"==typeof e?{effect:e}:e)?!0!==e&&"number"!=typeof e&&e.effect||o:s,i=!d.isEmptyObject(e="number"==typeof(e=e||{})?{duration:e}:e);e.complete=a,e.delay&&t.delay(e.delay),i&&d.effects&&d.effects.effect[n]?t[s](e):n!==s&&t[n]?t[n](e.duration,e.easing,a):t.queue(function(e){d(this)[s](),a&&a.call(t[0]),e()})}}),d.widget}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?e(require("jquery")):e(window.jQuery)}(function(r){var a=0;r.ajaxTransport("iframe",function(i){var s,o,l,t;if(i.async)return s=i.initialIframeSrc||"javascript:false;",{send:function(e,n){(o=r('<form style="display:none;"></form>')).attr("accept-charset",i.formAcceptCharset),t=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+t+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+t+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+t+"_method=PATCH",i.type="POST"),l=r('<iframe src="'+s+'" name="iframe-transport-'+(a+=1)+'"></iframe>').bind("load",function(){var a,t=r.isArray(i.paramName)?i.paramName:[i.paramName];l.unbind("load").bind("load",function(){var t;try{if(!(t=l.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=void 0}n(200,"success",{iframe:t}),r('<iframe src="'+s+'"></iframe>').appendTo(o),window.setTimeout(function(){o.remove()},0)}),o.prop("target",l.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&r.each(i.formData,function(e,t){r('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(o)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(a=i.fileInput.clone(),i.fileInput.after(function(e){return a[e]}),i.paramName&&i.fileInput.each(function(e){r(this).prop("name",t[e]||i.paramName)}),o.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),o.submit(),a&&a.length&&i.fileInput.each(function(e,t){e=r(a[e]);r(t).prop("name",e.prop("name")).attr("form",e.attr("form")),e.replaceWith(t)})}),o.append(l).appendTo(document.body)},abort:function(){l&&l.unbind("load").prop("src",s),o&&o.remove()}}}),r.ajaxSetup({converters:{"iframe text":function(e){return e&&r(e[0].body).text()},"iframe json":function(e){return e&&r.parseJSON(r(e[0].body).text())},"iframe html":function(e){return e&&r(e[0].body).html()},"iframe xml":function(e){e=e&&e[0];return e&&r.isXMLDoc(e)?e:r.parseXML(e.XMLDocument&&e.XMLDocument.xml||r(e.body).html())},"iframe script":function(e){return e&&r.globalEval(r(e[0].body).text())}}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(h){function e(a){var n="dragover"===a;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==h.inArray("Files",t.types)&&!1!==this._trigger(a,h.Event(a,{delegatedEvent:e}))&&(e.preventDefault(),n&&(t.dropEffect="copy"))}}h.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||h('<input type="file">').prop("disabled")),h.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),h.support.xhrFormDataFileUpload=!!window.FormData,h.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),h.widget("blueimp.fileupload",{options:{dropZone:h(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(a,e){return a=this.messages[a]||a.toString(),e&&h.each(e,function(e,t){a=a.replace("{"+e+"}",t)}),a},formData:function(e){return e.form.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&h(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.context=h("<p/>").text("Uploading...").appendTo(document.body),t.submit()})},done:function(e,t){h.each(t.files||t.result.files,function(e,t){h("<p/>").text(t.name).appendTo(document.body)})},progressall:function(e,t){t=parseInt(t.loaded/t.total*100,10);h("#progress .bar").css("width",t+"%")},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:h.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,a){var n=e-this.timestamp;return this.bitrate&&a&&!(a<n)||(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&h.support.xhrFileUpload||h.support.xhrFormDataFileUpload)},_getFormData:function(e){var a;return"function"===h.type(e.formData)?e.formData(e.form):h.isArray(e.formData)?e.formData:"object"===h.type(e.formData)?(a=[],h.each(e.formData,function(e,t){a.push({name:e,value:t})}),a):[]},_getTotal:function(e){var a=0;return h.each(e,function(e,t){a+=t.size||1}),a},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?h.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){if(e._response)for(var t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){var a,n;e.lengthComputable&&(a=Date.now?Date.now():(new Date).getTime(),t._time&&t.progressInterval&&a-t._time<t.progressInterval&&e.loaded!==e.total||(t._time=a,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(a,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(a,n,t.bitrateInterval),this._trigger("progress",h.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",h.Event("progressall",{delegatedEvent:e}),this._progress)))},_initProgressListener:function(a){var n=this,e=(a.xhr?a:h.ajaxSettings).xhr();e.upload&&(h(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,n._onProgress(e,a)}),a.xhr=function(){return e})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(a){var n,i=this,e=a.files[0],t=a.multipart||!h.support.xhrFileUpload,s="array"===h.type(a.paramName)?a.paramName[0]:a.paramName;a.headers=h.extend({},a.headers),a.contentRange&&(a.headers["Content-Range"]=a.contentRange),t&&!a.blob&&this._isInstanceOf("File",e)||(a.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),t?h.support.xhrFormDataFileUpload&&(a.postMessage?(n=this._getFormData(a),a.blob?n.push({name:s,value:a.blob}):h.each(a.files,function(e,t){n.push({name:"array"===h.type(a.paramName)&&a.paramName[e]||s,value:t})})):(i._isInstanceOf("FormData",a.formData)?n=a.formData:(n=new FormData,h.each(this._getFormData(a),function(e,t){n.append(t.name,t.value)})),a.blob?n.append(s,a.blob,e.name):h.each(a.files,function(e,t){(i._isInstanceOf("File",t)||i._isInstanceOf("Blob",t))&&n.append("array"===h.type(a.paramName)&&a.paramName[e]||s,t,t.uploadName||t.name)})),a.data=n):(a.contentType=e.type||"application/octet-stream",a.data=a.blob||e),a.blob=null},_initIframeSettings:function(e){var t=h("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=h(e.fileInput),n=e.paramName;return n?h.isArray(n)||(n=[n]):(n=[],t.each(function(){for(var e=h(this),t=e.prop("name")||"files[]",a=(e.prop("files")||[1]).length;a;)n.push(t),--a}),n.length||(n=[t.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=h(e.fileInput.prop("form")),e.form.length||(e.form=h(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===h.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){e=h.extend({},this.options,e);return this._initFormSettings(e),this._initDataSettings(e),e},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,a){var n=h.Deferred(),i=n.promise();return t=t||this.options.context||i,!0===e?n.resolveWith(t,a):!1===e&&n.rejectWith(t,a),i.abort=n.promise,this._enhancePromise(i)},_addConvenienceMethods:function(e,a){function n(e){return h.Deferred().resolveWith(i,e).promise()}var i=this;a.process=function(e,t){return(e||t)&&(a._processQueue=this._processQueue=(this._processQueue||n([this])).pipe(function(){return a.errorThrown?h.Deferred().rejectWith(i,[a]).promise():n(arguments)}).pipe(e,t)),this._processQueue||n([this])},a.submit=function(){return"pending"!==this.state()&&(a.jqXHR=this.jqXHR=!1!==i._trigger("submit",h.Event("submit",{delegatedEvent:e}),this)&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},a.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},a.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},a.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},a.progress=function(){return this._progress},a.response=function(){return this._response}},_getUploadedBytes:function(e){e=e.getResponseHeader("Range"),e=e&&e.split("-"),e=e&&1<e.length&&parseInt(e[1],10);return e&&e+1},_chunkedUpload:function(s,e){s.uploadedBytes=s.uploadedBytes||0;var t,o,l=this,a=s.files[0],r=a.size,d=s.uploadedBytes,c=s.maxChunkSize||r,u=this._blobSlice,p=h.Deferred(),n=p.promise();return!(!(this._isXHRUpload(s)&&u&&(d||c<r))||s.data)&&(!!e||(r<=d?(a.error=s.i18n("uploadedBytes"),this._getXHRPromise(!1,s.context,[null,"error",a.error])):(o=function(){var n=h.extend({},s),i=n._progress.loaded;n.blob=u.call(a,d,d+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+d+"-"+(d+n.chunkSize-1)+"/"+r,l._initXHRData(n),l._initProgressListener(n),t=(!1!==l._trigger("chunksend",null,n)&&h.ajax(n)||l._getXHRPromise(!1,n.context)).done(function(e,t,a){d=l._getUploadedBytes(a)||d+n.chunkSize,i+n.chunkSize-n._progress.loaded&&l._onProgress(h.Event("progress",{lengthComputable:!0,loaded:d-n.uploadedBytes,total:d-n.uploadedBytes}),n),s.uploadedBytes=n.uploadedBytes=d,n.result=e,n.textStatus=t,n.jqXHR=a,l._trigger("chunkdone",null,n),l._trigger("chunkalways",null,n),d<r?o():p.resolveWith(n.context,[e,t,a])}).fail(function(e,t,a){n.jqXHR=e,n.textStatus=t,n.errorThrown=a,l._trigger("chunkfail",null,n),l._trigger("chunkalways",null,n),p.rejectWith(n.context,[e,t,a])})},this._enhancePromise(n),n.abort=function(){return t.abort()},o(),n)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,a,n){var i=n._progress.total,s=n._response;n._progress.loaded<i&&this._onProgress(h.Event("progress",{lengthComputable:!0,loaded:i,total:i}),n),s.result=n.result=e,s.textStatus=n.textStatus=t,s.jqXHR=n.jqXHR=a,this._trigger("done",null,n)},_onFail:function(e,t,a,n){var i=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),i.jqXHR=n.jqXHR=e,i.textStatus=n.textStatus=t,i.errorThrown=n.errorThrown=a,this._trigger("fail",null,n)},_onAlways:function(e,t,a,n){this._trigger("always",null,n)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);function a(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,n=n||((i||!1===o._trigger("send",h.Event("send",{delegatedEvent:e}),l))&&o._getXHRPromise(!1,l.context,i)||o._chunkedUpload(l)||h.ajax(l)).done(function(e,t,a){o._onDone(e,t,a,l)}).fail(function(e,t,a){o._onFail(e,t,a,l)}).always(function(e,t,a){if(o._onAlways(e,t,a,l),--o._sending,--o._active,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var n=o._slots.shift();n;){if("pending"===o._getDeferredState(n)){n.resolve();break}n=o._slots.shift()}0===o._active&&o._trigger("stop")})}var n,i,s,o=this,l=o._getAJAXSettings(t);return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?((t=1<this.options.limitConcurrentUploads?(s=h.Deferred(),this._slots.push(s),s.pipe(a)):(this._sequence=this._sequence.pipe(a,a),this._sequence)).abort=function(){return i=[void 0,"abort","abort"],n?n.abort():(s&&s.rejectWith(l.context,i),a())},this._enhancePromise(t)):a()},_onAdd:function(n,i){var s,e,o,t,l=this,r=!0,a=h.extend({},this.options,i),d=i.files,c=d.length,u=a.limitMultiFileUploads,p=a.limitMultiFileUploadSize,m=a.limitMultiFileUploadSizeOverhead,g=0,f=this._getParamName(a),v=0;if(!c)return!1;if(p&&void 0===d[0].size&&(p=void 0),(a.singleFileUploads||u||p)&&this._isXHRUpload(a))if(a.singleFileUploads||p||!u)if(!a.singleFileUploads&&p)for(o=[],s=[],t=0;t<c;t+=1)g+=d[t].size+m,(t+1===c||g+d[t+1].size+m>p||u&&u<=t+1-v)&&(o.push(d.slice(v,t+1)),(e=f.slice(v,t+1)).length||(e=f),s.push(e),v=t+1,g=0);else s=f;else for(o=[],s=[],t=0;t<c;t+=u)o.push(d.slice(t,t+u)),(e=f.slice(t,t+u)).length||(e=f),s.push(e);else o=[d],s=[f];return i.originalFiles=d,h.each(o||d,function(e,t){var a=h.extend({},i);return a.files=o?t:[t],a.paramName=s[e],l._initResponseObject(a),l._initProgressObject(a),l._addConvenienceMethods(n,a),r=l._trigger("add",h.Event("add",{delegatedEvent:n}),a)}),r},_replaceFileInput:function(e){var a=e.fileInput,n=a.clone(!0),t=a.is(document.activeElement);e.fileInputClone=n,h("<form></form>").append(n)[0].reset(),a.after(n).detach(),t&&n.focus(),h.cleanData(a.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===a[0]?n[0]:t}),a[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,a){function n(){e.readEntries(function(e){e.length?(r=r.concat(e),n()):l(r)},o)}var e,i=this,s=h.Deferred(),o=function(e){e&&!e.entry&&(e.entry=t),s.resolve([e])},l=function(e){i._handleFileTreeEntries(e,a+t.name+"/").done(function(e){s.resolve(e)}).fail(o)},r=[];return a=a||"",t.isFile?t._file?(t._file.relativePath=a,s.resolve(t._file)):t.file(function(e){e.relativePath=a,s.resolve(e)},o):t.isDirectory?(e=t.createReader(),n()):s.resolve([]),s.promise()},_handleFileTreeEntries:function(e,t){var a=this;return h.when.apply(h,h.map(e,function(e){return a._handleFileTreeEntry(e,t)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(h.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):h.Deferred().resolve(h.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t=(e=h(e)).prop("webkitEntries")||e.prop("entries");if(t&&t.length)return this._handleFileTreeEntries(t);if((t=h.makeArray(e.prop("files"))).length)void 0===t[0].name&&t[0].fileName&&h.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(e=e.prop("value")))return h.Deferred().resolve([]).promise();t=[{name:e.replace(/^.*\\/,"")}]}return h.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof h&&1!==e.length?h.when.apply(h,h.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var a=this,n={fileInput:h(t.target),form:h(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(e){n.files=e,a.options.replaceFileInput&&a._replaceFileInput(n),!1!==a._trigger("change",h.Event("change",{delegatedEvent:t}),n)&&a._onAdd(t,n)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,a={files:[]};t&&t.length&&(h.each(t,function(e,t){t=t.getAsFile&&t.getAsFile();t&&a.files.push(t)}),!1!==this._trigger("paste",h.Event("paste",{delegatedEvent:e}),a)&&this._onAdd(e,a))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var a=this,e=t.dataTransfer,n={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){n.files=e,!1!==a._trigger("drop",h.Event("drop",{delegatedEvent:t}),n)&&a._onAdd(t,n)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),h.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,t){var a=-1!==h.inArray(e,this._specialOptions);a&&this._destroyEventHandlers(),this._super(e,t),a&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof h||(e.fileInput=h(e.fileInput)),e.dropZone instanceof h||(e.dropZone=h(e.dropZone)),e.pasteZone instanceof h||(e.pasteZone=h(e.pasteZone))},_getRegExp:function(e){var e=e.split("/"),t=e.pop();return e.shift(),new RegExp(e.join("/"),t)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===h.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var n=this,i=this.options,s=this.element.data();h.each(this.element[0].attributes,function(e,t){var a,t=t.name.toLowerCase();/^data-/.test(t)&&(t=t.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),a=s[t],n._isRegExpOption(t,a)&&(a=n._getRegExp(a)),i[t]=a)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var a=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,a._onAdd(null,t)}):(t.files=h.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){var a,n,e,i,s;if(t.fileInput&&!t.files)return a=this,n=h.Deferred(),(e=n.promise()).abort=function(){return s=!0,i?i.abort():(n.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){s||(e.length?(t.files=e,(i=a._onSend(null,t)).then(function(e,t,a){n.resolve(e,t,a)},function(e,t,a){n.reject(e,t,a)})):n.reject())}),this._enhancePromise(e);if(t.files=h.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?e(require("jquery")):e(window.jQuery)}(function(o){var n=o.blueimp.fileupload.prototype.options.add;o.widget("blueimp.fileupload",o.blueimp.fileupload,{options:{processQueue:[],add:function(e,t){var a=o(this);t.process(function(){return a.fileupload("process",t)}),n.call(this,e,t)}},processActions:{},_processFile:function(e,n){var i=this,s=o.Deferred().resolveWith(i,[e]).promise();return this._trigger("process",null,e),o.each(e.processQueue,function(e,t){function a(e){return n.errorThrown?o.Deferred().rejectWith(i,[n]).promise():i.processActions[t.action].call(i,e,t)}s=s.pipe(a,t.always&&a)}),s.done(function(){i._trigger("processdone",null,e),i._trigger("processalways",null,e)}).fail(function(){i._trigger("processfail",null,e),i._trigger("processalways",null,e)}),s},_transformProcessQueue:function(i){var t=[];o.each(i.processQueue,function(){var a={},e=this.action,n=!0===this.prefix?e:this.prefix;o.each(this,function(e,t){"string"===o.type(t)&&"@"===t.charAt(0)?a[e]=i[t.slice(1)||(n?n+e.charAt(0).toUpperCase()+e.slice(1):e)]:a[e]=t}),t.push(a)}),i.processQueue=t},processing:function(){return this._processing},process:function(n){var i=this,s=o.extend({},this.options,n);return s.processQueue&&s.processQueue.length&&(this._transformProcessQueue(s),0===this._processing&&this._trigger("processstart"),o.each(n.files,function(e){function t(){return n.errorThrown?o.Deferred().rejectWith(i,[n]).promise():i._processFile(a,n)}var a=e?o.extend({},s):s;a.index=e,i._processing+=1,i._processingQueue=i._processingQueue.pipe(t,t).always(function(){--i._processing,0===i._processing&&i._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=o.Deferred().resolveWith(this).promise()}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?e(require("jquery"),require("tmpl")):e(window.jQuery,window.tmpl)}(function(r,t){r.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId"),r.widget("blueimp.fileupload",r.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,prependFiles:!1,dataType:"json",messages:{unknownError:"Unknown error"},getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(e){return e.files&&r.isArray(e.files)?e.files:e.result&&r.isArray(e.result.files)?e.result.files:[]},add:function(e,t){if(e.isDefaultPrevented())return!1;var a=r(this),n=a.data("blueimp-fileupload")||a.data("fileupload"),i=n.options;t.context=n._renderUpload(t.files).data("data",t).addClass("processing"),i.filesContainer[i.prependFiles?"prepend":"append"](t.context),n._forceReflow(t.context),n._transition(t.context),t.process(function(){return a.fileupload("process",t)}).always(function(){t.context.each(function(e){r(this).find(".size").text(n._formatFileSize(t.files[e].size))}).removeClass("processing"),n._renderPreviews(t)}).done(function(){t.context.find(".start").prop("disabled",!1),!1!==n._trigger("added",e,t)&&(i.autoUpload||t.autoUpload)&&!1!==t.autoUpload&&t.submit()}).fail(function(){t.files.error&&t.context.each(function(e){e=t.files[e].error;e&&r(this).find(".error").text(e)})})},send:function(e,t){var a;return!e.isDefaultPrevented()&&(a=r(this).data("blueimp-fileupload")||r(this).data("fileupload"),t.context&&t.dataType&&"iframe"===t.dataType.substr(0,6)&&t.context.find(".progress").addClass(!r.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),a._trigger("sent",e,t))},done:function(a,n){if(a.isDefaultPrevented())return!1;var i,s,o=r(this).data("blueimp-fileupload")||r(this).data("fileupload"),l=(n.getFilesFromResponse||o.options.getFilesFromResponse)(n);n.context?n.context.each(function(e){var t=l[e]||{error:"Empty file upload result"};s=o._addFinishedDeferreds(),o._transition(r(this)).done(function(){var e=r(this);i=o._renderDownload([t]).replaceAll(e),o._forceReflow(i),o._transition(i).done(function(){n.context=r(this),o._trigger("completed",a,n),o._trigger("finished",a,n),s.resolve()})})}):(i=o._renderDownload(l)[o.options.prependFiles?"prependTo":"appendTo"](o.options.filesContainer),o._forceReflow(i),s=o._addFinishedDeferreds(),o._transition(i).done(function(){n.context=r(this),o._trigger("completed",a,n),o._trigger("finished",a,n),s.resolve()}))},fail:function(a,n){if(a.isDefaultPrevented())return!1;var i,s,o=r(this).data("blueimp-fileupload")||r(this).data("fileupload");n.context?n.context.each(function(e){var t;"abort"!==n.errorThrown?((t=n.files[e]).error=t.error||n.errorThrown||n.i18n("unknownError"),s=o._addFinishedDeferreds(),o._transition(r(this)).done(function(){var e=r(this);i=o._renderDownload([t]).replaceAll(e),o._forceReflow(i),o._transition(i).done(function(){n.context=r(this),o._trigger("failed",a,n),o._trigger("finished",a,n),s.resolve()})})):(s=o._addFinishedDeferreds(),o._transition(r(this)).done(function(){r(this).remove(),o._trigger("failed",a,n),o._trigger("finished",a,n),s.resolve()}))}):"abort"!==n.errorThrown?(n.context=o._renderUpload(n.files)[o.options.prependFiles?"prependTo":"appendTo"](o.options.filesContainer).data("data",n),o._forceReflow(n.context),s=o._addFinishedDeferreds(),o._transition(n.context).done(function(){n.context=r(this),o._trigger("failed",a,n),o._trigger("finished",a,n),s.resolve()})):(o._trigger("failed",a,n),o._trigger("finished",a,n),o._addFinishedDeferreds().resolve())},progress:function(e,t){if(e.isDefaultPrevented())return!1;var a=Math.floor(t.loaded/t.total*100);t.context&&t.context.each(function(){r(this).find(".progress").attr("aria-valuenow",a).children().first().css("width",a+"%")})},progressall:function(e,t){if(e.isDefaultPrevented())return!1;var e=r(this),a=Math.floor(t.loaded/t.total*100),n=e.find(".fileupload-progress"),i=n.find(".progress-extended");i.length&&i.html((e.data("blueimp-fileupload")||e.data("fileupload"))._renderExtendedProgress(t)),n.find(".progress").attr("aria-valuenow",a).children().first().css("width",a+"%")},start:function(e){if(e.isDefaultPrevented())return!1;var t=r(this).data("blueimp-fileupload")||r(this).data("fileupload");t._resetFinishedDeferreds(),t._transition(r(this).find(".fileupload-progress")).done(function(){t._trigger("started",e)})},stop:function(e){if(e.isDefaultPrevented())return!1;var t=r(this).data("blueimp-fileupload")||r(this).data("fileupload"),a=t._addFinishedDeferreds();r.when.apply(r,t._getFinishedDeferreds()).done(function(){t._trigger("stopped",e)}),t._transition(r(this).find(".fileupload-progress")).done(function(){r(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%"),r(this).find(".progress-extended").html("&nbsp;"),a.resolve()})},processstart:function(e){if(e.isDefaultPrevented())return!1;r(this).addClass("fileupload-processing")},processstop:function(e){if(e.isDefaultPrevented())return!1;r(this).removeClass("fileupload-processing")},destroy:function(e,t){if(e.isDefaultPrevented())return!1;function a(){n._transition(t.context).done(function(){r(this).remove(),n._trigger("destroyed",e,t)})}var n=r(this).data("blueimp-fileupload")||r(this).data("fileupload");t.url?(t.dataType=t.dataType||n.options.dataType,r.ajax(t).done(a).fail(function(){n._trigger("destroyfailed",e,t)})):a()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(e){return e=e||r.Deferred(),this._finishedUploads.push(e),e},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var e=r(this),t=e.prop("href"),a=e.prop("download");e.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",["application/octet-stream",a,t].join(":"))}catch(e){}})},_formatFileSize:function(e){return"number"!=typeof e?"":1e9<=e?(e/1e9).toFixed(2)+" GB":1e6<=e?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":1e9<=e?(e/1e9).toFixed(2)+" Gbit/s":1e6<=e?(e/1e6).toFixed(2)+" Mbit/s":1e3<=e?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),e=Math.floor(e/86400);return(e=e?e+"d ":"")+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_renderTemplate:function(e,t){return e?(e=e({files:t,formatFileSize:this._formatFileSize,options:this.options}))instanceof r?e:r(this.options.templatesContainer).html(e).children():r()},_renderPreviews:function(a){a.context.find(".preview").each(function(e,t){r(t).append(a.files[e].preview)})},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(e){e.preventDefault();var e=r(e.currentTarget),t=e.closest(".template-upload").data("data");e.prop("disabled",!0),t&&t.submit&&t.submit()},_cancelHandler:function(e){e.preventDefault();var t=r(e.currentTarget).closest(".template-upload,.template-download"),a=t.data("data")||{};a.context=a.context||t,a.abort?a.abort():(a.errorThrown="abort",this._trigger("fail",e,a))},_deleteHandler:function(e){e.preventDefault();var t=r(e.currentTarget);this._trigger("destroy",e,r.extend({context:t.closest(".template-download"),type:"DELETE"},t.data()))},_forceReflow:function(e){return r.support.transition&&e.length&&e[0].offsetWidth},_transition:function(t){var a=r.Deferred();return r.support.transition&&t.hasClass("fade")&&t.is(":visible")?t.bind(r.support.transition.end,function(e){e.target===t[0]&&(t.unbind(r.support.transition.end),a.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),a.resolveWith(t)),a},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),a=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),a.find(".start").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),a.find(".cancel").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),a.find(".toggle:checked").closest(".template-download").find(".delete").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(e){a.find(".toggle").prop("checked",r(e.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var e=this.options;void 0===e.filesContainer?e.filesContainer=this.element.find(".files"):e.filesContainer instanceof r||(e.filesContainer=r(e.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),r.support.fileInput||this._disableFileInputButton()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),!function(e){if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports)))e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(ae,ne){if(!ne)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");function a(s,g){function o(){return C("h")||C("m")||C("s")}function f(){return C("y")||C("M")||C("d")}function O(){var e,t,a=ae("<div>").addClass("timepicker-hours").append(ae("<table>").addClass("table-condensed")),n=ae("<div>").addClass("timepicker-minutes").append(ae("<table>").addClass("table-condensed")),i=ae("<div>").addClass("timepicker-seconds").append(ae("<table>").addClass("table-condensed")),s=[(s=ae("<tr>"),e=ae("<tr>"),t=ae("<tr>"),C("h")&&(s.append(ae("<td>").append(ae("<a>").attr({href:"#",tabindex:"-1",title:"Increment Hour"}).addClass("btn").attr("data-action","incrementHours").append(ae("<span>").addClass(g.icons.up)))),e.append(ae("<td>").append(ae("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:"Pick Hour"}).attr("data-action","showHours"))),t.append(ae("<td>").append(ae("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Hour"}).addClass("btn").attr("data-action","decrementHours").append(ae("<span>").addClass(g.icons.down))))),C("m")&&(C("h")&&(s.append(ae("<td>").addClass("separator")),e.append(ae("<td>").addClass("separator").html(":")),t.append(ae("<td>").addClass("separator"))),s.append(ae("<td>").append(ae("<a>").attr({href:"#",tabindex:"-1",title:"Increment Minute"}).addClass("btn").attr("data-action","incrementMinutes").append(ae("<span>").addClass(g.icons.up)))),e.append(ae("<td>").append(ae("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:"Pick Minute"}).attr("data-action","showMinutes"))),t.append(ae("<td>").append(ae("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Minute"}).addClass("btn").attr("data-action","decrementMinutes").append(ae("<span>").addClass(g.icons.down))))),C("s")&&(C("m")&&(s.append(ae("<td>").addClass("separator")),e.append(ae("<td>").addClass("separator").html(":")),t.append(ae("<td>").addClass("separator"))),s.append(ae("<td>").append(ae("<a>").attr({href:"#",tabindex:"-1",title:"Increment Second"}).addClass("btn").attr("data-action","incrementSeconds").append(ae("<span>").addClass(g.icons.up)))),e.append(ae("<td>").append(ae("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:"Pick Second"}).attr("data-action","showSeconds"))),t.append(ae("<td>").append(ae("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Second"}).addClass("btn").attr("data-action","decrementSeconds").append(ae("<span>").addClass(g.icons.down))))),m||(s.append(ae("<td>").addClass("separator")),e.append(ae("<td>").append(ae("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:"Toggle Period"}))),t.append(ae("<td>").addClass("separator"))),ae("<div>").addClass("timepicker-picker").append(ae("<table>").addClass("table-condensed").append([s,e,t])))];return C("h")&&s.push(a),C("m")&&s.push(n),C("s")&&s.push(i),s}function t(e){S({type:"dp.update",change:e="y"===e?"YYYY":e,viewDate:h.clone()})}function R(){z(null)}function e(){return(_?E:N)()}function B(e){var t,a,n,i,s=null,o=[],l={},r=e.which;for(t in k[r]="p",k)k.hasOwnProperty(t)&&"p"===k[t]&&(o.push(t),parseInt(t,10)!==r&&(l[t]=!0));for(t in g.keyBinds)if(g.keyBinds.hasOwnProperty(t)&&"function"==typeof g.keyBinds[t]&&(n=t.split(" ")).length===o.length&&Z[r]===n[n.length-1]){for(i=!0,a=n.length-2;0<=a;a--)if(!(Z[n[a]]in l)){i=!1;break}if(i){s=g.keyBinds[t];break}}s&&(s.call(u,_),e.stopPropagation(),e.preventDefault())}function H(e){k[e.which]="r",e.stopPropagation(),e.preventDefault()}function W(e){var t=(t=ae(e.target).val().trim())?$(t):null;return z(t),e.stopImmediatePropagation(),!1}function L(e){var t={};return ae.each(e,function(){var e=$(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t}function F(e){var t={};return ae.each(e,function(){t[this]=!0}),!!Object.keys(t).length&&t}function a(){var e=g.format||"L LT";i=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(v.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return v.localeData().longDateFormat(e)||e})}),(l=g.extraFormats?g.extraFormats.slice():[]).indexOf(e)<0&&l.indexOf(i)<0&&l.push(i),m=i.toLowerCase().indexOf("a")<1&&i.replace(/\[.*?\]/g,"").indexOf("h")<1,C("y")&&(w=2),C("M")&&(w=1),C("d")&&(w=0),r=Math.max(w,r),b||z(v)}var n,m,i,l,r,d,c,u={},v=ne().startOf("d"),h=v.clone(),b=!0,p=!1,_=!1,w=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],x=["days","months","years","decades"],j=["top","bottom","auto"],q=["left","right","auto"],U=["default","top","bottom"],Z={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},k={},C=function(e){if("string"!=typeof e||1<e.length)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==i.indexOf("Y");case"M":return-1!==i.indexOf("M");case"d":return-1!==i.toLowerCase().indexOf("d");case"h":case"H":return-1!==i.toLowerCase().indexOf("h");case"m":return-1!==i.indexOf("m");case"s":return-1!==i.indexOf("s");default:return!1}},V=function(){var e=ae("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),t=ae("<div>").addClass("datepicker").append((t=ae("<thead>").append(ae("<tr>").append(ae("<th>").addClass("prev").attr("data-action","previous").append(ae("<span>").addClass(g.icons.previous))).append(ae("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",g.calendarWeeks?"6":"5")).append(ae("<th>").addClass("next").attr("data-action","next").append(ae("<span>").addClass(g.icons.next)))),a=ae("<tbody>").append(ae("<tr>").append(ae("<td>").attr("colspan",g.calendarWeeks?"8":"7"))),[ae("<div>").addClass("datepicker-days").append(ae("<table>").addClass("table-condensed").append(t).append(ae("<tbody>"))),ae("<div>").addClass("datepicker-months").append(ae("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),ae("<div>").addClass("datepicker-years").append(ae("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),ae("<div>").addClass("datepicker-decades").append(ae("<table>").addClass("table-condensed").append(t.clone()).append(a.clone()))])),a=ae("<div>").addClass("timepicker").append(O()),n=ae("<ul>").addClass("list-unstyled"),i=ae("<li>").addClass("picker-switch"+(g.collapse?" accordion-toggle":"")).append((i=[],g.showTodayButton&&i.push(ae("<td>").append(ae("<a>").attr({"data-action":"today",title:"Go to today"}).append(ae("<span>").addClass(g.icons.today)))),!g.sideBySide&&f()&&o()&&i.push(ae("<td>").append(ae("<a>").attr({"data-action":"togglePicker",title:"Select Time"}).append(ae("<span>").addClass(g.icons.time)))),g.showClear&&i.push(ae("<td>").append(ae("<a>").attr({"data-action":"clear",title:"Clear selection"}).append(ae("<span>").addClass(g.icons.clear)))),g.showClose&&i.push(ae("<td>").append(ae("<a>").attr({"data-action":"close",title:"Close the picker"}).append(ae("<span>").addClass(g.icons.close)))),ae("<table>").addClass("table-condensed").append(ae("<tbody>").append(ae("<tr>").append(i)))));return g.inline&&e.removeClass("dropdown-menu"),m&&e.addClass("usetwentyfour"),C("s")&&!m&&e.addClass("wider"),g.sideBySide&&f()&&o()?(e.addClass("timepicker-sbs"),e.append(ae("<div>").addClass("row").append(t.addClass("col-sm-6")).append(a.addClass("col-sm-6"))),e.append(i),e):("top"===g.toolbarPlacement&&n.append(i),f()&&n.append(ae("<li>").addClass(g.collapse&&o()?"collapse in":"").append(t)),"default"===g.toolbarPlacement&&n.append(i),o()&&n.append(ae("<li>").addClass(g.collapse&&f()?"collapse":"").append(a)),"bottom"===g.toolbarPlacement&&n.append(i),e.append(n))},I=function(){var e,t=(p||s).position(),a=(p||s).offset(),n=g.widgetPositioning.vertical,i=g.widgetPositioning.horizontal;if(g.widgetParent)e=g.widgetParent.append(_);else if(s.is("input"))e=s.after(_).parent();else{if(g.inline)return void(e=s.append(_));(e=s).children().first().after(_)}if("auto"===n&&(n=a.top+1.5*_.height()>=ae(window).height()+ae(window).scrollTop()&&_.height()+s.outerHeight()<a.top?"top":"bottom"),"auto"===i&&(i=e.width()<a.left+_.outerWidth()/2&&a.left+_.outerWidth()>ae(window).width()?"right":"left"),"top"===n?_.addClass("top").removeClass("bottom"):_.addClass("bottom").removeClass("top"),"right"===i?_.addClass("pull-right"):_.removeClass("pull-right"),0===(e="relative"!==e.css("position")?e.parents().filter(function(){return"relative"===ae(this).css("position")}).first():e).length)throw new Error("datetimepicker component should be placed within a relative positioned container");_.css({top:"top"===n?"auto":t.top+s.outerHeight(),bottom:"top"===n?t.top+s.outerHeight():"auto",left:"left"===i?e===s?0:t.left:"auto",right:"left"===i?"auto":e.outerWidth()-s.outerWidth()-(e===s?0:t.left)})},S=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||s.trigger(e)},A=function(e){_&&(e&&(r=Math.max(w,Math.min(3,r+e))),_.find(".datepicker > div").hide().filter(".datepicker-"+y[r].clsName).show())},G=function(){var e=ae("<tr>"),t=h.clone().startOf("w").startOf("d");for(!0===g.calendarWeeks&&e.append(ae("<th>").addClass("cw").text("#"));t.isBefore(h.clone().endOf("w"));)e.append(ae("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");_.find(".datepicker-days thead").append(e)},Y=function(e){return!0===g.disabledDates[e.format("YYYY-MM-DD")]},X=function(e){return!0===g.enabledDates[e.format("YYYY-MM-DD")]},K=function(e){return!0===g.disabledHours[e.format("H")]},Q=function(e){return!0===g.enabledHours[e.format("H")]},D=function(e,t){if(!e.isValid())return!1;if(g.disabledDates&&"d"===t&&Y(e))return!1;if(g.enabledDates&&"d"===t&&!X(e))return!1;if(g.minDate&&e.isBefore(g.minDate,t))return!1;if(g.maxDate&&e.isAfter(g.maxDate,t))return!1;if(g.daysOfWeekDisabled&&"d"===t&&-1!==g.daysOfWeekDisabled.indexOf(e.day()))return!1;if(g.disabledHours&&("h"===t||"m"===t||"s"===t)&&K(e))return!1;if(g.enabledHours&&("h"===t||"m"===t||"s"===t)&&!Q(e))return!1;if(g.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var a=!1;if(ae.each(g.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return!(a=!0)}),a)return!1}return!0},J=function(){for(var e=[],t=h.clone().startOf("y").startOf("d");t.isSame(h,"y");)e.push(ae("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");_.find(".datepicker-months td").empty().append(e)},T=function(){var e,t,a,n,i=_.find(".datepicker-days"),s=i.find("th"),o=[];if(f()){for(s.eq(0).find("span").attr("title","Previous Month"),s.eq(1).attr("title","Select Month"),s.eq(2).find("span").attr("title","Next Month"),i.find(".disabled").removeClass("disabled"),s.eq(1).text(h.format(g.dayViewHeaderFormat)),D(h.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),D(h.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),e=h.clone().startOf("M").startOf("w").startOf("d"),n=0;n<42;n++)0===e.weekday()&&(t=ae("<tr>"),g.calendarWeeks&&t.append('<td class="cw">'+e.week()+"</td>"),o.push(t)),a="",e.isBefore(h,"M")&&(a+=" old"),e.isAfter(h,"M")&&(a+=" new"),e.isSame(v,"d")&&!b&&(a+=" active"),D(e,"d")||(a+=" disabled"),e.isSame(ne(),"d")&&(a+=" today"),0!==e.day()&&6!==e.day()||(a+=" weekend"),t.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+a+'">'+e.date()+"</td>"),e.add(1,"d");i.find("tbody").empty().append(o),s=_.find(".datepicker-months"),i=s.find("th"),c=s.find("tbody").find("span"),i.eq(0).find("span").attr("title","Previous Year"),i.eq(1).attr("title","Select Year"),i.eq(2).find("span").attr("title","Next Year"),s.find(".disabled").removeClass("disabled"),D(h.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(h.year()),D(h.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),c.removeClass("active"),v.isSame(h,"y")&&!b&&c.eq(v.month()).addClass("active"),c.each(function(e){D(h.clone().month(e),"M")||ae(this).addClass("disabled")});var s=_.find(".datepicker-years"),i=s.find("th"),l=h.clone().subtract(5,"y"),r=h.clone().add(6,"y"),d="";for(i.eq(0).find("span").attr("title","Previous Decade"),i.eq(1).attr("title","Select Decade"),i.eq(2).find("span").attr("title","Next Decade"),s.find(".disabled").removeClass("disabled"),g.minDate&&g.minDate.isAfter(l,"y")&&i.eq(0).addClass("disabled"),i.eq(1).text(l.year()+"-"+r.year()),g.maxDate&&g.maxDate.isBefore(r,"y")&&i.eq(2).addClass("disabled");!l.isAfter(r,"y");)d+='<span data-action="selectYear" class="year'+(l.isSame(v,"y")&&!b?" active":"")+(D(l,"y")?"":" disabled")+'">'+l.year()+"</span>",l.add(1,"y");s.find("td").html(d);var c=_.find(".datepicker-decades"),i=c.find("th"),u=h.isBefore(ne({y:1999}))?ne({y:1899}):ne({y:1999}),p=u.clone().add(100,"y"),m="";for(i.eq(0).find("span").attr("title","Previous Century"),i.eq(2).find("span").attr("title","Next Century"),c.find(".disabled").removeClass("disabled"),(u.isSame(ne({y:1900}))||g.minDate&&g.minDate.isAfter(u,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(u.year()+"-"+p.year()),(u.isSame(ne({y:2e3}))||g.maxDate&&g.maxDate.isBefore(p,"y"))&&i.eq(2).addClass("disabled");!u.isAfter(p,"y");)m+='<span data-action="selectDecade" class="decade'+(u.isSame(v,"y")?" active":"")+(D(u,"y")?"":" disabled")+'" data-selection="'+(u.year()+6)+'">'+(u.year()+1)+" - "+(u.year()+12)+"</span>",u.add(12,"y");m+="<span></span><span></span><span></span>",c.find("td").html(m)}},ee=function(){var e=_.find(".timepicker span[data-time-component]"),t=(m||(s=_.find(".timepicker [data-action=togglePeriod]"),t=v.clone().add(12<=v.hours()?-12:12,"h"),s.text(v.format("A")),D(t,"h")?s.removeClass("disabled"):s.addClass("disabled")),e.filter("[data-time-component=hours]").text(v.format(m?"HH":"hh")),e.filter("[data-time-component=minutes]").text(v.format("mm")),e.filter("[data-time-component=seconds]").text(v.format("ss")),_.find(".timepicker-hours table")),a=h.clone().startOf("d"),n=[],i=ae("<tr>");for(11<h.hour()&&!m&&a.hour(12);a.isSame(h,"d")&&(m||h.hour()<12&&a.hour()<12||11<h.hour());)a.hour()%4==0&&(i=ae("<tr>"),n.push(i)),i.append('<td data-action="selectHour" class="hour'+(D(a,"h")?"":" disabled")+'">'+a.format(m?"HH":"hh")+"</td>"),a.add(1,"h");t.empty().append(n);for(var s=_.find(".timepicker-minutes table"),o=h.clone().startOf("h"),l=[],r=ae("<tr>"),d=1===g.stepping?5:g.stepping;h.isSame(o,"h");)o.minute()%(4*d)==0&&(r=ae("<tr>"),l.push(r)),r.append('<td data-action="selectMinute" class="minute'+(D(o,"m")?"":" disabled")+'">'+o.format("mm")+"</td>"),o.add(d,"m");s.empty().append(l);for(var e=_.find(".timepicker-seconds table"),c=h.clone().startOf("m"),u=[],p=ae("<tr>");h.isSame(c,"m");)c.second()%20==0&&(p=ae("<tr>"),u.push(p)),p.append('<td data-action="selectSecond" class="second'+(D(c,"s")?"":" disabled")+'">'+c.format("ss")+"</td>"),c.add(5,"s");e.empty().append(u)},M=function(){_&&(T(),ee())},z=function(e){var t=b?null:v;e?(e=e.clone().locale(g.locale),1!==g.stepping&&e.minutes(Math.round(e.minutes()/g.stepping)*g.stepping%60).seconds(0),D(e)?(h=(v=e).clone(),n.val(v.format(i)),s.data("date",v.format(i)),b=!1,M(),S({type:"dp.change",date:v.clone(),oldDate:t})):(g.keepInvalid||n.val(b?"":v.format(i)),S({type:"dp.error",date:e}))):(b=!0,n.val(""),s.data("date",""),S({type:"dp.change",date:!1,oldDate:t}),M())},E=function(){var t=!1;return _&&(_.find(".collapse").each(function(){var e=ae(this).data("collapse");return!e||!e.transitioning||!(t=!0)}),t||(p&&p.hasClass("btn")&&p.toggleClass("active"),_.hide(),ae(window).off("resize",I),_.off("click","[data-action]"),_.off("mousedown",!1),_.remove(),_=!1,S({type:"dp.hide",date:v.clone()}))),u},P={next:function(){var e=y[r].navFnc;h.add(y[r].navStep,e),T(),t(e)},previous:function(){var e=y[r].navFnc;h.subtract(y[r].navStep,e),T(),t(e)},pickerSwitch:function(){A(1)},selectMonth:function(e){e=ae(e.target).closest("tbody").find("span").index(ae(e.target));h.month(e),r===w?(z(v.clone().year(h.year()).month(h.month())),g.inline||E()):(A(-1),T()),t("M")},selectYear:function(e){e=parseInt(ae(e.target).text(),10)||0;h.year(e),r===w?(z(v.clone().year(h.year())),g.inline||E()):(A(-1),T()),t("YYYY")},selectDecade:function(e){e=parseInt(ae(e.target).data("selection"),10)||0;h.year(e),r===w?(z(v.clone().year(h.year())),g.inline||E()):(A(-1),T()),t("YYYY")},selectDay:function(e){var t=h.clone();ae(e.target).is(".old")&&t.subtract(1,"M"),ae(e.target).is(".new")&&t.add(1,"M"),z(t.date(parseInt(ae(e.target).text(),10))),o()||g.keepOpen||g.inline||E()},incrementHours:function(){var e=v.clone().add(1,"h");D(e,"h")&&z(e)},incrementMinutes:function(){var e=v.clone().add(g.stepping,"m");D(e,"m")&&z(e)},incrementSeconds:function(){var e=v.clone().add(1,"s");D(e,"s")&&z(e)},decrementHours:function(){var e=v.clone().subtract(1,"h");D(e,"h")&&z(e)},decrementMinutes:function(){var e=v.clone().subtract(g.stepping,"m");D(e,"m")&&z(e)},decrementSeconds:function(){var e=v.clone().subtract(1,"s");D(e,"s")&&z(e)},togglePeriod:function(){z(v.clone().add(12<=v.hours()?-12:12,"h"))},togglePicker:function(e){var t,e=ae(e.target),a=e.closest("ul"),n=a.find(".in"),a=a.find(".collapse:not(.in)");n&&n.length&&((t=n.data("collapse"))&&t.transitioning||(n.collapse?(n.collapse("hide"),a.collapse("show")):(n.removeClass("in"),a.addClass("in")),(e.is("span")?e:e.find("span")).toggleClass(g.icons.time+" "+g.icons.date)))},showPicker:function(){_.find(".timepicker > div:not(.timepicker-picker)").hide(),_.find(".timepicker .timepicker-picker").show()},showHours:function(){_.find(".timepicker .timepicker-picker").hide(),_.find(".timepicker .timepicker-hours").show()},showMinutes:function(){_.find(".timepicker .timepicker-picker").hide(),_.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){_.find(".timepicker .timepicker-picker").hide(),_.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){e=parseInt(ae(e.target).text(),10);m||(12<=v.hours()?12!==e&&(e+=12):12===e&&(e=0)),z(v.clone().hours(e)),P.showPicker.call(u)},selectMinute:function(e){z(v.clone().minutes(parseInt(ae(e.target).text(),10))),P.showPicker.call(u)},selectSecond:function(e){z(v.clone().seconds(parseInt(ae(e.target).text(),10))),P.showPicker.call(u)},clear:R,today:function(){D(ne(),"d")&&z(ne())},close:E},te=function(e){return ae(e.currentTarget).is(".disabled")||P[ae(e.currentTarget).data("action")].apply(u,arguments),!1},N=function(){var e;return n.prop("disabled")||!g.ignoreReadonly&&n.prop("readonly")||_||(void 0!==n.val()&&0!==n.val().trim().length?z($(n.val().trim())):g.useCurrent&&b&&(n.is("input")&&0===n.val().trim().length||g.inline)&&(e=ne(),"string"==typeof g.useCurrent&&(e={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}}[g.useCurrent](e)),z(e)),_=V(),G(),J(),_.find(".timepicker-hours").hide(),_.find(".timepicker-minutes").hide(),_.find(".timepicker-seconds").hide(),M(),A(),ae(window).on("resize",I),_.on("click","[data-action]",te),_.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),_.show(),I(),g.focusOnShow&&!n.is(":focus")&&n.focus(),S({type:"dp.show"})),u},$=function(e){return(e=void 0===g.parseInputDate?ne.isMoment(e)||e instanceof Date?ne(e):ne(e,l,g.useStrict):g.parseInputDate(e)).locale(g.locale),e};if(u.destroy=function(){E(),n.off({change:W,blur:E,keydown:B,keyup:H,focus:g.allowInputToggle?E:""}),s.is("input")?n.off({focus:N}):p&&(p.off("click",e),p.off("mousedown",!1)),s.removeData("DateTimePicker"),s.removeData("date")},u.toggle=e,u.show=N,u.hide=E,u.disable=function(){return E(),p&&p.hasClass("btn")&&p.addClass("disabled"),n.prop("disabled",!0),u},u.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),n.prop("disabled",!1),u},u.ignoreReadonly=function(e){if(0===arguments.length)return g.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return g.ignoreReadonly=e,u},u.options=function(e){if(0===arguments.length)return ae.extend(!0,{},g);if(e instanceof Object)return ae.extend(!0,g,e),ae.each(g,function(e,t){if(void 0===u[e])throw new TypeError("option "+e+" is not recognized!");u[e](t)}),u;throw new TypeError("options() options parameter should be an object")},u.date=function(e){if(0===arguments.length)return b?null:v.clone();if(null===e||"string"==typeof e||ne.isMoment(e)||e instanceof Date)return z(null===e?null:$(e)),u;throw new TypeError("date() parameter must be one of [null, string, moment or Date]")},u.format=function(e){if(0===arguments.length)return g.format;if("string"==typeof e||"boolean"==typeof e&&!1===e)return g.format=e,i&&a(),u;throw new TypeError("format() expects a sting or boolean:false parameter "+e)},u.dayViewHeaderFormat=function(e){if(0===arguments.length)return g.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return g.dayViewHeaderFormat=e,u},u.extraFormats=function(e){if(0===arguments.length)return g.extraFormats;if(!1===e||e instanceof Array)return g.extraFormats=e,l&&a(),u;throw new TypeError("extraFormats() expects an array or false parameter")},u.disabledDates=function(e){if(0===arguments.length)return g.disabledDates&&ae.extend({},g.disabledDates);if(e){if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");g.disabledDates=L(e),g.enabledDates=!1}else g.disabledDates=!1;return M(),u},u.enabledDates=function(e){if(0===arguments.length)return g.enabledDates&&ae.extend({},g.enabledDates);if(e){if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");g.enabledDates=L(e),g.disabledDates=!1}else g.enabledDates=!1;return M(),u},u.daysOfWeekDisabled=function(e){if(0===arguments.length)return g.daysOfWeekDisabled.splice(0);if("boolean"!=typeof e||e){if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(g.daysOfWeekDisabled=e.reduce(function(e,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===e.indexOf(t)&&e.push(t),e},[]).sort(),g.useCurrent&&!g.keepInvalid){for(var t=0;!D(v,"d");){if(v.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}z(v)}}else g.daysOfWeekDisabled=!1;return M(),u},u.maxDate=function(e){if(0===arguments.length)return g.maxDate&&g.maxDate.clone();if("boolean"==typeof e&&!1===e)g.maxDate=!1;else{"string"!=typeof e||"now"!==e&&"moment"!==e||(e=ne());var t=$(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(g.minDate&&t.isBefore(g.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(i));g.maxDate=t,g.useCurrent&&!g.keepInvalid&&v.isAfter(e)&&z(g.maxDate),h.isAfter(t)&&(h=t.clone())}return M(),u},u.minDate=function(e){if(0===arguments.length)return g.minDate&&g.minDate.clone();if("boolean"==typeof e&&!1===e)g.minDate=!1;else{"string"!=typeof e||"now"!==e&&"moment"!==e||(e=ne());var t=$(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(g.maxDate&&t.isAfter(g.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(i));g.minDate=t,g.useCurrent&&!g.keepInvalid&&v.isBefore(e)&&z(g.minDate),h.isBefore(t)&&(h=t.clone())}return M(),u},u.defaultDate=function(e){if(0===arguments.length)return g.defaultDate&&g.defaultDate.clone();if(e){"string"!=typeof e||"now"!==e&&"moment"!==e||(e=ne());var t=$(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!D(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");g.defaultDate=t,(g.defaultDate&&g.inline||""===n.val().trim()&&void 0===n.attr("placeholder"))&&z(g.defaultDate)}else g.defaultDate=!1;return u},u.locale=function(e){if(0===arguments.length)return g.locale;if(ne.localeData(e))return g.locale=e,v.locale(g.locale),h.locale(g.locale),i&&a(),_&&(E(),N()),u;throw new TypeError("locale() locale "+e+" is not loaded from moment locales!")},u.stepping=function(e){return 0===arguments.length?g.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),g.stepping=e,u)},u.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return g.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return g.useCurrent=e,u},u.collapse=function(e){if(0===arguments.length)return g.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return g.collapse!==e&&(g.collapse=e,_&&(E(),N())),u},u.icons=function(e){if(0===arguments.length)return ae.extend({},g.icons);if(e instanceof Object)return ae.extend(g.icons,e),_&&(E(),N()),u;throw new TypeError("icons() expects parameter to be an Object")},u.useStrict=function(e){if(0===arguments.length)return g.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return g.useStrict=e,u},u.sideBySide=function(e){if(0===arguments.length)return g.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return g.sideBySide=e,_&&(E(),N()),u},u.viewMode=function(e){if(0===arguments.length)return g.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===x.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+x.join(", ")+") value");return g.viewMode=e,r=Math.max(x.indexOf(e),w),A(),u},u.toolbarPlacement=function(e){if(0===arguments.length)return g.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===U.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+U.join(", ")+") value");return g.toolbarPlacement=e,_&&(E(),N()),u},u.widgetPositioning=function(e){if(0===arguments.length)return ae.extend({},g.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===q.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+q.join(", ")+")");g.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===j.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+j.join(", ")+")");g.widgetPositioning.vertical=e.vertical}return M(),u},u.calendarWeeks=function(e){if(0===arguments.length)return g.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return g.calendarWeeks=e,M(),u},u.showTodayButton=function(e){if(0===arguments.length)return g.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return g.showTodayButton=e,_&&(E(),N()),u},u.showClear=function(e){if(0===arguments.length)return g.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return g.showClear=e,_&&(E(),N()),u},u.widgetParent=function(e){if(0===arguments.length)return g.widgetParent;if(null===(e="string"==typeof e?ae(e):e)||"string"==typeof e||e instanceof ae)return g.widgetParent=e,_&&(E(),N()),u;throw new TypeError("widgetParent() expects a string or a jQuery object parameter")},u.keepOpen=function(e){if(0===arguments.length)return g.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return g.keepOpen=e,u},u.focusOnShow=function(e){if(0===arguments.length)return g.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return g.focusOnShow=e,u},u.inline=function(e){if(0===arguments.length)return g.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return g.inline=e,u},u.clear=function(){return R(),u},u.keyBinds=function(e){return g.keyBinds=e,u},u.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return g.debug=e,u},u.allowInputToggle=function(e){if(0===arguments.length)return g.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return g.allowInputToggle=e,u},u.showClose=function(e){if(0===arguments.length)return g.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return g.showClose=e,u},u.keepInvalid=function(e){if(0===arguments.length)return g.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return g.keepInvalid=e,u},u.datepickerInput=function(e){if(0===arguments.length)return g.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return g.datepickerInput=e,u},u.parseInputDate=function(e){if(0===arguments.length)return g.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return g.parseInputDate=e,u},u.disabledTimeIntervals=function(e){if(0===arguments.length)return g.disabledTimeIntervals&&ae.extend({},g.disabledTimeIntervals);if(e){if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");g.disabledTimeIntervals=e}else g.disabledTimeIntervals=!1;return M(),u},u.disabledHours=function(e){if(0===arguments.length)return g.disabledHours&&ae.extend({},g.disabledHours);if(e){if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(g.disabledHours=F(e),g.enabledHours=!1,g.useCurrent&&!g.keepInvalid){for(var t=0;!D(v,"h");){if(v.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}z(v)}}else g.disabledHours=!1;return M(),u},u.enabledHours=function(e){if(0===arguments.length)return g.enabledHours&&ae.extend({},g.enabledHours);if(e){if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(g.enabledHours=F(e),g.disabledHours=!1,g.useCurrent&&!g.keepInvalid){for(var t=0;!D(v,"h");){if(v.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}z(v)}}else g.enabledHours=!1;return M(),u},u.viewDate=function(e){if(0===arguments.length)return h.clone();if(e){if(!("string"==typeof e||ne.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");h=$(e),t()}else h=v.clone();return u},s.is("input"))n=s;else if(0===(n=s.find(g.datepickerInput)).size())n=s.find("input");else if(!n.is("input"))throw new Error('CSS class "'+g.datepickerInput+'" cannot be applied to non input element');if(s.hasClass("input-group")&&(p=0===s.find(".datepickerbutton").size()?s.find('[class^="input-group-"]'):s.find(".datepickerbutton")),g.inline||n.is("input"))return ae.extend(!0,g,(d={},(c=(s.is("input")||g.inline?s:s.find("input")).data()).dateOptions&&c.dateOptions instanceof Object&&(d=ae.extend(!0,d,c.dateOptions)),ae.each(g,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==c[t]&&(d[e]=c[t])}),d)),u.options(g),a(),n.on({change:W,blur:g.debug?"":E,keydown:B,keyup:H,focus:g.allowInputToggle?N:""}),s.is("input")?n.on({focus:N}):p&&(p.on("click",e),p.on("mousedown",!1)),n.prop("disabled")&&u.disable(),n.is("input")&&0!==n.val().trim().length?z($(n.val().trim())):g.defaultDate&&void 0===n.attr("placeholder")&&z(g.defaultDate),g.inline&&N(),u;throw new Error("Could not initialize DateTimePicker without an input element")}ae.fn.datetimepicker=function(t){return this.each(function(){var e=ae(this);e.data("DateTimePicker")||(t=ae.extend(!0,{},ae.fn.datetimepicker.defaults,t),e.data("DateTimePicker",a(e,t)))})},ae.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:ne.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){var t;e&&(t=this.date()||ne(),e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(1,"m")))},down:function(e){var t;e?(t=this.date()||ne(),e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(1,"m"))):this.show()},"control up":function(e){var t;e&&(t=this.date()||ne(),e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h")))},"control down":function(e){var t;e&&(t=this.date()||ne(),e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h")))},left:function(e){var t;e&&(t=this.date()||ne(),e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d")))},right:function(e){var t;e&&(t=this.date()||ne(),e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d")))},pageUp:function(e){var t;e&&(t=this.date()||ne(),e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M")))},pageDown:function(e){var t;e&&(t=this.date()||ne(),e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M")))},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(ne())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),!function(){function s(e){return this.canvas=e.canvas,this.ctx=e,this.width=e.canvas.width,this.height=e.canvas.height,this.aspectRatio=this.width/this.height,p.retinaScale(this),this}var e,t,a=this,n=a.Chart,p=(s.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},s.types={},s.helpers={}),l=p.each=function(e,t,a){var n=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length)for(var i=0;i<e.length;i++)t.apply(a,[e[i],i].concat(n));else for(var s in e)t.apply(a,[e[s],s].concat(n))},o=p.clone=function(a){var n={};return l(a,function(e,t){a.hasOwnProperty(t)&&(n[t]=e)}),n},r=p.extend=function(n){return l(Array.prototype.slice.call(arguments,1),function(a){l(a,function(e,t){a.hasOwnProperty(t)&&(n[t]=e)})}),n},d=p.merge=function(e,t){var a=Array.prototype.slice.call(arguments,0);return a.unshift({}),r.apply(null,a)},i=p.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var a=0;a<e.length;a++)if(e[a]===t)return a;return-1},c=(p.where=function(e,t){var a=[];return p.each(e,function(e){t(e)&&a.push(e)}),a},p.findNextWhere=function(e,t,a){for(var n=(a=a||-1)+1;n<e.length;n++){var i=e[n];if(t(i))return i}},p.findPreviousWhere=function(e,t,a){for(var n=(a=a||e.length)-1;0<=n;n--){var i=e[n];if(t(i))return i}},p.inherits=function(e){function t(){this.constructor=n}var a=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return a.apply(this,arguments)};return t.prototype=a.prototype,n.prototype=new t,n.extend=c,e&&r(n.prototype,e),n.__super__=a.prototype,n}),u=p.noop=function(){},m=p.uid=(e=0,function(){return"chart-"+e++}),g=p.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},f=p.amd="function"==typeof define&&define.amd,v=p.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},h=p.max=function(e){return Math.max.apply(Math,e)},b=p.min=function(e){return Math.min.apply(Math,e)},_=(p.cap=function(e,t,a){if(v(t)){if(t<e)return t}else if(v(a)&&e<a)return a;return e},p.getDecimalPlaces=function(e){return e%1!=0&&v(e)?e.toString().split(".")[1].length:0}),w=p.radians=function(e){return e*(Math.PI/180)},y=(p.getAngleFromPoint=function(e,t){var a=t.x-e.x,t=t.y-e.y,e=Math.sqrt(a*a+t*t),n=2*Math.PI+Math.atan2(t,a);return a<0&&t<0&&(n+=2*Math.PI),{angle:n,distance:e}},p.aliasPixel=function(e){return e%2==0?0:.5}),x=(p.splineCurve=function(e,t,a,n){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2)),o=n*i/(i+s),n=n*s/(i+s);return{inner:{x:t.x-o*(a.x-e.x),y:t.y-o*(a.y-e.y)},outer:{x:t.x+n*(a.x-e.x),y:t.y+n*(a.y-e.y)}}},p.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),k=(p.calculateScaleRange=function(e,t,a,n,i){for(var s=Math.floor(t/(1.5*a)),o=s<=2,t=h(e),a=b(e),e=(t===a&&(t+=.5,.5<=a&&!n?a-=.5:t+=.5),Math.abs(t-a)),l=x(e),e=Math.ceil(t/+Math.pow(10,l))*Math.pow(10,l),t=n?0:Math.floor(a/+Math.pow(10,l))*Math.pow(10,l),r=e-t,d=Math.pow(10,l),c=Math.round(r/d);(s<c||2*c<s)&&!o;)if(s<c)d*=2,(c=Math.round(r/d))%1!=0&&(o=!0);else{if(i&&0<=l&&d/2%1!=0)break;d/=2,c=Math.round(r/d)}return o&&(d=r/(c=2)),{steps:c,stepValue:d,min:t,max:t+c*d}},p.template=function(e,t){var a;return e instanceof Function||(a={},t=t,e=/\W/.test(e=e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[e],t)?e(t):e}),C=(p.generateLabels=function(a,e,n,i){var s=new Array(e);return labelTemplateString&&l(s,function(e,t){s[t]=k(a,{value:n+i*(t+1)})}),s},p.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e=+e-1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=+e-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return(e/=1)*e*e*e*e},easeOutQuint:function(e){return(e=+e-1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(+e*(Math.PI/2))+1},easeOutSine:function(e){return+Math.sin(+e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?1:+Math.pow(2,10*(+e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return 1<=e?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return+Math.sqrt(1-(e=+e-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,a=0,n=1;return 0===e?0:1==(e/=1)?1:(a=a||.3,t=n<Math.abs(1)?(n=1,a/4):a/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*--e)*Math.sin((+e-t)*(2*Math.PI)/a)))},easeOutElastic:function(e){var t=1.70158,a=0,n=1;return 0===e?0:1==(e/=1)?1:(a=a||.3,t=n<Math.abs(1)?(n=1,a/4):a/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*e)*Math.sin((+e-t)*(2*Math.PI)/a)+1)},easeInOutElastic:function(e){var t=1.70158,a=0,n=1;return 0===e?0:2==(e/=.5)?1:(a=a||.3*1.5*1,t=n<Math.abs(1)?(n=1,a/4):a/(2*Math.PI)*Math.asin(1/n),e<1?n*Math.pow(2,10*--e)*Math.sin((+e-t)*(2*Math.PI)/a)*-.5:n*Math.pow(2,-10*--e)*Math.sin((+e-t)*(2*Math.PI)/a)*.5+1)},easeInBack:function(e){return(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return(e=+e-1)*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-C.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*C.easeInBounce(2*e):.5*C.easeOutBounce(2*e-1)+.5}}),I=p.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},S=(p.cancelAnimFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)},p.animationLoop=function(n,i,e,s,o,l){var r=0,d=C[e]||C.linear;I(function e(){var t=++r/i,a=d(t);n.call(l,a,t,r),s.call(l,a,t),r<i?l.animationFrame=I(e):o.apply(l)})},p.getRelativePosition=function(e){var t,a=e.originalEvent||e,e=(e.currentTarget||e.srcElement).getBoundingClientRect(),a=a.touches?(t=a.touches[0].clientX-e.left,a.touches[0].clientY-e.top):(t=a.clientX-e.left,a.clientY-e.top);return{x:t,y:a}},p.addEvent=function(e,t,a){e.addEventListener?e.addEventListener(t,a):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a}),A=p.removeEvent=function(e,t,a){e.removeEventListener?e.removeEventListener(t,a,!1):e.detachEvent?e.detachEvent("on"+t,a):e["on"+t]=u},D=(p.bindEvents=function(t,e,a){t.events||(t.events={}),l(e,function(e){t.events[e]=function(){a.apply(t,arguments)},S(t.chart.canvas,e,t.events[e])})},p.unbindEvents=function(a,e){l(e,function(e,t){A(a.chart.canvas,t,e)})}),T=p.getMaximumWidth=function(e){return e.parentNode.clientWidth},M=p.getMaximumHeight=function(e){return e.parentNode.clientHeight},z=(p.getMaximumSize=p.getMaximumWidth,p.retinaScale=function(e){var t=e.ctx,a=e.canvas.width,e=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=a+"px",t.canvas.style.height=e+"px",t.canvas.height=e*window.devicePixelRatio,t.canvas.width=a*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),E=p.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},P=p.fontString=function(e,t,a){return t+" "+e+"px "+a},N=p.longestText=function(t,e,a){t.font=e;var n=0;return l(a,function(e){e=t.measureText(e).width;n=n<e?e:n}),n},$=p.drawRoundedRectangle=function(e,t,a,n,i,s){e.beginPath(),e.moveTo(t+s,a),e.lineTo(t+n-s,a),e.quadraticCurveTo(t+n,a,t+n,a+s),e.lineTo(t+n,a+i-s),e.quadraticCurveTo(t+n,a+i,t+n-s,a+i),e.lineTo(t+s,a+i),e.quadraticCurveTo(t,a+i,t,a+i-s),e.lineTo(t,a+s),e.quadraticCurveTo(t,a,t+s,a),e.closePath()};s.instances={},r((s.Type=function(e,t,a){this.options=t,this.chart=a,this.id=m(),s.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)}).prototype,{initialize:function(){return this},clear:function(){return E(this.chart),this},stop:function(){return p.cancelAnimFrame.call(a,this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,a=T(this.chart.canvas),n=this.options.maintainAspectRatio?a/this.chart.aspectRatio:M(this.chart.canvas);return t.width=this.chart.width=a,t.height=this.chart.height=n,z(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:u,render:function(e){return e&&this.reflow(),this.options.animation&&!e?p.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return k(this.options.legendTemplate,this)},destroy:function(){this.clear(),D(this,this.events),delete s.instances[this.id]},showTooltip:function(e,t){if(void 0===this.activeElements&&(this.activeElements=[]),function(e){var a=!1;return e.length!==this.activeElements.length?a=!0:(l(e,function(e,t){e!==this.activeElements[t]&&(a=!0)},this),a)}.call(this,e)||t){if(this.activeElements=e,this.draw(),0<e.length)if(this.datasets&&1<this.datasets.length){for(var a,d,n=this.datasets.length-1;0<=n&&(a=this.datasets[n].points||this.datasets[n].bars||this.datasets[n].segments,-1===(d=i(a,e[0])));n--);var c=[],u=[],t=function(e){var t,a,n,i,s,o=[],l=[],r=[];return p.each(this.datasets,function(e){(t=e.points||e.bars||e.segments)[d]&&t[d].hasValue()&&o.push(t[d])}),p.each(o,function(e){l.push(e.x),r.push(e.y),c.push(p.template(this.options.multiTooltipTemplate,e)),u.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),s=b(r),n=h(r),i=b(l),a=h(l),{x:i>this.chart.width/2?i:a,y:(s+n)/2}}.call(this,d);new s.MultiTooltip({x:t.x,y:t.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else l(e,function(e){var t=e.tooltipPosition();new s.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:k(this.options.tooltipTemplate,e),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),s.Type.extend=function(e){function a(){return i.apply(this,arguments)}var n,t,i=this;return a.prototype=o(i.prototype),r(a.prototype,e),a.extend=s.Type.extend,e.name||i.prototype.name?(n=e.name||i.prototype.name,t=s.defaults[i.prototype.name]?o(s.defaults[i.prototype.name]):{},s.defaults[n]=r(t,e.defaults),s.types[n]=a,s.prototype[n]=function(e,t){t=d(s.defaults.global,s.defaults[n],t||{});return new a(e,t,this)}):g("Name not provided for this chart, so it hasn't been registered"),i},r((s.Element=function(e){r(this,e),this.initialize.apply(this,arguments),this.save()}).prototype,{initialize:function(){},restore:function(e){return e?l(e,function(e){this[e]=this._saved[e]},this):r(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(e){return l(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,a){return l(e,function(e,t){this[t]=(e-this._saved[t])*a+this._saved[t]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return v(this.value)}}),s.Element.extend=c,s.Point=s.Element.extend({display:!0,inRange:function(e,t){var a=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(a,2)},draw:function(){var e;this.display&&((e=this.ctx).beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke())}}),s.Arc=s.Element.extend({inRange:function(e,t){e=p.getAngleFromPoint(this,{x:e,y:t}),t=e.angle>=this.startAngle&&e.angle<=this.endAngle,e=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return t&&e},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),s.Rectangle=s.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,a=this.x-t,t=this.x+t,n=this.base-(this.base-this.y),i=this.strokeWidth/2;this.showStroke&&(a+=i,t-=i,n+=i),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(a,this.base),e.lineTo(a,n),e.lineTo(t,n),e.lineTo(t,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),s.Tooltip=s.Element.extend({draw:function(){var e=this.chart.ctx,t=(e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above",e.measureText(this.text).width+2*this.xPadding),a=this.fontSize+2*this.yPadding,n=a+this.caretHeight+2,i=(this.x+t/2>this.chart.width?this.xAlign="left":this.x-t/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below"),this.x-t/2),s=this.y-n;switch(e.fillStyle=this.fillColor,this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-2),e.lineTo(this.x+this.caretHeight,this.y-(2+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(2+this.caretHeight)),e.closePath(),e.fill();break;case"below":s=this.y+2+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+2),e.lineTo(this.x+this.caretHeight,this.y+2+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+2+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":i=this.x-t+(this.cornerRadius+this.caretHeight);break;case"right":i=this.x-(this.cornerRadius+this.caretHeight)}$(e,i,s,t,a,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,i+t/2,s+a/2)}}),s.MultiTooltip=s.Element.extend({initialize:function(){this.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=P(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=N(this.ctx,this.font,this.labels)+this.fontSize+3,t=h([t,e]),e=(this.width=t+2*this.xPadding,this.height/2);this.y-e<0?this.y=e:this.y+e>this.chart.height&&(this.y=this.chart.height-e),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*(e-1)+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){$(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var a=this.ctx;a.fillStyle=this.fillColor,a.fill(),a.closePath(),a.textAlign="left",a.textBaseline="middle",a.fillStyle=this.titleTextColor,a.font=this.titleFont,a.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),a.font=this.font,p.each(this.labels,function(e,t){a.fillStyle=this.textColor,a.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(t+1)),a.fillStyle=this.legendColorBackground,a.fillRect(this.x+this.xPadding,this.getLineHeight(t+1)-this.fontSize/2,this.fontSize,this.fontSize),a.fillStyle=this.legendColors[t].fill,a.fillRect(this.x+this.xPadding,this.getLineHeight(t+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),s.Scale=s.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=_(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(k(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?N(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t=this.ctx.measureText(this.xLabels[0]).width,a=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=a/2+3,this.xScalePaddingLeft=t/2>this.yLabelWidth+10?t/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){for(var n,i=N(this.ctx,this.font,this.xLabels),s=(this.xLabelWidth=i,Math.floor(this.calculateX(1)-this.calculateX(0))-6);this.xLabelWidth>s&&0===this.xLabelRotation||this.xLabelWidth>s&&this.xLabelRotation<=90&&0<this.xLabelRotation;)n=Math.cos(w(this.xLabelRotation)),(e=n*t)+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*i;0<this.xLabelRotation&&(this.endPoint-=Math.sin(w(this.xLabelRotation))*i+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:u,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){this.xLabelRotation;var t=(this.width-(this.xScalePaddingLeft+this.xScalePaddingRight))/(this.valuesCount-(this.offsetGridLines?0:1)),e=t*e+this.xScalePaddingLeft;return this.offsetGridLines&&(e+=t/2),Math.round(e)},update:function(e){p.extend(this,e),this.fit()},draw:function(){var s=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,o=Math.round(this.xScalePaddingLeft);this.display&&(s.fillStyle=this.textColor,s.font=this.font,l(this.yLabels,function(e,t){var a=this.endPoint-i*t,n=Math.round(a);s.textAlign="right",s.textBaseline="middle",this.showLabels&&s.fillText(e,o-10,a),s.beginPath(),0<t?(s.lineWidth=this.gridLineWidth,s.strokeStyle=this.gridLineColor):(s.lineWidth=this.lineWidth,s.strokeStyle=this.lineColor),n+=p.aliasPixel(s.lineWidth),s.moveTo(o,n),s.lineTo(this.width,n),s.stroke(),s.closePath(),s.lineWidth=this.lineWidth,s.strokeStyle=this.lineColor,s.beginPath(),s.moveTo(o-5,n),s.lineTo(o,n),s.stroke(),s.closePath()},this),l(this.xLabels,function(e,t){var a=this.calculateX(t)+y(this.lineWidth),n=this.calculateX(t-(this.offsetGridLines?.5:0))+y(this.lineWidth),i=0<this.xLabelRotation;s.beginPath(),0<t?(s.lineWidth=this.gridLineWidth,s.strokeStyle=this.gridLineColor):(s.lineWidth=this.lineWidth,s.strokeStyle=this.lineColor),s.moveTo(n,this.endPoint),s.lineTo(n,this.startPoint-3),s.stroke(),s.closePath(),s.lineWidth=this.lineWidth,s.strokeStyle=this.lineColor,s.beginPath(),s.moveTo(n,this.endPoint),s.lineTo(n,this.endPoint+5),s.stroke(),s.closePath(),s.save(),s.translate(a,i?this.endPoint+12:this.endPoint+8),s.rotate(-1*w(this.xLabelRotation)),s.font=this.font,s.textAlign=i?"right":"center",s.textBaseline=i?"middle":"top",s.fillText(e,0,0),s.restore()},this))}}),s.RadialScale=s.Element.extend({initialize:function(){this.size=b([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=_(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(k(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,a,n,i,s,o,l,r,d,c=b([this.height/2-this.pointLabelFontSize-5,this.width/2]),u=this.width,p=0;for(this.ctx.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,c),a=this.ctx.measureText(k(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(e.x+(n=a/2)>u&&(u=e.x+n,i=t),e.x-n<p&&(p=e.x-n,s=t)):t<this.valuesCount/2?e.x+a>u&&(u=e.x+a,i=t):t>this.valuesCount/2&&e.x-a<p&&(p=e.x-a,s=t);l=p,r=Math.ceil(u-this.width),d=this.getIndexAngle(i),o=this.getIndexAngle(s),r=r/Math.sin(d+Math.PI/2),d=l/Math.sin(o+Math.PI/2),r=v(r)?r:0,d=v(d)?d:0,this.drawingArea=c-(d+r)/2,this.setCenterPoint(d,r)},setCenterPoint:function(e,t){t=this.width-t-this.drawingArea,e+=this.drawingArea;this.xCenter=(e+t)/2,this.yCenter=this.height/2},getIndexAngle:function(e){return e*(2*Math.PI/this.valuesCount)-Math.PI/2},getPointPosition:function(e,t){e=this.getIndexAngle(e);return{x:Math.cos(e)*t+this.xCenter,y:Math.sin(e)*t+this.yCenter}},draw:function(){if(this.display){var o=this.ctx;if(l(this.yLabels,function(e,t){if(0<t){var a,n=t*(this.drawingArea/this.steps),i=this.yCenter-n;if(0<this.lineWidth){if(o.strokeStyle=this.lineColor,o.lineWidth=this.lineWidth,this.lineArc)o.beginPath(),o.arc(this.xCenter,this.yCenter,n,0,2*Math.PI);else{o.beginPath();for(var s=0;s<this.valuesCount;s++)a=this.getPointPosition(s,this.calculateCenterOffset(this.min+t*this.stepValue)),0===s?o.moveTo(a.x,a.y):o.lineTo(a.x,a.y)}o.closePath(),o.stroke()}this.showLabels&&(o.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop&&(n=o.measureText(e).width,o.fillStyle=this.backdropColor,o.fillRect(this.xCenter-n/2-this.backdropPaddingX,i-this.fontSize/2-this.backdropPaddingY,n+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)),o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.fontColor,o.fillText(e,this.xCenter,i))}},this),!this.lineArc){o.lineWidth=this.angleLineWidth,o.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;0<=e;e--){0<this.angleLineWidth&&(t=this.getPointPosition(e,this.calculateCenterOffset(this.max)),o.beginPath(),o.moveTo(this.xCenter,this.yCenter),o.lineTo(t.x,t.y),o.stroke(),o.closePath());var t=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5),a=(o.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),o.fillStyle=this.pointLabelFontColor,this.labels.length),n=this.labels.length/2,i=n/2,s=e<i||a-i<e,a=e===i||e===a-i;o.textAlign=0===e||e===n?"center":e<n?"left":"right",o.textBaseline=a?"middle":s?"bottom":"top",o.fillText(this.labels[e],t.x,t.y)}}}}}),p.addEvent(window,"resize",function(){clearTimeout(t),t=setTimeout(function(){l(s.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}),f?define(function(){return s}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=s),(a.Chart=s).noConflict=function(){return a.Chart=n,s}}.call(void 0),!function(){var e=this.Chart,o=e.helpers;e.Type.extend({name:"Bar",defaults:{scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(i){var s=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,a){var n=this.calculateBaseWidth(),a=this.calculateX(a)-n/2,n=this.calculateBarWidth(e);return a+n*t+t*s.barDatasetSpacing+n/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(e){return(this.calculateBaseWidth()-(e-1)*s.barDatasetSpacing)/e}}),this.datasets=[],this.options.showTooltips&&o.bindEvents(this,this.options.tooltipEvents,function(e){e="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),o.each(e,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),o.each(i.datasets,function(a,e){var n={label:a.label||null,fillColor:a.fillColor,strokeColor:a.strokeColor,bars:[]};this.datasets.push(n),o.each(a.data,function(e,t){n.bars.push(new this.BarClass({value:e,label:i.labels[t],datasetLabel:a.label,strokeColor:a.strokeColor,fillColor:a.fillColor,highlightFill:a.highlightFill||a.fillColor,highlightStroke:a.highlightStroke||a.strokeColor}))},this)},this),this.buildScale(i.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,a){o.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,a,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),o.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(a){o.each(this.datasets,function(e,t){o.each(e.bars,a,this,t)},this)},getBarsAtEvent:function(e){for(var t,a=[],n=o.getRelativePosition(e),i=function(e){a.push(e.bars[t])},s=0;s<this.datasets.length;s++)for(t=0;t<this.datasets[s].bars.length;t++)if(this.datasets[s].bars[t].inRange(n.x,n.y))return o.each(this.datasets,i),a;return a},buildScale:function(e){var a=this,e={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t,e=o.calculateScaleRange((t=[],a.eachBars(function(e){t.push(e.value)}),t),e,this.fontSize,this.beginAtZero,this.integersOnly);o.extend(this,e)},xLabels:e,font:o.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:!this.options.showScale&&this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&o.extend(e,{calculateYRange:o.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(e)},addData:function(e,a){o.each(e,function(e,t){this.datasets[t].bars.push(new this.BarClass({value:e,label:a,x:this.scale.calculateBarX(this.datasets.length,t,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[t].strokeColor,fillColor:this.datasets[t].fillColor}))},this),this.scale.addXLabel(a),this.update()},removeData:function(){this.scale.removeXLabel(),o.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){o.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=o.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var n=e||1;this.clear(),this.chart.ctx;this.scale.draw(n),o.each(this.datasets,function(e,a){o.each(e.bars,function(e,t){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,a,t),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},n).draw())},this)},this)}})}.call(void 0),!function(){var t=this.Chart,n=t.helpers,e={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:e,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){e="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(e,function(e){e.fillColor=e.highlightColor}),this.showTooltip(e)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],a=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(a.x,a.y)&&t.push(e)},this),t},addData:function(e,t,a){t=t||this.segments.length;this.segments.splice(t,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),a||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(e/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){e=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var a=e||1;this.clear(),n.each(this.segments,function(e,t){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},a),e.endAngle=e.startAngle+e.circumference,e.draw(),0===t&&(e.startAngle=1.5*Math.PI),t<this.segments.length-1&&(this.segments[t+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(e,{percentageInnerCutout:0})})}.call(void 0),!function(){var t=this.Chart,l=t.helpers;t.Type.extend({name:"Line",defaults:{scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(i){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&l.bindEvents(this,this.options.tooltipEvents,function(e){e="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),l.each(e,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(e)}),l.each(i.datasets,function(a){var n={label:a.label||null,fillColor:a.fillColor,strokeColor:a.strokeColor,pointColor:a.pointColor,pointStrokeColor:a.pointStrokeColor,points:[]};this.datasets.push(n),l.each(a.data,function(e,t){n.points.push(new this.PointClass({value:e,label:i.labels[t],datasetLabel:a.label,strokeColor:a.pointStrokeColor,fillColor:a.pointColor,highlightFill:a.pointHighlightFill||a.pointColor,highlightStroke:a.pointHighlightStroke||a.pointStrokeColor}))},this),this.buildScale(i.labels),this.eachPoints(function(e,t){l.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),l.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(t){l.each(this.datasets,function(e){l.each(e.points,t,this)},this)},getPointsAtEvent:function(e){var t=[],a=l.getRelativePosition(e);return l.each(this.datasets,function(e){l.each(e.points,function(e){e.inRange(a.x,a.y)&&t.push(e)})},this),t},buildScale:function(e){var a=this,e={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t,e=l.calculateScaleRange((t=[],a.eachPoints(function(e){t.push(e.value)}),t),e,this.fontSize,this.beginAtZero,this.integersOnly);l.extend(this,e)},xLabels:e,font:l.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&l.extend(e,{calculateYRange:l.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(e)},addData:function(e,a){l.each(e,function(e,t){this.datasets[t].points.push(new this.PointClass({value:e,label:a,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[t].pointStrokeColor,fillColor:this.datasets[t].pointColor}))},this),this.scale.addXLabel(a),this.update()},removeData:function(){this.scale.removeXLabel(),l.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=l.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){function s(e,t,a){return l.findPreviousWhere(t,o,a)||e}var a=e||1,n=(this.clear(),this.chart.ctx),o=function(e){return null!==e.value};this.scale.draw(a),l.each(this.datasets,function(e){var i=l.where(e.points,o);l.each(e.points,function(e,t){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(t)},a)},this),this.options.bezierCurve&&l.each(i,function(e,t){var a,n=0<t&&t<i.length-1?this.options.bezierCurveTension:0;e.controlPoints=l.splineCurve(s(e,i,t),e,(a=e,l.findNextWhere(i,o,t)||a),n),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=e.strokeColor,n.beginPath(),l.each(i,function(e,t){0===t?n.moveTo(e.x,e.y):this.options.bezierCurve?(t=s(e,i,t),n.bezierCurveTo(t.controlPoints.outer.x,t.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)):n.lineTo(e.x,e.y)},this),n.stroke(),this.options.datasetFill&&0<i.length&&(n.lineTo(i[i.length-1].x,this.scale.endPoint),n.lineTo(i[0].x,this.scale.endPoint),n.fillStyle=e.fillColor,n.closePath(),n.fill()),l.each(i,function(e){e.draw()})},this)}})}.call(void 0),!function(){var t=this.Chart,n=t.helpers;t.Type.extend({name:"PolarArea",defaults:{scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){e="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(e,function(e){e.fillColor=e.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(e){var t=[],a=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(a.x,a.y)&&t.push(e)},this),t},addData:function(e,t,a){t=t||this.segments.length;this.segments.splice(t,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),a||(this.reflow(),this.update())},removeData:function(e){e=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[],e=(n.each(e,function(e){t.push(e.value)}),this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly));n.extend(this.scale,e,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var a=e||1;this.clear(),n.each(this.segments,function(e,t){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},a),e.endAngle=e.startAngle+e.circumference,0===t&&(e.startAngle=1.5*Math.PI),t<this.segments.length-1&&(this.segments[t+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(void 0),!function(){var t=this.Chart,o=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(s){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(s),this.options.showTooltips&&o.bindEvents(this,this.options.tooltipEvents,function(e){e="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),o.each(e,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(e)}),o.each(s.datasets,function(n){var i={label:n.label||null,fillColor:n.fillColor,strokeColor:n.strokeColor,pointColor:n.pointColor,pointStrokeColor:n.pointStrokeColor,points:[]};this.datasets.push(i),o.each(n.data,function(e,t){var a;this.scale.animation||(a=this.scale.getPointPosition(t,this.scale.calculateCenterOffset(e))),i.points.push(new this.PointClass({value:e,label:s.labels[t],datasetLabel:n.label,x:this.options.animation?this.scale.xCenter:a.x,y:this.options.animation?this.scale.yCenter:a.y,strokeColor:n.pointStrokeColor,fillColor:n.pointColor,highlightFill:n.pointHighlightFill||n.pointColor,highlightStroke:n.pointHighlightStroke||n.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){o.each(this.datasets,function(e){o.each(e.points,t,this)},this)},getPointsAtEvent:function(e){var e=o.getRelativePosition(e),e=o.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),t=2*Math.PI/this.scale.valuesCount,a=Math.round((e.angle-1.5*Math.PI)/t),n=[];return(a>=this.scale.valuesCount||a<0)&&(a=0),e.distance<=this.scale.drawingArea&&o.each(this.datasets,function(e){n.push(e.points[a])}),n},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){t=[],o.each(e,function(e){e.data?t=t.concat(e.data):o.each(e.points,function(e){t.push(e.value)})});var t,e=t,e=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:o.calculateScaleRange(e,o.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);o.extend(this.scale,e)},addData:function(e,n){this.scale.valuesCount++,o.each(e,function(e,t){var a=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[t].points.push(new this.PointClass({value:e,label:n,x:a.x,y:a.y,strokeColor:this.datasets[t].pointStrokeColor,fillColor:this.datasets[t].pointColor}))},this),this.scale.labels.push(n),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),o.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){o.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:o.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var a=e||1,n=this.chart.ctx;this.clear(),this.scale.draw(),o.each(this.datasets,function(e){o.each(e.points,function(e,t){e.hasValue()&&e.transition(this.scale.getPointPosition(t,this.scale.calculateCenterOffset(e.value)),a)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=e.strokeColor,n.beginPath(),o.each(e.points,function(e,t){0===t?n.moveTo(e.x,e.y):n.lineTo(e.x,e.y)},this),n.closePath(),n.stroke(),n.fillStyle=e.fillColor,n.fill(),o.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(void 0),!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(r){var a={},d=Math.max,c=Math.min;a.c={},a.c.d=r(document),a.c.t=function(e){return e.originalEvent.touches.length-1},a.o=function(){var s=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){function e(e,t){for(var a in t)s.o[a]=t[a];s._carve().init(),s._configure()._draw()}if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=r.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(e){return e},parse:function(e){return parseFloat(e)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(n){var i=r(this);s.i[n]=i,s.v[n]=s.o.parse(i.val()),i.bind("change blur",function(e,t){var a={};a[n]=i.val(),s.val(s._validate(a),t)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(e,t){s.val(s._validate(s.o.parse(s.$.val())),t)})),this.o.displayInput||this.$.hide(),this.$c=r(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=r('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,this.c)return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",e).parent().bind("configure",e),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this;throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}}}},this._carve=function(){var e,t;return this.relative?(e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height(),this.w=this.h=Math.min(e,t)):(this.w=this.o.width,this.h=this.o.height),this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var e=!0;s.g=s.c,s.clear(),!1!==(e=s.dH?s.dH():e)&&s.draw()},this._touch=function(e){function t(e){(e=s.xy2val(e.originalEvent.touches[s.t].pageX,e.originalEvent.touches[s.t].pageY))==s.cv||s.cH&&!1===s.cH(e)||(s.change(s._validate(e)),s._draw())}return this.t=a.c.t(e),t(e),a.c.d.bind("touchmove.k",t).bind("touchend.k",function(){a.c.d.unbind("touchmove.k touchend.k"),s.val(s.cv)}),this},this._mouse=function(e){function t(e){(e=s.xy2val(e.pageX,e.pageY))==s.cv||s.cH&&!1===s.cH(e)||(s.change(s._validate(e)),s._draw())}return t(e),a.c.d.bind("mousemove.k",t).bind("keyup.k",function(e){27===e.keyCode&&(a.c.d.unbind("mouseup.k mousemove.k keyup.k"),s.eH&&!1===s.eH()||s.cancel())}).bind("mouseup.k",function(e){a.c.d.unbind("mousemove.k mouseup.k keyup.k"),s.val(s.cv)}),this},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(e){e.preventDefault(),s._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault(),s._xy()._touch(e)}),this.listen()),this.relative&&r(window).resize(function(){s._carve().init(),s._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(e){e=~~((e<0?-.5:.5)+e/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(e){},this.val=function(e){},this.xy2val=function(e,t){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,t){return e=e.substring(1,7),"rgba("+(e=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)])[0]+","+e[1]+","+e[2]+","+t+")"},this.copy=function(e,t){for(var a in e)t[a]=e[a]}},a.Dial=function(){a.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=r.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e,t){if(null==e)return this.v;e=this.o.parse(e),!1!==t&&e!=this.v&&this.rH&&!1===this.rH(e)||(this.cv=this.o.stopper?d(c(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(e,t){e=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset;return this.o.flip&&(e=this.angleArc-e-this.PI2),this.angleArc!=this.PI2&&e<0&&-.5<e?e=0:e<0&&(e+=this.PI2),t=e*(this.o.max-this.o.min)/this.angleArc+this.o.min,t=this.o.stopper?d(c(t,this.o.max),this.o.min):t},this.listen=function(){function e(e){e.preventDefault();(e=e.originalEvent).detail||e.wheelDeltaX;var e=e.detail||e.wheelDeltaY,t=s._validate(s.o.parse(s.$.val())),a=t+(0<e?s.o.step:e<0?-s.o.step:0);t!==(a=d(c(a,s.o.max),s.o.min))&&(s.val(a,!1),s.rH&&(clearTimeout(n),n=setTimeout(function(){s.rH(a),n=null},100)))}var n,a,i,s=this,o=1,l={37:-s.o.step,38:s.o.step,39:s.o.step,40:-s.o.step};this.$.bind("keydown",function(e){var t=e.keyCode;96<=t&&t<=105&&(t=e.keyCode=t-48),a=parseInt(String.fromCharCode(t)),isNaN(a)&&(13===t||8===t||9===t||189===t||190===t&&!s.$.val().match(/\./)||e.preventDefault(),-1<r.inArray(t,[37,38,39,40])&&(e.preventDefault(),e=s.o.parse(s.$.val())+l[t]*o,s.o.stopper&&(e=d(c(e,s.o.max),s.o.min)),s.change(s._validate(e)),s._draw(),i=window.setTimeout(function(){o*=2},30)))}).bind("keyup",function(e){isNaN(a)?i&&(window.clearTimeout(i),i=null,o=1,s.val(s.$.val())):s.$.val()>s.o.max&&s.$.val(s.o.max)||s.$.val()<s.o.min&&s.$.val(s.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",e),this.$.bind("mousewheel DOMMouseScroll",e)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=d(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})&&this.i.attr("readonly","readonly")||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(this.o.format(e))},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(e){var t;return e=this.angle(e),e=this.o.flip?(t=this.endAngle+1e-5)-e-1e-5:(t=this.startAngle-1e-5)+e+1e-5,this.o.cursor&&(t=e-this.cursorExt)&&(e+=this.cursorExt),{s:t,e:e,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var e,t=this.g,a=this.arc(this.cv),n=1;t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,"none"!==this.o.bgColor&&(t.beginPath(),t.strokeStyle=this.o.bgColor,t.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),t.stroke()),this.o.displayPrevious&&(e=this.arc(this.v),t.beginPath(),t.strokeStyle=this.pColor,t.arc(this.xy,this.xy,this.radius,e.s,e.e,e.d),t.stroke(),n=this.cv==this.v),t.beginPath(),t.strokeStyle=(n?this.o:this).fgColor,t.arc(this.xy,this.xy,this.radius,a.s,a.e,a.d),t.stroke()},this.cancel=function(){this.val(this.v)}},r.fn.dial=r.fn.knob=function(t){return this.each(function(){var e=new a.Dial;e.o=t,e.$=r(this),e.run()}).parent()}});var qrcode=function(){function e(e,t){this.count=e,this.dataCodewords=t,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("DataCodewords",function(){return this.dataCodewords})}function t(e,t,a){this.ecCodewordsPerBlock=e,this.ecBlocks=a?[t,a]:Array(t),this.__defineGetter__("ECCodewordsPerBlock",function(){return this.ecCodewordsPerBlock}),this.__defineGetter__("TotalECCodewords",function(){return this.ecCodewordsPerBlock*this.NumBlocks}),this.__defineGetter__("NumBlocks",function(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e}),this.getECBlocks=function(){return this.ecBlocks}}function r(e,t,a,n,i,s){for(this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=[a,n,i,s],e=0,t=a.ECCodewordsPerBlock,a=a.getECBlocks(),n=0;n<a.length;n++)e+=(i=a[n]).Count*(i.DataCodewords+t);this.totalCodewords=e,this.__defineGetter__("VersionNumber",function(){return this.versionNumber}),this.__defineGetter__("AlignmentPatternCenters",function(){return this.alignmentPatternCenters}),this.__defineGetter__("TotalCodewords",function(){return this.totalCodewords}),this.__defineGetter__("DimensionForVersion",function(){return 17+4*this.versionNumber}),this.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new c(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var a=this.alignmentPatternCenters.length,n=0;n<a;n++)for(var i=this.alignmentPatternCenters[n]-2,s=0;s<a;s++)0==n&&(0==s||s==a-1)||n==a-1&&0==s||t.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),6<this.versionNumber&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},this.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]}}function b(e,t,a,n,i,s,o,l,r){this.a11=e,this.a12=n,this.a13=o,this.a21=t,this.a22=i,this.a23=l,this.a31=a,this.a32=s,this.a33=r,this.transformPoints1=function(e){for(var t=e.length,a=this.a11,n=this.a12,i=this.a13,s=this.a21,o=this.a22,l=this.a23,r=this.a31,d=this.a32,c=this.a33,u=0;u<t;u+=2){var p=e[u],m=e[u+1],g=i*p+l*m+c;e[u]=(a*p+s*m+r)/g,e[u+1]=(n*p+o*m+d)/g}},this.transformPoints2=function(e,t){for(var a=e.length,n=0;n<a;n++){var i=e[n],s=t[n],o=this.a13*i+this.a23*s+this.a33;e[n]=(this.a11*i+this.a21*s+this.a31)/o,t[n]=(this.a12*i+this.a22*s+this.a32)/o}},this.buildAdjoint=function(){return new b(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new b(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}function d(e,t){this.bits=e,this.points=t}function o(e){this.image=e,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(e,t,a,n){var i=Math.abs(n-t)>Math.abs(a-e);i&&(p=e,e=t,t=p,p=a,a=n,n=p);for(var s=Math.abs(a-e),o=Math.abs(n-t),l=-s>>1,r=t<n?1:-1,d=e<a?1:-1,c=0,u=e,p=t;u!=a;u+=d){var m=i?p:u,g=i?u:p;if(1==c?this.image[m+g*T.width]&&c++:this.image[m+g*T.width]||c++,3==c)return n=u-e,t=p-t,Math.sqrt(n*n+t*t);if(0<(l+=o)){if(p==n)break;p+=r,l-=s}}return e=a-e,t=n-t,Math.sqrt(e*e+t*t)},this.sizeOfBlackWhiteBlackRunBothWays=function(e,t,a,n){var i=this.sizeOfBlackWhiteBlackRun(e,t,a,n),s=1;return(a=e-(a-e))<0?(s=e/(e-a),a=0):a>=T.width&&(s=(T.width-1-e)/(a-e),a=T.width-1),n=Math.floor(t-(n-t)*s),s=1,n<0?(s=t/(t-n),n=0):n>=T.height&&(s=(T.height-1-t)/(n-t),n=T.height-1),a=Math.floor(e+(a-e)*s),(i+=this.sizeOfBlackWhiteBlackRun(e,t,a,n))-1},this.calculateModuleSizeOneWay=function(e,t){var a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),t=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(a)?t/7:isNaN(t)?a/7:(a+t)/14},this.calculateModuleSize=function(e,t,a){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,a))/2},this.distance=function(e,t){var a=e.X-t.X,e=e.Y-t.Y;return Math.sqrt(a*a+e*e)},this.computeDimension=function(e,t,a,n){switch(3&(e=7+((t=Math.round(this.distance(e,t)/n))+(e=Math.round(this.distance(e,a)/n))>>1))){case 0:e++;break;case 2:e--;break;case 3:throw"Error"}return e},this.findAlignmentInRegion=function(e,t,a,n){n=Math.floor(n*e);var i=Math.max(0,t-n);if((t=Math.min(T.width-1,t+n))-i<3*e)throw"Error";var s=Math.max(0,a-n);return new h(this.image,i,s,t-i,Math.min(T.height-1,a+n)-s,e,this.resultPointCallback).find()},this.createTransform=function(e,t,a,n,i){var s,o,l;return i-=3.5,l=s=null!=n?(o=n.X,n=n.Y,i-3):(o=t.X-e.X+a.X,n=t.Y-e.Y+a.Y,i),b.quadrilateralToQuadrilateral(3.5,3.5,i,3.5,l,s,3.5,i,e.X,e.Y,t.X,t.Y,o,n,a.X,a.Y)},this.sampleGrid=function(e,t,a){return w.sampleGrid3(e,a,t)},this.processFinderPatternInfo=function(e){var t=e.TopLeft,a=e.TopRight,n=(e=e.BottomLeft,this.calculateModuleSize(t,a,e));if(n<1)throw"Error";var i=this.computeDimension(t,a,e,n),s=r.getProvisionalVersionForDimension(i),o=s.DimensionForVersion-7,l=null;if(0<s.AlignmentPatternCenters.length)for(s=1-3/o,l=Math.floor(t.X+s*(a.X-t.X+e.X-t.X)),s=Math.floor(t.Y+s*(a.Y-t.Y+e.Y-t.Y));;){l=this.findAlignmentInRegion(n,l,s,4);break}return n=this.createTransform(t,a,e,l,i),new d(this.sampleGrid(this.image,n,i),null==l?[e,t,a]:[e,t,a,l])},this.detect=function(){var e=(new i).findFinderPattern(this.image);return this.processFinderPatternInfo(e)}}function l(e){this.errorCorrectionLevel=a.forBits(e>>3&3),this.dataMask=7&e,this.__defineGetter__("ErrorCorrectionLevel",function(){return this.errorCorrectionLevel}),this.__defineGetter__("DataMask",function(){return this.dataMask}),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask},this.Equals=function(e){return this.errorCorrectionLevel==e.errorCorrectionLevel&&this.dataMask==e.dataMask}}function a(e,t,a){this.ordinal_Renamed_Field=e,this.bits=t,this.name=a,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this.ordinal_Renamed_Field}}function c(e,t){if(t=t||e,e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var a=e>>5;for(0!=(31&e)&&a++,this.rowSize=a,this.bits=Array(a*t),a=0;a<this.bits.length;a++)this.bits[a]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this.get_Renamed=function(e,t){return 0!=(1&n(this.bits[t*this.rowSize+(e>>5)],31&e))},this.set_Renamed=function(e,t){this.bits[t*this.rowSize+(e>>5)]|=1<<(31&e)},this.flip=function(e,t){this.bits[t*this.rowSize+(e>>5)]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0},this.setRegion=function(e,t,a,n){if(t<0||e<0)throw"Left and top must be nonnegative";if(n<1||a<1)throw"Height and width must be at least 1";if(a=e+a,(n=t+n)>this.height||a>this.width)throw"The region must fit inside the matrix";for(;t<n;t++)for(var i=t*this.rowSize,s=e;s<a;s++)this.bits[i+(s>>5)]|=1<<(31&s)}}function u(e,t){this.numDataCodewords=e,this.codewords=t,this.__defineGetter__("NumDataCodewords",function(){return this.numDataCodewords}),this.__defineGetter__("Codewords",function(){return this.codewords})}function p(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e,this.parsedFormatInfo=this.parsedVersion=null,this.copyBit=function(e,t,a){return this.bitMatrix.get_Renamed(e,t)?a<<1|1:a<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);for(e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e),t=5;0<=t;t--)e=this.copyBit(8,t,e);if(this.parsedFormatInfo=l.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var a=this.bitMatrix.Dimension,e=0,n=a-8,t=a-1;n<=t;t--)e=this.copyBit(t,8,e);for(t=a-7;t<a;t++)e=this.copyBit(8,t,e);if(this.parsedFormatInfo=l.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension;if((t=e-17>>2)<=6)return r.getVersionForNumber(t);for(var t=0,a=e-11,n=5;0<=n;n--)for(var i=e-9;a<=i;i--)t=this.copyBit(i,n,t);if(this.parsedVersion=r.decodeVersionInformation(t),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;for(t=0,i=5;0<=i;i--)for(n=e-9;a<=n;n--)t=this.copyBit(i,n,t);if(this.parsedVersion=r.decodeVersionInformation(t),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),a=A.forReference(e.DataMask),e=this.bitMatrix.Dimension;a.unmaskBitMatrix(this.bitMatrix,e);for(var a=t.buildFunctionPattern(),n=!0,i=Array(t.TotalCodewords),s=0,o=0,l=0,r=e-1;0<r;r-=2){6==r&&r--;for(var d=0;d<e;d++)for(var c=n?e-1-d:d,u=0;u<2;u++)a.get_Renamed(r-u,c)||(l++,o<<=1,this.bitMatrix.get_Renamed(r-u,c)&&(o|=1),8==l&&(i[s++]=o,o=l=0));n^=1}if(s!=t.TotalCodewords)throw"Error readCodewords";return i}}function m(s,e){if(null==e||0==e.length)throw"System.ArgumentException";this.field=s;var t=e.length;if(1<t&&0==e[0]){for(var a=1;a<t&&0==e[a];)a++;if(a==t)this.coefficients=s.Zero.coefficients;else{for(this.coefficients=Array(t-a),t=0;t<this.coefficients.length;t++)this.coefficients[t]=0;for(t=0;t<this.coefficients.length;t++)this.coefficients[t]=e[a+t]}}else this.coefficients=e;this.__defineGetter__("Zero",function(){return 0==this.coefficients[0]}),this.__defineGetter__("Degree",function(){return this.coefficients.length-1}),this.__defineGetter__("Coefficients",function(){return this.coefficients}),this.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},this.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var a=e=0;a<t;a++)e=g.addOrSubtract(e,this.coefficients[a]);return e}for(var n=this.coefficients[0],a=1;a<t;a++)n=g.addOrSubtract(this.field.multiply(e,n),this.coefficients[a]);return n},this.addOrSubtract=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return e;if(e.Zero)return this;var t=this.coefficients;e=e.coefficients,t.length>e.length&&(a=t,t=e,e=a);for(var a=Array(e.length),n=e.length-t.length,i=0;i<n;i++)a[i]=e[i];for(i=n;i<e.length;i++)a[i]=g.addOrSubtract(t[i-n],e[i]);return new m(s,a)},this.multiply1=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,a=t.length,n=(e=e.coefficients).length,i=Array(a+n-1),s=0;s<a;s++)for(var o=t[s],l=0;l<n;l++)i[s+l]=g.addOrSubtract(i[s+l],this.field.multiply(o,e[l]));return new m(this.field,i)},this.multiply2=function(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,a=Array(t),n=0;n<t;n++)a[n]=this.field.multiply(this.coefficients[n],e);return new m(this.field,a)},this.multiplyByMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var a=this.coefficients.length,n=Array(a+e),i=0;i<n.length;i++)n[i]=0;for(i=0;i<a;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new m(this.field,n)},this.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,a=this,n=e.getCoefficient(e.Degree),n=this.field.inverse(n);a.Degree>=e.Degree&&!a.Zero;)var i=a.Degree-e.Degree,s=this.field.multiply(a.getCoefficient(a.Degree),n),o=e.multiplyByMonomial(i,s),i=this.field.buildMonomial(i,s),t=t.addOrSubtract(i),a=a.addOrSubtract(o);return[t,a]}}function g(e){this.expTable=Array(256),this.logTable=Array(256);for(var t=1,a=0;a<256;a++)this.expTable[a]=t,256<=(t<<=1)&&(t^=e);for(a=0;a<255;a++)this.logTable[this.expTable[a]]=a;(e=Array(1))[0]=0,this.zero=new m(this,Array(e)),(e=Array(1))[0]=1,this.one=new m(this,Array(e)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this.buildMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.zero;for(var a=Array(e+1),n=0;n<a.length;n++)a[n]=0;return a[0]=t,new m(this,a)},this.exp=function(e){return this.expTable[e]},this.log=function(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]}}function n(e,t){return 0<=e?e>>t:(e>>t)+(2<<~t)}function f(e,t,a){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=a,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,a){return Math.abs(t-this.y)<=e&&Math.abs(a-this.x)<=e&&((e=Math.abs(e-this.estimatedModuleSize))<=1||e/this.estimatedModuleSize<=1)}}function v(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2],this.__defineGetter__("BottomLeft",function(){return this.bottomLeft}),this.__defineGetter__("TopLeft",function(){return this.topLeft}),this.__defineGetter__("TopRight",function(){return this.topRight})}function i(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=[0,0,0,0,0],this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}),this.foundPatternCross=function(e){for(var t=0,a=0;a<5;a++){var n=e[a];if(0==n)return!1;t+=n}return!(t<7)&&(t=Math.floor((t<<E)/7),a=Math.floor(t/2),Math.abs(t-(e[0]<<E))<a&&Math.abs(t-(e[1]<<E))<a&&Math.abs(3*t-(e[2]<<E))<3*a&&Math.abs(t-(e[3]<<E))<a&&Math.abs(t-(e[4]<<E))<a)},this.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},this.crossCheckVertical=function(e,t,a,n){for(var i=this.image,s=T.height,o=this.CrossCheckStateCount,l=e;0<=l&&i[t+l*T.width];)o[2]++,l--;if(l<0)return NaN;for(;0<=l&&!i[t+l*T.width]&&o[1]<=a;)o[1]++,l--;if(l<0||o[1]>a)return NaN;for(;0<=l&&i[t+l*T.width]&&o[0]<=a;)o[0]++,l--;if(o[0]>a)return NaN;for(l=e+1;l<s&&i[t+l*T.width];)o[2]++,l++;if(l==s)return NaN;for(;l<s&&!i[t+l*T.width]&&o[3]<a;)o[3]++,l++;if(l==s||o[3]>=a)return NaN;for(;l<s&&i[t+l*T.width]&&o[4]<a;)o[4]++,l++;return!(o[4]>=a||5*Math.abs(o[0]+o[1]+o[2]+o[3]+o[4]-n)>=2*n)&&this.foundPatternCross(o)?this.centerFromEnd(o,l):NaN},this.crossCheckHorizontal=function(e,t,a,n){for(var i=this.image,s=T.width,o=this.CrossCheckStateCount,l=e;0<=l&&i[l+t*T.width];)o[2]++,l--;if(l<0)return NaN;for(;0<=l&&!i[l+t*T.width]&&o[1]<=a;)o[1]++,l--;if(l<0||o[1]>a)return NaN;for(;0<=l&&i[l+t*T.width]&&o[0]<=a;)o[0]++,l--;if(o[0]>a)return NaN;for(l=e+1;l<s&&i[l+t*T.width];)o[2]++,l++;if(l==s)return NaN;for(;l<s&&!i[l+t*T.width]&&o[3]<a;)o[3]++,l++;if(l==s||o[3]>=a)return NaN;for(;l<s&&i[l+t*T.width]&&o[4]<a;)o[4]++,l++;return!(o[4]>=a||5*Math.abs(o[0]+o[1]+o[2]+o[3]+o[4]-n)>=n)&&this.foundPatternCross(o)?this.centerFromEnd(o,l):NaN},this.handlePossibleCenter=function(e,t,a){var n=e[0]+e[1]+e[2]+e[3]+e[4];if(a=this.centerFromEnd(e,a),t=this.crossCheckVertical(t,Math.floor(a),e[2],n),isNaN(t)||(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(t),e[2],n),isNaN(a)))return!1;e=n/7;for(var n=!1,i=this.possibleCenters.length,s=0;s<i;s++){var o=this.possibleCenters[s];if(o.aboutEquals(e,t,a)){o.incrementCount(),n=!0;break}}return n||(a=new f(a,t,e),this.possibleCenters.push(a),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(a)),!0},this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(e<3)throw"Couldn't find enough finder patterns (found "+e+")";if(3<e){for(var t=0,a=0,n=0;n<e;n++)var i=this.possibleCenters[n].EstimatedModuleSize,t=t+i,a=a+i*i;var s=t/e;for(this.possibleCenters.sort(function(e,t){t=Math.abs(t.EstimatedModuleSize-s),e=Math.abs(e.EstimatedModuleSize-s);return t<e?-1:t==e?0:1}),e=Math.max(.2*s,Math.sqrt(a/e-s*s)),n=this.possibleCenters.length-1;0<=n;n--)Math.abs(this.possibleCenters[n].EstimatedModuleSize-s)>e&&this.possibleCenters.splice(n,1)}return 3<this.possibleCenters.length&&this.possibleCenters.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),[this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2]]},this.findRowSkip=function(){var e=this.possibleCenters.length;if(!(e<=1))for(var t=null,a=0;a<e;a++){var n=this.possibleCenters[a];if(n.Count>=P){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-n.X)-Math.abs(t.Y-n.Y))/2);t=n}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var e,t=0,a=0,n=this.possibleCenters.length,i=0;i<n;i++)(e=this.possibleCenters[i]).Count>=P&&(t++,a+=e.EstimatedModuleSize);if(t<3)return!1;for(var t=a/n,s=0,i=0;i<n;i++)e=this.possibleCenters[i],s+=Math.abs(e.EstimatedModuleSize-t);return s<=.05*a},this.findFinderPattern=function(e){this.image=e;var t,a=T.height,n=T.width,i=Math.floor(3*a/(4*z));i<M&&(i=M);for(var s=!1,o=Array(5),l=i-1;l<a&&!s;l+=i){o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var r=t=o[4]=0;r<n;r++)if(e[r+l*T.width])1==(1&t)&&t++,o[t]++;else if(0==(1&t))if(4==t)if(this.foundPatternCross(o)){if(t=this.handlePossibleCenter(o,l,r))i=2,this.hasSkipped?s=this.haveMultiplyConfirmedCenters():(t=this.findRowSkip())>o[2]&&(l+=t-o[2]-i,r=n-1);else{for(;++r<n&&!e[r+l*T.width];);r--}o[t=0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0}else o[0]=o[2],o[1]=o[3],o[2]=o[4],o[3]=1,o[4]=0,t=3;else o[++t]++;else o[t]++;this.foundPatternCross(o)&&(t=this.handlePossibleCenter(o,l,n))&&(i=o[0],this.hasSkipped&&(s=this.haveMultiplyConfirmedCenters()))}return e=this.selectBestPatterns(),T.orderBestPatterns(e),new v(e)}}function s(e,t,a){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=a,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,a){return Math.abs(t-this.y)<=e&&Math.abs(a-this.x)<=e&&((e=Math.abs(e-this.estimatedModuleSize))<=1||e/this.estimatedModuleSize<=1)}}function h(d,e,c,u,t,a,n){this.image=d,this.possibleCenters=[],this.startX=e,this.startY=c,this.width=u,this.height=t,this.moduleSize=a,this.crossCheckStateCount=[0,0,0],this.resultPointCallback=n,this.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},this.foundPatternCross=function(e){for(var t=this.moduleSize,a=t/2,n=0;n<3;n++)if(Math.abs(t-e[n])>=a)return!1;return!0},this.crossCheckVertical=function(e,t,a,n){var i=this.image,s=T.height,o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var l=e;0<=l&&i[t+l*T.width]&&o[1]<=a;)o[1]++,l--;if(l<0||o[1]>a)return NaN;for(;0<=l&&!i[t+l*T.width]&&o[0]<=a;)o[0]++,l--;if(o[0]>a)return NaN;for(l=e+1;l<s&&i[t+l*T.width]&&o[1]<=a;)o[1]++,l++;if(l==s||o[1]>a)return NaN;for(;l<s&&!i[t+l*T.width]&&o[2]<=a;)o[2]++,l++;return!(o[2]>a||5*Math.abs(o[0]+o[1]+o[2]-n)>=2*n)&&this.foundPatternCross(o)?this.centerFromEnd(o,l):NaN},this.handlePossibleCenter=function(e,t,a){var n=e[0]+e[1]+e[2];if(a=this.centerFromEnd(e,a),t=this.crossCheckVertical(t,Math.floor(a),2*e[1],n),!isNaN(t)){e=(e[0]+e[1]+e[2])/3;for(var n=this.possibleCenters.length,i=0;i<n;i++)if(this.possibleCenters[i].aboutEquals(e,t,a))return new s(a,t,e);a=new s(a,t,e),this.possibleCenters.push(a),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(a)}return null},this.find=function(){for(var e,t=this.startX,a=this.height,n=t+u,i=c+(a>>1),s=[0,0,0],o=0;o<a;o++){var l=i+(0==(1&o)?o+1>>1:-(o+1>>1));s[0]=0,s[1]=0,s[2]=0;for(var r=t;r<n&&!d[r+T.width*l];)r++;for(e=0;r<n;){if(d[r+l*T.width])if(1==e)s[e]++;else if(2==e){if(this.foundPatternCross(s)&&null!=(e=this.handlePossibleCenter(s,l,r)))return e;s[0]=s[2],s[1]=1,s[2]=0,e=1}else s[++e]++;else 1==e&&e++,s[e]++;r++}if(this.foundPatternCross(s)&&null!=(e=this.handlePossibleCenter(s,l,n)))return e}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function _(e,t,a){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=a,t<=9?this.dataLengthMode=0:10<=t&&t<=26?this.dataLengthMode=1:27<=t&&t<=40&&(this.dataLengthMode=2),this.getNextBits=function(e){var t;if(e<this.bitPointer+1){for(var a=0,n=0;n<e;n++)a+=1<<n;return a<<=this.bitPointer-e+1,n=(this.blocks[this.blockPointer]&a)>>this.bitPointer-e+1,this.bitPointer-=e,n}if(e<this.bitPointer+1+8){for(n=t=0;n<this.bitPointer+1;n++)t+=1<<n;return n=(this.blocks[this.blockPointer]&t)<<e-(this.bitPointer+1),this.blockPointer++,n+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer-=e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),n}if(e<this.bitPointer+1+16){for(n=a=t=0;n<this.bitPointer+1;n++)t+=1<<n;t=(this.blocks[this.blockPointer]&t)<<e-(this.bitPointer+1),this.blockPointer++;var i=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);for(this.blockPointer++,n=0;n<e-(this.bitPointer+1+8);n++)a+=1<<n;return a<<=8-(e-(this.bitPointer+1+8)),n=(this.blocks[this.blockPointer]&a)>>8-(e-(this.bitPointer+1+8)),this.bitPointer-=(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t+i+n}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(e){for(var t=0;1!=e>>t;)t++;return this.getNextBits(T.sizeOfDataLengthInfo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t,a,n="",i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");do{}while(1<e?(a=(t=this.getNextBits(11))%45,n=(n=n+i[Math.floor(t/45)])+i[a],e-=2):1==e&&(n+=i[t=this.getNextBits(6)],--e),0<e);return n},this.getFigureString=function(e){for(var t=0,a="";3<=e?((t=this.getNextBits(10))<100&&(a+="0"),t<10&&(a+="0"),e-=3):2==e?((t=this.getNextBits(7))<10&&(a+="0"),e-=2):1==e&&(t=this.getNextBits(4),--e),a+=t,0<e;);return a},this.get8bitByteArray=function(e){var t=[];do{var a=this.getNextBits(8)}while(t.push(a),0<--e);return t},this.getKanjiString=function(e){var t="";do{var a=((a=this.getNextBits(13))/192<<8)+a%192}while(t+=String.fromCharCode(33088+a<=40956?33088+a:49472+a),0<--e);return t},this.parseECIValue=function(){var e=0,t=this.getNextBits(8);return 0==(128&t)&&(e=127&t),128==(192&t)&&(e=this.getNextBits(8),e|=(63&t)<<8),192==(224&t)&&(e=this.getNextBits(8),e|=(31&t)<<16),e},this.__defineGetter__("DataByte",function(){for(var e=[];;){if(0==(t=this.NextMode())){if(0<e.length)break;throw"Empty data block"}if(1!=t&&2!=t&&4!=t&&8!=t&&7!=t)throw"Invalid mode: "+t+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(7==t)this.parseECIValue();else{if((a=this.getDataLength(t))<1)throw"Invalid data length: "+a;switch(t){case 1:for(var t=this.getFigureString(a),a=Array(t.length),n=0;n<t.length;n++)a[n]=t.charCodeAt(n);e.push(a);break;case 2:for(t=this.getRomanAndFigureString(a),a=Array(t.length),n=0;n<t.length;n++)a[n]=t.charCodeAt(n);e.push(a);break;case 4:t=this.get8bitByteArray(a),e.push(t);break;case 8:t=this.getKanjiString(a),e.push(t)}}}return e})}var w={checkAndNudgePoints:function(e,t){for(var a,n,i=T.width,s=T.height,o=!0,l=0;l<t.length&&o;l+=2){if(n=Math.floor(t[l]),a=Math.floor(t[l+1]),n<-1||i<n||a<-1||s<a)throw"Error.checkAndNudgePoints ";o=!1,-1==n?o=!(t[l]=0):n==i&&(t[l]=i-1,o=!0),-1==a?o=!(t[l+1]=0):a==s&&(t[l+1]=s-1,o=!0)}for(o=!0,l=t.length-2;0<=l&&o;l-=2){if(n=Math.floor(t[l]),a=Math.floor(t[l+1]),n<-1||i<n||a<-1||s<a)throw"Error.checkAndNudgePoints ";o=!1,-1==n?o=!(t[l]=0):n==i&&(t[l]=i-1,o=!0),-1==a?o=!(t[l+1]=0):a==s&&(t[l+1]=s-1,o=!0)}},sampleGrid3:function(e,t,a){for(var n=new c(t),i=Array(t<<1),s=0;s<t;s++){for(var o=i.length,l=s+.5,r=0;r<o;r+=2)i[r]=.5+(r>>1),i[r+1]=l;a.transformPoints1(i),w.checkAndNudgePoints(e,i);try{for(r=0;r<o;r+=2)e[Math.floor(i[r])+T.width*Math.floor(i[r+1])]&&n.set_Renamed(r>>1,s)}catch(e){throw"Error.checkAndNudgePoints"}}return n},sampleGridx:function(e,t,a,n,i,s,o,l,r,d,c,u,p,m,g,f,v,h){return a=b.quadrilateralToQuadrilateral(a,n,i,s,o,l,r,d,c,u,p,m,g,f,v,h),w.sampleGrid3(e,t,a)}},y=(r.VERSION_DECODE_INFO=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017],r.VERSIONS=[new r(1,[],new t(7,new e(1,19)),new t(10,new e(1,16)),new t(13,new e(1,13)),new t(17,new e(1,9))),new r(2,[6,18],new t(10,new e(1,34)),new t(16,new e(1,28)),new t(22,new e(1,22)),new t(28,new e(1,16))),new r(3,[6,22],new t(15,new e(1,55)),new t(26,new e(1,44)),new t(18,new e(2,17)),new t(22,new e(2,13))),new r(4,[6,26],new t(20,new e(1,80)),new t(18,new e(2,32)),new t(26,new e(2,24)),new t(16,new e(4,9))),new r(5,[6,30],new t(26,new e(1,108)),new t(24,new e(2,43)),new t(18,new e(2,15),new e(2,16)),new t(22,new e(2,11),new e(2,12))),new r(6,[6,34],new t(18,new e(2,68)),new t(16,new e(4,27)),new t(24,new e(4,19)),new t(28,new e(4,15))),new r(7,[6,22,38],new t(20,new e(2,78)),new t(18,new e(4,31)),new t(18,new e(2,14),new e(4,15)),new t(26,new e(4,13),new e(1,14))),new r(8,[6,24,42],new t(24,new e(2,97)),new t(22,new e(2,38),new e(2,39)),new t(22,new e(4,18),new e(2,19)),new t(26,new e(4,14),new e(2,15))),new r(9,[6,26,46],new t(30,new e(2,116)),new t(22,new e(3,36),new e(2,37)),new t(20,new e(4,16),new e(4,17)),new t(24,new e(4,12),new e(4,13))),new r(10,[6,28,50],new t(18,new e(2,68),new e(2,69)),new t(26,new e(4,43),new e(1,44)),new t(24,new e(6,19),new e(2,20)),new t(28,new e(6,15),new e(2,16))),new r(11,[6,30,54],new t(20,new e(4,81)),new t(30,new e(1,50),new e(4,51)),new t(28,new e(4,22),new e(4,23)),new t(24,new e(3,12),new e(8,13))),new r(12,[6,32,58],new t(24,new e(2,92),new e(2,93)),new t(22,new e(6,36),new e(2,37)),new t(26,new e(4,20),new e(6,21)),new t(28,new e(7,14),new e(4,15))),new r(13,[6,34,62],new t(26,new e(4,107)),new t(22,new e(8,37),new e(1,38)),new t(24,new e(8,20),new e(4,21)),new t(22,new e(12,11),new e(4,12))),new r(14,[6,26,46,66],new t(30,new e(3,115),new e(1,116)),new t(24,new e(4,40),new e(5,41)),new t(20,new e(11,16),new e(5,17)),new t(24,new e(11,12),new e(5,13))),new r(15,[6,26,48,70],new t(22,new e(5,87),new e(1,88)),new t(24,new e(5,41),new e(5,42)),new t(30,new e(5,24),new e(7,25)),new t(24,new e(11,12),new e(7,13))),new r(16,[6,26,50,74],new t(24,new e(5,98),new e(1,99)),new t(28,new e(7,45),new e(3,46)),new t(24,new e(15,19),new e(2,20)),new t(30,new e(3,15),new e(13,16))),new r(17,[6,30,54,78],new t(28,new e(1,107),new e(5,108)),new t(28,new e(10,46),new e(1,47)),new t(28,new e(1,22),new e(15,23)),new t(28,new e(2,14),new e(17,15))),new r(18,[6,30,56,82],new t(30,new e(5,120),new e(1,121)),new t(26,new e(9,43),new e(4,44)),new t(28,new e(17,22),new e(1,23)),new t(28,new e(2,14),new e(19,15))),new r(19,[6,30,58,86],new t(28,new e(3,113),new e(4,114)),new t(26,new e(3,44),new e(11,45)),new t(26,new e(17,21),new e(4,22)),new t(26,new e(9,13),new e(16,14))),new r(20,[6,34,62,90],new t(28,new e(3,107),new e(5,108)),new t(26,new e(3,41),new e(13,42)),new t(30,new e(15,24),new e(5,25)),new t(28,new e(15,15),new e(10,16))),new r(21,[6,28,50,72,94],new t(28,new e(4,116),new e(4,117)),new t(26,new e(17,42)),new t(28,new e(17,22),new e(6,23)),new t(30,new e(19,16),new e(6,17))),new r(22,[6,26,50,74,98],new t(28,new e(2,111),new e(7,112)),new t(28,new e(17,46)),new t(30,new e(7,24),new e(16,25)),new t(24,new e(34,13))),new r(23,[6,30,54,74,102],new t(30,new e(4,121),new e(5,122)),new t(28,new e(4,47),new e(14,48)),new t(30,new e(11,24),new e(14,25)),new t(30,new e(16,15),new e(14,16))),new r(24,[6,28,54,80,106],new t(30,new e(6,117),new e(4,118)),new t(28,new e(6,45),new e(14,46)),new t(30,new e(11,24),new e(16,25)),new t(30,new e(30,16),new e(2,17))),new r(25,[6,32,58,84,110],new t(26,new e(8,106),new e(4,107)),new t(28,new e(8,47),new e(13,48)),new t(30,new e(7,24),new e(22,25)),new t(30,new e(22,15),new e(13,16))),new r(26,[6,30,58,86,114],new t(28,new e(10,114),new e(2,115)),new t(28,new e(19,46),new e(4,47)),new t(28,new e(28,22),new e(6,23)),new t(30,new e(33,16),new e(4,17))),new r(27,[6,34,62,90,118],new t(30,new e(8,122),new e(4,123)),new t(28,new e(22,45),new e(3,46)),new t(30,new e(8,23),new e(26,24)),new t(30,new e(12,15),new e(28,16))),new r(28,[6,26,50,74,98,122],new t(30,new e(3,117),new e(10,118)),new t(28,new e(3,45),new e(23,46)),new t(30,new e(4,24),new e(31,25)),new t(30,new e(11,15),new e(31,16))),new r(29,[6,30,54,78,102,126],new t(30,new e(7,116),new e(7,117)),new t(28,new e(21,45),new e(7,46)),new t(30,new e(1,23),new e(37,24)),new t(30,new e(19,15),new e(26,16))),new r(30,[6,26,52,78,104,130],new t(30,new e(5,115),new e(10,116)),new t(28,new e(19,47),new e(10,48)),new t(30,new e(15,24),new e(25,25)),new t(30,new e(23,15),new e(25,16))),new r(31,[6,30,56,82,108,134],new t(30,new e(13,115),new e(3,116)),new t(28,new e(2,46),new e(29,47)),new t(30,new e(42,24),new e(1,25)),new t(30,new e(23,15),new e(28,16))),new r(32,[6,34,60,86,112,138],new t(30,new e(17,115)),new t(28,new e(10,46),new e(23,47)),new t(30,new e(10,24),new e(35,25)),new t(30,new e(19,15),new e(35,16))),new r(33,[6,30,58,86,114,142],new t(30,new e(17,115),new e(1,116)),new t(28,new e(14,46),new e(21,47)),new t(30,new e(29,24),new e(19,25)),new t(30,new e(11,15),new e(46,16))),new r(34,[6,34,62,90,118,146],new t(30,new e(13,115),new e(6,116)),new t(28,new e(14,46),new e(23,47)),new t(30,new e(44,24),new e(7,25)),new t(30,new e(59,16),new e(1,17))),new r(35,[6,30,54,78,102,126,150],new t(30,new e(12,121),new e(7,122)),new t(28,new e(12,47),new e(26,48)),new t(30,new e(39,24),new e(14,25)),new t(30,new e(22,15),new e(41,16))),new r(36,[6,24,50,76,102,128,154],new t(30,new e(6,121),new e(14,122)),new t(28,new e(6,47),new e(34,48)),new t(30,new e(46,24),new e(10,25)),new t(30,new e(2,15),new e(64,16))),new r(37,[6,28,54,80,106,132,158],new t(30,new e(17,122),new e(4,123)),new t(28,new e(29,46),new e(14,47)),new t(30,new e(49,24),new e(10,25)),new t(30,new e(24,15),new e(46,16))),new r(38,[6,32,58,84,110,136,162],new t(30,new e(4,122),new e(18,123)),new t(28,new e(13,46),new e(32,47)),new t(30,new e(48,24),new e(14,25)),new t(30,new e(42,15),new e(32,16))),new r(39,[6,26,54,82,110,138,166],new t(30,new e(20,117),new e(4,118)),new t(28,new e(40,47),new e(7,48)),new t(30,new e(43,24),new e(22,25)),new t(30,new e(10,15),new e(67,16))),new r(40,[6,30,58,86,114,142,170],new t(30,new e(19,118),new e(6,119)),new t(28,new e(18,47),new e(31,48)),new t(30,new e(34,24),new e(34,25)),new t(30,new e(20,15),new e(61,16)))],r.getVersionForNumber=function(e){if(e<1||40<e)throw"ArgumentException";return r.VERSIONS[e-1]},r.getProvisionalVersionForDimension=function(e){if(1!=e%4)throw"Error getProvisionalVersionForDimension";try{return r.getVersionForNumber(e-17>>2)}catch(e){throw"Error getVersionForNumber"}},r.decodeVersionInformation=function(e){for(var t=4294967295,a=0,n=0;n<r.VERSION_DECODE_INFO.length;n++){var i=r.VERSION_DECODE_INFO[n];if(i==e)return this.getVersionForNumber(n+7);(i=l.numBitsDiffering(e,i))<t&&(a=n+7,t=i)}return t<=3?this.getVersionForNumber(a):null},b.quadrilateralToQuadrilateral=function(e,t,a,n,i,s,o,l,r,d,c,u,p,m,g,f){return e=this.quadrilateralToSquare(e,t,a,n,i,s,o,l),this.squareToQuadrilateral(r,d,c,u,p,m,g,f).times(e)},b.squareToQuadrilateral=function(e,t,a,n,i,s,o,l){var r,d,c=l-s,u=t-n+s-l;return 0==c&&0==u?new b(a-e,i-a,e,n-t,s-n,t,0,0,1):(r=a-i,d=o-i,new b(a-e+(c=((i=e-a+i-o)*c-d*u)/(d=r*c-d*(s=n-s)))*a,o-e+(u=(r*u-i*s)/d)*o,e,n-t+c*n,l-t+u*l,t,c,u,1))},b.quadrilateralToSquare=function(e,t,a,n,i,s,o,l){return this.squareToQuadrilateral(e,t,a,n,i,s,o,l).buildAdjoint()},[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]]),x=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4],k=(l.numBitsDiffering=function(e,t){return x[15&(e^=t)]+x[15&n(e,4)]+x[15&n(e,8)]+x[15&n(e,12)]+x[15&n(e,16)]+x[15&n(e,20)]+x[15&n(e,24)]+x[15&n(e,28)]},l.decodeFormatInformation=function(e){var t=l.doDecodeFormatInformation(e);return null!=t?t:l.doDecodeFormatInformation(21522^e)},l.doDecodeFormatInformation=function(e){for(var t=4294967295,a=0,n=0;n<y.length;n++){var i=y[n],s=i[0];if(s==e)return new l(i[1]);(s=this.numBitsDiffering(e,s))<t&&(a=i[1],t=s)}return t<=3?new l(a):null},a.forBits=function(e){if(e<0||e>=S.length)throw"ArgumentException";return S[e]},new a(0,1,"L")),C=new a(1,0,"M"),I=new a(2,3,"Q"),S=[C,k,new a(3,2,"H"),I],A=(u.getDataBlocks=function(e,t,a){if(e.length!=t.TotalCodewords)throw"ArgumentException";var n=t.getECBlocksForLevel(a),i=(a=0,n.getECBlocks());for(t=0;t<i.length;t++)a+=i[t].Count;a=Array(a);for(var s=0,o=0;o<i.length;o++){var l=i[o];for(t=0;t<l.Count;t++){var r=l.DataCodewords,d=n.ECCodewordsPerBlock+r;a[s++]=new u(r,Array(d))}}for(t=a[0].codewords.length,i=a.length-1;0<=i&&a[i].codewords.length!=t;)i--;for(i++,n=t-n.ECCodewordsPerBlock,t=l=0;t<n;t++)for(o=0;o<s;o++)a[o].codewords[t]=e[l++];for(o=i;o<s;o++)a[o].codewords[n]=e[l++];for(r=a[0].codewords.length,t=n;t<r;t++)for(o=0;o<s;o++)a[o].codewords[o<i?t:t+1]=e[l++];return a},{forReference:function(e){if(e<0||7<e)throw"System.ArgumentException";return A.DATA_MASKS[e]}}),D=(A.DATA_MASKS=[new function(){this.unmaskBitMatrix=function(e,t){for(var a=0;a<t;a++)for(var n=0;n<t;n++)this.isMasked(a,n)&&e.flip(n,a)},this.isMasked=function(e,t){return 0==(e+t&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var a=0;a<t;a++)for(var n=0;n<t;n++)this.isMasked(a,n)&&e.flip(n,a)},this.isMasked=function(e,t){return 0==(1&e)}},new function(){this.unmaskBitMatrix=function(e,t){for(var a=0;a<t;a++)for(var n=0;n<t;n++)this.isMasked(a,n)&&e.flip(n,a)},this.isMasked=function(e,t){return 0==t%3}},new function(){this.unmaskBitMatrix=function(e,t){for(var a=0;a<t;a++)for(var n=0;n<t;n++)this.isMasked(a,n)&&e.flip(n,a)},this.isMasked=function(e,t){return 0==(e+t)%3}},new function(){this.unmaskBitMatrix=function(e,t){for(var a=0;a<t;a++)for(var n=0;n<t;n++)this.isMasked(a,n)&&e.flip(n,a)},this.isMasked=function(e,t){return 0==(n(e,1)+t/3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var a=0;a<t;a++)for(var n=0;n<t;n++)this.isMasked(a,n)&&e.flip(n,a)},this.isMasked=function(e,t){e*=t;return 0==(1&e)+e%3}},new function(){this.unmaskBitMatrix=function(e,t){for(var a=0;a<t;a++)for(var n=0;n<t;n++)this.isMasked(a,n)&&e.flip(n,a)},this.isMasked=function(e,t){e*=t;return 0==((1&e)+e%3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var a=0;a<t;a++)for(var n=0;n<t;n++)this.isMasked(a,n)&&e.flip(n,a)},this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}],g.QR_CODE_FIELD=new g(285),g.DATA_MATRIX_FIELD=new g(301),g.addOrSubtract=function(e,t){return e^t},{}),T=(D.rsDecoder=new function(e){this.field=g.QR_CODE_FIELD,this.decode=function(e,t){for(var a=new m(this.field,e),n=Array(t),i=0;i<n.length;i++)n[i]=0;for(var s=!0,i=0;i<t;i++){var o=a.evaluateAt(this.field.exp(i));0!=(n[n.length-1-i]=o)&&(s=!1)}if(!s)for(i=new m(this.field,n),i=(a=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),i,t))[1],a=this.findErrorLocations(a[0]),n=this.findErrorMagnitudes(i,a,!1),i=0;i<a.length;i++){if((s=e.length-1-this.field.log(a[i]))<0)throw"ReedSolomonException Bad error location";e[s]=g.addOrSubtract(e[s],n[i])}},this.runEuclideanAlgorithm=function(e,t,a){e.Degree<t.Degree&&(n=e,e=t,t=n);for(var n=this.field.One,i=this.field.Zero,s=this.field.Zero,o=this.field.One;t.Degree>=Math.floor(a/2);){var l=e,r=n,d=s;if(n=i,s=o,(e=t).Zero)throw"r_{i-1} was zero";for(t=l,o=this.field.Zero,i=e.getCoefficient(e.Degree),i=this.field.inverse(i);t.Degree>=e.Degree&&!t.Zero;){var l=t.Degree-e.Degree,c=this.field.multiply(t.getCoefficient(t.Degree),i),o=o.addOrSubtract(this.field.buildMonomial(l,c));t=t.addOrSubtract(e.multiplyByMonomial(l,c))}i=o.multiply1(n).addOrSubtract(r),o=o.multiply1(s).addOrSubtract(d)}if(0==(a=o.getCoefficient(0)))throw"ReedSolomonException sigmaTilde(0) was zero";return a=this.field.inverse(a),[e=o.multiply2(a),a=t.multiply2(a)]},this.findErrorLocations=function(e){var t=e.Degree;if(1==t)return Array(e.getCoefficient(1));for(var a=Array(t),n=0,i=1;i<256&&n<t;i++)0==e.evaluateAt(i)&&(a[n]=this.field.inverse(i),n++);if(n!=t)throw"Error locator degree does not match number of roots";return a},this.findErrorMagnitudes=function(e,t,a){for(var n=t.length,i=Array(n),s=0;s<n;s++){for(var o=this.field.inverse(t[s]),l=1,r=0;r<n;r++)s!=r&&(l=this.field.multiply(l,g.addOrSubtract(1,this.field.multiply(t[r],o))));i[s]=this.field.multiply(e.evaluateAt(o),this.field.inverse(l)),a&&(i[s]=this.field.multiply(i[s],o))}return i}},D.correctErrors=function(e,t){for(var a=e.length,n=Array(a),i=0;i<a;i++)n[i]=255&e[i];a=e.length-t;try{D.rsDecoder.decode(n,a)}catch(e){throw e}for(i=0;i<t;i++)e[i]=n[i]},{imagedata:null,width:0,height:0,qrCodeSymbol:null,debug:!(D.decode=function(e){e=(a=new p(e)).readVersion();for(var t=a.readFormatInformation().ErrorCorrectionLevel,a=a.readCodewords(),a=u.getDataBlocks(a,e,t),n=0,i=0;i<a.length;i++)n+=a[i].NumDataCodewords;for(var n=Array(n),s=0,o=0;o<a.length;o++){var l=(i=a[o]).Codewords,r=i.NumDataCodewords;for(D.correctErrors(l,r),i=0;i<r;i++)n[s++]=l[i]}return new _(n,e.VersionNumber,t.Bits)}),maxImgSize:1048576,sizeOfDataLengthInfo:[[10,9,8,8],[12,11,16,10],[14,13,16,12]],callback:null,vidSuccess:function(e){T.localstream=e,T.webkit?T.video.src=window.webkitURL.createObjectURL(e):T.moz?(T.video.mozSrcObject=e,T.video.play()):T.video.src=e,T.gUM=!0,T.canvas_qr2=document.createElement("canvas"),T.canvas_qr2.id="qr-canvas",T.qrcontext2=T.canvas_qr2.getContext("2d"),T.canvas_qr2.width=T.video.videoWidth,T.canvas_qr2.height=T.video.videoHeight,setTimeout(T.captureToCanvas,500)},vidError:function(e){T.gUM=!1},captureToCanvas:function(){if(T.gUM)try{if(0==T.video.videoWidth)setTimeout(T.captureToCanvas,500);else{T.canvas_qr2.width=T.video.videoWidth,T.canvas_qr2.height=T.video.videoHeight,T.qrcontext2.drawImage(T.video,0,0);try{T.decode()}catch(e){console.log(e),setTimeout(T.captureToCanvas,500)}}}catch(e){console.log(e),setTimeout(T.captureToCanvas,500)}},setWebcam:function(e){var t=navigator,a=(T.video=document.getElementById(e),!0);if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{navigator.mediaDevices.enumerateDevices().then(function(e){e.forEach(function(e){console.log("deb1"),"videoinput"===e.kind&&-1<e.label.toLowerCase().search("back")&&(a=[{sourceId:e.deviceId}]),console.log(e.kind+": "+e.label+" id = "+e.deviceId)})})}catch(e){console.log(e)}else console.log("no navigator.mediaDevices.enumerateDevices");t.getUserMedia?t.getUserMedia({video:a,audio:!1},T.vidSuccess,T.vidError):t.webkitGetUserMedia?(T.webkit=!0,t.webkitGetUserMedia({video:a,audio:!1},T.vidSuccess,T.vidError)):t.mozGetUserMedia&&(T.moz=!0,t.mozGetUserMedia({video:a,audio:!1},T.vidSuccess,T.vidError))},decode:function(e){var t,a;if(0==arguments.length)return a=T.canvas_qr2?(t=T.canvas_qr2,T.qrcontext2):(t=document.getElementById("qr-canvas")).getContext("2d"),T.width=t.width,T.height=t.height,T.imagedata=a.getImageData(0,0,T.width,T.height),T.result=T.process(a),null!=T.callback&&T.callback(T.result),T.result;var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var e=document.getElementById("out-canvas");null!=e&&((e=e.getContext("2d")).clearRect(0,0,320,240),e.drawImage(i,0,0,320,240));var t=(e=document.createElement("canvas")).getContext("2d"),a=i.height,n=i.width;i.width*i.height>T.maxImgSize&&(n=i.width/i.height,n*=a=Math.sqrt(T.maxImgSize/n)),e.width=n,e.height=a,t.drawImage(i,0,0,e.width,e.height),T.width=e.width,T.height=e.height;try{T.imagedata=t.getImageData(0,0,e.width,e.height)}catch(e){return T.result=Error("Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!"),void(null!=T.callback&&T.callback(T.result))}try{T.result=T.process(t)}catch(e){console.log(e),T.result=Error("error decoding QR Code")}null!=T.callback&&T.callback(T.result)},i.onerror=function(){null!=T.callback&&T.callback(Error("Failed to load the image"))},i.src=e},isUrl:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},decode_url:function(t){var a="";try{a=escape(t)}catch(e){console.log(e),a=t}t="";try{t=decodeURIComponent(a)}catch(e){console.log(e),t=a}return t},decode_utf8:function(e){return T.isUrl(e)?T.decode_url(e):e},process:function(e){var t=(new Date).getTime(),a=T.grayScaleToBitmap(T.grayscale());if(T.debug){for(var n=0;n<T.height;n++)for(var i=0;i<T.width;i++){var s=4*i+n*T.width*4;T.imagedata.data[s]=0,T.imagedata.data[s+1]=0,T.imagedata.data[s+2]=a[i+n*T.width]?255:0}e.putImageData(T.imagedata,0,0)}if(a=new o(a).detect(),T.debug){for(n=0;n<a.bits.Height;n++)for(i=0;i<a.bits.Width;i++)s=8*i+2*n*T.width*4,T.imagedata.data[s]=(a.bits.get_Renamed(i,n),0),T.imagedata.data[s+1]=(a.bits.get_Renamed(i,n),0),T.imagedata.data[s+2]=a.bits.get_Renamed(i,n)?255:0;e.putImageData(T.imagedata,0,0)}for(s=D.decode(a.bits).DataByte,e="",n=0;n<s.length;n++)for(i=0;i<s[n].length;i++)e+=String.fromCharCode(s[n][i]);return s=(new Date).getTime(),console.log(s-t),T.decode_utf8(e)},getPixel:function(e,t){if(T.width<e)throw"point error";if(T.height<t)throw"point error";e=4*e+t*T.width*4;return(33*T.imagedata.data[e]+34*T.imagedata.data[1+e]+33*T.imagedata.data[2+e])/100},binarize:function(e){for(var t=Array(T.width*T.height),a=0;a<T.height;a++)for(var n=0;n<T.width;n++){var i=T.getPixel(n,a);t[n+a*T.width]=i<=e}return t},getMiddleBrightnessPerArea:function(e){for(var t=Math.floor(T.width/4),a=Math.floor(T.height/4),n=Array(4),i=0;i<4;i++){n[i]=Array(4);for(var s=0;s<4;s++)n[i][s]=[0,0]}for(i=0;i<4;i++)for(s=0;s<4;s++){n[s][i][0]=255;for(var o=0;o<a;o++)for(var l=0;l<t;l++){var r=e[t*s+l+(a*i+o)*T.width];r<n[s][i][0]&&(n[s][i][0]=r),r>n[s][i][1]&&(n[s][i][1]=r)}}for(e=Array(4),t=0;t<4;t++)e[t]=Array(4);for(i=0;i<4;i++)for(s=0;s<4;s++)e[s][i]=Math.floor((n[s][i][0]+n[s][i][1])/2);return e},grayScaleToBitmap:function(e){for(var t=T.getMiddleBrightnessPerArea(e),a=t.length,n=Math.floor(T.width/a),i=Math.floor(T.height/a),s=new ArrayBuffer(T.width*T.height),s=new Uint8Array(s),o=0;o<a;o++)for(var l=0;l<a;l++)for(var r=0;r<i;r++)for(var d=0;d<n;d++)s[n*l+d+(i*o+r)*T.width]=e[n*l+d+(i*o+r)*T.width]<t[l][o];return s},grayscale:function(){for(var e=new ArrayBuffer(T.width*T.height),e=new Uint8Array(e),t=0;t<T.height;t++)for(var a=0;a<T.width;a++){var n=T.getPixel(a,t);e[a+t*T.width]=n}return e}}),M=3,z=57,E=8,P=2;return T.orderBestPatterns=function(e){function t(e,t){var a=e.X-t.X,e=e.Y-t.Y;return Math.sqrt(a*a+e*e)}var a,n,i,s,o=t(e[0],e[1]),l=t(e[1],e[2]),r=t(e[0],e[2]);r=o<=l&&r<=l?(l=e[0],o=e[1],e[2]):l<=r&&o<=r?(l=e[1],o=e[0],e[2]):(l=e[2],o=e[0],e[1]),(a=o,i=r,s=(n=l).x,n=n.y,(i.x-s)*(a.y-n)-(i.y-n)*(a.x-s))<0&&(i=o,o=r,r=i),e[0]=o,e[1]=l,e[2]=r},T}(),tabCharacter=(!function(y){y.fn.timeSchedule=function(e){this.calcStringTime=function(e){e=e.split(":");return 60*Number(e[0])*60+60*Number(e[1])},this.formatTime=function(e){return""+(e/36e3|0)+(e/3600%10|0)+":"+(""+(e%3600/600|0)+(e%3600/60%10|0))};var g=y.extend({rows:{},startTime:"00:00",endTime:"24:00",widthTimeX:4,widthTime:600,timeLineY:30,timeLineBorder:1,timeBorder:1,timeLinePaddingTop:0,timeLinePaddingBottom:0,headTimeBorder:1,dataWidth:40,verticalScrollbar:0,removeButtonWidth:30,init_data:function(){},change:function(){},click:function(){},append:function(){},time_click:function(){},append_on_click:function(){},bar_Click:function(){},connect:function(){},confirm:function(){},delete_bar:function(){},debug:""},e),m=(this.setting=g,[]),f=[],v=y(this),h=this,b=h.calcStringTime(g.startTime),_=h.calcStringTime(g.endTime),r=null,w=(b-=b%g.widthTime,_-=_%g.widthTime,this.dragging=!1,this.isResizing=!1,this.clicking=!1,this);return this.getScheduleData=function(){return m},this.getTimelineData=function(){return f},this.getTimeLineNumber=function(e){var t,a=0,n=0,i=Math.ceil(e/(g.timeLineY+g.timeLinePaddingTop+g.timeLinePaddingBottom));for(t in g.rows){var s=g.rows[t],o=0;if(_typeof(s.schedule)==Object&&(o=s.schedule.length),r&&r.timeline&&o++,i<=(n+=Math.max(o,1)))break;a++}return a},this.addScheduleBgData=function(e){var t=Math.ceil((e.start-b)/g.widthTime),a=Math.floor((e.end-b)/g.widthTime),n=jQuery('<div class="sc_bgBar"><span class="text"></span></div>');h.formatTime(e.start),h.formatTime(e.end),h.getScheduleCount(e.timeline);n.css({left:t*g.widthTimeX,top:0,width:(a-t)*g.widthTimeX,height:v.find(".sc_main .timeline").eq(e.timeline).height()}),e.text&&n.find(".text").text(e.text),e.class&&n.addClass(e.class),v.find(".sc_main .timeline").eq(e.timeline).append(n)},this.removeEntry=function(e){e=($bar=y(e.target).closest(".sc_Bar")).data("sc_key");$bar.remove(),delete m[e],g.delete_bar()},this.addScheduleData=function(e){var t=Math.ceil((e.start-b)/g.widthTime),a=Math.floor((e.end-b)/g.widthTime),u=jQuery('<div class="sc_Bar"><div class="sc_Bar_inner"><span class="head"><span class="time"></span></span><span class="text"></span></div></div>'),n=jQuery('<div class="remove"><i class="fa fa-times"></i></div>'),i=v.find(".sc_main .timeline").eq(e.timeline),s=(n.bind("click touch",function(e){w.removeEntry(e)}),h.formatTime(e.start)),o=h.formatTime(e.end),a=(h.getScheduleCount(e.timeline),u.css({left:t*g.widthTimeX,top:0,width:(a-t)*g.widthTimeX,height:g.timeLineY}),u.find(".time").text(s+"-"+o),e.text&&u.find(".text").text(e.text),e.class&&u.addClass(e.class),u.append(n),i.append(u),m.push(e),m.length-1),p=(u.data("sc_key",a),u.bind("click touch",function(e){var t;e.preventDefault(),y(e.target).hasClass("ui-resizable-handle")||w.isResizing||w.dragging||w.clicking||(t=(e=y(e.target).closest(".sc_Bar")).data("sc_key"),g.bar_Click.call(h,e,m[t],t))}),u.bind("mouseup touchend",function(){var e,t;g.click&&!0!==jQuery(this).data("dragCheck")&&!0!==jQuery(this).data("resizeCheck")&&(t=(e=jQuery(this)).data("sc_key"),g.click(e,m[t]))}),v.find(".sc_Bar")),l=(y(".sc_Bar"),v.find(".sc_main"));return p.draggable({grid:[g.widthTimeX,1],containment:l,helper:"original",revert:"invalid",start:function(e,t){var a={};a.node=this,a.offsetTop=t.position.top,a.offsetLeft=t.position.left,a.currentTop=t.position.top,a.currentLeft=t.position.left,a.timeline=h.getTimeLineNumber(t.position.top),a.nowTimeline=a.timeline,a.sc_key=y(this).data("sc_key"),r=a,w.dragging=!0},drag:function(e,t){if(jQuery(this).data("dragCheck",!0),!r)return!1;w.dragging=!0;var a=jQuery(this),n=a.data("sc_key"),i=(t.originalPosition.top,t.originalPosition.left,t.position.top,t.position.left),s=h.getTimeLineNumber(t.position.top);return i+a.width()+g.removeButtonWidth>=l.width()?a.find(".remove").addClass("left"):a.find(".remove").removeClass("left"),t.position.left=Math.floor(t.position.left/g.widthTimeX)*g.widthTimeX,r.nowTimeline!=s&&(r.nowTimeline=s),r.currentTop=t.position.top,r.currentLeft=t.position.left,h.rewriteBarText(a,m[n]),!0},stop:function(e,t){e.preventDefault(),jQuery(this).data("dragCheck",!1);var a,n,i,e=r.sc_key;w.dragging=!1,void 0!==m[e]&&(a=jQuery(this),y(a),n=a.position().left,a.width(),i=(n=b+Math.floor(n/g.widthTimeX)*g.widthTime)+(m[e].end-m[e].start),m[e].start=n,m[e].end=i,g.change&&g.change(a,m[e])),r=null}}),p.resizable({handles:"e, w",grid:[g.widthTimeX,g.timeLineY],minWidth:g.widthTimeX,containment:"parent",start:function(e,t){e.preventDefault(),jQuery(this).data("resizeCheck",!0),w.isResizing=!0},resize:function(e,t){var a=y(this),n=a.data("sc_key"),i=t.position.left,t=t.size.width,s=b+Math.floor(i/g.widthTimeX)*g.widthTime,i=b+Math.floor((i+t)/g.widthTimeX)*g.widthTime;m[n].start=s,m[n].end=i,h.rewriteBarText(a,m[n])},stop:function(e,t){e.preventDefault(),w.isResizing=!1;var e=jQuery(this),i=(p=e).data("sc_key"),s=e.position().left,o=e.width(),l=b+Math.floor(s/g.widthTimeX)*g.widthTime,a=b+Math.floor((s+o)/g.widthTimeX)*g.widthTime,n=m[i].timeline,r=(m[i].start=l,m[i].end=a,$bars=v.find(".sc_main .timeline").eq(m[i].timeline).find(".sc_Bar"),!1),d=!1,c=!1;$bars.each(function(e){var t,a,n;if((u=y($bars[e])).data("sc_key")!=p.data("sc_key")&&w.isCollison(p,u))return d=!0,e=g.confirm(),confirm(e)?(r=!0,a=e=0,t=u.data("sc_key"),n=b+Math.floor((s+o)/g.widthTimeX)*g.widthTime,e=l<=m[t].start?l:m[t].start,a=n<=m[t].end?m[t].end:n,n={timeline:m[t].timeline,start:e,end:a,text:"",data:{}},p.remove(),u.remove(),delete m[i],delete m[t],g.connect.call(h,n)):c=!0,!1}),r||d||c?c&&(t.element.css(t.originalPosition),t.element.css(t.originalSize)):(h.resetBarPosition(n),h.rewriteBarText(e,m[i]),e.data("resizeCheck",!1),g.change&&g.change(e,m[i]))}}),p.on("mouseenter",function(){var e=y(this);l.width()<=e.position().left+e.width()+g.removeButtonWidth&&e.find(".remove").addClass("left")}).on("mouseleave",function(){y(this).find(".remove").removeClass("left")}),a},this.update=function(e){for(var t in v.find(".sc_Bar").remove(),m=new Array,g.rows=e,g.rows)for(var a in g.rows[t].schedule){var a=g.rows[t].schedule[a],n=h.calcStringTime(a.start),i=h.calcStringTime(a.end),s={};s.timeline=parseInt(t),s.start=n,s.end=i,a.text&&(s.text=a.text),s.data={},a.data&&(s.data=a.data),h.addScheduleData(s)}},this.getScheduleCount=function(e){var t,a=0;for(t in m)m[t].timeline==e&&a++;return a},this.addRow=function(e,t){var a=t.title,n=v.find(".sc_main .timeline").length,i="";i+='<div class="timeline"><span class="title" data-title="'+a+'"></span></div>';for(var d,a=jQuery(i),s=(g.init_data&&g.init_data(a,t),v.find(".sc_data_scroll").append(a),i="",i+='<div class="timeline"></div>',jQuery(i)),o=b;o<_;o+=g.widthTime){var l=jQuery('<div class="tl" title=""></div>');l.bind("mouseenter",function(e){var t,a;d.isResizing||(t=h.formatTime(b+g.widthTime*y(this).index()),t=jQuery("<span>"+t+"</span>"),a=v.find(".sc_main_box"),e=y(e.target),v.find(".tooltip").position({my:"center bottom-10",at:"center top",of:e,collison:"flip",within:a,using:function(e,t){y(this).removeClass("bottom center top"),y(this).css({left:e.left-v.offset().left+v.position().left,top:e.top-v.offset().top+v.position().top+jQuery(document).scrollTop()}),y(this).addClass(t.vertical).addClass(t.horizontal)}}).html(t).show())}).bind("mouseleave",function(){v.find(".tooltip").hide().css({left:0,top:0})}),l.width(g.widthTimeX-g.timeBorder),l.data("time",h.formatTime(o)),l.data("timeline",e),s.append(l)}if(s.on("mousedown touchstart",function(e){return e.preventDefault(),3==e.which||(y(e.target).hasClass("tl")?(d.clicking=!0,$clickedTl=y(e.target),timelineNum=$clickedTl.data("timeline"),startTime=$clickedTl.data("time"),endTime=null,($ghost_bar_temp=jQuery('<div class="sc_Bar ghost"></div>')).css({top:0,height:g.timeLineY,display:"none"}),v.find(".sc_main .timeline").eq(timelineNum).append($ghost_bar_temp),void h.find(".sc_Bar").css({"z-index":0,opacity:.4})):!(d.clicking=!1))}).on("mousemove touchmove",function(e){if(e.preventDefault(),0==d.clicking)return!0;var t=v.find(".ghost"),a=0;if("touchmove"==e.type){0<t.length&&t.css({display:"none"});var n=e.originalEvent.changedTouches[0],n=document.elementFromPoint(n.clientX,n.clientY);if(!y(n).hasClass("tl"))return!0;a=y(n).index()}else{a=y(e.target).index();0<t.length&&(n=e.clientX,e=e.clientY,t.css({display:"none"}),v.find(".sc_main .timeline").eq(timelineNum).find(".sc_Bar").css({display:"none"}),n=document.elementFromPoint(n,e),y(n).hasClass("tl")&&(a=y(n).index()),v.find(".sc_main .timeline").eq(timelineNum).find(".sc_Bar").css({display:"block"}))}endTime=h.formatTime(b+g.widthTime*a);e=Math.ceil((h.calcStringTime(startTime)-b)/g.widthTime),n=Math.floor((h.calcStringTime(endTime)-b)/g.widthTime),a=n<e?n*g.widthTimeX:e*g.widthTimeX,n=n<e?(e-n)*g.widthTimeX:(n-e)*g.widthTimeX;0<t.length&&t.css({left:a,top:0,width:n,display:"block"})}).on("mouseup touchend",function(e){if(e.preventDefault(),0==d.clicking)return!0;h.find(".sc_Bar").css({"z-index":"auto",opacity:1}),$ghost_bar_temp=v.find(".sc_main .timeline").eq(timelineNum).find(".sc_Bar.ghost"),endTime=null==endTime?startTime:endTime,$bars=v.find(".sc_main .timeline").eq(timelineNum).find(".sc_Bar");var o=!1,l=!1;$bars.each(function(e){var t,a,n,i,s;if(!($bar=y($bars[e])).hasClass("ghost")&&d.isCollison($ghost_bar_temp,$bar))return l=!0,e=g.confirm(),confirm(e)&&(o=!0,i=e=0,t=$bar.data("sc_key"),n=$ghost_bar_temp.position().left,s=$ghost_bar_temp.width(),a=b+Math.floor(n/g.widthTimeX)*g.widthTime,n=b+Math.floor((n+s)/g.widthTimeX)*g.widthTime,e=a<=m[t].start?a:m[t].start,i=n<=m[t].end?m[t].end:n,s={timeline:parseInt(timelineNum),start:e,end:i,text:"",data:{}},$bar.remove(),delete m[t],g.connect.call(h,s)),!1}),l||o||(e=h.calcStringTime(startTime),h.calcStringTime(endTime)<e&&(e=startTime,startTime=endTime,endTime=e),g.append_on_click.call(h,timelineNum,startTime,endTime)),$ghost_bar_temp.remove(),d.clicking=!1,startTime=null,endTime=null,$clickedTl=null,timelineNum=null}).bind("mouseleave",function(e){d.clicking}),g.time_click&&(d=this),v.find(".sc_main").append(s),(f[e]=t).class&&""!=t.class&&(v.find(".sc_data .timeline").eq(n).addClass(t.class),v.find(".sc_main .timeline").eq(n).addClass(t.class)),t.schedule)for(var r in t.schedule){var r=t.schedule[r],c=h.calcStringTime(r.start),u=h.calcStringTime(r.end),p={};p.timeline=n,p.start=c,p.end=u,r.text&&(p.text=r.text),p.data={},r.data&&(p.data=r.data),h.addScheduleData(p)}h.resetBarPosition(n),v.find(".sc_main .timeline").eq(n).droppable({accept:".sc_Bar",drop:function(e,t){var t=t.draggable,s=($node=t).data("sc_key"),a=m[s].timeline,n=v.find(".sc_main .timeline").index(this),o=($bars=y(this).find(".sc_Bar"),!1),l=!1,r=!1;$bars.each(function(e){var t,a,n,i;if(($bar=y($bars[e])).data("sc_key")!=$node.data("sc_key")&&d.isCollison($node,$bar))return l=!0,e=g.confirm(),confirm(e)?(o=!0,n=e=0,t=$bar.data("sc_key"),i=$node.position().left,$node.width(),a=(i=b+Math.floor(i/g.widthTimeX)*g.widthTime)+(m[s].end-m[s].start),e=i<=m[t].start?i:m[t].start,n=a<=m[t].end?m[t].end:a,i={timeline:m[t].timeline,start:e,end:n,text:"",data:{}},$node.remove(),$bar.remove(),delete m[s],delete m[t],g.connect.call(h,i)):r=!0,!1}),o||l||r?r&&($node.draggable({revert:!0}),setTimeout(function(){$node.draggable({revert:!1})},500)):(m[s].timeline=n,t.appendTo(this),h.resetBarPosition(a),h.resetBarPosition(n))}})},this.getScheduleData=function(){var e,t,a,n,i=new Array;for(t in f)void 0!==f[t]&&((e=jQuery.extend(!0,{},f[t])).schedule=new Array,i.push(e));for(t in m)void 0!==m[t]&&((a=jQuery.extend(!0,{},m[t])).start=this.formatTime(a.start),a.end=this.formatTime(a.end),n=a.timeline,delete a.timeline,i[n].schedule.push(a));return i},this.rewriteBarText=function(e,t){var a=e.position().left,a=(e.width(),b+Math.floor(a/g.widthTimeX)*g.widthTime),t=a+(t.end-t.start),a=h.formatTime(a)+"-"+h.formatTime(t);jQuery(e).find(".time").html(a)},this.resetBarPosition=function(e){for(var t=v.find(".sc_main .timeline").eq(e).find(".sc_Bar"),a=[],n=0;n<t.length;n++)a[n]={code:n,x:jQuery(t[n]).position().left};a.sort(function(e,t){return e.x<t.x?-1:e.x>t.x?1:0});for(var i,s,o,l,r,d,c=[],u=0,n=0;n<a.length;n++){for(s=a[n].code,i=jQuery(t[s]),u=0;u<c.length;u++){for(var p=!1,m=0;m<c[u].length;m++)o=c[u][m],o=jQuery(t[o]),l=i.position().left,r=i.position().left+i.width(),d=o.position().left,l<o.position().left+o.width()&&d<r&&(p=!0);if(!p)break}c[u]||(c[u]=[]),i.css({top:u*g.timeLineY+g.timeLinePaddingTop}),c[u][c[u].length]=s}this.resizeRow(e,c.length)},this.resizeRow=function(e,t){t=Math.max(t,1);v.find(".sc_data .timeline").eq(e).height(t*g.timeLineY-g.timeLineBorder+g.timeLinePaddingTop+g.timeLinePaddingBottom),v.find(".sc_main .timeline").eq(e).height(t*g.timeLineY-g.timeLineBorder+g.timeLinePaddingTop+g.timeLinePaddingBottom),v.find(".sc_main .timeline").eq(e).find(".sc_bgBar").each(function(){jQuery(this).height(jQuery(this).closest(".timeline").height())}),v.find(".sc_data").height(v.find(".sc_main_box").height())},this.resizeWindow=function(){var e=v.width()-g.dataWidth-g.verticalScrollbar,t=Math.floor((_-b)/g.widthTime);v.find(".sc_header_cell").width(g.dataWidth),v.find(".sc_data,.sc_data_scroll").width(g.dataWidth),v.find(".sc_header").width(e),v.find(".sc_main_box").width(e),v.find(".sc_header_scroll").width(g.widthTimeX*t),v.find(".sc_main_scroll").width(g.widthTimeX*t)},this.init=function(){for(var e,t,a="",n=(v.append(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a+'<div class="sc_menu">\n'+'<div class="sc_header_cell"><span>&nbsp;</span></div>\n')+'<div class="sc_header">\n'+'<div class="sc_header_scroll">\n')+"</div>\n"+"</div>\n")+'<br class="clear" />\n'+"</div>\n")+'<div class="sc_wrapper">\n'+'<div class="sc_data">\n')+'<div class="sc_data_scroll">\n'+"</div>\n")+"</div>\n"+'<div class="sc_main_box">\n')+'<div class="sc_main_scroll">\n'+'<div class="sc_main">\n')+"</div>\n"+"</div>\n")+"</div>\n"+'<br class="clear" />\n')+"</div>\n"+'<div class="tooltip"></div>\n'),v.find(".sc_main_box").scroll(function(){v.find(".sc_data_scroll").css("top",-1*y(this).scrollTop()),v.find(".sc_header_scroll").css("left",-1*y(this).scrollLeft())}),Math.floor((_-b)/g.widthTime)),i=-1,s=b;s<_;s+=g.widthTime)(i<0||Math.floor(i/3600)!=Math.floor(s/3600))&&(a="",a+='<div class="sc_time">'+h.formatTime(s)+"</div>",e=jQuery(a),n=Math.floor(Number(Math.min(3600*Math.ceil((s+g.widthTime)/3600),_)-s)/g.widthTime),e.width(n*g.widthTimeX-g.headTimeBorder),v.find(".sc_header_scroll").append(e),i=s);for(t in jQuery(window).resize(function(){h.resizeWindow()}).trigger("resize"),g.rows)this.addRow(t,g.rows[t])},this.init(),this.debug=function(){var e,t="";for(e in m){var a,t=t+"<div>"+(e+" : "),n=m[e];for(a in n)t+=a+" "+n[a];t+="</div>"}jQuery(g.debug).html(t)},this.isCollison=function(e,t){var a=e.offset().left,n=e.offset().top,i=n+e.outerHeight(!0),e=a+e.outerWidth(!0),s=t.offset().left,o=t.offset().top,l=t.outerHeight(!0),t=t.outerWidth(!0);return!(i<=o||o+l<=n||e<=s||s+t<=a)},g.debug&&""!=g.debug&&setInterval(function(){h.debug()},10),this}}(jQuery),"  "),tabOffset=2;function correctTextareaHight(e){var e=$(e),t=e.outerHeight(),a=e.prop("scrollHeight")+parseFloat(e.css("borderTopWidth"))+parseFloat(e.css("borderBottomWidth"));t<a&&e.height(a)}function hightlightSyntax(){var e=$(".editor"),t=e.val()||"",e=$("code",e.parent()),t=escapeHtml(t);e.html(t),$(".syntax-highight").each(function(e,t){hljs.highlightElement(t)})}function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}$(document).on("ready",function(){hightlightSyntax()}),$(document).on("ready load keyup keydown change",".editor",function(){correctTextareaHight(this),hightlightSyntax()}),$(document).delegate(".allow-tabs","keydown",function(e){var t;9==(e.keyCode||e.which)&&(e.preventDefault(),e=$(this).get(0).selectionStart,t=$(this).get(0).selectionEnd,$(this).val($(this).val().substring(0,e)+tabCharacter+$(this).val().substring(t)),$(this).get(0).selectionStart=$(this).get(0).selectionEnd=e+tabOffset)});var hljs=function(){var e={exports:{}};function a(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){e=t[e];"object"!=_typeof(e)||Object.isFrozen(e)||a(e)}),t}e.exports=a,e.exports.default=a;var m=e.exports,N=function(){function t(e){_classCallCheck(this,t),void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}return _createClass(t,[{key:"ignoreMatch",value:function(){this.isMatchIgnored=!0}}]),t}();function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function d(e){var t,a=Object.create(null);for(t in e)a[t]=e[t];for(var n=arguments.length,i=new Array(1<n?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.forEach(function(e){for(var t in e)a[t]=e[t]}),a}function i(e){return!!e.kind}var s=function(){function a(e,t){_classCallCheck(this,a),this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}return _createClass(a,[{key:"addText",value:function(e){this.buffer+=t(e)}},{key:"openNode",value:function(e){var t,a,n;i(e)&&(n=e.kind,n=e.sublanguage?"language-"+n:(e=n,t=(t={prefix:this.classPrefix}).prefix,e.includes(".")?(a=e.split("."),["".concat(t).concat(a.shift())].concat(_toConsumableArray(a.map(function(e,t){return"".concat(e).concat("_".repeat(t+1))}))).join(" ")):"".concat(t).concat(e)),this.span(n))}},{key:"closeNode",value:function(e){i(e)&&(this.buffer+="</span>")}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(e){this.buffer+='<span class="'.concat(e,'">')}}]),a}(),E=function(){function t(){_classCallCheck(this,t),this.rootNode={children:[]},this.stack=[this.rootNode]}return _createClass(t,[{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}},{key:"add",value:function(e){this.top.children.push(e)}},{key:"openNode",value:function(e){e={kind:e,children:[]};this.add(e),this.stack.push(e)}},{key:"closeNode",value:function(){if(1<this.stack.length)return this.stack.pop()}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(e){return this.constructor._walk(e,this.rootNode)}}],[{key:"_walk",value:function(t,e){var a=this;return"string"==typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach(function(e){return a._walk(t,e)}),t.closeNode(e)),t}},{key:"_collapse",value:function(e){"string"!=typeof e&&e.children&&(e.children.every(function(e){return"string"==typeof e})?e.children=[e.children.join("")]:e.children.forEach(function(e){t._collapse(e)}))}}]),t}(),B=function(){_inherits(n,E);var a=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=a.call(this)).options=e,t}return _createClass(n,[{key:"addKeyword",value:function(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}},{key:"addText",value:function(e){""!==e&&this.add(e)}},{key:"addSublanguage",value:function(e,t){e=e.root;e.kind=t,e.sublanguage=!0,this.add(e)}},{key:"toHTML",value:function(){return new s(this,this.options).value()}},{key:"finalize",value:function(){return!0}}]),n}();function c(e){return e?"string"==typeof e?e:e.source:null}function n(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map(c).join("")}function u(){for(var e,t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return"("+(("object"==_typeof(t=(e=n)[e.length-1])&&t.constructor===Object?(e.splice(e.length-1,1),t):{}).capture?"":"?:")+n.map(c).join("|")+")"}function p(e){return RegExp(e.toString()+"|").exec("").length-1}var P=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function g(e,t){var t=t.joinWith,s=0;return e.map(function(e){for(var t=s+=1,a=c(e),n="";0<a.length;){var i=P.exec(a);if(!i){n+=a;break}n+=a.substring(0,i.index),a=a.substring(i.index+i[0].length),"\\"===i[0][0]&&i[1]?n+="\\"+(Number(i[1])+t):(n+=i[0],"("===i[0]&&s++)}return n}).map(function(e){return"(".concat(e,")")}).join(t)}function o(e,t){return(e=d({scope:"comment",begin:e,end:t,contains:[]},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})).contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0}),t=u("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/),e.contains.push({begin:n(/[ ]+/,"(",t,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),e}var e="[a-zA-Z]\\w*",l="[a-zA-Z_]\\w*",r="\\b\\d+(\\.\\d+)?",f="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",v="\\b(0b[01]+)",h={begin:"\\\\[\\s\\S]",relevance:0},b={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[h]},H={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[h]},W=o("//","$"),L=o("/\\*","\\*/"),F=o("#","$"),_=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:e,UNDERSCORE_IDENT_RE:l,NUMBER_RE:r,C_NUMBER_RE:f,BINARY_NUMBER_RE:v,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=/^#![ ]*\//;return e.binary&&(e.begin=n(t,/.*\b/,e.binary,/\b.*/)),d({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":function(e,t){0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:h,APOS_STRING_MODE:b,QUOTE_STRING_MODE:H,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:o,C_LINE_COMMENT_MODE:W,C_BLOCK_COMMENT_MODE:L,HASH_COMMENT_MODE:F,NUMBER_MODE:{scope:"number",begin:r,relevance:0},C_NUMBER_MODE:{scope:"number",begin:f,relevance:0},BINARY_NUMBER_MODE:{scope:"number",begin:v,relevance:0},REGEXP_MODE:{begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[h,{begin:/\[/,end:/\]/,relevance:0,contains:[h]}]}]},TITLE_MODE:{scope:"title",begin:e,relevance:0},UNDERSCORE_TITLE_MODE:{scope:"title",begin:l,relevance:0},METHOD_GUARD:{begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":function(e,t){t.data._beginMatch=e[1]},"on:end":function(e,t){t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function j(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}var q=function(t,e){if(t.beforeMatch){if(t.starts)throw Error("beforeMatch cannot be used with starts");var a=Object.assign({},t);Object.keys(t).forEach(function(e){delete t[e]}),t.keywords=a.keywords,t.begin=n(a.beforeMatch,n("(?=",a.begin,")")),t.starts={relevance:0,contains:[Object.assign(a,{endsParent:!0})]},t.relevance=0,delete a.beforeMatch}},U=["of","and","for","in","not","or","if","then","parent","list","value"];function w(t,n,e){var e=2<arguments.length&&void 0!==e?e:"keyword",i=Object.create(null);return"string"==typeof t?a(e,t.split(" ")):Array.isArray(t)?a(e,t):Object.keys(t).forEach(function(e){Object.assign(i,w(t[e],n,e))}),i;function a(a,e){(e=n?e.map(function(e){return e.toLowerCase()}):e).forEach(function(e){var t,e=e.split("|");i[e[0]]=[a,(t=e[0],(e=e[1])?Number(e):function(e){return U.includes(e.toLowerCase())}(t)?0:1)]})}}function y(e,t){x["".concat(e,"/").concat(t)]||(console.log("Deprecated as of ".concat(e,". ").concat(t)),x["".concat(e,"/").concat(t)]=!0)}var x={},$=function(e){console.error(e)},k=function(e){for(var t,a=arguments.length,n=new Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];(t=console).log.apply(t,["WARN: "+e].concat(n))},C=Error();function I(e,t,a){for(var a=a.key,n=0,i=e[a],s={},o={},l=1;l<=t.length;l++)o[l+n]=i[l],s[l+n]=!0,n+=p(t[l-1]);e[a]=o,e[a]._emit=s,e[a]._multi=!0}function Z(o){function l(e,t){return RegExp(c(e),"m"+(o.case_insensitive?"i":"")+(t?"g":""))}var t=function(){function e(){_classCallCheck(this,e),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return _createClass(e,[{key:"addRule",value:function(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=p(e)+1}},{key:"compile",value:function(){0===this.regexes.length&&(this.exec=function(){return null});var e=this.regexes.map(function(e){return e[1]});this.matcherRe=l(g(e,{joinWith:"|"}),!0),this.lastIndex=0}},{key:"exec",value:function(e){this.matcherRe.lastIndex=this.lastIndex;var t,a,e=this.matcherRe.exec(e);return e?(t=e.findIndex(function(e,t){return 0<t&&void 0!==e}),a=this.matchIndexes[t],e.splice(0,t),Object.assign(e,a)):null}}]),e}(),r=function(){function e(){_classCallCheck(this,e),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return _createClass(e,[{key:"getMatcher",value:function(e){var a;return this.multiRegexes[e]||(a=new t,this.rules.slice(e).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];return a.addRule(t,e)}),a.compile(),this.multiRegexes[e]=a)}},{key:"resumingScanAtSamePosition",value:function(){return 0!==this.regexIndex}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}},{key:"exec",value:function(e){var t,a=this.getMatcher(this.regexIndex),a=(a.lastIndex=this.lastIndex,a.exec(e));return!this.resumingScanAtSamePosition()||a&&a.index===this.lastIndex||((t=this.getMatcher(0)).lastIndex=this.lastIndex+1,a=t.exec(e)),a&&(this.regexIndex+=a.position+1,this.regexIndex===this.count&&this.considerAll()),a}}]),e}();if(o.compilerExtensions||(o.compilerExtensions=[]),o.contains&&o.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return o.classNameAliases=d(o.classNameAliases||{}),function t(a,n){var e,i,s=a;return a.isCompiled||([function(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)},function(e,t){if(e.match){if(e.begin||e.end)throw Error("begin & end are not supported with match");e.begin=e.match,delete e.match}},function(e){if((t=e).scope&&"object"==_typeof(t.scope)&&null!==t.scope&&(t.beginScope=t.scope,delete t.scope),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),t=e,Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw $("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),C;if("object"!=_typeof(t.beginScope)||null===t.beginScope)throw $("beginScope must be object"),C;I(t,t.begin,{key:"beginScope"}),t.begin=g(t.begin,{joinWith:""})}var t=e;if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw $("skip, excludeEnd, returnEnd not compatible with endScope: {}"),C;if("object"!=_typeof(t.endScope)||null===t.endScope)throw $("endScope must be object"),C;I(t,t.end,{key:"endScope"}),t.end=g(t.end,{joinWith:""})}},q].forEach(function(e){return e(a,n)}),o.compilerExtensions.forEach(function(e){return e(a,n)}),a.__beforeBegin=null,[function(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=j,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))},function(e,t){Array.isArray(e.illegal)&&(e.illegal=u.apply(void 0,_toConsumableArray(e.illegal)))},function(e,t){void 0===e.relevance&&(e.relevance=1)}].forEach(function(e){return e(a,n)}),a.isCompiled=!0,e=null,"object"==_typeof(a.keywords)&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),e=a.keywords.$pattern,delete a.keywords.$pattern),e=e||/\w+/,a.keywords&&(a.keywords=w(a.keywords,o.case_insensitive)),s.keywordPatternRe=l(e,!0),n&&(a.begin||(a.begin=/\B|\b/),s.beginRe=l(a.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(s.endRe=l(a.end)),s.terminatorEnd=c(a.end)||"",a.endsWithParent&&n.terminatorEnd&&(s.terminatorEnd+=(a.end?"|":"")+n.terminatorEnd)),a.illegal&&(s.illegalRe=l(a.illegal)),a.contains||(a.contains=[]),a.contains=(e=[]).concat.apply(e,_toConsumableArray(a.contains.map(function(e){return(t="self"===e?a:e).variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return d(t,{variants:null},e)})),t.cachedVariants||(function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(t)?d(t,{starts:t.starts?d(t.starts):null}):Object.isFrozen(t)?d(t):t);var t}))),a.contains.forEach(function(e){t(e,s)}),a.starts&&t(a.starts,n),s.matcher=(e=s,i=new r,e.contains.forEach(function(e){return i.addRule(e.begin,{rule:e,type:"begin"})}),e.terminatorEnd&&i.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&i.addRule(e.illegal,{type:"illegal"}),i)),s}(o)}for(var O=t,S=d,R=Symbol("nomatch"),b=function(n){var A=Object.create(null),o=Object.create(null),i=[],D=!0,T="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]},M={ignoreUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:B};function l(e){return M.noHighlightRe.test(e)}function r(e,t,a,n){var i="",s="",e=("object"==_typeof(t)?(i=e,a=t.ignoreIllegals,s=t.language,n=void 0):(y("10.7.0","highlight(lang, code, ...args) has been deprecated."),y("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),s=e,i=t),void 0===a&&(a=!0),{code:i,language:s}),t=(p("before:highlight",e),e.result||z(e.language,e.code,a,n));return t.code=e.code,p("after:highlight",t),t}function z(d,c,u,e){var o=Object.create(null);function s(){if(!v.keywords)return h.addText(w);for(var e=0,t=(v.keywordPatternRe.lastIndex=0,v.keywordPatternRe.exec(w)),a="";t;){a+=w.substring(e,t.index);var n,i=l.case_insensitive?t[0].toLowerCase():t[0],s=v.keywords[i];!s||(n=(s=_slicedToArray(s,2))[0],s=s[1],h.addText(a),a="",o[i]=(o[i]||0)+1,o[i]<=7&&(y+=s),n.startsWith("_"))?a+=t[0]:(i=l.classNameAliases[n]||n,h.addKeyword(t[0],i)),e=v.keywordPatternRe.lastIndex,t=v.keywordPatternRe.exec(w)}a+=w.substr(e),h.addText(a)}function p(){(null!=v.subLanguage?function(){if(""!==w){var e=null;if("string"==typeof v.subLanguage){if(!A[v.subLanguage])return h.addText(w);e=z(v.subLanguage,w,!0,r[v.subLanguage]),r[v.subLanguage]=e._top}else e=E(w,v.subLanguage.length?v.subLanguage:null);0<v.relevance&&(y+=e.relevance),h.addSublanguage(e._emitter,e.language)}}:s)(),w=""}function i(e,t){for(var a,n,i=1;void 0!==t[i];)e._emit[i]&&(a=l.classNameAliases[e[i]]||e[i],n=t[i],a?h.addKeyword(n,a):(w=n,s(),w="")),i++}function m(e,t){e.scope&&"string"==typeof e.scope&&h.openNode(l.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(h.addKeyword(w,l.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),w=""):e.beginScope._multi&&(i(e.beginScope,t),w="")),v=Object.create(e,{parent:{value:v}})}function g(e){var t=e[0],a=c.substr(e.index),n=function e(t,a,n){var i,s=function(e){return(e=e&&e.exec(n))&&0===e.index}(t.endRe);if(s&&(t["on:end"]&&(i=new N(t),t["on:end"](a,i),i.isMatchIgnored&&(s=!1)),s)){for(;t.endsParent&&t.parent;)t=t.parent;return t}if(t.endsWithParent)return e(t.parent,a,n)}(v,e,a);if(!n)return R;a=v;for(v.endScope&&v.endScope._wrap?(p(),h.addKeyword(t,v.endScope._wrap)):v.endScope&&v.endScope._multi?(p(),i(v.endScope,e)):a.skip?w+=t:(a.returnEnd||a.excludeEnd||(w+=t),p(),a.excludeEnd&&(w=t));v.scope&&!v.isMultiClass&&h.closeNode(),v.skip||v.subLanguage||(y+=v.relevance),(v=v.parent)!==n.parent;);return n.starts&&m(n.starts,e),a.returnEnd?0:t.length}var f={};function t(e,t){var a=t&&t[0];if(w+=e,null==a)return p(),0;if("begin"===f.type&&"end"===t.type&&f.index===t.index&&""===a){if(w+=c.slice(t.index,t.index+1),D)return 1;throw(e=Error("0 width match regex (".concat(d,")"))).languageName=d,e.badRule=f.rule,e}if("begin"===(f=t).type){for(var n=t,i=n[0],e=n.rule,s=new N(e),o=0,l=[e.__beforeBegin,e["on:begin"]];o<l.length;o++){var r=l[o];if(r&&(r(n,s),s.isMatchIgnored))return r=i,0===v.matcher.regexIndex?(w+=r[0],1):(C=!0,0)}return e.skip?w+=i:(e.excludeBegin&&(w+=i),p(),e.returnBegin||e.excludeBegin||(w=i)),m(e,n),e.returnBegin?0:i.length}if("illegal"===t.type&&!u)throw(e=Error('Illegal lexeme "'+a+'" for mode "'+(v.scope||"<unnamed>")+'"')).mode=v,e;if("end"===t.type){e=g(t);if(e!==R)return e}if("illegal"===t.type&&""===a)return 1;if(1e5<k&&k>3*t.index)throw Error("potential infinite loop, way more iterations than matches");return w+=a,a.length}var l=P(d);if(!l)throw $(T.replace("{}",d)),Error('Unknown language: "'+d+'"');for(var a=Z(l),n="",v=e||a,r={},h=new M.__emitter(M),b=[],_=v;_!==l;_=_.parent)_.scope&&b.unshift(_.scope);b.forEach(function(e){return h.openNode(e)});var w="",y=0,x=0,k=0,C=!1;try{for(v.matcher.considerAll();;){k++,C?C=!1:v.matcher.considerAll(),v.matcher.lastIndex=x;var I=v.matcher.exec(c);if(!I)break;var S=t(c.substring(x,I.index),I),x=I.index+S}return t(c.substr(x)),h.closeAllNodes(),h.finalize(),n=h.toHTML(),{language:d,value:n,relevance:y,illegal:!1,_emitter:h,_top:v}}catch(e){if(e.message&&e.message.includes("Illegal"))return{language:d,value:O(c),illegal:!0,relevance:0,_illegalBy:{message:e.message,index:x,context:c.slice(x-100,x+100),mode:e.mode,resultSoFar:n},_emitter:h};if(D)return{language:d,value:O(c),illegal:!1,relevance:0,errorRaised:e,_emitter:h,_top:v};throw e}}function E(t,e){e=e||M.languages||Object.keys(A);(n={value:O(a=t),illegal:!1,relevance:0,_top:s,_emitter:new M.__emitter(M)})._emitter.addText(a);var a=n,n=e.filter(P).filter(u).map(function(e){return z(e,t,!1)});n.unshift(a);e=_slicedToArray(n.sort(function(e,t){if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(P(e.language).supersetOf===t.language)return 1;if(P(t.language).supersetOf===e.language)return-1}return 0}),2),a=e[0],n=e[1],e=a;return e.secondBest=n,e}function t(e){n=(s=e).className+" ",n+=s.parentNode?s.parentNode.className:"";var t,a,n,i,s=(a=M.languageDetectRe.exec(n))?((t=P(a[1]))||(k(T.replace("{}",a[1])),k("Falling back to no-highlight mode for this block.",s)),t?a[1]:"no-highlight"):n.split(/\s+/).find(function(e){return l(e)||P(e)});l(s)||(p("before:highlightElement",{el:e,language:s}),t=e.textContent,a=s?r(t,{language:s,ignoreIllegals:!0}):E(t),e.innerHTML=a.value,n=e,i=a.language,i=s&&o[s]||i,n.classList.add("hljs"),n.classList.add("language-"+i),e.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(e.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),p("after:highlightElement",{el:e,result:a,text:t}))}var e,a=!1;function d(){"loading"!==document.readyState?document.querySelectorAll(M.cssSelector).forEach(t):a=!0}function P(e){return e=(e||"").toLowerCase(),A[e]||A[o[e]]}function c(e,t){var a=t.languageName;(e="string"==typeof e?[e]:e).forEach(function(e){o[e.toLowerCase()]=a})}function u(e){e=P(e);return e&&!e.disableAutodetect}function p(e,t){var a=e;i.forEach(function(e){e[a]&&e[a](t)})}for(e in"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",function(){a&&d()},!1),Object.assign(n,{highlight:r,highlightAuto:E,highlightAll:d,highlightElement:t,highlightBlock:function(e){return y("10.7.0","highlightBlock will be removed entirely in v12.0"),y("10.7.0","Please use highlightElement now."),t(e)},configure:function(e){M=S(M,e)},initHighlighting:function(){d(),y("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){d(),y("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,e){var a=null;try{a=e(n)}catch(e){if($("Language definition for '{}' could not be registered.".replace("{}",t)),!D)throw e;$(e),a=s}a.name||(a.name=t),(A[t]=a).rawDefinition=e.bind(null,n),a.aliases&&c(a.aliases,{languageName:t})},unregisterLanguage:function(e){delete A[e];for(var t=0,a=Object.keys(o);t<a.length;t++){var n=a[t];o[n]===e&&delete o[n]}},listLanguages:function(){return Object.keys(A)},getLanguage:P,registerAliases:c,autoDetection:u,inherit:S,addPlugin:function(e){var t;(t=e)["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=function(e){t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=function(e){t["after:highlightBlock"](Object.assign({block:e.el},e))}),i.push(e)}}),n.debugMode=function(){D=!1},n.safeMode=function(){D=!0},n.versionString="11.0.1",_)"object"==_typeof(_[e])&&m(_[e]);return Object.assign(n,_),n}({}),A=Object.freeze({__proto__:null}),D=b,T=0,M=Object.keys(A);T<M.length;T++){var z=M[T],V=z.replace("grmr_","");D.registerLanguage(V,A[z])}return D}(),myApp=("object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module&&(module.exports=hljs),hljs.registerLanguage("javascript",function(){var y="[A-Za-z$_][0-9A-Za-z$_]*",x=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],k=["true","false","null","undefined","NaN","Infinity"],C=["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],I=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],S=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],A=["arguments","this","super","console","window","document","localStorage","module","global"],D=[].concat(S,C,I);function T(e){return M("(?=",e,")")}function M(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map(function(e){return e?"string"==typeof e?e:e.source:null}).join("")}return function(e){var t=y,a=/<[A-Za-z0-9\\._:-]+/,n=/\/[A-Za-z0-9\\._:-]+>|\/>/,i=function(e,t){var a=e[0].length+e.index,n=e.input[a];"<"!==n?">"===n&&(n={after:a}.after,e="</"+(a=e)[0].slice(1),-1===a.input.indexOf(e,n)&&t.ignoreMatch()):t.ignoreMatch()},s={$pattern:y,keyword:x,literal:k,built_in:D,"variable.language":A},o="\\.([0-9](_?[0-9])*)",l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",l={className:"number",variants:[{begin:"(\\b(".concat(l,")((").concat(o,")|\\.)?|(").concat(o,"))[eE][+-]?([0-9](_?[0-9])*)\\b")},{begin:"\\b(".concat(l,")\\b((").concat(o,")\\b|\\.)?|(").concat(o,")\\b")},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},o={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},r={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,o],subLanguage:"xml"}},d={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,o],subLanguage:"css"}},c={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,o]},u={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:t+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},p=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,d,c,l,e.REGEXP_MODE],p=(o.contains=p.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(p)}),[].concat(u,o.contains)),o=p.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(p)}]),p={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:o},m={variants:[{match:[/class/,/\s+/,t],scope:{1:"keyword",3:"title.class"}},{match:[/extends/,/\s+/,M(t,"(",M(/\./,t),")*")],scope:{1:"keyword",3:"title.class.inherited"}}]},g={relevance:0,match:/\b[A-Z][a-z]+([A-Z][a-z]+)*/,className:"title.class",keywords:{_:[].concat(C,I)}},f={variants:[{match:[/function/,/\s+/,t,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[p],illegal:/%/},v={match:M(/\b/,M("(?!",[].concat(S,["super"]).join("|"),")"),t,T(/\(/)),className:"title.function",relevance:0},h={begin:M(/\./,T(M(t,/(?![0-9A-Za-z$_(])/))),end:t,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},b={match:[/get|set/,/\s+/,t,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},p]},_="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",w={match:[/const|var|let/,/\s+/,t,/\s*/,/=\s*/,T(_)],className:{1:"keyword",3:"title.function"},contains:[p]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:o},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,d,c,u,l,g,{className:"attr",begin:t+T(":"),relevance:0},w,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[u,e.REGEXP_MODE,{className:"function",begin:_,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:o}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{begin:a,"on:begin":i,end:n}],subLanguage:"xml",contains:[{begin:a,end:n,skip:!0,contains:["self"]}]}]},f,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[p,e.inherit(e.TITLE_MODE,{begin:t,className:"title.function"})]},{match:/\.\.\./,relevance:0},h,{match:"\\$"+t,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[p]},v,{relevance:0,match:/\b[A-Z][A-Z_]+\b/,className:"variable.constant"},m,b,{match:/\$[(.]/}]}}}()),angular.module("myApp",["ngRoute","ngCookies","ngAnimate","ngTouch","myAppConfig","myAppController","myAppFactory","myAppService","qAllSettled","myAppTemplates","httpLatency","ng.deviceDetector","pr.longpress","angular-sortable-view"])),config_module=angular.module("myAppConfig",[]),appCookies=angular.injector(["ngCookies"]).get("$cookies"),appUser=!1,appHttp=angular.injector(["ng"]).get("$http"),myAppFactory=(appCookies.lang&&angular.extend(config_data.cfg.route,{lang:appCookies.lang}),appHttp.get("app/lang/"+config_data.cfg.route.lang+".json").success(function(e){angular.extend(config_data.cfg.route,{t:e})}).error(function(){angular.extend(config_data.cfg.route.alert,{message:"An unexpected error occurred while loading the language file.",hide:!0})}),angular.forEach(config_data,function(e,t){config_module.constant(t,e)}),angular.forEach(icon_data,function(e,t){config_module.constant(t,e)}),angular.forEach(notifications_data,function(e,t){config_module.constant(t,e)}),myApp.run(["$rootScope","$route","$location","dataService","dataFactory","cfg",function(e,t,a,n,i,s){e._=_,e.$on("$routeChangeStart",function(e,t,a){a={previous:!(!a||!a.$$route)&&a.$$route.originalPath};angular.extend(s.route,a)})}]),myApp.config(["$provide","$httpProvider",function(e,t){t.defaults.timeout=5e3,e.factory("MyHttpInterceptor",["$q","$location","dataService","cfg",function(t,a,n,i){var s,o=a.path().split("/");return{request:function(e){return-1!==e.url.indexOf("views")&&"@@app_version"==i.app_version&&(e.url+="?rel="+Date.now()),e||t.when(e)},requestError:function(e){return t.reject(e)},response:(s=function(e){return e||t.when(e)},e.toString=function(){return s.toString()},e),responseError:function(e){switch(e.status){case 0:e.config.headers.isZWAY?angular.extend(i.route.alert,{type:"network",message:"The request failed because the server is not responding",hide:!1}):!e.config.headers.timeout||e.config.headers.suppressFtalError||-1<i.pending_black_list.indexOf(a.url())&&e.config.headers.isRemote||angular.extend(i.route.alert,{type:"network",message:"The request failed because the server is not responding",hide:!1});break;case 401:""!==o[1]&&n.logOut();break;case 403:n.logError(e),a.path("/error403")}return t.reject(e)}};function e(e){return s.apply(this,arguments)}}]),t.interceptors.push("MyHttpInterceptor")}]),myApp.config(["$routeProvider",function(e){var t=config_data.cfg;e.when("/",{templateUrl:"app/views/auth/auth.html"}).when("/home",{redirectTo:"/dashboard"}).when("/dashboard",{templateUrl:"app/views/elements/elements_dashboard.html",requireLogin:!0}).when("/dashboard/:firstlogin?",{templateUrl:"app/views/elements/elements_dashboard.html",requireLogin:!0}).when("/elements",{templateUrl:"app/views/elements/elements_page.html",requireLogin:!0}).when("/element/:id",{templateUrl:"app/views/elements/element_id.html",requireLogin:!0,roles:t.role_access.element}).when("/rooms",{templateUrl:"app/views/rooms/rooms.html",requireLogin:!0,roles:t.role_access.rooms}).when("/rooms/:id",{templateUrl:"app/views/elements/elements_room.html",requireLogin:!0}).when("/events/:param?/:val?",{templateUrl:"app/views/events/events.html",requireLogin:!0}).when("/automations",{templateUrl:"app/views/automation/automations.html",requireLogin:!0,roles:t.role_access.admin}).when("/scenes",{templateUrl:"app/views/automation/scenes/scenes.html",requireLogin:!0,roles:t.role_access.admin}).when("/scenes/:id",{templateUrl:"app/views/automation/scenes/scene_id.html",requireLogin:!0,roles:t.role_access.admin}).when("/rules",{templateUrl:"app/views/automation/rules/rules.html",requireLogin:!0,roles:t.role_access.admin}).when("/rules/:id",{templateUrl:"app/views/automation/rules/rule_id.html",requireLogin:!0,roles:t.role_access.admin}).when("/schedules",{templateUrl:"app/views/automation/schedules/schedules.html",requireLogin:!0,roles:t.role_access.admin}).when("/schedules/:id",{templateUrl:"app/views/automation/schedules/schedule_id.html",requireLogin:!0,roles:t.role_access.admin}).when("/hazard",{templateUrl:"app/views/automation/hazard/hazard.html",requireLogin:!0,roles:t.role_access.admin}).when("/hazard/:id",{templateUrl:"app/views/automation/hazard/id.html",requireLogin:!0,roles:t.role_access.admin}).when("/security",{templateUrl:"app/views/automation/security/security.html",requireLogin:!0,roles:t.role_access.admin}).when("/security/:id",{templateUrl:"app/views/automation/security/id.html",requireLogin:!0,roles:t.role_access.admin}).when("/heating",{templateUrl:"app/views/automation/heating/heating.html",requireLogin:!0,roles:t.role_access.admin}).when("/heating/:id",{templateUrl:"app/views/automation/heating/heating_id.html",requireLogin:!0,roles:t.role_access.admin}).when("/admin",{templateUrl:"app/views/management/management.html",requireLogin:!0,roles:t.role_access.admin}).when("/admin/user/:id",{templateUrl:"app/views/management/management_user_id.html",requireLogin:!0,roles:t.role_access.admin_user}).when("/myaccess",{templateUrl:"app/views/mysettings/mysettings.html",requireLogin:!0,roles:t.role_access.myaccess}).when("/apps/local",{templateUrl:"app/views/apps/apps_local.html",requireLogin:!0,roles:t.role_access.apps}).when("/apps/local/:id",{templateUrl:"app/views/apps/apps_local_id.html",requireLogin:!0,roles:t.role_access.apps_local}).when("/apps/online",{templateUrl:"app/views/apps/apps_online.html",requireLogin:!0,roles:t.role_access.apps}).when("/apps/online/filter",{templateUrl:"app/views/apps/apps_online_filter.html",requireLogin:!0,roles:t.role_access.apps}).when("/apps/online/:id",{templateUrl:"app/views/apps/apps_online_id.html",requireLogin:!0,roles:t.role_access.apps_online}).when("/apps/instance",{templateUrl:"app/views/apps/apps_instance.html",requireLogin:!0,roles:t.role_access.apps_online}).when("/module/:action/:id/:fromapp?/:instanceId?",{templateUrl:"app/views/apps/app_module_alpaca.html",requireLogin:!0,roles:t.role_access.module}).when("/customize/skinslocal",{templateUrl:"app/views/customize/skins/skins_local.html",requireLogin:!0,roles:t.role_access.customize}).when("/customize/skinsonline",{templateUrl:"app/views/customize/skins/skins_online.html",requireLogin:!0,roles:t.role_access.customize}).when("/skinreset",{template:" ",controller:"SkinToDefaultController",requireLogin:!0,roles:t.role_access.customize}).when("/customize/iconslocal",{templateUrl:"app/views/customize/icons/icons_local.html",requireLogin:!0,roles:t.role_access.customize}).when("/customize/iconsonline",{templateUrl:"app/views/customize/icons/icons_online.html",requireLogin:!0,roles:t.role_access.customize}).when("/devices",{templateUrl:"app/views/devices/devices.html",requireLogin:!0,roles:t.role_access.devices}).when("/smartstart",{templateUrl:"app/views/smartstart/smartstart.html",requireLogin:!0,roles:t.role_access.admin}).when("/smartstartqr",{templateUrl:"app/views/smartstart/smartstart_qr.html",requireLogin:!0,roles:t.role_access.admin}).when("/smartstartdsk",{templateUrl:"app/views/smartstart/smartstart_dsk.html",requireLogin:!0,roles:t.role_access.admin}).when("/smartstartlist",{templateUrl:"app/views/smartstart/smartstart_list.html",requireLogin:!0,roles:t.role_access.admin}).when("/zwave/vendors",{templateUrl:"app/views/zwave/zwave_vendors.html",requireLogin:!0,roles:t.role_access.devices}).when("/zwave/products",{templateUrl:"app/views/zwave/zwave_products.html",requireLogin:!0,roles:t.role_access.devices}).when("/zwave/inclusion/:id?",{templateUrl:"app/views/zwave/zwave_inclusion.html",requireLogin:!0,roles:t.role_access.devices_include}).when("/zwave/interview/:id",{templateUrl:"app/views/zwave/zwave_interview.html",requireLogin:!0,roles:t.role_access.devices_include}).when("/zwave/exclude/:id",{templateUrl:"app/views/zwave/zwave_exclude.html",requireLogin:!0,roles:t.role_access.devices_include}).when("/zwave/devices",{templateUrl:"app/views/zwave/zwave_manage.html",requireLogin:!0}).when("/zwave/devices/:nodeId/:nohistory?",{templateUrl:"app/views/zwave/zwave_manage_id.html",requireLogin:!0,roles:t.role_access.network_config_id}).when("/zwave/batteries",{templateUrl:"app/views/zwave/zwave_batteries.html",requireLogin:!0}).when("/zwave/network",{templateUrl:"app/views/zwave/zwave_network.html",requireLogin:!0}).when("/zigbee/vendors",{templateUrl:"app/views/zigbee/zigbee_vendors.html",requireLogin:!0,roles:t.role_access.devices}).when("/zigbee/products",{templateUrl:"app/views/zigbee/zigbee_products.html",requireLogin:!0,roles:t.role_access.devices}).when("/zigbee/inclusion/:id?",{templateUrl:"app/views/zigbee/zigbee_inclusion.html",requireLogin:!0,roles:t.role_access.devices_include}).when("/zigbee/interview/:id",{templateUrl:"app/views/zigbee/zigbee_interview.html",requireLogin:!0,roles:t.role_access.devices_include}).when("/zigbee/devices",{templateUrl:"app/views/zigbee/zigbee_manage.html",requireLogin:!0}).when("/zigbee/devices/:nodeId/:nohistory?",{templateUrl:"app/views/zigbee/zigbee_manage_id.html",requireLogin:!0,roles:t.role_access.network_config_id}).when("/zigbee/batteries",{templateUrl:"app/views/zigbee/zigbee_batteries.html",requireLogin:!0}).when("/zigbee/network",{templateUrl:"app/views/zigbee/zigbee_network.html",requireLogin:!0}).when("/matter/vendors",{templateUrl:"app/views/matter/matter_vendors.html",requireLogin:!0,roles:t.role_access.devices}).when("/matter/products",{templateUrl:"app/views/matter/matter_products.html",requireLogin:!0,roles:t.role_access.devices}).when("/matter/inclusion/:code?",{templateUrl:"app/views/matter/matter_inclusion.html",requireLogin:!0,roles:t.role_access.devices_include}).when("/matter/interview/:id",{templateUrl:"app/views/matter/matter_interview.html",requireLogin:!0,roles:t.role_access.devices_include}).when("/matter/devices",{templateUrl:"app/views/matter/matter_manage.html",requireLogin:!0}).when("/matter/devices/:nodeId/:nohistory?",{templateUrl:"app/views/matter/matter_manage_id.html",requireLogin:!0,roles:t.role_access.network_config_id}).when("/matter/batteries",{templateUrl:"app/views/matter/matter_batteries.html",requireLogin:!0}).when("/matter/network",{templateUrl:"app/views/matter/matter_network.html",requireLogin:!0}).when("/matter/commission",{templateUrl:"app/views/matter/matter_commission.html",requireLogin:!0,roles:t.role_access.admin}).when("/camera/add",{templateUrl:"app/views/camera/camera_add.html",requireLogin:!0,roles:t.role_access.devices}).when("/camera/manage",{templateUrl:"app/views/camera/camera_manage.html",requireLogin:!0,roles:t.role_access.devices}).when("/speech_assistants/manage",{templateUrl:"app/views/speech_assistants/speech_assistants_manage.html",requireLogin:!0,roles:t.role_access.devices}).when("/speech_assistants/devices",{templateUrl:"app/views/speech_assistants/speech_assistants_devices.html",requireLogin:!0,roles:t.role_access.devices}).when("/speech_assistants/Alexa",{templateUrl:"app/views/speech_assistants/alexa.html",requireLogin:!0,roles:t.role_access.devices}).when("/speech_assistants/Alexa/setup",{templateUrl:"app/views/speech_assistants/setup_alexa.html",requireLogin:!0,roles:t.role_access.devices}).when("/speech_assistants/GoogleHome",{templateUrl:"app/views/speech_assistants/google_home.html",requireLogin:!0,roles:t.role_access.devices}).when("/speech_assistants/GoogleHome/setup",{templateUrl:"app/views/speech_assistants/setup_google_home.html",requireLogin:!0,roles:t.role_access.devices}).when("/enocean/vendors",{templateUrl:"app/views/enocean/vendors.html",requireLogin:!0,roles:t.role_access.devices}).when("/enocean/products/:brandname",{templateUrl:"app/views/enocean/products.html",requireLogin:!0,roles:t.role_access.devices}).when("/enocean/teachin/smartAck",{templateUrl:"app/views/enocean/teachin-smartAck.html",requireLogin:!0,roles:t.role_access.devices}).when("/enocean/teachin/genericProfile",{templateUrl:"app/views/enocean/teachin-genericProfile.html",requireLogin:!0,roles:t.role_access.devices}).when("/enocean/teachin/:device",{templateUrl:"app/views/enocean/teachin.html",requireLogin:!0,roles:t.role_access.devices}).when("/enocean/manage",{templateUrl:"app/views/enocean/manage.html",requireLogin:!0,roles:t.role_access.devices}).when("/enocean/manage/:deviceId",{templateUrl:"app/views/enocean/manage_detail.html",requireLogin:!0,roles:t.role_access.devices}).when("/enocean/controller",{templateUrl:"app/views/enocean/controller.html",requireLogin:!0,roles:t.role_access.devices}).when("/wifiplug/add",{templateUrl:"app/views/wifiplug/wifiplug_add.html",requireLogin:!0,roles:t.role_access.devices}).when("/wifiplug/manage",{templateUrl:"app/views/wifiplug/wifiplug_manage.html",requireLogin:!0,roles:t.role_access.devices}).when("/mobile/manage",{templateUrl:"app/views/mobile/mobile_manage.html",requiredLogin:!0,roles:t.role_access.devices}).when("/config-rooms",{templateUrl:"app/views/rooms/config_rooms.html",requireLogin:!0,roles:t.role_access.config_rooms}).when("/config-rooms/:id",{templateUrl:"app/views/rooms/config_rooms_id.html",requireLogin:!0,roles:t.role_access.config_rooms_id}).when("/report",{templateUrl:"app/views/report/report.html",requireLogin:!0}).when("/rss",{templateUrl:"app/views/rss/rss.html",requireLogin:!0,roles:t.role_access.admin}).when("/login",{redirectTo:"/"}).when("/password",{templateUrl:"app/views/auth/password.html",requireLogin:!0}).when("/passwordchange",{templateUrl:"app/views/auth/password_change.html"}).when("/passwordforgot",{templateUrl:"app/views/auth/password_forgot.html"}).when("/passwordforgot/reset/:token?",{templateUrl:"app/views/auth/password_reset.html"}).when("/boxupdate",{templateUrl:"app/views/jamesbox/update.html"}).when("/logout",{template:" ",controller:"LogoutController",requireLogin:!0}).when("/error403",{templateUrl:"app/views/error_403.html"}).when("/oauth2",{templateUrl:"app/views/auth/oauth2.html",requireLogin:!0,roles:t.role_access.admin_user}).otherwise({templateUrl:"app/views/error_404.html"})}]),angular.module("myAppTemplates",[]).run(["$templateCache",function(e){e.put("app/views/apps/app_module_alpaca.html",'<div id=page_module_update ng-controller=AppModuleAlpacaController><bb-loader></bb-loader><div id=alpaca-spinner style="display: none;" class=loading-spin><div class=loading-in><i class="fas fa-lg fa-spinner fa-spin"></i> <span>{{_t(\'loading\')}}</span></div></div><div class=form-page ng-show=showForm><div class="fieldset clearfix"><div class=app-detail-img><img class=app-image-detail ng-src="{{moduleMediaUrl + input.moduleName + \'/\' + input.icon}}" ng-if=input.icon alt=img></div><div class=app-detail-body><h2 ng-bind=input.moduleTitle></h2><p class=app-detail-perex ng-bind-html="moduleId.find.defaults.description | toTrusted"></p><p class=app-detail-list ng-if=moduleId.categoryName><i class="fas fa-list"></i> <span ng-bind=moduleId.categoryName></span></p><p class=app-detail-list ng-if=moduleId.find.author><i class="fas fa-user"></i> <span ng-show=!moduleId.find.homepage ng-bind=moduleId.find.author></span> <a ng-href={{moduleId.find.homepage}} ng-if=moduleId.find.homepage ng-bind=moduleId.find.author></a></p><p class=app-detail-list ng-if=moduleId.find.version><i class="fas fa-info-circle"></i> <span class=app-version ng-bind=moduleId.find.version></span> <span class=label ng-class="moduleId.find.maturity == \'stable\' ? \'label-success\' : \'label-warning\'">{{moduleId.find.maturity}}</span></p><p class=app-detail-list ng-if="moduleId.find.dependencies.length > 0"><i class="fas fa-link"></i> <strong>{{_t(\'dependent_modules\')}}:</strong> <span ng-repeat="i in moduleId.find.dependencies">{{i}}{{$last ? \'\' : \', \'}}</span></p><div class="alert alert-warning" ng-if=!_.isEmpty(moduleId.dependency.activate)><p>{{_t(\'war_dependency_module_activate\')}}</p><a href="" class="btn btn-default btn-tag" ng-repeat="v in moduleId.dependency.activate" ng-click=activateInstance(v)>{{v.moduleId}} <i class="fas fa-fire text-success" title="{{_t(\'lb_activate\')}}"></i></a></div><div class="alert alert-warning" ng-if=!_.isEmpty(moduleId.dependency.add)><p>{{_t(\'war_dependency_module_add\')}}</p><a ng-href=#module/post/{{v.modulename}}/{{input.moduleId}} class="btn btn-default btn-tag" ng-repeat="v in moduleId.dependency.add">{{v.modulename}} <i class="fas fa-plus text-success" title="{{_t(\'lb_add_app\')}}"></i></a></div><div class="alert alert-warning" ng-if=!_.isEmpty(moduleId.dependency.download)><p>{{_t(\'war_dependency_module_install\')}}</p><a href="" class="btn btn-default btn-tag" ng-repeat="v in moduleId.dependency.download" ng-click=installModule(v)>{{v.modulename}} <i class="fas fa-download text-success" title="{{_t(\'lb_download\')}}"></i></a></div><div class=form-group></div></div></div><div ng-if=moduleId.singletonActive><div class="fieldset clearfix"><div class="alert alert-warning"><i class="fas fa-exclamation-circle"></i> {{_t(\'singleton_with_instance\',{__module_title__:input.moduleTitle})}}</div></div><div class="fieldset submit-entry"><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <a class="btn btn-submit" title="{{_t(\'lb_active_apps\')}}" href=#apps/instance><i class="fas fa-fire"></i> <span class=btn-name>{{_t(\'active_apps_apps\')}}</span></a></div></div><form id=form_module ng-if=!moduleId.singletonActive><input name=instanceId id=instanceId type=hidden class=form-control value={{input.instanceId}}> <input name=moduleId id=moduleId type=hidden class=form-control value={{input.moduleId}}><fieldset><div class=form-group><input type=checkbox name=active value={{input.active}} id=active ng-model=input.active ng-checked=input.active> <label for=active>{{_t(\'lb_active\')}}</label></div><div class=form-group><label>{{_t(\'lb_name\')}}</label> <input name=title id=title class=form-control value={{input.title}} ng-model=input.title></div></fieldset><div id=alpaca_data ng-show=alpacaData data-module-postrender={{input.modulePostrender}}></div><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit title="{{_t(\'lb_save\')}}" id=btn_module_submit_ang class="btn btn-submit" ng-click=store(input) ng-disabled=!moduleId.submit ng-if=!alpacaData><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button> <button type=submit title="{{_t(\'lb_save\')}}" id=btn_module_submit class="btn btn-submit" data-sid={{ZWAYSession}} data-fromapp={{moduleId.fromapp}} , data-fromroute={{moduleId.fromRoute}} data-lang={{lang}} ng-disabled=!moduleId.submit ng-if=alpacaData><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div></div>'),e.put("app/views/apps/apps_instance_ctrl.html",'<div class="page-control form-inline"><div class=form-group ng-if=dataHolder.instances.expandable><input type=checkbox name=instances_expanded id=instances_expanded ng-change=expandInstances(dataHolder.instances.expanded) ng-model=dataHolder.instances.expanded ng-checked=dataHolder.instances.expanded> <label for=instances_expanded>{{_t(\'expand_all\')}}</label></div><form id=form_search class=input-group ng-submit="setFilter({q: dataHolder.instances.autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{dataHolder.instances.filter.q}} class=form-control placeholder="{{_t(\'lb_search\')}}" ng-model=dataHolder.instances.autocomplete.term bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable" ng-click="setFilter({q: dataHolder.instances.autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':dataHolder.instances.autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchInstances><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in dataHolder.instances.autocomplete.results | orderBy:\'toString()\' track by $index"><span class=dropdown-col ng-click="setFilter({q: dataHolder.instances.autocomplete.term})"><img class=report-img-s ng-src={{dataHolder.modules.ids[v.moduleId].icon}} err-src={{cfg.img.placeholder}} alt=img> <span class=aoutocomplete-title>{{v.title|cutText:true:30}}</span> </span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><div class=btn-group><button type=button title="{{_t(\'lb_deactivate\')}}" class="btn btn-default btn-sm" href="" ng-if=v.active ng-click="activateInstance(v, false)"><i class="fas fa-fire text-success"></i></button> <button type=button title="{{_t(\'lb_activate\')}}" class="btn btn-default btn-sm" ng-if=!v.active ng-click="activateInstance(v, true)"><i class="fas fa-power-off text-danger"></i></button> <a ng-href=#module/clone/{{v.moduleId}}/false/{{v.id}} class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-hide=dataHolder.modules.ids[v.moduleId].singleton><i class="fas fa-clone"></i> </a><button type=button title="{{_t(\'lb_remove\')}}" class="btn btn-default btn-sm" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button> <a class="btn btn-default btn-sm" ng-href=#module/put/{{v.id}}><i class="fas fa-chevron-circle-right"></i></a></div></span></li></ul></div></form></div>'),e.put("app/views/apps/apps_instance_widget.1.html",'<div class="alert alert-warning" ng-if=dataHolder.instances.noSearch><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'no_search_results\',{__term__: "\\"" + dataHolder.instances.filter.q + "\\""})}}</div><div ng-repeat="(indexG,g) in dataHolder.instances.groups track by indexG" ng-init="instanveModuleCnt = dataHolder.instances.cnt.modules[g.moduleId]" ng-if="dataHolder.modules.cameraIds.indexOf(g.moduleId) === -1 || g.moduleId !== \'MobileAppSupport\'"><div class=accordion-entry ng-if="instanveModuleCnt > 1"><h2 class=accordion-entry-title ng-click=expandElement(g.moduleId) ng-init="expand[g.moduleId] = dataHolder.instances.expanded"><img class=report-img-s ng-src={{dataHolder.modules.ids[g.moduleId].icon}} err-src={{cfg.img.placeholder}} alt=img> <span class=accordion-title-text>{{dataHolder.modules.ids[g.moduleId].title}} <span class=item-cnt>({{dataHolder.instances.cnt.modules[g.moduleId]}})</span><i class="fas accordion-arrow" ng-class="expand[g.moduleId] ? \'fa-chevron-up\':\'fa-chevron-down\'"></i></span></h2><div class="accordion-entry-ctrl instance-entry-multiple" ng-class="" ng-if=expand[g.moduleId]><div class="list-panel bcg-active" ng-repeat="(indexA,v) in g.instances |orderBy:cfg.orderby.instances[dataHolder.instances.orderBy] | filter:q track by indexA" ng-class="v.active ? \'true\': \'false\'" ng-if="dataHolder.modules.cameraIds.indexOf(v.moduleId) === -1 && dataHolder.modules.wifiplugIds.indexOf(v.moduleId) === -1"><div class=body><div><a href=#module/post/{{v.id}}><span ng-bind=v.title></span></a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'instanceSingleDropdown_\' + indexG+indexA, $event)"></button></div><div class=control ng-class="naviExpanded[\'instanceSingleDropdown_\' + indexG+indexA] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a ng-href=#module/put/{{v.id}} class="btn btn-default" title="{{_t(\'lb_settings\')}}"><i class="fas fa-cog"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateInstance(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-pause text-danger\' : \'fa-play text-success\'"></i></button> <a ng-href=#module/clone/{{v.moduleId}}/false/{{v.id}} class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-hide=dataHolder.modules.ids[v.moduleId].singleton><i class="fas fa-clone"></i> </a><button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div></div></div><div class=instance-entry-single ng-if="instanveModuleCnt < 2"><div class="list-panel bcg-active" ng-repeat="(indexR,v) in g.instances |orderBy:cfg.orderby.instances[dataHolder.instances.orderBy] | filter:q track by indexR" ng-class="v.active ? \'true\': \'false\'" ng-if="dataHolder.modules.cameraIds.indexOf(v.moduleId) === -1 && dataHolder.modules.wifiplugIds.indexOf(v.moduleId) === -1 && v.moduleId !== \'MobileAppSupport\'"><figure class="img wh-32x32"><img ng-src={{dataHolder.modules.ids[g.moduleId].icon}} err-src={{cfg.img.placeholder}} alt=img></figure><div class=body><div><a href=#module/put/{{v.id}}><span ng-bind=v.title></span></a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'instanceSingleDropdown_\' + indexG, $event)"></button></div><div class=control ng-class="naviExpanded[\'instanceSingleDropdown_\' + indexG] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a ng-href=#module/put/{{v.id}} class="btn btn-default" title="{{_t(\'lb_settings\')}}"><i class="fas fa-cog"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateInstance(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-pause text-danger\' : \'fa-play text-success\'"></i></button> <a ng-href=#module/clone/{{v.moduleId}}/false/{{v.id}} class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-hide=dataHolder.modules.ids[v.moduleId].singleton><i class="fas fa-clone"></i> </a><button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div></div></div>'),e.put("app/views/apps/apps_instance_widget.html",'<div class="alert alert-warning" ng-if=dataHolder.instances.noSearch><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'no_search_results\',{__term__: "\\"" + dataHolder.instances.filter.q + "\\""})}}</div><div ng-repeat="(indexG,g) in dataHolder.instances.groups track by indexG" ng-init="instanveModuleCnt = dataHolder.instances.cnt.modules[g.moduleId]" ng-if="dataHolder.modules.cameraIds.indexOf(g.moduleId) === -1"><section class=accordion-instances ng-if="instanveModuleCnt > 1"><h2 class="accordion-toggle chevron" ng-init="expand[g.moduleId] = dataHolder.instances.expanded"><button type=button aria-expanded={{dataHolder.instances.expanded}} bb-accordion ng-disabled=dataHolder.instances.expanded><span><img ng-src={{dataHolder.modules.ids[g.moduleId].icon}} err-src={{cfg.img.placeholder}} alt=img> {{dataHolder.modules.ids[g.moduleId].title}}&nbsp; <span class=item-cnt>({{dataHolder.instances.cnt.modules[g.moduleId]}})</span></span></button></h2><div class=accordion hidden ng-class="{\'ng-show\':dataHolder.instances.expanded}"><div class="list-panel bcg-active" ng-repeat="(indexA,v) in g.instances |orderBy:cfg.orderby.instances[dataHolder.instances.orderBy] | filter:q track by indexA" ng-class="v.active ? \'true\': \'false\'" ng-if="dataHolder.modules.cameraIds.indexOf(v.moduleId) === -1 && dataHolder.modules.wifiplugIds.indexOf(v.moduleId) === -1"><div class=body><div><a href=#module/put/{{v.id}}><span ng-bind=v.title></span></a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'instanceSingleDropdown_\' + indexG+indexA, $event)"></button></div><div class=control ng-class="naviExpanded[\'instanceSingleDropdown_\' + indexG+indexA] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a ng-href=#module/put/{{v.id}} class="btn btn-default" title="{{_t(\'lb_settings\')}}"><i class="fas fa-cog"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateInstance(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-pause text-danger\' : \'fa-play text-success\'"></i></button> <a ng-href=#module/clone/{{v.moduleId}}/false/{{v.id}} class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-hide=dataHolder.modules.ids[v.moduleId].singleton><i class="fas fa-clone"></i> </a><button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div></div></section><div class=instance-entry-single ng-if="instanveModuleCnt < 2"><div class="list-panel bcg-active" ng-repeat="(indexR,v) in g.instances |orderBy:cfg.orderby.instances[dataHolder.instances.orderBy] | filter:q track by indexR" ng-class="v.active ? \'true\': \'false\'" ng-if="dataHolder.modules.cameraIds.indexOf(v.moduleId) === -1 && dataHolder.modules.wifiplugIds.indexOf(v.moduleId) === -1"><figure class="img wh-32x32"><img ng-src={{dataHolder.modules.ids[g.moduleId].icon}} err-src={{cfg.img.placeholder}} alt=img></figure><div class=body><div><a href=#module/put/{{v.id}}><span ng-bind=v.title></span></a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'instanceSingleDropdown_\' + indexG, $event)"></button></div><div class=control ng-class="naviExpanded[\'instanceSingleDropdown_\' + indexG] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a ng-href=#module/put/{{v.id}} class="btn btn-default" title="{{_t(\'lb_settings\')}}"><i class="fas fa-cog"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateInstance(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-pause text-danger\' : \'fa-play text-success\'"></i></button> <a ng-href=#module/clone/{{v.moduleId}}/false/{{v.id}} class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-hide=dataHolder.modules.ids[v.moduleId].singleton><i class="fas fa-clone"></i> </a><button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div></div></div>'),e.put("app/views/apps/apps_instance.html","<div ng-controller=AppBaseController><bb-loader></bb-loader><div ng-controller=AppInstanceController id=apps_instances><div ng-include=\"'app/views/apps/navi.html'\"></div><div ng-include=\"'app/views/apps/apps_instance_ctrl.html'\"></div><div ng-include=\"'app/views/apps/apps_instance_widget.html'\"></div></div></div>"),e.put("app/views/apps/apps_local_ctrl.html",'<div class="page-control form-inline"><div id=btn-group-mobile class="btn-group btn-goup-block btn-goup-4"><button class="btn btn-default" ng-click="expandNavi(\'appsCategories\', $event)" ng-class="dataHolder.modules.filter[\'status\'] || dataHolder.modules.filter[\'q\'] ? \'\':\'active\' "><i class="fas fa-filter"></i> <span class=btn-name ng-if=dataHolder.modules.filter.category>{{dataHolder.modules.categories[dataHolder.modules.filter.category].name|cutText:true:30}}</span> <span class=btn-name ng-if=dataHolder.modules.filter.featured>{{_t(\'featured_apps\')}}</span> <span class=btn-name ng-if="_.isEmpty(dataHolder.modules.filter) || dataHolder.modules.filter[\'status\']">{{_t(\'all_apps\')}}</span> <span class="btn-name item-cnt">({{dataHolder.modules.cnt.collection}})</span></button> <button class="btn btn-default" ng-click="expandNavi(\'appsLocalOrderBy\', $event)"><i class="fas fa-sort-alpha-down"></i> <span class=btn-name>{{_t(dataHolder.modules.orderBy) | cutText:true:15}}</span></button> <button class="btn btn-default" ng-class="dataHolder.modules.filter[\'status\'] ? \'active\':\'\' " ng-click="setFilter(dataHolder.modules.filter[\'status\'] ? {} : {status: \'upgrade\'})" ng-disabled=!dataHolder.onlineModules.cnt.upgraded><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'available_updates\')}}</span> <span class="btn-name item-cnt">({{dataHolder.onlineModules.cnt.upgraded}})</span></button> <button type=button title="{{_t(\'lb_search\')}}" class="btn btn-default" ng-class="{\'active\': naviExpanded.elSearch}" ng-click="expandNavi(\'elSearch\', $event)"><i class="fas fa-search"></i> <span class=btn-name>{{_t(\'lb_search\')}}</span></button></div><form id=form_search_mobile class=input-group ng-if=naviExpanded.elSearch ng-submit="setFilter({q: dataHolder.modules.autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{dataHolder.modules.filter.q}} ng-click=elSearchHolder($event) class=form-control placeholder="{{_t(\'lb_search\')}}" ng-model=dataHolder.modules.autocomplete.term bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable" ng-click="setFilter({q: dataHolder.modules.autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':dataHolder.modules.autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchLocalApps><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in dataHolder.modules.autocomplete.results | orderBy:\'toString()\' track by $index"><span class=dropdown-col ng-click="setFilter({q: dataHolder.modules.autocomplete.term})"><img class=report-img-s ng-src="{{moduleMediaUrl + v.moduleName + \'/\' + v.icon}}" ng-if=v.icon alt={{v.defaults.title}}> <img class=report-img-s ng-src=storage/img/placeholder-img.png ng-if=!v.icon alt={{v.defaults.title}}> <span class=aoutocomplete-title>{{v.title|cutText:true:30}}</span>&nbsp; </span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><a ng-href=#apps/local/{{v.id}}><i class="fas fa-chevron-circle-right"></i></a></span></li></ul></div></form><form id=form_search class=input-group ng-submit="setFilter({q: dataHolder.modules.autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{dataHolder.modules.filter.q}} class="s-hide form-control" placeholder="{{_t(\'lb_search\')}}" ng-model=dataHolder.modules.autocomplete.term bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable s-hide" ng-click="setFilter({q: dataHolder.modules.autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':dataHolder.modules.autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchLocalApps><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in dataHolder.modules.autocomplete.results | orderBy:\'toString()\' track by $index"><span class=dropdown-col ng-click="setFilter({q: dataHolder.modules.autocomplete.term})"><img class=report-img-s ng-src="{{moduleMediaUrl + v.moduleName + \'/\' + v.icon}}" ng-if=v.icon alt={{v.defaults.title}}> <img class=report-img-s ng-src=storage/img/placeholder-img.png ng-if=!v.icon alt={{v.defaults.title}}> <span class=aoutocomplete-title>{{v.title|cutText:true:30}}</span>&nbsp; </span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><a ng-href=#apps/local/{{v.id}}><i class="fas fa-chevron-circle-right"></i></a></span></li></ul></div></form><div class="btn-group btn-goup-block_ btn-goup-3_"><button class="btn btn-default s-hide" ng-class="dataHolder.modules.filter[\'status\'] ? \'active\':\'\' " ng-click="setFilter(dataHolder.modules.filter[\'status\'] ? {} : {status: \'upgrade\'})" ng-disabled=!dataHolder.onlineModules.cnt.upgraded><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'available_updates\')}}</span> <span class="btn-name item-cnt">({{dataHolder.onlineModules.cnt.upgraded}})</span></button> <button class="btn btn-default s-hide" ng-click="expandNavi(\'appsCategories\', $event)" ng-class="dataHolder.modules.filter[\'status\'] || dataHolder.modules.filter[\'q\'] ? \'\':\'active\' "><i class="fas fa-filter"></i> <span class=btn-name ng-if=dataHolder.modules.filter.category>{{dataHolder.modules.categories[dataHolder.modules.filter.category].name|cutText:true:30}}</span> <span class=btn-name ng-if=dataHolder.modules.filter.featured>{{_t(\'featured_apps\')}}</span> <span class=btn-name ng-if="_.isEmpty(dataHolder.modules.filter) || dataHolder.modules.filter[\'status\']">{{_t(\'all_apps\')}}</span> <span class="btn-name item-cnt">({{dataHolder.modules.cnt.collection}})</span></button> <button class="btn btn-default s-hide" ng-click="expandNavi(\'appsLocalOrderBy\', $event)"><i class="fas fa-sort-alpha-down"></i> <span class=btn-name>{{_t(dataHolder.modules.orderBy) | cutText:true:15}}</span></button></div></div><div class=page-navi ng-if=naviExpanded.appsCategories><div class=page-navi-in><ul><li class=page-cat-0 ng-class="_.isEmpty(dataHolder.modules.filter) == true ? \'active\': \'\'"><a href="" ng-click=setFilter()><i class="fas fa-check-circle"></i> {{_t(\'all_apps\')}} <span class=item-cnt>({{dataHolder.modules.cnt.apps}})</span> <span class=page-navi-icon><i class="fas fa-chevron-right"></i></span></a></li><li class=page-cat-{{v.id}} ng-repeat="v in dataHolder.modules.categories" ng-if="dataHolder.modules.cats.indexOf(v.id) > -1 && dataHolder.modules.cnt.appsCat[v.id]" ng-class="dataHolder.modules.filter.category == v.id ? \'active\': \'\'"><a href="" ng-click="setFilter({category: v.id})"><i class="fas {{v.id|getAppCategoryIcon}}"></i> {{v.name|cutText:true:30}} <span class=item-cnt>({{dataHolder.modules.cnt.appsCat[v.id]}})</span> <span class=page-navi-icon><i class="fas fa-chevron-right"></i></span></a></li></ul></div></div><div class=page-navi ng-if=naviExpanded.appsLocalOrderBy><div class=page-navi-in><div class=page-navi-content><p class=page-navi-title>{{_t(\'sortby\')}}</p><a class="btn btn-default btn-tag" href="" ng-repeat="(k,v) in cfg.orderby.appslocal" ng-click=setOrderBy(k) ng-class="dataHolder.modules.orderBy == k ? \'active\': \'\'">{{_t(k) | cutText:true:30}}</a></div></div></div>'),e.put("app/views/apps/apps_local_id.html",'<div ng-controller=AppLocalDetailController><bb-loader></bb-loader><div class="form form-inline form-page" ng-if=!_.isEmpty(module)><div class="fieldset clearfix"><div class=app-detail-img><img class=app-image-detail ng-src="{{moduleMediaUrl + module.moduleName + \'/\' + module.icon}}" ng-if=module.icon alt={{module.defaults.title}}> <img class=app-image-detail ng-src=storage/img/placeholder-img.png ng-if=!module.icon alt={{module.defaults.title}}></div><div class=app-detail-body><h2 ng-bind=module.defaults.title></h2><p class=app-detail-perex ng-bind-html="module.defaults.description | toTrusted"></p><p class=app-detail-list ng-show=module.category><i class="fas fa-list"></i> <span ng-bind=categoryName></span></p><p class=app-detail-list ng-show=module.author><i class="fas fa-user"></i> <span ng-show=!module.homepage ng-bind=module.author></span> <a ng-href={{module.homepage}} ng-show=module.homepage ng-bind=module.author></a></p><p class=app-detail-list ng-show=module.version><i class="fas fa-info-circle"></i> <span class=app-version ng-bind=module.version></span> <span class=label ng-class="module.maturity == \'stable\' ? \'label-success\' : \'label-warning\'">{{module.maturity}}</span></p><p class=app-detail-list ng-show=_.size(hasInstance)><i class="fas fa-fire"></i> ({{_.size(hasInstance)}})</p><p class=app-detail-list ng-show="module.dependencies.length > 0"><i class="fas fa-link"></i> <strong>{{_t(\'dependent_modules\')}}:</strong> <span ng-repeat="i in module.dependencies">{{i}},</span></p></div></div><div class="fieldset submit-entry"><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <a class="btn btn-submit" href=#module/post/{{module.id}} title="{{_t(\'lb_add_app\')}}" ng-disabled="module.singleton && _.size(hasInstance)"><i class="fas fa-plus"></i> <span class=btn-name>{{_t(\'lb_add_app\')}}</span></a></div></div></div>'),e.put("app/views/apps/apps_local_widget_entry.html",'<div class="localapp-in longpress-{{longPressSent}}" on-long-press=onLongPress(v.id) on-touch-end=onTouchEnd() prevent-click=true><span class=has-instance ng-if=v.hasInstance><i class="fas fa-fire text-success"></i> ({{v.hasInstance}}) </span><a class=localapp-header href=#apps/local/{{v.id}} title={{v.toolTipDescription}}><img class=localapp-img ng-src="{{moduleMediaUrl + v.moduleName + \'/\' + v.icon}}" ng-if=v.icon alt={{v.defaults.title}}> <img class=localapp-img ng-src=storage/img/placeholder-img.png ng-if=!v.icon alt={{v.defaults.title}}></a><div class=localapp-body><a class=localapp-title href=#apps/local/{{v.id}} title={{v.defaults.title}} ng-bind=v.defaults.title></a><div class=localapp-footer ng-class="v.id == hasLongPress ? \'has-longpress\' : \'\'" on-long-press=onLongPress() prevent-click=true><div class=btn-group><a ng-href=#module/post/{{v.id}} class="btn btn-default" title="{{_t(\'lb_add_app\')}}{{v.singleton ? \' - \' + _t(\'singleton_info\') : \'\'}}" ng-disabled=v.preventInstall><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'lb_add_app\')"></span> </a><button class="btn btn-default" title="{{_t(\'lb_remove\')}}" ng-click="deleteModule({\'id\': v.id}, _t(\'app_delete_confirm\'),\'#local_module_\' + v.id)" ng-if="v.custom && !v.hasReset"><i class="fas fa-trash text-danger"></i> <span class=btn-name ng-bind="_t(\'lb_remove\')"></span></button> <button class="btn btn-default" title="{{_t(\'reset\')}}" ng-click="resetModule({\'id\': v.id}, _t(\'app_reset_confirm\'),\'#local_module_\' + v.id)" ng-if="v.custom && v.hasReset"><i class="fas fa-trash fa-sync text-warning"></i> <span class=btn-name ng-bind="_t(\'reset\')"></span></button> <button href="" class="btn btn-danger" title="{{_t(\'update_to_latest\')}}" ng-click="updateModule(dataHolder.onlineModules.ids[v.moduleName], _t(\'app_update_confirm\'))" ng-if="dataHolder.onlineModules.ids[v.moduleName] && dataHolder.onlineModules.ids[v.moduleName].status == \'upgrade\'"><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'update_to_latest\')}}</span></button></div></div></div></div>'),e.put("app/views/apps/apps_local_widget_updated.html","<div class=app-entry-local><h2 ng-if=!_.isEmpty(dataHolder.modules.filter)>{{dataHolder.modules.categories[dataHolder.modules.filter.category].name|cutText:true:30}}</h2><h2 ng-if=_.isEmpty(dataHolder.modules.filter)>{{_t('all_apps')}}</h2><div class=clearfix><div class=localapp ng-if=\"dataHolder.onlineModules.ids[v.moduleName].status == 'upgrade'\" ng-repeat=\"v in dataHolder.modules.collection|orderBy:cfg.orderby.appslocal[dataHolder.modules.orderBy] | filter:q  track by v.id\" ng-class=\"{'widget-danger': dataHolder.onlineModules.ids[v.id] && dataHolder.onlineModules.ids[v.id].version != v.version}\"><div ng-include=\"'app/views/apps/apps_local_widget_entry.html'\"></div></div></div></div>"),e.put("app/views/apps/apps_local_widget.html",'<div class="alert alert-warning" ng-if=dataHolder.modules.noSearch><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'no_search_results\',{__term__: "\\"" + dataHolder.modules.filter.q + "\\""})}}</div><div class=app-entry-local ng-if="dataHolder.modules.cnt.appsCatFeatured[dataHolder.modules.filter.category] > 0" ng-hide=dataHolder.modules.filter.q><h2 class=app-entry-title>{{_t(\'featured_apps\')}}</h2><div class=clearfix><div class=localapp ng-repeat="v in dataHolder.modules.collection|orderBy:cfg.orderby.appslocal[dataHolder.modules.orderBy] | filter:q  track by v.id" ng-if=v.featured ng-class="{\'widget-danger\': dataHolder.onlineModules.ids[v.id] && dataHolder.onlineModules.ids[v.id].version != v.version}"><div ng-include="\'app/views/apps/apps_local_widget_entry.html\'"></div></div></div></div><div class=app-entry-local><h2 ng-if=!_.isEmpty(dataHolder.modules.filter)>{{dataHolder.modules.categories[dataHolder.modules.filter.category].name|cutText:true:30}}</h2><h2 ng-if=_.isEmpty(dataHolder.modules.filter)>{{_t(\'all_apps\')}}</h2><div class=clearfix><div class=localapp ng-hide="(v.featured && !dataHolder.modules.filter.q) || (v.advanced && !dataHolder.modules.filter.q)" ng-repeat="v in dataHolder.modules.collection|orderBy:cfg.orderby.appslocal[dataHolder.modules.orderBy] | filter:q  track by v.id" ng-class="{\'widget-danger\': dataHolder.onlineModules.ids[v.id] && dataHolder.onlineModules.ids[v.id].version != v.version}"><div ng-include="\'app/views/apps/apps_local_widget_entry.html\'"></div></div></div></div><div class=app-entry-local ng-if="dataHolder.modules.cnt.appsCatAdvanced[dataHolder.modules.filter.category] > 0" ng-hide=dataHolder.modules.filter.q><h2 class="app-entry-title clickable" ng-click="expandElement(\'advanced_apps\')">{{_t(\'advanced_apps\')}} <i class="fas accordion-arrow" ng-class="expand.advanced_apps  ? \'fa-chevron-up\':\'fa-chevron-down\'"></i></h2><div class=clearfix ng-if=expand.advanced_apps><div class=localapp ng-repeat="v in dataHolder.modules.collection|orderBy:cfg.orderby.appslocal[dataHolder.modules.orderBy] | filter:q  track by v.id" ng-if=v.advanced ng-class="{\'widget-danger\': dataHolder.onlineModules.ids[v.id] && dataHolder.onlineModules.ids[v.id].version != v.version}"><div ng-include="\'app/views/apps/apps_local_widget_entry.html\'"></div></div></div></div>'),e.put("app/views/apps/apps_local.html","<div ng-controller=AppBaseController><bb-loader></bb-loader><div ng-controller=AppLocalController id=apps_local><div ng-include=\"'app/views/apps/navi.html'\"></div><div class=app-search bind-class-on-scroll offset={{cfg.scroll_offset}} scroll-class=fix-me-top ng-include=\"'app/views/apps/apps_local_ctrl.html'\"></div><div ng-include=\"'app/views/apps/apps_local_widget.html'\" ng-if=\"!dataHolder.modules.filter['status']\"></div><div ng-include=\"'app/views/apps/apps_local_widget_updated.html'\" ng-if=\"dataHolder.modules.filter['status']\"></div></div></div>"),e.put("app/views/apps/apps_online_ctrl.html",'<div class="page-control form-inline"><form id=form_search class=input-group ng-submit="setFilter({q: dataHolder.onlineModules.autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{dataHolder.onlineModules.filter.q}} class=form-control placeholder="{{_t(\'lb_search\')}}" ng-model=dataHolder.onlineModules.autocomplete.term bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable" ng-click="setFilter({q: dataHolder.onlineModules.autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':dataHolder.onlineModules.autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchOnlineApps><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in dataHolder.onlineModules.autocomplete.results | orderBy:\'toString()\' track by $index"><span class=dropdown-col ng-click="setFilter({q: dataHolder.onlineModules.autocomplete.term})"><img class=report-img-s alt={{v.title}} ng-src="{{v.icon ? cfg.online_module_img_url + v.icon : \'storage/img/placeholder-img.png\'}}"> <span class=aoutocomplete-title>{{v.title|cutText:true:30}}</span>&nbsp; <span ng-if=v.hasInstance><i class="fas fa-fire text-success"></i> ({{v.hasInstance}})</span></span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><a ng-href=#apps/online/{{v.id}}><i class="fas fa-chevron-circle-right"></i></a></span></li></ul></div></form><div class="btn-group btn-goup-block_ btn-goup-2_" ng-hide="routeMatch(\'/apps/online\')"><button class="btn btn-default" ng-click="expandNavi(\'appsCategories\', $event)" ng-class="!_.isEmpty(dataHolder.onlineModules.filter) ? \'active\':\'\' "><i class="fas fa-filter"></i> <span class=btn-name ng-if=dataHolder.onlineModules.filter.category>{{dataHolder.modules.categories[dataHolder.onlineModules.filter.category].name|cutText:true:30}}</span> <span class=btn-name ng-if=dataHolder.onlineModules.filter.featured>{{_t(\'featured_apps\')}}</span> <span class=btn-name ng-if=_.isEmpty(dataHolder.onlineModules.filter)>{{_t(\'all_apps\')}}</span> <span class="btn-name item-cnt">({{dataHolder.onlineModules.cnt.collection}})</span></button> <button class="btn btn-default s-hide" ng-click="expandNavi(\'appsOnlineOrderBy\', $event)"><i class="fas fa-sort-alpha-down"></i> <span class=btn-name>{{_t(dataHolder.onlineModules.orderBy) | cutText:true:15}}</span></button></div></div><div class=page-navi ng-if=naviExpanded.appsCategories><div class=page-navi-in><ul><li class=page-cat-0 ng-class="_.isEmpty(dataHolder.onlineModules.filter) == true ? \'active\': \'\'"><a href="" ng-click=setFilter()><i class="fas fa-check-circle"></i> {{_t(\'all_apps\')}} <span class="btn-name item-cnt">({{dataHolder.onlineModules.cnt.apps}})</span> <span class=page-navi-icon><i class="fas fa-chevron-right"></i></span></a></li><li class=page-cat-{{v.id}} ng-repeat="v in dataHolder.modules.categories" ng-if=dataHolder.onlineModules.cnt.appsCat[v.id] ng-class="dataHolder.onlineModules.filter.category == v.id ? \'active\': \'\'"><a href="" ng-click="setFilter({category: v.id})" ng-switch=v.id><i class="fas {{v.id|getAppCategoryIcon}}"></i> {{v.name|cutText:true:30}} <span class=item-cnt>({{dataHolder.onlineModules.cnt.appsCat[v.id]}})</span> <span class=page-navi-icon><i class="fas fa-chevron-right"></i></span></a></li></ul><div class=page-navi-content><a class="btn btn-default btn-tag" ng-click="hideInstalled((dataHolder.onlineModules.hideInstalled ? false:true))" ng-class="dataHolder.onlineModules.hideInstalled ? \'active\': \'\'"><i class="fas fa-eye-slash"></i> {{_t(\'hide_installed_apps\')}}</a></div></div></div><div class=page-navi ng-if=naviExpanded.appsOnlineOrderBy><div class=page-navi-in><div class=page-navi-content><p class=page-navi-title>{{_t(\'sortby\')}}</p><a class="btn btn-default btn-tag" href="" ng-repeat="(k,v) in cfg.orderby.appsonline" ng-click=setOrderBy(k) ng-class="dataHolder.onlineModules.orderBy == k ? \'active\': \'\'">{{_t(k) | cutText:true:30}}</a></div></div></div>'),e.put("app/views/apps/apps_online_filter_widget.html",'<div class="alert alert-warning" ng-if=dataHolder.onlineModules.noSearch><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'no_search_results\',{__term__: "\\"" + dataHolder.onlineModules.filter.q + "\\""})}}</div><div class=app-entry-online ng-if="_.size(dataHolder.onlineModules.collection) > 0"><div class=app-entry-cat><div class=app-entry-title><h2><a class="btn btn-default btn-sm btn-text" href=#apps/online><i class="fas fa-chevron-left"></i></a> &nbsp; <span ng-if=dataHolder.onlineModules.filter.category>{{dataHolder.modules.categories[dataHolder.onlineModules.filter.category].name|cutText:true:30}}</span> <span ng-if=dataHolder.onlineModules.filter.q>{{dataHolder.onlineModules.filter.q|cutText:true:30}}</span> <span ng-if=_.isEmpty(dataHolder.onlineModules.filter)>{{_t(\'all_apps\')}}</span> <span class=item-cnt>({{dataHolder.onlineModules.cnt.collection}})</span></h2></div></div><div class=clearfix><div class=onlineapp ng-class="{\'widget-warning\': dataHolder.modules.ids[v.modulename],\'widget-danger\': dataHolder.modules.ids[v.modulename] && dataHolder.modules.ids[v.modulename].version != v.version}" ng-if_=!v.featured ng-repeat="v in dataHolder.onlineModules.collection| orderBy: cfg.orderby.appsonline[dataHolder.onlineModules.orderBy] | filter:q track by v.id" ng-hide="v.status !== \'download\' && dataHolder.onlineModules.hideInstalled"><div ng-include="\'app/views/apps/apps_online_widget_entry.html\'"></div></div></div></div>'),e.put("app/views/apps/apps_online_filter.html","<div ng-controller=AppBaseController><bb-loader></bb-loader><div ng-controller=AppOnlineController id=apps_online><div ng-include=\"'app/views/apps/navi.html'\"></div><div class=app-search bind-class-on-scroll offset={{cfg.scroll_offset}} scroll-class=fix-me-top ng-include=\"'app/views/apps/apps_online_ctrl.html'\"></div><div ng-include=\"'app/views/apps/apps_online_filter_widget.html'\"></div></div></div>"),e.put("app/views/apps/apps_online_id_comments.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-comments"></i> {{_t(\'comments\')}} ({{comments.all.length}})</span></button></h2><div class=accordion hidden><p class="text-right clickable"><button type=button class="btn btn-default" title="{{_t(\'add_comment\')}}" ng-click="expandElement(\'appcommentadd\')"><i class="fas fa-plus text-success"></i> <span class=btn-name>{{_t(\'add_comment\')}}</span></button></p><form name=form_comment id=form_profile class="form form-page" ng-if=expand.appcommentadd ng-submit="addComment(form_comment, comments.model)" novalidate><fieldset><div class=form-group_><textarea name=content id=content class="form-control report-content" ng-blur="contentBlur = true" ng-model=comments.model.content ng-required=true></textarea><bb-validator input-name=form_comment.content.$error.required trans=\'_t("field_required")\' has-blur=contentBlur></bb-validator></div><div class="form-group form-inline"><label>{{_t(\'lb_name\')}}:</label> <input name=name id=name class=form-control value={{comments.model.name}} ng-blur="nameBlur = true" ng-model=comments.model.name ng-required=true><bb-validator input-name=form_comment.name.$error.required trans=\'_t("field_required")\' has-blur=nameBlur></bb-validator></div></fieldset><fieldset class=submit-entry><button type=button class="btn btn-default" ng-click="expandElement(\'appcommentadd\')"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" ng-disabled=form_comment.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_submit\')}}</span></button></fieldset></form><div class="form form-inline form-page" ng-if=!expand.appcommentadd><div class=fieldset><bb-help-text trans="_t(\'no_comments\')" ng-if=!comments.show></bb-help-text><div class="comment-entry comment-type-{{v.type}}" ng-repeat="v in comments.all track by v.id" ng-class-odd="\'odd\'" ng-class-even="\'even\'"><div class=comment-header><i class="fas fa-clock"></i> {{v.created_at}} | <i class=fa ng-class="v.type == 1 ? \'fa-user-plus text-success\' : \'fa-user\'"></i> {{v.name}}</div><div class=comment-body>{{v.content}}</div></div></div></div></div>'),e.put("app/views/apps/apps_online_id_info.html",'<div class="form form-inline form-page" ng-if=module><div class="fieldset clearfix"><div class=app-detail-img><img class=app-image-detail ng-src="{{onlineMediaUrl + module.icon}}" ng-if=module.icon alt={{module.title}}> <img class=app-image-detail ng-src=storage/img/placeholder-img.png ng-if=!module.icon alt={{module.title}}></div><div class=app-detail-body><h2 ng-bind=module.title></h2><p class=app-detail-perex ng-bind-html=module.description|toTrusted></p><p class=app-detail-list ng-show=module.category><i class="fas fa-list"></i> <span ng-bind=categoryName></span></p><p class=app-detail-list ng-show=module.author><i class="fas fa-user"></i> <span ng-show=!module.homepage ng-bind=module.author></span> <a ng-href={{module.homepage}} ng-show=module.homepage ng-bind=module.author></a></p><p class=app-detail-list ng-show=module.version><i class="fas fa-info-circle"></i> <span class=app-version ng-bind=module.version></span> <span class=label ng-class="module.maturity == \'stable\' ? \'label-success\' : \'label-warning\'">{{module.maturity}}</span></p><p class=app-detail-list ng-show=module.installed><i class="fas fa-download"></i> {{module.installed}}x</p><p class=app-detail-list ng-show=module.last_updated><i class="fas fa-clock"></i> <span ng-bind=module.last_updated></span></p><div class=app-detail-list ng-if=rating.model.remote_id><p><strong>{{_t(\'rate_app\')}}: </strong><i class="fas clickable module-rating" title={{v}} ng-class="v > module.rating ? \'fa-star\' : \'fa-star israted\'" ng-repeat="v in rating.range" ng-click=rateModule(v)></i></p><p>{{_t(\'app_was_rated\')}}: <strong>{{module.ratingscnt}}</strong>&times;</p><p>{{_t(\'app_average_scored\')}}: <strong>{{module.rating}}</strong></p></div></div></div><div class="fieldset submit-entry"><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button class="btn btn-submit" title="{{_t(\'lb_download\')}}" ng-click=installModule(module) ng-if=!local.installed><i class="fas fa-download"></i> <span class=btn-name>{{_t(\'lb_download\')}}</span></button> <button class="btn btn-default" title="{{_t(\'installed\')}}" disabled ng-if=local.installed><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'installed\')}}</span></button> <a href=#module/post/{{module.modulename}} title="{{_t(\'lb_add_app\')}}" class="btn btn-default" ng-if=local.installed><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'lb_add_app\')"></span></a></div></div>'),e.put("app/views/apps/apps_online_id_patches.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-sticky-note"></i> {{_t(\'patches\')}}</span></button></h2><div class=accordion hidden><div class="form form-inline form-page"><div class=fieldset ng-bind-html=module.patchnotes|toTrusted></div></div></div>'),e.put("app/views/apps/apps_online_id.html","<div ng-controller=AppOnlineDetailController><bb-loader></bb-loader><bb-alert alert=local.alert></bb-alert><div ng-if=!_.isEmpty(module)><section ng-include=\"'app/views/apps/apps_online_id_info.html'\"></section><section ng-if=module.patchnotes ng-include=\"'app/views/apps/apps_online_id_patches.html'\"></section><section ng-include=\"'app/views/apps/apps_online_id_comments.html'\"></section></div></div>"),e.put("app/views/apps/apps_online_slider.html",'<div class=app-online-slider ng-controller=AppOnlineFeaturedController><div class=app-slider ng-hide="dataHolder.onlineModules.cnt.featuredStatus.download == 0 && dataHolder.onlineModules.cnt.featuredStatus.upgrade == 0"><div class="slide slide-animation {{v.status}}" ng-click="redirectToRoute(\'apps/online/\' + v.id)" ng-repeat="v in dataHolder.onlineModules.featured|appSliderSlice:slider.cfg track by $index"><img alt={{v.title}} title={{v.toolTipDescription}} ng-src={{sliderImages[v.modulename]}}><div class=slider-label><h3 title={{v.title}}>{{v.title|cutText:true:35}}</h3><div class=slider-footer><i class="fas widget-rating" title={{r}} ng-class="r > v.rating ? \'fa-star\' : \'fa-star israted\'" ng-repeat="r in _.range(1, 6)"></i> <span class=widget-rating>| <i class="fas fa-download"></i> {{v.installed}}&times;</span><button class="btn btn-default" title="{{_t(\'lb_download\')}}" ng-click="installModule(v, \'online_install\')" ng-show=!dataHolder.modules.ids[v.modulename]><i class="fas fa-download text-success"></i></button> <button class="btn btn-disabled" disabled title="{{_t(\'installed\')}}" ng-show="dataHolder.modules.ids[v.modulename] && dataHolder.modules.ids[v.modulename].version == v.version"><i class="fas fa-check"></i></button> <button href="" class="btn btn-danger" title="{{_t(\'update_to_latest\')}}" ng-click="updateModule(v, _t(\'app_update_confirm\'))" ng-show="dataHolder.modules.ids[v.modulename] && v.status == \'upgrade\' "><i class="fas fa-level-up-alt"></i></button></div></div></div><button class="slider-btn slider-btn-prev" ng-hide="slider.cfg.start == 0" ng-click=prevSlide()></button> <button class="slider-btn slider-btn-next" ng-hide_="slider.cfg.start == cfg.max" ng-click=nextSlide()></button></div></div>'),e.put("app/views/apps/apps_online_widget_entry.html",'<div class="onlineapp-in longpress-{{longPressSent}}" on-long-press=onLongPress(v.id) on-touch-end=onTouchEnd() prevent-click=true><a class=onlineapp-header href=#apps/online/{{v.id}}><img class=onlineapp-img alt={{v.title}} title={{v.toolTipDescription}} ng-src="{{v.icon ? onlineMediaUrl + v.icon : \'storage/img/placeholder-img.png\'}}" ng-click="redirectToRoute(dataHolder.modules.ids[v.modulename] ? false : \'apps/online/\' + v.id)"></a><div class=onlineapp-body><a class=onlineapp-title ng-href=#apps/online/{{v.id}} title={{v.title}}>{{v.title}}</a><div class=onlineapp-footer ng-class="v.id == hasLongPress ? \'has-longpress\' : \'\'" on-long-press=onLongPress() prevent-click=true><div class=rating-group><i class="fas widget-rating" title={{r}} ng-class="r > v.rating ? \'fa-star\' : \'fa-star israted\'" ng-repeat="r in dataHolder.onlineModules.ratingRange"></i> <span class=widget-rating-download><i class="fas fa-download"></i> {{v.installed}}&times;</span></div><div class="btn-group group-apps"><button href="" class="btn btn-default" title="{{_t(\'lb_download\')}}" ng-click="installModule(v, \'online_install\')" ng-if=!dataHolder.modules.ids[v.modulename]><i class="fas fa-download text-success"></i> <span class=btn-name>{{_t(\'lb_download\')}}</span></button> <button class="btn btn-disabled" disabled title="{{_t(\'installed\')}}" ng-if="dataHolder.modules.ids[v.modulename] && dataHolder.modules.ids[v.modulename].version == v.version"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'installed\')}}</span></button> <button href="" class="btn btn-danger" title="{{_t(\'update_to_latest\')}}" ng-click="updateModule(v, _t(\'app_update_confirm\'))" ng-if="dataHolder.modules.ids[v.modulename] && v.status == \'upgrade\' "><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'update_to_latest\')}}</span></button></div></div></div></div>'),e.put("app/views/apps/apps_online_widget.html",'<div class=app-entry-online ng-repeat="c in dataHolder.modules.categories" ng-if=dataHolder.onlineModules.cnt.appsCat[c.id]><div class=app-entry-cat><div><h2><a ng-href=#/apps/online/filter ng-click="setFilter({category: c.id})">{{c.name|cutText:true:30}} <span class=item-cnt>({{dataHolder.onlineModules.cnt.appsCat[c.id]}})</span></a></h2><div>{{c.description}}</div></div><div><a class="btn btn-default btn-text" ng-href=#/apps/online/filter ng-click="setFilter({category: c.id})" ng-if="_.size(c.onlineModules) > 5"><span class=btn-name>{{_t(\'show_more_apps\')}}</span> <i class="fas fa-chevron-right"></i></a></div></div><div class=clearfix><div class=onlineapp ng-class="{\'widget-warning\': dataHolder.modules.ids[v.modulename],\'widget-danger\': dataHolder.modules.ids[v.modulename] && dataHolder.modules.ids[v.modulename].version != v.version}" ng-if="v.category == c.id" ng-repeat="v in c.onlineModules| limitTo: 6 | orderBy: cfg.orderby.appsonline[dataHolder.onlineModules.orderBy] | filter:q track by v.id" ng-hide="v.status !== \'download\' && dataHolder.onlineModules.hideInstalled"><div ng-include="\'app/views/apps/apps_online_widget_entry.html\'"></div></div></div></div>'),e.put("app/views/apps/apps_online.html","<div ng-controller=AppBaseController><bb-loader></bb-loader><div ng-controller=AppOnlineController id=apps_online><div ng-include=\"'app/views/apps/navi.html'\"></div><bb-alert alert=dataHolder.onlineModules.alert></bb-alert><div ng-if=dataHolder.onlineModules.connect.status><div ng-include=\"'app/views/apps/apps_online_slider.html'\"></div><div class=app-search bind-class-on-scroll offset={{cfg.scroll_offset}} scroll-class=fix-me-top ng-include=\"'app/views/apps/apps_online_ctrl.html'\"></div><div ng-include=\"'app/views/apps/apps_online_widget.html'\"></div></div></div></div>"),e.put("app/views/apps/navi.html","<div class=\"tabs-wrap form-inline\"><div class=\"btn-group btn-group-justified btn-goup-tabs\"><a class=\"btn btn-default\" title=\"{{_t('lb_active_apps')}}\" href=#apps/instance ng-class=\"routeMatch('/apps/instance') ? 'active' : ''\"><i class=\"fas fa-fire\"></i> <span class=btn-name>{{_t('lb_active_apps')}}</span> </a><a class=\"btn btn-default\" title=\"{{_t('lb_local_modules')}}\" href=#apps/local ng-class=\"routeMatch('/apps/local') ? 'active' : ''\"><i class=\"fas fa-cloud-download-alt\"></i> <span class=btn-name>{{_t('lb_local_modules')}}</span> </a><a class=\"btn btn-default\" title=\"{{_t('lb_online_modules')}}\" href=#apps/online ng-class=\"routeMatch('/apps/online') ||  routeMatch('/apps/online/filter') ? 'active' : ''\"><i class=\"fas {{dataHolder.onlineModules.connect.icon}}\"></i> <span class=btn-name>{{_t('lb_online_modules')}}</span></a></div></div>"),e.put("app/views/auth/auth_firstaccess.html",'<div ng-controller=AuthFirstAccessController><bb-loader></bb-loader><div class=welcome-screen><h1>{{_t(\'welcome_1\')}} {{authCtrl.remoteId}}</h1></div><div class="alert alert-warning"><i class="fas fa-exclamation-circle"></i> {{_t(\'password_info\')}}</div><form name=form_password id=form_password class="form form-page" novalidate><fieldset><label>{{_t(\'select_language\')}}:</label><div class="btn-group group-login-lang"><button type=button class="btn btn-default" title="{{_t(\'lb_language\')}}" ng-click="expandNavi(\'loginLang\', $event)"><img class=lang-img ng-src=app/img/flags/{{loginLang}}.png alt={{loginLang}}> <i class="fas fa-caret-down"></i></button><div class="app-dropdown dropdown-lang app-dropdown-left" ng-if=naviExpanded.loginLang><ul><li class=clickable ng-repeat="v in cfg.lang_list" ng-click=setLoginLang(v)><img class="form-control-img profile-lang" ng-src=app/img/flags/{{v}}.png alt={{v}} ng-class="v == loginLang ? \'control-active\':\'\'"></li></ul></div></div></fieldset><fieldset><p class=form-control-static><span ng-bind="_t(\'lb_login\')"></span>: <strong ng-bind=cfg.default_credentials.login></strong></p></fieldset><fieldset><label class=isrequired>{{_t(\'lb_new_password\')}}:</label> <input name=password id=password type=password class=form-control ng-model=input.password ng-blur="passwordBlur = true" ng-required=true ng-minlength=6><bb-validator input-name=form_password.password.$error.required trans=\'_t("field_required")\' has-blur=passwordBlur></bb-validator><bb-validator input-name=form_password.password.$error.minlength trans=\'_t("password_valid")\' has-blur=passwordBlur></bb-validator></fieldset><fieldset><label class=isrequired>{{_t(\'confirm_password\')}}:</label> <input name=password_confirm id=password_confirm type=password class=form-control ng-blur="passwordConfirmBlur = true" ng-model=input.passwordConfirm bb-compare-to=password><bb-validator input-name=form_password.password_confirm.$error.compareto trans=\'_t("passwords_must_match")\' has-blur=passwordConfirmBlur></bb-validator></fieldset><fieldset><div class=form-group><label>{{_t(\'lb_email\')}}:</label> <input name=email id=email type=email class=form-control ng-model=input.email ng-blur="emailBlur = true"><bb-validator input-name=form_password.email.$error.required trans=\'_t("field_required")\' has-blur=emailBlur></bb-validator><bb-validator input-name=form_password.email.$error.email trans=\'_t("email_invalid")\' has-blur=emailBlur></bb-validator></div><bb-help-text trans="_t(\'password_email_info\')"></bb-help-text></fieldset><fieldset ng-if="(cfg.app_type === \'zme_hub\' || cfg.app_type === \'jb\') && handleTimezone.show"><div class=form-group><label>{{_t(\'timezone_select\')}}</label> <select class=form-control ng-model=handleTimezone.instance.params.timezone ng-change="handleTimezone.changed = true"><option value={{v}} ng-repeat="v in managementTimezone.enums track by $index" ng-selected="v === handleTimezone.instance.params.timezone">{{managementTimezone.labels[$index]}}</option></select><bb-help-text trans="_t(\'timezone_info\')"></bb-help-text></div><div class=form-group><div><input type=checkbox name=wan_port_access id=wan_port_access value=true ng-model=handleTimezone.instance.params.wan_port_access ng-checked=handleTimezone.instance.params.wan_port_access ng-change="handleTimezone.changed = true"> <label for=wan_port_access ng-bind="_t(\'local_access_activate\')"></label><bb-help-text trans="_t(\'timezone_info\')"></bb-help-text></div></div></fieldset><fieldset ng-if=checkBoxHolder.length ng-repeat="instance in checkBoxHolder track by $index"><div class=form-group><label ng-class="{disabled: instance.moduleId === \'CloudBackup\' && !input.email}"><input type=checkbox ng-model=instance.active ng-disabled="instance.moduleId === \'CloudBackup\' && !input.email"> {{_t(instance.moduleId)}}</label></div></fieldset><fieldset class=submit-entry><div class="btn btn-submit" title="{{_t(\'lb_enter\')}}" ng-disabled=form_password.$invalid ng-click=updateFirstAccess(handleTimezone.instance)><i class="fas fa-check"></i> <span ng-bind="_t(\'lb_submit\')"></span></div></fieldset></form></div>'),e.put("app/views/auth/auth_login.html",'<div ng-controller=AuthLoginController><bb-loader></bb-loader><div class=welcome-screen ng-if="cfg.route.os != \'ZWayMobileAppiOS\' && cfg.route.os != \'ZWayMobileAppAndroid\'"><h1>{{_t(\'welcome_1\')}} {{authCtrl.remoteId}}</h1></div><form name=form_login id=form_login class="form form-page" ng-submit=login(input) novalidate ng-if="cfg.route.os != \'ZWayMobileAppiOS\' && cfg.route.os != \'ZWayMobileAppAndroid\'"><fieldset><div class=form-group><input name=login id=login class=form-control placeholder="{{_t(\'lb_login\')}}" value={{input.login}} ng-model=input.login autocapitalize=off></div><div class=form-group><input name=password id=password type=password class=form-control placeholder="{{_t(\'lb_password\')}}" ng-model=input.password></div><div class=form-group><a href=#passwordforgot><i class="fas fa-question-circle text-primary"></i> {{_t(\'password_forgot\')}}</a></div><div class=form-group>{{_t(\'local_ip_address\')}}: {{authCtrl.ipAddress}}</div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'lb_enter\')}}"><i class="fas fa-sign-in-alt"></i> {{_t(\'lb_enter\')}}</button></fieldset></form><a ng-href={{cfg.android_html_dir}} style="text-decoration: none" ng-if="cfg.route.os == \'ZWayMobileAppAndroid\'"><div class="btn btn-submit"><i class="fas fa-chevron-left subnavi-arrow"></i> <i class="fab fa-android fa-fw"></i> <span>{{_t(\'my_hubs\')}}</span></div></a><a ng-href={{cfg.ios_html_dir}} style="text-decoration: none" ng-if="cfg.route.os == \'ZWayMobileAppiOS\'"><div class="btn btn-submit"><i class="fas fa-chevron-left subnavi-arrow"></i> <i class="fab fa-apple fa-fw"></i> <span>{{_t(\'my_hubs\')}}</span></div></a></div>'),e.put("app/views/auth/auth.html","<div ng-if=!authCtrl.processed ng-controller=AuthController><div ng-if=!authCtrl.firstaccess ng-include=\"'app/views/auth/auth_login.html'\"></div><div ng-if=authCtrl.firstaccess ng-include=\"'app/views/auth/auth_firstaccess.html'\"></div></div>"),e.put("app/views/auth/oauth2.html",'<div ng-controller=ManagementUserOauthController><bb-loader></bb-loader><div ng-if="show == true"><h2><span ng-bind="_t(\'lb_user\')"></span>: <span ng-show="input.id > 0">(#{{input.id}})</span> <span ng-bind=input.name></span></h2><form name=form_profile id=form_profile class="form form-page" ng-submit=store(form_profile,input) novalidate><fieldset><h3>{{_t(\'lb_allow_rooms\')}}</h3><div ng-if="input.role === 1"><p>{{_t(\'lb_allow_access_to_all_rooms\')}}</p></div><div ng-if="input.role !== 1"><div ng-if=!rooms.length><p>{{_t(\'no_rooms\')}}</p></div><div ng-if=rooms.length><div class="device-available-block assigned"><a href="" class="btn btn-default btn-tag" ng-repeat="d in rooms" ng-if="input.rooms.indexOf(d.id) > -1" ng-click=removeRoom(d.id)>{{d.title|cutText:true:20}} <i class="fas fa-times text-danger"></i></a></div><h3>{{_t(\'lb_available_rooms\')}}</h3><div class=device-available-block><a href="" class="btn btn-default btn-tag" ng-repeat="d in rooms" ng-if="input.rooms.indexOf(d.id) === -1" ng-click=assignRoom(d.id)>{{d.title|cutText:true:20}} <i class="fas fa-plus text-success"></i></a></div></div></div></fieldset><fieldset><h3>{{_t(\'lb_allow_devices\')}}</h3><div ng-if="input.role === 1"><p>{{_t(\'lb_allow_access_to_all_devices\')}}</p></div><div ng-if="input.role !== 1"><div ng-if=!devices.length><p>{{_t(\'no_devices\')}}</p></div><div ng-if=devices.length><div class="device-available-block assigned"><a href="" class="btn btn-default btn-tag" ng-repeat="d in devices" ng-if="input.devices.indexOf(d.id) > -1" ng-click=removeDevice(d.id)>{{d.metrics.title|cutText:true:20}} <i class="fas fa-times text-danger"></i></a></div><h3>{{_t(\'lb_available_devices\')}}</h3><div class=device-available-block><a href="" class="btn btn-default btn-tag" ng-repeat="d in devices" ng-if="input.devices.indexOf(d.id) === -1 && !d.permanently_hidden && d.visibility" ng-click=assignDevice(d.id)>{{d.metrics.title|cutText:true:20}} <i class="fas fa-plus text-success"></i></a></div></div></div></fieldset><fieldset class=submit-entry><button type=button class="btn btn-default"><a ng-href={{callback_url}}><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></a></button> <button type=submit class="btn btn-submit" ng-disabled=form_profile.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div><div ng-if="show == false"><fieldset><div class="fieldset ng-binding"><p ng-bind-html="_t(\'oauth_new_user_created\') | toTrusted"></p></div></fieldset><fieldset> <button type=button class="btn btn-submit" ng-click=redirToClient()><i class="fas fa-check"></i> <span class=btn-name>OK</span></button></fieldset></div></div>'),e.put("app/views/auth/password_forgot.html",'<div ng-controller=PasswordForgotController class=mobile-padding><bb-loader></bb-loader><bb-alert alert=passwordForgot.alert></bb-alert><form name=form_password id=form_password class="form form-page" ng-submit="sendEmail(form_password, passwordForgot)" novalidate ng-hide="passwordForgot.alert.status == \'alert-success\'"><fieldset><h3>{{_t(\'password_forgot_info\')}}</h3><div class=form-group><label class=isrequired>{{_t(\'lb_email\')}}:</label> <input name=email id=email type=email class=form-control ng-model=passwordForgot.input.email ng-blur="emailBlur = true" ng-required=true><bb-validator input-name=form_password.email.$error.required trans=\'_t("field_required")\' has-blur=emailBlur></bb-validator><bb-validator input-name=form_password.email.$error.email trans=\'_t("email_invalid")\' has-blur=emailBlur></bb-validator></div><bb-help-text trans="_t(\'works_with_internet\')"></bb-help-text></fieldset><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_submit\')}}" ng-disabled=form_password.$invalid><i class="fas fa-check"></i> <span class=btn-name ng-bind="_t(\'lb_submit\')"></span></button></fieldset></form></div>'),e.put("app/views/auth/password_reset.html",'<div ng-controller=PasswordResetController class=mobile-padding><bb-loader></bb-loader><bb-alert alert=passwordReset.alert></bb-alert><form name=form_password id=form_password class="form form-page" ng-submit=changePassword(form_password) novalidate ng-if="passwordReset.input.userId !== null"><fieldset><h3><i class="fas fa-chevron-down"></i> {{_t(\'password_reset\')}}</h3><div class=form-group><label class=isrequired>{{_t(\'lb_new_password\')}}:</label> <input name=password id=password type=password class=form-control ng-model=passwordReset.input.password ng-blur="passwordBlur = true" ng-required=true ng-minlength=6><bb-validator input-name=form_password.password.$error.required trans=\'_t("field_required")\' has-blur=passwordBlur></bb-validator><bb-validator input-name=form_password.password.$error.minlength trans=\'_t("password_valid")\' has-blur=passwordBlur></bb-validator></div><div class=form-group><label class=isrequired>{{_t(\'confirm_password\')}}:</label> <input name=password_confirm id=password_confirm type=password class=form-control ng-blur="passwordConfirmBlur = true" ng-model=passwordReset.input.passwordConfirm bb-compare-to=password><bb-validator input-name=form_password.password_confirm.$error.compareto trans=\'_t("passwords_must_match")\' has-blur=passwordConfirmBlur></bb-validator></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'lb_submit\')}}" ng-disabled=form_password.$invalid><i class="fas fa-check"></i> <span ng-bind="_t(\'lb_submit\')"></span></button></fieldset></form></div>'),e.put("app/views/automation/automations.html",'<div ng-controller=AutomationsController><bb-loader></bb-loader><div class="automations flexgallery"><div ng-repeat="v in automations.modules track by $index"><figure><a title={{v.title}} href={{v.href}}><img ng-src={{v.image}} alt=img></a><figcaption><a href={{v.href}}><span class=title>{{v.title}}</span></a></figcaption></figure></div></div></div>'),e.put("app/views/automation/hazard/fire/fire_devices_assigned.html",'<section class=accordion-wrap ng-repeat="v in hazardProtection.fire.input.params.triggerEvent track by $index"><h2 class="accordion-toggle ellipsis"><span class="no-toggle text-danger" ng-if=!hazardProtection.availableDevices[v.deviceId]><i class="fas fa-exclamation-circle"></i> {{_t(\'device_removed\')}}&nbsp;({{v.deviceId}}) </span><button type=button aria-expanded=false bb-accordion ng-if="v.deviceType!=\'toggleButton\'" ng-hide=!hazardProtection.availableDevices[v.deviceId]><span><img class=navi-img ng-src={{hazardProtection.availableDevices[v.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{hazardProtection.availableDevices[v.deviceId].deviceName}}&nbsp; <span ng-if="v.deviceType==\'switchRGBW\' && _.isObject(v.level)" class=color-picker-show style="background-color: {{v.level|setRgbColors}};">&nbsp;</span> <span ng-if="v.deviceType!=\'switchRGBW\' || !_.isObject(v.level)"><em>[{{_t(v.level)}}<em ng-if="v.level == \'lvl\'">&nbsp;{{v.exact}}</em>]</em></span> &nbsp;-&nbsp;<em>{{hazardProtection.availableDevices[v.deviceId].locationName}}</em></span></button> <span class=no-toggle ng-if="v.deviceType==\'toggleButton\'" ng-hide=!hazardProtection.availableDevices[v.deviceId]><span><img class=navi-img ng-src={{hazardProtection.availableDevices[v.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{hazardProtection.availableDevices[v.deviceId].deviceName}}&nbsp;-&nbsp; <em>{{hazardProtection.availableDevices[v.deviceId].locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice($index,v.deviceId,\'fire\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-if="v.deviceType!=\'toggleButton\'" hidden ng-include="\'app/views/automation/hazard/inputs/\'+v.deviceType+\'.html\'"></div></section>'),e.put("app/views/automation/hazard/fire/fire_devices_available.html",'<section class=accordion-wrap ng-repeat="r in hazardProtection.rooms track by $index" ng-class="hazardProtection.devicesInRoom[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in hazardProtection.availableDevices" ng-if="d.location == r.id &&  hazardProtection.fire.assignedDevices.indexOf(d.deviceId) === -1" ng-click="assignDevice(d, \'fire\')"><img class=navi-img ng-src={{hazardProtection.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section>'),e.put("app/views/automation/hazard/fire/fire_notifiers_add.html","<div class=form-group_><button type=button class=\"btn btn-default btn-tag\" title=\"{{_t('add_notification')}}\" ng-click=\"assignNotification(hazardProtection.cfg.notification.default, 'fire')\">{{_t('add_notification')}} <i class=\"fas fa-plus text-success\"></i></button></div><div class=form-inline><label for=interval>{{_t('if_alarm_triggered')}}</label> <select class=form-control ng-model=hazardProtection.fire.input.params.notificationsInterval><option value=0>--- {{_t('never')}} ---</option><option value={{i}} ng-repeat=\"i in hazardProtection.interval track by $index\" ng-selected=\"i == hazardProtection.fire.input.params.notificationsInterval\">{{_t('interval_' + i)}}</option></select></div>"),e.put("app/views/automation/hazard/fire/fire_notifiers_assigned.html",'<div class=panel-wrap><div class=list-panel ng-repeat="d in hazardProtection.fire.input.params.sendNotifications track by $index"><figure class="img wh-32x32 clickable" ng-click="expandElement(\'hazardProtection_fire_\' + $index)"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'hazardProtection_fire_\' + $index)"><div>{{_t(\'notification\')}} {{$index+1}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{expand[\'hazardProtection_fire_\' + $index]||false}}" ng-click="expandElement(\'hazardProtection_fire_\' + $index)"></button> <button type=button class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignNotification($index,d.target, \'fire\')"><i class="fas fa-times text-danger"></i></button></div><div class=control-collapsable ng-class="expand[\'hazardProtection_fire_\' + $index] ? \'expand-true\': \'expand-false\'"><div ng-include="\'app/views/automation/hazard/inputs/notification.html\'"></div></div></div></div>'),e.put("app/views/automation/hazard/fire/fire_sensors_assigned.html",'<a href="" class="btn btn-default btn-tag" title={{d.deviceName}} ng-repeat="d in hazardProtection.availableSensors" ng-if="hazardProtection.fire.input.params.sensors.indexOf(d.deviceId) > -1 && hazardProtection.fire.sensors.indexOf(d.probeType) !== -1" ng-click="unassignSensor(d.deviceId, \'fire\')"><i class="fas fa-fire text-danger s-hide" ng-if="hazardProtection.fire.sensors.indexOf(d.probeType) !== -1"></i> &nbsp {{d.deviceName|cutText:true:20}} <i class="fas fa-times text-danger" title="{{_t(\'btn_remove\')}}"></i></a>'),e.put("app/views/automation/hazard/fire/fire_sensors_available.html",'<a href="" class="btn btn-default btn-tag" title={{d.deviceName}} ng-repeat="d in hazardProtection.availableSensors" ng-if="hazardProtection.fire.input.params.sensors.indexOf(d.deviceId) === -1 && hazardProtection.fire.sensors.indexOf(d.probeType) !== -1" ng-click="assignSensor(d.deviceId, \'fire\')"><i class="fas fa-fire text-danger s-hide" ng-if="hazardProtection.fire.sensors.indexOf(d.probeType) !== -1"></i> &nbsp {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a>'),e.put("app/views/automation/hazard/fire/fire.html","<section><h3>{{_t('fire_sensors')}}</h3><div ng-if=\"_.size(hazardProtection.fire.input.params.sensors) > 0\"><legend>{{_t('assigned_fire_sensors')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/hazard/fire/fire_sensors_assigned.html'\"></fieldset></div><legend>{{_t('lb_available_sensors')}}</legend><fieldset ng-include=\"'app/views/automation/hazard/fire/fire_sensors_available.html'\"></fieldset></section><section><h3>{{_t('alarm_notifications')}}</h3><div ng-if=\"_.size(hazardProtection.fire.input.params.sendNotifications) > 0\"><fieldset data-collapse-all=true ng-include=\"'app/views/automation/hazard/fire/fire_notifiers_assigned.html'\"></fieldset></div><fieldset ng-include=\"'app/views/automation/hazard/fire/fire_notifiers_add.html'\"></fieldset></section><section><h3>{{_t('devices_for_action')}}</h3><div ng-if=_.size(hazardProtection.fire.input.params.triggerEvent)><legend>{{_t('assigned_devices')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/hazard/fire/fire_devices_assigned.html'\"></fieldset></div><div ng-if=_.size(hazardProtection.fire.input.params.sensors)><legend>{{_t('lb_available_devices')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/hazard/fire/fire_devices_available.html'\"></fieldset></div><h3>{{_t('activate_module',{__module__:_t('fire_sensors')})}}</h3><fieldset><label class=switch><input type=checkbox ng-model=hazardProtection.fire.input.active ng-checked=hazardProtection.fire.input.active ng-disabled=\"_.size(hazardProtection.fire.input.params.sensors) < 1\"> <span class=slider></span></label> <span class=switch-label>{{hazardProtection.fire.input.active ? _t('lb_active'): _t('activeASC')}}</span></fieldset></section>"),e.put("app/views/automation/hazard/hazard_old.html",'<div ng-controller=HazardNotificationController><section class=page-topbar><h1>{{_t(\'hazard_notification\')}}</h1><div class=btn-group><a ng-href=#automations class="btn btn-default" title="{{_t(\'lb_cancel\')}}"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span> </a><a class="btn btn-default" href=#hazard/0><i class="fas fa-plus text-success"></i> <span class=btn-name>{{_t(\'add_new\')}}</span></a></div></section><div class=list-panel ng-repeat="v in hazardProtections.all track by $index" ng-class="{\'bcg-danger\':!v.active}"><figure class="img wh-32x32 clickable" ng-click="activateScene(v, v.active ? false : true)"><img ng-src="{{cfg.img.icons + \'flood-off.png\'}}" err-src={{cfg.img.placeholder}} ng-if="v.params.hazardType !== \'\' && v.params.hazardType == \'leakage\'" alt=img> <img ng-src="{{cfg.img.icons + \'smoke-off.png\'}}" err-src={{cfg.img.placeholder}} ng-if="v.params.hazardType !== \'\' && v.params.hazardType == \'fire\'" alt=img> <img ng-src={{cfg.img.placeholder}} err-src={{cfg.img.placeholder}} ng-if="v.params.hazardType == \'\'" alt=img></figure><div class=body><div><a href=#hazard/{{v.id}}>{{v.title}}</a><div class=label-wrap><span class="label label-info" title="{{_t(\'day_\' + d)}}" ng-repeat="d in v.params.weekdays">{{_t(\'day_short_\' + d)}}</span></div></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'autoDropdown_\' + $index, $event)"></button></div><div class=control ng-class="naviExpanded[\'autoDropdown_\' + $index] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a ng-href=#hazard/{{v.id}} class="btn btn-default" title="{{_t(\'lb_update\')}}"><i class="fas fa-pencil-alt text-primary"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateInstance(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-stop text-danger\' : \'fa-play text-success\'"></i></button> <button class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-click=cloneInstance(v) ng-disabled=!v.active><i class="fas fa-clone"></i></button> <button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div></div>'),e.put("app/views/automation/hazard/hazard.html","<div ng-controller=HazardNotificationController><h2>{{_t('hazard_notification')}}</h2></div>"),e.put("app/views/automation/hazard/id_form.html","<div class=\"form-group form-inline\"><label>{{_t('lb_name')}}</label> <input name=title id=title class=form-control ng-model=hazardProtection.input.title></div>"),e.put("app/views/automation/hazard/id.html",'<div class=automation ng-controller=HazardNotificationIdController><bb-loader></bb-loader><h2>{{_t(\'hazard_notification\')}}</h2><bb-alert alert=hazardProtection.alert></bb-alert><div class="tabs-wrap form-inline"><div class="btn-group btn-group-justified btn-goup-tabs" ng-if=!rule.input.params.advanced.active><a class="btn btn-default" title="{{_t(\'fire\')}}" ng-class="{\'active\':hazardProtection.tab == \'fire\'}" ng-click="hazardProtection.tab = \'fire\'">{{_t(\'title_fire_notification\')}} </a><a class="btn btn-default" title="{{_t(\'leakages\')}}" ng-class="{\'active\':hazardProtection.tab == \'leakage\'}" ng-click="hazardProtection.tab = \'leakage\'">{{_t(\'title_leakage_notification\')}}</a></div></div><form class="form form-page" id=hazard ng-submit="storeInstances(hazardProtection.fire.input, hazardProtection.leakage.input,true)"><div class=fieldset><section ng-if="hazardProtection.tab == \'fire\'" ng-include="\'app/views/automation/hazard/fire/fire.html\'"></section><section ng-if="hazardProtection.tab == \'leakage\'" ng-include="\'app/views/automation/hazard/leakage/leakage.html\'"></section></div><div class="fieldset submit-entry"><span><a ng-href=#automations class="btn btn-default" title="{{_t(\'lb_cancel\')}}"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span> </a><button type=submit title="{{_t(\'lb_save\')}}" class="btn btn-submit" ng-disabled=!hazardProtection.sensorsAvailable><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></span></div></form></div>'),e.put("app/views/automation/hazard/inputs/notification.html",'<div class="form-group form-inline"><select class=form-control ng-model=d.target ng-required=true><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == d.target">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group ng-if="d.target != \'\' || d.target_custom != \'\'"><textarea name=message id=content class="form-control report-content" ng-model=d.message placeholder="{{_t(\'message\')}}"></textarea></div><div class="form-group form-inline" ng-if="d.target != \'\'"><label>{{_t(\'notification_is_fired\')}}</label> <select class=form-control ng-model=d.firedOn><option value={{f}} ng-repeat="f in hazardProtection.firedOn track by $index" ng-selected="f == d.firedOn">{{_t(\'fired_\' + f)}}</option></select></div>'),e.put("app/views/automation/hazard/inputs/switchBinary.html","<div class=form-group><label class=switch><input type=checkbox ng-model=v.level ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label>{{v.level}}</span></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/hazard/inputs/switchMultilevel.html",'<div class="form-group form-inline"><select class=form-control ng-model=v.level><option value={{o}} ng-repeat="o in hazardProtection.cfg.switchMultilevel.level track by $index" ng-selected="o == v.level">{{_t(o)}}</option></select> <input type=number class="form-control input-number" min={{hazardProtection.cfg.switchMultilevel.min}} max={{hazardProtection.cfg.switchMultilevel.max}} ng-model=v.exact ng-if="v.level == \'lvl\'"></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/hazard/inputs/switchRGBW.html",'<div class="form-group form-inline"><select class=form-control ng-model=v.level ng-change="v.level = (v.level == \'rgb\' ? {r:0,g:0,b:0} : v.level)"><option value={{o}} ng-repeat="o in hazardProtection.cfg.switchRGBW.level track by $index" ng-selected="o == v.level">{{o}}</option><option value=rgb ng-selected=_.isObject(v.level)>{{_t(\'colors\')}}</option></select> <span class=form-inline ng-hide="v.level.indexOf(v.level) > -1"><label>{{_t(\'red\')}} <input type=number class="form-control input-number" min={{hazardProtection.cfg.switchRGBW.min}} max={{hazardProtection.cfg.switchRGBW.max}} ng-model=v.level.r></label> <label>{{_t(\'green\')}} <input type=number class="form-control input-number" min={{hazardProtection.cfg.switchRGBW.min}} max={{hazardProtection.cfg.switchRGBW.max}} ng-model=v.level.g></label> <label>{{_t(\'blue\')}} <input type=number class="form-control input-number" min={{hazardProtection.cfg.switchRGBW.min}} max={{hazardProtection.cfg.switchRGBW.max}} ng-model=v.level.b></label><bb-help-text trans="_t(\'help_rgbw_value\')"></bb-help-text></span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/hazard/leakage/leakage_devices_assigned.html",'<section class=accordion-wrap ng-repeat="v in hazardProtection.leakage.input.params.triggerEvent track by $index"><h2 class="accordion-toggle ellipsis"><span class="no-toggle text-danger" ng-if=!hazardProtection.availableDevices[v.deviceId]><i class="fas fa-exclamation-circle"></i> {{_t(\'device_removed\')}}&nbsp;({{v.deviceId}}) </span><button type=button aria-expanded=false bb-accordion ng-if="v.deviceType!=\'toggleButton\'" ng-hide=!hazardProtection.availableDevices[v.deviceId]><span><img class=navi-img ng-src={{hazardProtection.availableDevices[v.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{hazardProtection.availableDevices[v.deviceId].deviceName}}&nbsp; <span ng-if="v.deviceType==\'switchRGBW\' && _.isObject(v.level)" class=color-picker-show style="background-color: {{v.level|setRgbColors}};">&nbsp;</span> <span ng-if="v.deviceType!=\'switchRGBW\' || !_.isObject(v.level)"><em>[{{_t(v.level)}}<em ng-if="v.level == \'lvl\'">&nbsp;{{v.exact}}</em>]</em></span> &nbsp;-&nbsp;<em>{{hazardProtection.availableDevices[v.deviceId].locationName}}</em></span></button> <span class=no-toggle ng-if="v.deviceType==\'toggleButton\'" ng-hide=!hazardProtection.availableDevices[v.deviceId]><span><img class=navi-img ng-src={{hazardProtection.availableDevices[v.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{hazardProtection.availableDevices[v.deviceId].deviceName}}&nbsp;-&nbsp; <em>{{hazardProtection.availableDevices[v.deviceId].locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice($index,v.deviceId,\'leakage\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-if="v.deviceType!=\'toggleButton\'" hidden ng-include="\'app/views/automation/hazard/inputs/\'+v.deviceType+\'.html\'"></div></section>'),e.put("app/views/automation/hazard/leakage/leakage_devices_available.html",'<section class=accordion-wrap ng-repeat="r in hazardProtection.rooms track by $index" ng-class="hazardProtection.devicesInRoom[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in hazardProtection.availableDevices" ng-if="d.location == r.id &&  hazardProtection.leakage.assignedDevices.indexOf(d.deviceId) === -1" ng-click="assignDevice(d, \'leakage\')"><img class=navi-img ng-src={{hazardProtection.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section>'),e.put("app/views/automation/hazard/leakage/leakage_notifiers_add.html","<div class=form-group_><button type=button class=\"btn btn-default btn-tag\" title=\"{{_t('add_notification')}}\" ng-click=\"assignNotification(hazardProtection.cfg.notification.default, 'leakage')\">{{_t('add_notification')}} <i class=\"fas fa-plus text-success\"></i></button></div><div class=form-inline><label for=interval>{{_t('if_alarm_triggered')}}</label> <select class=form-control ng-model=hazardProtection.leakage.input.params.notificationsInterval><option value=0>--- {{_t('never')}} ---</option><option value={{i}} ng-repeat=\"i in hazardProtection.interval track by $index\" ng-selected=\"i == hazardProtection.leakage.input.params.notificationsInterval\">{{_t('interval_' + i)}}</option></select></div>"),e.put("app/views/automation/hazard/leakage/leakage_notifiers_assigned.html",'<div class=panel-wrap><div class=list-panel ng-repeat="d in hazardProtection.leakage.input.params.sendNotifications track by $index" ng-init="notifyTitleModel = d.target"><figure class="img wh-32x32 clickable" ng-click="expandElement(\'hazardProtection_leakage_\' + $index)"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'hazardProtection_leakage_\' + $index)"><div>{{_t(\'notification\')}} {{$index+1}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{expand[\'hazardProtection_leakage_\' + $index]||false}}" ng-click="expandElement(\'hazardProtection_leakage_\' + $index)"></button> <button type=button class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignNotification($index,d.target, \'leakage\')"><i class="fas fa-times text-danger"></i></button></div><div class=control-collapsable ng-class="expand[\'hazardProtection_leakage_\' + $index] ? \'expand-true\': \'expand-false\'"><div ng-include="\'app/views/automation/hazard/inputs/notification.html\'"></div></div></div></div>'),e.put("app/views/automation/hazard/leakage/leakage_sensors_assigned.html",'<a href="" class="btn btn-default btn-tag" title={{d.deviceName}} ng-repeat="d in hazardProtection.availableSensors" ng-if="hazardProtection.leakage.input.params.sensors.indexOf(d.deviceId) > -1 && hazardProtection.leakage.sensors.indexOf(d.probeType) !== -1" ng-click="unassignSensor(d.deviceId, \'leakage\')"><i class="fas fa-tint text-primary s-hide" ng-if="hazardProtection.leakage.sensors.indexOf(d.probeType) !== -1"></i> &nbsp {{d.deviceName|cutText:true:20}} <i class="fas fa-times text-danger" title="{{_t(\'btn_remove\')}}"></i></a>'),e.put("app/views/automation/hazard/leakage/leakage_sensors_available.html",'<a href="" class="btn btn-default btn-tag" title={{d.deviceName}} ng-repeat="d in hazardProtection.availableSensors" ng-if="hazardProtection.leakage.input.params.sensors.indexOf(d.deviceId) === -1 && hazardProtection.leakage.sensors.indexOf(d.probeType) !== -1" ng-click="assignSensor(d.deviceId, \'leakage\')"><i class="fas fa-tint text-primary s-hide" ng-if="hazardProtection.leakage.sensors.indexOf(d.probeType) !== -1"></i> &nbsp {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a>'),e.put("app/views/automation/hazard/leakage/leakage.html","<section><h3>{{_t('leakage_sensors')}}</h3><div ng-if=\"_.size(hazardProtection.leakage.input.params.sensors) > 0\"><legend>{{_t('assigned_leakage_sensors')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/hazard/leakage/leakage_sensors_assigned.html'\"></fieldset></div><legend>{{_t('lb_available_sensors')}}</legend><fieldset ng-include=\"'app/views/automation/hazard/leakage/leakage_sensors_available.html'\"></fieldset></section><section><h3>{{_t('alarm_notifications')}}</h3><div ng-if=\"_.size(hazardProtection.leakage.input.params.sendNotifications) > 0\"><fieldset data-collapse-all=true ng-include=\"'app/views/automation/hazard/leakage/leakage_notifiers_assigned.html'\"></fieldset></div><fieldset ng-include=\"'app/views/automation/hazard/leakage/leakage_notifiers_add.html'\"></fieldset></section><section><h3>{{_t('devices_for_action')}}</h3><div ng-if=_.size(hazardProtection.leakage.input.params.triggerEvent)><legend>{{_t('assigned_devices')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/hazard/leakage/leakage_devices_assigned.html'\"></fieldset></div><div ng-if=_.size(hazardProtection.leakage.input.params.sensors)><legend>{{_t('lb_available_devices')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/hazard/leakage/leakage_devices_available.html'\"></fieldset></div><h3>{{_t('activate_module',{__module__:_t('leakage_sensors')})}}</h3><fieldset><label class=switch><input type=checkbox ng-model=hazardProtection.leakage.input.active ng-checked=hazardProtection.leakage.input.active ng-disabled=\"_.size(hazardProtection.leakage.input.params.sensors) < 1\"> <span class=slider></span></label> <span class=switch-label>{{hazardProtection.leakage.input.active ? _t('lb_active'): _t('activeASC')}}</span></fieldset></section>"),e.put("app/views/automation/heating/heating_id_temperatrue_modal.html",'<div id=temperatureModal class=appmodal ng-if=modalArr.temperatureModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'temperatureModal\', $event)"><i class="fas fa-times"></i></span><h3>{{heating.tempModal.title}}</h3></div><div class="appmodal-body text-center"><div class="app-row app-row-knob clearfix"><div class="knob-col knob-ctrl"><input value={{heating.tempModal.temp.value}} class="dial widget-level-knob" data-width=160 data-height=160 knob-step=heating.tempModal.temp.step knob-min=heating.tempModal.temp.min knob-max=heating.tempModal.temp.max knob-id=heating.tempModal.scheduleId knob-data=heating.tempModal.temp.value knob-options=knobopt ng-model=heating.tempModal.temp.value myknob></div><div class="knob-col knob-btn"><p><button type=button class="btn btn-primary" ng-click="setTemp(heating.tempModal.temp, \'+\')"><i class="fas fa-angle-up"></i></button>&nbsp; <button class="btn btn-info" type=button ng-click="setTemp(heating.tempModal.temp, heating.tempModal.temp.max)"><i class="fas fa-angle-double-up"></i></button></p><p><button class="btn btn-primary" type=button ng-click="setTemp(heating.tempModal.temp, \'-\')"><i class="fas fa-angle-down"></i></button>&nbsp; <button class="btn btn-info" type=button ng-click="setTemp(heating.tempModal.temp, heating.tempModal.temp.min)"><i class="fas fa-angle-double-down"></i></button></p><p><button class="btn btn-info" type=button ng-click="setTemp(heating.tempModal.temp, heating.tempModal.temp.max)" ng-bind="_t(\'lb_full\')"></button></p></div></div><div ng-if_=""><button class="btn btn-default" type=button ng-click="deleteBar(heating.tempModal, $event)"><i class="fas fa-trash text-danger"></i> {{_t(\'delete\')}}</button></div></div></div></div>'),e.put("app/views/automation/heating/heating_id.html",'<div ng-controller=HeatingIdController><bb-loader></bb-loader><h2>{{_t(\'heating\')}}</h2><bb-alert alert=heating.alert></bb-alert><form class="form form-page" ng-submit=storeInstance(true)><fieldset><div style="display: flex"><div class="btn btn-default" ng-click=changeView() style="margin-left: auto">{{mobileView ? _t(\'browser_version\'):_t(\'mobile_version\')}}</div></div><section class=accordion-wrap ng-repeat="r in heating.rooms track by $index"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion data-id={{r.id}} ng-click="mobileView ? \'\' : renderSchedule(\'#schedule-\'+ r.id, r.id)"><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><fieldset><div class=app-row><div class="form-inline is-inline alpaca-array-actionbar"><i class="fas fa-sun"></i> <label>{{_t(\'comfort_temp\')}}</label> <select class=form-control ng-model=heating.input.params.roomSettings[r.id].comfortTemp convert-to-float><option value="">---</option><option value={{ct}} ng-repeat="ct in heating.cfg.comfort.temp.temp track by $index" ng-selected="ct == heating.input.params.roomSettings[r.id].comfortTemp">{{heating.cfg.comfort.temp.label[$index]}}</option></select></div><div class="form-inline is-inline alpaca-array-actionbar"><i class="fas fa-moon"></i> <label>{{_t(\'energy_save_temp\')}}</label> <select class=form-control ng-model=heating.input.params.roomSettings[r.id].energySaveTemp convert-to-float><option value="">---</option><option value={{est}} ng-repeat="est in heating.cfg.energySave.temp.temp track by $index" ng-selected="est == heating.input.params.roomSettings[r.id].energySaveTemp">{{heating.cfg.energySave.temp.label[$index]}}</option></select></div><div class="form-inline is-inline alpaca-array-actionbar"><i class="fas fa-asterisk"></i> <label>{{_t(\'frost_protection_temp\')}}</label> <select class=form-control ng-model=heating.input.params.roomSettings[r.id].frostProtectionTemp convert-to-float><option value="">---</option><option value={{ft}} ng-repeat="ft in heating.cfg.frostProtection.temp.temp track by $index" ng-selected="ft == heating.input.params.roomSettings[r.id].frostProtectionTemp">{{heating.cfg.frostProtection.temp.label[$index]}}</option></select></div><div class="form-inline is-inline alpaca-array-actionbar" ng-if="heating.devices.SensorsByRoom[r.id].length >= 1"><i class="fas fa-temperature-low"></i> <label>{{_t(\'temp_sensor\')}}</label> <select class=form-control ng-model=heating.input.params.roomSettings[r.id].sensorId><option value={{heating.devices.SensorsByRoom[r.id][0].deviceId}} ng-if="heating.devices.SensorsByRoom[r.id].length == 1">{{heating.devices.SensorsByRoom[r.id][0].deviceName}}</option><option value="" ng-if="heating.devices.SensorsByRoom[r.id].length > 1">---</option><option value={{d.deviceId}} ng-if="heating.devices.SensorsByRoom[r.id].length > 1" ng-repeat="d in heating.devices.SensorsByRoom[r.id] track by $index" ng-selected="d.deviceId == heating.input.params.roomSettings[r.id].sensorId">{{d.deviceName}}</option></select></div></div><div class=schedule-wrap ng-hide=mobileView><div class=schedule-overlay ng-if=!heating.input.params.roomSettings[r.id].comfortTemp><bb-help-text trans="_t(\'no_comfort_temp_info\')"></bb-help-text></div><div id=schedule-{{r.id}} class=schedule ng-class="(!heating.input.params.roomSettings[r.id].comfortTemp ? \'disabled\': \'\')"></div><bb-help-text trans="_t(\'schedule_info\')"></bb-help-text></div><div ng-include="\'app/views/automation/heating/mobile_schedule.html\'" ng-show=mobileView></div><div class=form-inline ng-hide=mobileView><div class="form-group is-inline"><select class=form-control ng-model=r.copyOption><option value=null>---</option><option value={{i.id}} ng-repeat="i in heating.rooms" ng-if="hasSchedules(i.id) && i.id !== r.id">{{i.title}}</option></select> <button class="btn btn-default" type=button ng-click="copySchedule(r.copyOption, r.id, _t(\'copy_schedule\', {__dest_room__: r.title, __src_room__: heating.rooms[r.copyOption].title}))" ng-disabled="(r.copyOption == null || r.copyOption == \'null\')"><i class="fas fa-copy"></i> {{_t(\'copy\')}}</button><bb-help-text trans="_t(\'copy_schedule_info\')"></bb-help-text></div></div><div><h3>{{_t(\'thermostate_in_room\')}}</h3><span class="btn btn-static btn-tag" title={{v.deviceName}} ng-repeat="v in heating.devices.ThermostateByRoom[r.id] track by $index" ng-if="_.size(heating.devices.ThermostateByRoom[r.id]) > 0">{{v.deviceName|cutText:true:20}}</span><div class="alert alert-warning" ng-if="_.size(heating.devices.ThermostateByRoom[r.id]) == 0"><div class=form-group>{{_t(\'no_thermostate_in_room\')}}</div></div></div></fieldset></div></section></fieldset><fieldset><section class=accordion-wrap><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span>{{_t(\'advanced_settings\')}}</span></button></h2><div class=accordion hidden><fieldset><div class="form-group is-inline"><label>{{_t(\'reset_time\')}}</label> <input name=reset_time id=reset_time type=number class=form-control ng-model=heating.input.params.resetTime>&nbsp;<bb-help-text trans="_t(\'help_reset_time\')"></bb-help-text></div></fieldset></div></section></fieldset><div class="fieldset submit-entry is-grid"><span><label class=switch><input type=checkbox ng-model=heating.input.active ng-checked=heating.input.active ng-disabled=!heating.roomsAvailable> <span class=slider></span></label> <span class=switch-label>{{heating.input.active ? _t(\'lb_active\'): _t(\'activeASC\')}}</span> </span><span><a ng-href=#automations class="btn btn-default" title="{{_t(\'lb_cancel\')}}"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span> </a><button type=submit title="{{_t(\'lb_save\')}}" class="btn btn-submit" ng-disabled=!heating.roomsAvailable><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></span></div></form><div ng-include="\'app/views/automation/heating/heating_id_temperatrue_modal.html\'"></div></div>'),e.put("app/views/automation/heating/heating.html","<div ng-controller=HeatingController><h2>{{_t('heating')}}</h2></div>"),e.put("app/views/automation/heating/mobile_schedule.html",'<table class="table-responsive security-schedule"><thead><th class=l-hide>&nbsp;</th><th>{{_t(\'time_period\')}}</th><th>{{_t(\'temperature\')}}</th><th>{{_t(\'day_short_0\')}}</th><th>{{_t(\'day_short_1\')}}</th><th>{{_t(\'day_short_2\')}}</th><th>{{_t(\'day_short_3\')}}</th><th>{{_t(\'day_short_4\')}}</th><th>{{_t(\'day_short_5\')}}</th><th>{{_t(\'day_short_6\')}}</th><th>&nbsp;</th></thead><tbody><tr data-expanded=false ng-repeat="v in heating.mobileSchedule[r.id] track by $index"><td class=td-accordion-toggle><button type=button aria-expanded=false bb-table-accordion>{{v.stime}}&nbsp; - &nbsp;{{v.etime}}</button></td><td class="td-header form-inline" title="{{_t(\'time_period\')}}" data-label="{{_t(\'time_period\')}}"><input type=time class=form-control ng-style="(v.stime >= v.etime) && {\'background-color\':\'red\'} " ng-model=v.stime ng-change="timeChanged(r.id, $index, v.stime, \'stime\', v.stime < v.etime)"> &nbsp; - &nbsp; <input ng-style="(v.stime >= v.etime) && {\'background-color\':\'red\'} " type=time class=form-control ng-model=v.etime ng-change="timeChanged(r.id, $index, v.etime, \'etime\',  v.stime < v.etime)" min={{v.stime}}></td><td class=td-header title="{{_t(\'temperature\')}}" data-label="{{_t(\'temperature\')}}"><select class=form-control ng-model=v.temp convert-to-float><option value="">---</option><option value={{ct}} ng-repeat="ct in heating.cfg.comfort.temp.temp track by $index" ng-selected="ct == v.temp">{{heating.cfg.comfort.temp.label[$index]}}</option></select></td><td ng-repeat="_ in [].constructor(7) track by $index" class=td-header title="{{_t(\'day_short_\' + $index)}}" data-label="{{_t(\'day_short_\' + $index)}}" ng-class="{\'active\': v[$index]}" ng-click="toggleTime(v, $index, r.id, $parent.$index)"><i ng-hide=v[$index] class="far fa-minus"></i> <i ng-show=v[$index] class="fas fa-check"></i></td><td class=td-header title="{{_t(\'lb_remove\')}}" data-label="{{_t(\'lb_remove\')}}" class=td-action><button type=button class="btn btn-text" title=Remove ng-click="unassignTimeSchedule(r.id, $index)"><i class="fas fa-times text-danger"></i></button></td></tr></tbody></table><div class="section text-right"><button type=button title="{{_t(\'add_new\')}}" class="btn btn-submit" ng-click=assignTimeSchedule(r.id)><i class="fas fa-plus"></i> &nbsp;{{_t(\'add_new_scheduler\')}}</button></div>'),e.put("app/views/automation/no_device.html",'<div class="blank is-info"><figure><i class="fas fa-info-circle"></i></figure><div>{{_t(\'no_device_installed\')}}</div><a ng-href=#automations class="btn btn-default" title="{{_t(\'lb_cancel\')}}"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span> </a><a class="btn btn-default" href=#zwave/vendors><i class="fas fa-plus text-success"></i> <span class=btn-name>{{_t(\'add_new_device\')}}</span></a></div>'),e.put("app/views/automation/rules/advanced/assigned_notifications.html",'<section class=accordion-wrap ng-repeat="n in rule.input.params.advanced.sendNotifications track by $index" ng-init="model=n"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion><span ng-if=rule.namespaces[n.target]>{{rule.namespaces[n.target].deviceName}}</span> <span ng-if=!rule.namespaces[n.target]>{{n.target}}</span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignAdvancedTargetNotification($index,n.target)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/rules/inputs/notification.html\'" hidden></div></section>'),e.put("app/views/automation/rules/advanced/else.html",'<div class=form-group><label class=switch><input type=checkbox ng-model=rule.input.params.reverse ng-checked=rule.input.params.reverse> <span class=slider></span></label> <span class=switch-label>{{_t(\'activate_reverse_event\')}}</span></div><section ng-if=rule.input.params.reverse><div class="flex-input-group number-control"><label>{{_t(\'delay\')}}</label> <input class=form-control id=then_delay type=number ng-model=rule.input.params.advanced.reverseDelay> <span>{{_t(\'seconds\')}}</span><bb-help-text trans="_t(\'help_delay\')"></bb-help-text></div><div class=list-panel ng-repeat="d in rule.input.params.advanced.targetElements track by $index" ng-if="rule.else.deviceTypes.indexOf(d.deviceType) > -1"><div class=body><div>{{rule.namespaces[d.deviceId].deviceName}}</div></div><div class=control ng-switch=d.deviceType><span ng-if="d.level==\'lvl\'">{{d.exact}}</span><span ng-if="d.level!=\'lvl\'">{{d.level}}</span>&nbsp;<i class="fas fa-arrow-right"></i><span ng-switch-when=switchBinary ng-init="d.reverseLevel = getReverseLevel(d)"><strong>{{d.reverseLevel}}</strong> </span><span ng-switch-when=doorlock ng-init="d.reverseLevel = getReverseLevel(d)"><strong>{{d.reverseLevel}}</strong> </span><span ng-switch-when=switchMultilevel ng-init="d.reverseLevel = d.reverseLevel === undefined ? getReverseLevel(d) : d.reverseLevel"><strong ng-if="d.level!=\'lvl\' && rule.options.switchMultilevel.level.indexOf(d.level) > -1">{{d.level == \'off\' ? \'on\' : \'off\'}}</strong><span ng-if="d.level==\'lvl\' || rule.options.switchMultilevel.level.indexOf(d.level) === -1"><input class="form-control input-number" min={{rule.options.switchMultilevel.min}} max={{rule.options.switchMultilevel.max}} ng-model=d.reverseLevel></span></span></div></div><section></section></section>'),e.put("app/views/automation/rules/advanced/if_assigned.html",'<section class="accordion-wrap {{d.type}}" ng-repeat="d in rule.input.params.advanced.tests track by $index" ng-init="model=d;testIndex = $index;hideAction=true"><span class="label label-default index_{{$index}} {{d.type}}">{{_t(\'lb_\'+ rule.input.params.advanced.logicalOperator)}}</span><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-class="{\'no-toggle\': d.type == \'toggleButton\'}" ng-switch=d.type><span ng-switch-when=nested><i class="fas fa-fw fa-code-branch fa-flip-vertical fa-2x"></i>&nbsp;{{_t(\'nested\')}}</span> <span ng-switch-when=compare><i class="fas fa-fw fa-code fa-2x"></i>&nbsp;{{_t(\'compare\')}}</span> <span ng-switch-when=time><i class="fas fa-fw fa-clock fa-2x"></i>&nbsp;{{_t(\'lb_time\')}}&nbsp;<em>[{{d.operator}}&nbsp;{{d.level}}]</em></span> <span ng-switch-default><span ng-if=!rule.namespaces[d.deviceId].deviceName><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'device_removed\')}}&nbsp;({{v.deviceId}})</span> <span ng-if=rule.namespaces[d.deviceId].deviceName><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img>{{rule.namespaces[d.deviceId].deviceName}}&nbsp; <em ng-if=d.operator>[{{d.operator}}&nbsp;{{d.level}}]</em> <em ng-if="!d.operator && _.isNumber(d.level)">[{{d.level}}]</em> <em ng-if="!d.operator && !_.isNumber(d.level) && !_.isObject(d.level)">[{{_t(d.level)}}]</em><span ng-if="!d.operator && !_.isNumber(d.level) && _.isObject(d.level)" class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span> &nbsp;-&nbsp;<em>{{rule.namespaces[d.deviceId].locationName}}</em></span></span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignAdvancedTest($index,d.deviceId)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-init="if=true" ng-include="\'app/views/automation/rules/inputs/advanced/\'+ d.type +\'.html\'" ng-if="d.type != \'toggleButton\'" hidden></div></section>'),e.put("app/views/automation/rules/advanced/if_available.html",'<section class="accordion-wrap available-devices" ng-repeat="r in rule.rooms track by $index" ng-if=rule.advanced.tests.devicesInRoom[r.id]><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img>&nbsp;{{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in rule.advanced.tests.availableDevices track by $index" ng-if="d.location == r.id && rule.advanced.tests.assignedDevices.indexOf(d.deviceId) === -1" ng-hide="d.deviceId == rule.input.params.advanced.triggerEvent.deviceId" ng-click=assignAdvancedTestDevice(d)><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section><section class=section><a href="" class="btn btn-default btn-tag" ng-click="assignAdvancedTestCondition(\'time\')"><i class="fas fa-clock"></i> {{_t(\'test_time\')}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i> </a><a href="" class="btn btn-default btn-tag" ng-click="assignAdvancedTestCondition(\'nested\')"><i class="fas fa-code-branch fa-flip-vertical"></i> {{_t(\'nested\')}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i> </a><a href="" class="btn btn-default btn-tag" ng-click="assignAdvancedTestCondition(\'compare\')"><i class="fas fa-code"></i> {{_t(\'compare\')}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></section>'),e.put("app/views/automation/rules/advanced/if.html","<div class=form-group><label class=switch><input type=checkbox ng-model=rule.input.params.advanced.logicalOperator ng-true-value=or ng-false-value=and> <span class=slider></span></label> <span class=switch-label>{{_t('lb_'+ rule.input.params.advanced.logicalOperator)}} <em ng-if=\"rule.input.params.advanced.logicalOperator == 'and'\">({{_t('operator_and_info')}})</em> <em ng-if=\"rule.input.params.advanced.logicalOperator == 'or'\">({{_t('operator_or_info')}})</em></span><bb-help-text trans=\"_t('help_advanced_rule')\"></bb-help-text></div>"),e.put("app/views/automation/rules/advanced/then_assigned_notifications.html",'<section class=accordion-wrap ng-repeat="n in rule.input.params.advanced.sendNotifications track by $index" ng-init="model=n"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src="{{cfg.img.icons + \'alarm-on.png\'}}" err-src={{cfg.img.placeholder}} alt=img>{{n.targetName}}</span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignAdvancedTargetNotification($index,n)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion hidden><select class=form-control ng-model=n.target><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == n.target">{{nc.name}} ({{nc.userName}})</option></select><div ng-include="\'app/views/automation/rules/inputs/notification.html\'"></div><div></div></div></section>'),e.put("app/views/automation/rules/advanced/then_assigned.html",'<section class=accordion-wrap ng-repeat="d in rule.input.params.advanced.targetElements track by $index" ng-init="model=d;inputType=\'advanced\'"><h2 class="accordion-toggle ellipsis"><span class="no-toggle text-danger" ng-show=!rule.namespaces[d.deviceId]><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'device_removed\')}}&nbsp;({{d.deviceId}}) </span><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'" ng-hide=!rule.namespaces[d.deviceId]><span ng-if="rule.namespaces[d.deviceId].deviceName && !_.isObject(d.level)"><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{rule.namespaces[d.deviceId].deviceName}}&nbsp; [<em>{{_t(d.level)}}</em><em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]&nbsp;-&nbsp; <em>{{rule.namespaces[d.deviceId].locationName}}</em> </span><span ng-if="rule.namespaces[d.deviceId].deviceName && _.isObject(d.level)">{{rule.namespaces[d.deviceId].deviceName}}&nbsp; <span class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span>&nbsp;-&nbsp; <em>{{rule.namespaces[d.deviceId].locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'" ng-hide=!rule.namespaces[d.deviceId]><span><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{rule.namespaces[d.deviceId].deviceName}} </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignAdvancedTargetDevice($index,d.deviceId)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-init="if=false" ng-include="\'app/views/automation/rules/inputs/advanced/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section>'),e.put("app/views/automation/rules/advanced/then_available.html",'<section class="accordion-wrap available-devices" ng-repeat="r in rule.rooms track by $index" ng-hide=!rule.target.devicesInRoom[r.id]><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img>&nbsp;{{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in rule.target.availableDevices track by $index" ng-if="d.location == r.id && rule.advanced.target.assignedDevices.indexOf(d.deviceId) === -1" ng-hide="d.deviceId == rule.input.params.simple.triggerEvent.deviceId" ng-click=assignAdvancedTargetDevice(d)><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section><section class=accordion-wrap><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src="{{cfg.img.icons + \'alarm-on.png\'}}" err-src={{cfg.img.placeholder}} alt=img>&nbsp;{{_t(\'add_notification\')}}</span></button></h2><div class=accordion hidden><div class="form-group form-inline"><select class=form-control ng-model=rule.options.notification.default.target><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == e.channel">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group><textarea name=message id=content class="form-control report-content" ng-model=rule.options.notification.default.message placeholder="{{_t(\'message\')}}"></textarea></div><div class=form-group><a href="" class="btn btn-default btn-tag" title="{{_t(\'add_new\')}}" ng-click=assignAdvancedTargetNotification(rule.options.notification.default)>{{_t(\'add_new\')}} <i class="fas fa-plus text-success"></i></a></div></div></section>'),e.put("app/views/automation/rules/advanced/then_expert.html",'<fieldset><h3>{{_t(\'heading_advanced_rule_then_further_settings\')}}</h3><div class="device-available-block assigned" ng-if=_.size(rule.input.params.advanced.triggerScenes)><a href="" class="btn btn-default btn-tag" title={{rule.advanced.target.eventSourceDevices[d].deviceName}} ng-repeat="d in rule.input.params.advanced.triggerScenes track by $index" ng-click=unassignAdvancedEventSource(d)>{{rule.advanced.target.eventSourceDevices[d].deviceName|cutText:true:20}} <i class="fas fa-times text-danger" title="{{_t(\'lb_remove\')}}"></i></a></div></fieldset><fieldset><a href="" class="btn btn-default btn-tag" title={{d.deviceName}} ng-repeat="d in rule.advanced.target.eventSourceDevices track by $index" ng-hide="rule.input.params.advanced.triggerScenes.indexOf(d.deviceId) > -1" ng-click=assignAdvancedEventSource(d.deviceId)>{{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></fieldset><fieldset><div class="form-group form-inline"><label for=advanced_activate></label><input type=checkbox ng-model=rule.input.params.advanced.triggerOnDevicesChange ng-checked=rule.input.params.advanced.triggerOnDevicesChange> {{_t(\'lb_advanced_rule_then_further_settings\')}}<bb-help-text trans="_t(\'help_advanced_rule_then_further_settings\')"></bb-help-text></div></fieldset>'),e.put("app/views/automation/rules/advanced/then.html","<div class=\"flex-input-group number-control\"><label>{{_t('delay')}}</label> <input class=form-control id=then_delay type=number ng-model=rule.input.params.advanced.triggerDelay> <span>{{_t('seconds')}}</span><bb-help-text trans=\"_t('help_delay')\"></bb-help-text></div>"),e.put("app/views/automation/rules/inputs/advanced/compare.html",'<div class=form-group>{{_t(\'help_compare_condition\')}} <select class=form-control ng-model=d.operator ng-disabled="_.size(d.devices) < 2"><option value={{v}} ng-repeat="v in d.operators" ng-selected="d.operator == v">{{v}}</option></select><bb-help-text trans="_t(\'help_compare_rule\')"></bb-help-text></div><legend>{{_t(\'assigned_conditions\')}}</legend><div data-collapse-all=true><section class=accordion-wrap ng-if="_.size(d.devices) > 0"><h2 class="accordion-toggle ellipsis"><button type=button><span ng-if=!rule.namespaces[d.devices[0].deviceId].deviceName><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'device_removed\')}}&nbsp;({{d.devices[0].deviceId}})</span> <span ng-if=rule.namespaces[d.devices[0].deviceId].deviceName>{{rule.namespaces[d.devices[0].deviceId].deviceName}}&nbsp; &nbsp;-&nbsp;<em>{{rule.namespaces[d.devices[0].deviceId].locationName}}</em></span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignAdvancedTestCompare(0,d.devices[0].deviceId,testIndex)><i class="fas fa-times text-danger"></i></span></h2></section><section class=accordion-wrap ng-if="_.size(d.devices) > 1"><span class="label label-default index_1">{{d.operator}}</span><h2 class="accordion-toggle ellipsis"><button type=button><span ng-if=!rule.namespaces[d.devices[1].deviceId].deviceName><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'device_removed\')}}&nbsp;({{d.devices[1].deviceId}})</span> <span ng-if=rule.namespaces[d.devices[1].deviceId].deviceName>{{rule.namespaces[d.devices[1].deviceId].deviceName}}&nbsp; &nbsp;-&nbsp;<em>{{rule.namespaces[d.devices[1].deviceId].locationName}}</em></span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignAdvancedTestCompare(1,d.devices[1].deviceId,testIndex)><i class="fas fa-times text-danger"></i></span></h2></section></div><legend>{{_t(\'available_conditions\')}}</legend><div data-collapse-all=true bb-child-elem_=rule.advanced.tests.assignedDevices><section class="accordion-wrap _available-devices" ng-repeat="r in rule.rooms track by $index" ng-if=rule.advanced.tests.devicesInRoom[r.id]><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img>&nbsp;{{r.title}}</span></button></h2><div class=accordion hidden><button type=button class="btn btn-default btn-tag" title={{o.deviceName}} ng-repeat="o in rule.advanced.tests.availableDevices track by $index" ng-if="o.location == r.id && rule.advanced.tests.assignedDevices.indexOf(o.deviceId) === -1" ng-hide="o.deviceId == rule.input.params.simple.triggerEvent.deviceId || filterDeviceListCompare(o.deviceType,testIndex) " ng-click=assignAdvancedTestCompareDevice(o,testIndex)><img class=navi-img ng-src={{rule.namespaces[o.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{o.deviceName|cutText:true:20}}&nbsp;<i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></button></div></section></div>'),e.put("app/views/automation/rules/inputs/advanced/doorlock.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=close ng-false-value=open ng-change=setReverseLevel(model.deviceType,inputType,$index)> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/rules/inputs/advanced/nested.html",'<div class=form-group>{{_t(\'help_nested_condition\')}}</div><div class=form-group><label class=switch><input type=checkbox ng-model=model.logicalOperator ng-true-value=or ng-false-value=and> <span class=slider></span></label> <span class=switch-label>{{_t(\'lb_\'+ model.logicalOperator)}} <em ng-if="model.logicalOperator == \'and\'">({{_t(\'operator_and_info\')}})</em> <em ng-if="model.logicalOperator == \'or\'">({{_t(\'operator_or_info\')}})</em></span><bb-help-text trans="_t(\'help_advanced_rule\')"></bb-help-text></div><legend>{{_t(\'assigned_conditions\')}}</legend><div data-collapse-all=true><section class=accordion-wrap ng-repeat="n in d.tests track by $index" ng-init="model=n"><span class="label label-default index_{{$index}}">{{_t(\'lb_\'+ rule.input.params.advanced.tests[testIndex].logicalOperator)}}</span><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-class="{\'no-toggle\': n.type == \'toggleButton\'}" ng-switch=n.type><span ng-switch-when=nested>{{_t(\'nested\')}}</span> <span ng-switch-when=time>{{_t(\'lb_time\')}}&nbsp;<em>[{{n.operator}}&nbsp;{{n.level}}]</em></span> <span ng-switch-default><span ng-if=!rule.namespaces[n.deviceId].deviceName><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'device_removed\')}}&nbsp;({{v.deviceId}})</span> <span ng-if=rule.namespaces[n.deviceId].deviceName>{{rule.namespaces[n.deviceId].deviceName}}&nbsp; <em ng-if=n.operator>[{{n.operator}}&nbsp;{{n.level}}]</em> <em ng-if="!n.operator && _.isNumber(n.level)">[{{n.level}}]</em> <em ng-if="!n.operator && !_.isNumber(n.level)">[{{_t(n.level)}}]</em> &nbsp;-&nbsp;<em>{{rule.namespaces[n.deviceId].locationName}}</em></span></span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignAdvancedTestNested($index,n.deviceId,testIndex)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/rules/inputs/advanced/\'+ n.type +\'.html\'" ng-if="n.type != \'toggleButton\'" hidden></div></section></div><legend>{{_t(\'available_conditions\')}}</legend><div data-collapse-all=true bb-child-elem_=rule.advanced.tests.assignedDevices><section class="accordion-wrap _available-devices" ng-repeat="r in rule.rooms track by $index" ng-if=rule.advanced.tests.devicesInRoom[r.id]><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img>&nbsp;{{r.title}}</span></button></h2><div class=accordion hidden><button type=button class="btn btn-default btn-tag" title={{o.deviceName}} ng-repeat="o in rule.advanced.tests.availableDevices track by $index" ng-if="o.location == r.id && rule.advanced.tests.assignedDevices.indexOf(o.deviceId) === -1" ng-hide="o.deviceId == rule.input.params.simple.triggerEvent.deviceId" ng-click=assignAdvancedTestNestedDevice(o,testIndex)><img class=navi-img ng-src={{rule.namespaces[o.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{o.deviceName|cutText:true:20}}&nbsp;<i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></button></div></section></div><section class=section><button type=button class="btn btn-default btn-tag" ng-click="assignAdvancedTestNestedCondition(\'time\',testIndex)">{{_t(\'test_time\')}}&nbsp;<i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></button></section>'),e.put("app/views/automation/rules/inputs/advanced/sensorBinary.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/rules/inputs/advanced/sensorDiscrete.html",'<div class="form-group form-inline"><label>{{_t(\'controller_actions\')}}</label> <input class="form-control input-number" ng-model=model.level><bb-help-text trans="_t(\'help_sensor_discrete\')"></bb-help-text></div>'),e.put("app/views/automation/rules/inputs/advanced/sensorMultilevel.html",'<div class="form-group form-inline"><span ng-show=!model.operator><label class=switch><input type=checkbox ng-model=model.level ng-checked="model.level == \'on\'" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label ng-hide=_.isNumber(model.level)>{{model.level}}</span> </span><select class=form-control ng-model=model.operator><option value={{o}} ng-repeat="o in rule.options.sensorMultilevel.operator track by $index" ng-selected="o == model.operator">{{o}}</option></select> <input type=number class="form-control input-number" min={{rule.options.sensorMultilevel.min}} max={{rule.options.sensorMultilevel.max}} ng-model=model.level ng-if=model.operator></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/inputs/advanced/switchBinary.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=on ng-false-value=off ng-change=setReverseLevel(model.deviceType,inputType,$index)> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/rules/inputs/advanced/switchControl.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/rules/inputs/advanced/switchMultilevel.html",'<div ng-show=if class="form-group form-inline"><span><select class=form-control ng-model=model.operator><option value={{o}} ng-repeat="o in rule.options.switchMultilevel.operator track by $index" ng-selected="o == model.operator">{{_t(o)}}</option></select> </span><input type=number class="form-control input-number" min={{rule.options.switchMultilevel.min}} max={{rule.options.switchMultilevel.max}} ng-model=model.level></div><div ng-show=!if class="form-group form-inline"><span><select class=form-control ng-model=model.level ng-change=setReverseLevel(model.deviceType,inputType,$index)><option value={{o}} ng-repeat="o in rule.options.switchMultilevel.level track by $index" ng-selected="o == model.level">{{_t(o)}}</option></select> </span><input type=number class="form-control input-number" min={{rule.options.switchMultilevel.min}} max={{rule.options.switchMultilevel.max}} ng-model=model.exact ng-if="model.level == \'lvl\'" ng-change=setReverseLevel(model.deviceType,inputType,$index)></div><div class=form-group ng-if=!if><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/inputs/advanced/switchRGBW.html",'<div class="form-group form-inline"><select class=form-control ng-model=model.level ng-change="model.level = (model.level == \'rgb\' ? {r:0,g:0,b:0} : model.level)"><option value={{o}} ng-repeat="o in rule.options.switchRGBW.level track by $index" ng-selected="o == model.level">{{o}}</option><option value=rgb ng-selected=_.isObject(model.level)>{{_t(\'colors\')}}</option></select> <span class=form-inline ng-hide="rule.options.switchRGBW.level.indexOf(model.level) > -1"><label>{{_t(\'red\')}}&nbsp;<input type=number class="form-control input-number" min={{rule.options.switchRGBW.min}} max={{rule.options.switchRGBW.max}} ng-model=model.level.r></label> <label>{{_t(\'green\')}}&nbsp;<input type=number class="form-control input-number" min={{rule.options.switchRGBW.min}} max={{rule.options.switchRGBW.max}} ng-model=model.level.g></label> <label>{{_t(\'blue\')}}&nbsp;<input type=number class="form-control input-number" min={{rule.options.switchRGBW.min}} max={{rule.options.switchRGBW.max}} ng-model=model.level.b></label><bb-help-text trans="_t(\'help_rgbw_value\')"></bb-help-text></span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/inputs/advanced/thermostat.html",'<div ng-show=if class="form-group form-inline"><span><select class=form-control ng-model=model.operator><option value={{o}} ng-repeat="o in rule.options.thermostat.operator track by $index" ng-selected="o == model.operator">{{_t(o)}}</option></select> </span><input type=number class="form-control input-number" min={{rule.options.thermostat.min}} max={{rule.options.thermostat.max}} ng-model=model.level></div><div ng-show=!if class="form-group form-inline"><span><select class=form-control ng-model=model.level><option value={{o}} ng-repeat="o in rule.options.thermostat.level track by $index" ng-selected="o == model.level">{{_t(o)}}</option></select> </span><input type=number class="form-control input-number" min={{rule.options.thermostat.min}} max={{rule.options.thermostat.max}} ng-model=model.exact ng-if="model.level == \'lvl\'"></div><div class=form-group ng-if=!if><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/inputs/advanced/time.html",'<div class="form-group form-inline"><select class=form-control ng-model=model.operator><option value={{v}} ng-repeat="v in rule.options.time.operator" ng-selected="model.operator == v">{{v}}</option></select> <label><input type=time class=form-control ng-model=model.level>&nbsp;(HH:MM)</label><bb-help-text trans="_t(\'help_advanced_rule_time_condition\')"></bb-help-text></div>'),e.put("app/views/automation/rules/inputs/notification.html",'<div class=form-group><textarea name=message id=content class="form-control report-content" ng-model=model.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/rules/inputs/simple/doorlock.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=close ng-false-value=open> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/rules/inputs/simple/sensorBinary.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/rules/inputs/simple/sensorDiscrete.html",'<div class="form-group form-inline"><label>{{_t(\'controller_actions\')}}</label> <input class="form-control input-number" ng-model=model.level><bb-help-text trans="_t(\'help_sensor_discrete\')"></bb-help-text></div>'),e.put("app/views/automation/rules/inputs/simple/sensorMultilevel.html",'<div class="form-group form-inline"><span ng-show="model.operator == \'\'"><label class=switch><input type=checkbox ng-model=model.level ng-checked="model.level == \'on\'" ng-true-value=on ng-false-value=off ng-disabled="model.operator != \'\'"> <span class=slider></span></label> <span class=switch-label ng-hide=_.isNumber(model.level)>{{model.level}}</span> </span><select class=form-control ng-model=model.operator><option value={{o}} ng-repeat="o in rule.options.sensorMultilevel.operator track by $index" ng-selected="o == model.operator">{{o}}</option></select> <input type=number class="form-control input-number" min={{rule.options.sensorMultilevel.min}} max={{rule.options.sensorMultilevel.max}} ng-model=model.level ng-if="model.operator != \'\'"></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/inputs/simple/switchBinary.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/rules/inputs/simple/switchControl.html",'<div class="form-group form-inline"><select class=form-control ng-model=model.level><option value="">---</option><option value={{o}} ng-repeat="o in rule.options.switchControl.level track by $index" ng-selected="o == model.level">{{o}}</option></select></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/inputs/simple/switchMultilevel.html",'<div ng-show=if class="form-group form-inline"><span><select class=form-control ng-model=model.operator><option value={{o}} ng-repeat="o in rule.options.switchMultilevel.operator track by $index" ng-selected="o == model.operator">{{_t(o)}}</option></select> </span><input type=number class="form-control input-number" min={{rule.options.switchMultilevel.min}} max={{rule.options.switchMultilevel.max}} ng-model=model.level></div><div ng-show=!if class="form-group form-inline"><span><select class=form-control ng-model=model.level><option value={{o}} ng-repeat="o in rule.options.switchMultilevel.level track by $index" ng-selected="o == model.level">{{_t(o)}}</option></select> </span><input type=number class="form-control input-number" min={{rule.options.switchMultilevel.min}} max={{rule.options.switchMultilevel.max}} ng-model=model.exact ng-if="model.level == \'lvl\'"></div><div class=form-group ng-if=!if><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/inputs/simple/switchRGBW.html",'<div class="form-group form-inline"><select class=form-control ng-model=model.level ng-change="model.level = (model.level == \'rgb\' ? {r:0,g:0,b:0} : model.level)"><option value={{o}} ng-repeat="o in rule.options.switchRGBW.level track by $index" ng-selected="o == model.level">{{o}}</option><option value=rgb ng-selected=_.isObject(model.level)>{{_t(\'colors\')}}</option></select> <span class=form-inline ng-hide="rule.options.switchRGBW.level.indexOf(model.level) > -1"><label>{{_t(\'red\')}}&nbsp;<input type=number class="form-control input-number" min={{rule.options.switchRGBW.min}} max={{rule.options.switchRGBW.max}} ng-model=model.level.r></label> <label>{{_t(\'green\')}}&nbsp;<input type=number class="form-control input-number" min={{rule.options.switchRGBW.min}} max={{rule.options.switchRGBW.max}} ng-model=model.level.g></label> <label>{{_t(\'blue\')}}&nbsp;<input type=number class="form-control input-number" min={{rule.options.switchRGBW.min}} max={{rule.options.switchRGBW.max}} ng-model=model.level.b></label><bb-help-text trans="_t(\'help_rgbw_value\')"></bb-help-text></span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/inputs/simple/thermostat.html",'<div ng-show=if class="form-group form-inline"><span><select class=form-control ng-model=model.operator><option value={{o}} ng-repeat="o in rule.options.thermostat.operator track by $index" ng-selected="o == model.operator">{{_t(o)}}</option></select> </span><input type=number class="form-control input-number" min={{rule.options.thermostat.min}} max={{rule.options.thermostat.max}} ng-model=model.level></div><div ng-show=!if class="form-group form-inline"><span><select class=form-control ng-model=model.level><option value={{o}} ng-repeat="o in rule.options.thermostat.level track by $index" ng-selected="o == model.level">{{_t(o)}}</option></select> </span><input type=number class="form-control input-number" min={{rule.options.thermostat.min}} max={{rule.options.thermostat.max}} ng-model=model.exact ng-if="model.level == \'lvl\'"></div><div class=form-group ng-if=!if><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/rules/rule_id_form.html",'<div class="form-group form-inline"><div class="form-group is-inline"><label>{{_t(\'lb_name\')}}</label> <input name=title id=title class=form-control ng-model=rule.input.title>&nbsp;</div></div>'),e.put("app/views/automation/rules/rule_id.html","<div class=automation ng-controller=AutomationRuleIdController><bb-loader></bb-loader><div ng-if=!rule.show ng-include=\"'app/views/automation/no_device.html'\"></div><div ng-if=rule.show><h2>{{_t('rules')}}</h2><div class=\"form form-page\"><fieldset ng-include=\"'app/views/automation/rules/rule_id_form.html'\"></fieldset></div><div class=\"tabs-wrap form-inline\"><div class=\"btn-group btn-group-justified btn-goup-tabs\" ng-if=!rule.input.params.advanced.active><a class=\"btn btn-default\" title=\"{{_t('if')}}\" ng-class=\"{'active':rule.tab == 'if'}\" ng-click=\"rule.tab = 'if'\">{{_t('if')}} </a><a class=\"btn btn-default\" title=\"{{_t('then')}}\" ng-class=\"{'active':rule.tab == 'then'}\" ng-click=\"rule.tab = 'then'\">{{_t('then')}} </a><a class=\"btn btn-default\" title=\"{{_t('else')}}\" ng-class=\"{'active':rule.tab == 'else'}\" ng-click=\"rule.tab = 'else'\">{{_t('else')}}</a></div><div class=\"btn-group btn-group-justified btn-goup-tabs\" ng-if=rule.input.params.advanced.active><a class=\"btn btn-default\" title=\"{{_t('if')}}\" ng-class=\"{'active':rule.advanced.tab == 'if'}\" ng-click=\"rule.advanced.tab = 'if'\">{{_t('if')}} </a><a class=\"btn btn-default\" title=\"{{_t('then')}}\" ng-class=\"{'active':rule.advanced.tab == 'then'}\" ng-click=\"rule.advanced.tab = 'then'\">{{_t('then')}} </a><a class=\"btn btn-default\" title=\"{{_t('else')}}\" ng-class=\"{'active':rule.advanced.tab == 'else'}\" ng-click=\"rule.advanced.tab = 'else'\">{{_t('else')}}</a></div></div><form class=\"form form-page\" ng-submit=storeRule(rule.input,true)><div ng-if=!rule.input.params.advanced.active><div ng-if=\"rule.tab == 'if'\"><div ng-if=rule.input.params.simple.triggerEvent.deviceId><legend>{{_t('assigned_devices')}}</legend><fieldset ng-include=\"'app/views/automation/rules/simple/if_assigned.html'\"></fieldset></div><legend>{{_t('lb_available_devices')}}</legend><fieldset data-collapse-all=true bb-child-elem=rule.target.assignedDevices ng-if=\"rule.tab == 'if'\" ng-include=\"'app/views/automation/rules/simple/if_available.html'\"></fieldset></div><div ng-if=\"rule.tab == 'then'\"><fieldset ng-if=\"rule.tab == 'then'\" ng-include=\"'app/views/automation/rules/simple/then.html'\"></fieldset><div ng-if=_.size(rule.input.params.simple.targetElements)><legend>{{_t('assigned_devices')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/rules/simple/then_assigned.html'\"></fieldset></div><div ng-if=_.size(rule.input.params.simple.sendNotifications)><legend>{{_t('assigned_notifications')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/rules/simple/then_assigned_notifications.html'\"></fieldset></div><legend>{{_t('lb_available_devices')}}</legend><fieldset data-collapse-all=true bb-child-elem=rule.target.assignedDevices ng-include=\"'app/views/automation/rules/simple/then_available.html'\"></fieldset></div><fieldset ng-if=\"rule.tab == 'else'\" ng-include=\"'app/views/automation/rules/simple/else.html'\"></fieldset></div><div ng-if=rule.input.params.advanced.active><div ng-if=\"rule.advanced.tab == 'if'\"><fieldset ng-include=\"'app/views/automation/rules/advanced/if.html'\"></fieldset><div ng-if=_.size(rule.input.params.advanced.tests)><legend>{{_t('assigned_conditions')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/rules/advanced/if_assigned.html'\"></fieldset></div><legend>{{_t('available_conditions')}}</legend><fieldset data-collapse-all=true bb-child-elem=rule.advanced.tests.assignedDevices ng-include=\"'app/views/automation/rules/advanced/if_available.html'\"></fieldset></div><div ng-if=\"rule.advanced.tab == 'then'\"><fieldset ng-include=\"'app/views/automation/rules/advanced/then.html'\"></fieldset><div ng-if=_.size(rule.input.params.advanced.targetElements)><legend>{{_t('assigned_devices')}}</legend><fieldset ng-include=\"'app/views/automation/rules/advanced/then_assigned.html'\"></fieldset></div><div ng-if=_.size(rule.input.params.advanced.sendNotifications)><legend>{{_t('assigned_notifications')}}</legend><fieldset ng-include=\"'app/views/automation/rules/advanced/then_assigned_notifications.html'\"></fieldset></div><legend>{{_t('lb_available_devices')}}</legend><fieldset bb-child-elem=rule.advanced.target.assignedDevices ng-include=\"'app/views/automation/rules/advanced/then_available.html'\"></fieldset><legend><label class=switch><input type=checkbox ng-model=rule.input.params.advanced.expertSettings ng-checked=rule.input.params.advanced.expertSettings> <span class=slider></span></label> <span class=switch-label>{{_t('further_settings')}}</span></legend><div ng-if=rule.input.params.advanced.expertSettings ng-include=\"'app/views/automation/rules/advanced/then_expert.html'\"></div></div><fieldset ng-if=\"rule.advanced.tab == 'else'\" ng-include=\"'app/views/automation/rules/advanced/else.html'\"></fieldset></div><div class=\"fieldset submit-entry is-grid\"><span><label class=switch><input type=checkbox ng-model=rule.input.active ng-checked=rule.input.active> <span class=slider></span></label> <span class=switch-label>{{rule.input.active ? _t('lb_active'): _t('activeASC')}}</span> &nbsp; &nbsp; <label class=switch><input type=checkbox ng-model=rule.input.params.advanced.active ng-checked=rule.input.params.advanced.active> <span class=slider></span></label> <span class=switch-label>{{rule.input.params.advanced.active ? _t('lb_advanced'): _t('lb_simple')}}</span> </span><span><button type=button class=\"btn btn-default\" title=\"{{_t('lb_cancel')}}\" bb-go-back><i class=\"fas fa-reply\"></i> <span class=btn-name>{{_t('lb_cancel')}}</span></button> <button type=submit title=\"{{_t('lb_save')}}\" class=\"btn btn-submit\"><i class=\"fas fa-check\"></i> <span class=btn-name>{{_t('lb_save')}}</span></button></span></div></form></div></div>"),e.put("app/views/automation/rules/rules.html",'<div ng-controller=AutomationRuleController><div class="alert alert-info alert-flex" ng-if=oldLogics.length><i class="fas fa-info-circle"></i>&nbsp {{_t(\'logics_exists\')}}<div class="btn btn-default" style="margin-left: auto" ng-click=convertLogics()>{{_t(\'ok_import\')}}</div></div><section class=page-topbar><h1>{{_t(\'rules\')}}</h1><div class=btn-group><a ng-href=#automations class="btn btn-default" title="{{_t(\'lb_cancel\')}}"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span> </a><a class="btn btn-default" href=#rules/0><i class="fas fa-plus text-success"></i> <span class=btn-name>{{_t(\'add_new\')}}</span></a></div></section><div class=list-panel ng-repeat="v in rules.all track by $index" ng-class="{\'bcg-danger\':!v.active}"><figure class="img wh-32x32 clickable" ng-click="activateRule(v, v.active ? false : true)"><img ng-src="{{cfg.img.icons + \'security-pending.png\'}}" err-src={{cfg.img.placeholder}} alt=img></figure><div class=body><div><a ng-href=#rules/{{v.id}}>{{v.title}}</a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'autoDropdown_\' + $index, $event)"></button></div><div class=control ng-class="naviExpanded[\'autoDropdown_\' + $index] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a ng-href=#rules/{{v.id}} class="btn btn-default" title="{{_t(\'lb_update\')}}"><i class="fas fa-pencil-alt text-primary"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateRule(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-stop text-danger\' : \'fa-play text-success\'"></i></button> <button class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-click=cloneRule(v) ng-disabled=!v.active><i class="fas fa-clone"></i></button> <button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteRule({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div></div>'),e.put("app/views/automation/rules/simple/else.html",'<div class=form-group><label class=switch><input type=checkbox ng-model=rule.input.params.reverse ng-checked=rule.input.params.reverse> <span class=slider></span></label> <span class=switch-label>{{_t(\'activate_reverse_event\')}}</span></div><section ng-if=rule.input.params.reverse><div class="flex-input-group number-control"><label>{{_t(\'delay\')}}</label> <input class=form-control id=then_delay type=number ng-model=rule.input.params.simple.reverseDelay> <span>{{_t(\'seconds\')}}</span><bb-help-text trans="_t(\'help_delay\')"></bb-help-text></div><div class=list-panel ng-repeat="d in rule.input.params.simple.targetElements track by $index" ng-if="rule.else.deviceTypes.indexOf(d.deviceType) > -1"><div class=body><div><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img>&nbsp;{{rule.namespaces[d.deviceId].deviceName}}</div></div><div class=control ng-switch=d.deviceType><span ng-if="d.level==\'lvl\'">{{d.exact}}</span><span ng-if="d.level!=\'lvl\'">{{d.level}}</span>&nbsp;<i class="fas fa-arrow-right"></i>&nbsp; <span ng-switch-when=switchBinary ng-init="d.reverseLevel = getReverseLevel(d)"><strong>{{d.reverseLevel}}</strong> </span><span ng-switch-when=doorlock ng-init="d.reverseLevel = getReverseLevel(d)"><strong>{{d.reverseLevel}}</strong> </span><span ng-switch-when=switchMultilevel ng-init="d.reverseLevel = d.reverseLevel === undefined ? getReverseLevel(d) : d.reverseLevel"><strong ng-if="d.level!=\'lvl\' && rule.options.switchMultilevel.level.indexOf(d.level) > -1">{{d.level == \'off\' ? \'on\' : \'off\'}}</strong><span ng-if="d.level==\'lvl\' || rule.options.switchMultilevel.level.indexOf(d.level) === -1"><input type=number class="form-control input-number" min={{rule.options.switchMultilevel.min}} max={{rule.options.switchMultilevel.max}} ng-model=d.reverseLevel></span></span></div></div><section></section></section>'),e.put("app/views/automation/rules/simple/if_assigned.html",'<section class=accordion-wrap><h2 class="accordion-toggle ellipsis"><span class=no-toggle ng-if=rule.source.devices[rule.input.params.simple.triggerEvent.deviceId]><img class=navi-img ng-src={{rule.source.devices[rule.input.params.simple.triggerEvent.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{rule.source.devices[rule.input.params.simple.triggerEvent.deviceId].deviceName}}&nbsp; <em ng-if=rule.input.params.simple.triggerEvent.operator>[{{rule.input.params.simple.triggerEvent.operator}}&nbsp;{{rule.input.params.simple.triggerEvent.level}}]</em> <em ng-if="!rule.input.params.simple.triggerEvent.operator && _.isNumber(rule.input.params.simple.triggerEvent.level)">[{{rule.input.params.simple.triggerEvent.level}}]</em> <em ng-if="!rule.input.params.simple.triggerEvent.operator && !_.isNumber(rule.input.params.simple.triggerEvent.level)">[{{_t(rule.input.params.simple.triggerEvent.level)}}]</em> &nbsp;-&nbsp;<em>{{rule.source.devices[rule.input.params.simple.triggerEvent.deviceId].locationName}}</em> </span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignSourceDevice()><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-if="rule.input.params.simple.triggerEvent.deviceType != \'toggleButton\'" ng-init="hideAction=true;model=rule.input.params.simple.triggerEvent;if=true" ng-include="\'app/views/automation/rules/inputs/simple/\'+ rule.input.params.simple.triggerEvent.deviceType +\'.html\'"></div></section>'),e.put("app/views/automation/rules/simple/if_available.html",'<section class="accordion-wrap available-devices" ng-repeat="r in rule.rooms track by $index" ng-hide=!rule.source.devicesInRoom[r.id]><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img>&nbsp;{{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in rule.source.devices | orderBy:\'deviceName\' track by $index" ng-if="d.location == r.id && d.deviceId != rule.input.params.simple.triggerEvent.deviceId && d.deviceType != \'notification\'" ng-click=assignSourceDevice(d)><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section>'),e.put("app/views/automation/rules/simple/then_assigned_notifications.html",'<section class=accordion-wrap ng-repeat="n in rule.input.params.simple.sendNotifications track by $index" ng-init="model=n"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src="{{cfg.img.icons + \'alarm-on.png\'}}" err-src={{cfg.img.placeholder}} alt=img>{{n.targetName}}</span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignTargetNotification($index,n)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion hidden><select class=form-control ng-model=n.target><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == n.target">{{nc.name}} ({{nc.userName}})</option></select><div ng-include="\'app/views/automation/rules/inputs/notification.html\'"></div></div></section>'),e.put("app/views/automation/rules/simple/then_assigned.html",'<section class=accordion-wrap ng-repeat="d in rule.input.params.simple.targetElements track by $index" ng-init="model=d;inputType=\'simple\'"><h2 class="accordion-toggle ellipsis"><span class="no-toggle text-danger" ng-show=!rule.namespaces[d.deviceId]><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'device_removed\')}}&nbsp;({{d.deviceId}}) </span><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'" ng-hide=!rule.namespaces[d.deviceId]><span ng-if="rule.namespaces[d.deviceId].deviceName && !_.isObject(d.level)"><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{rule.namespaces[d.deviceId].deviceName}}&nbsp; [<em>{{_t(d.level)}}</em><em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]&nbsp;-&nbsp; <em>{{rule.namespaces[d.deviceId].locationName}}</em> </span><span ng-if="rule.namespaces[d.deviceId].deviceName && _.isObject(d.level)"><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{rule.namespaces[d.deviceId].deviceName}}&nbsp; <span class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span>&nbsp;-&nbsp; <em>{{rule.namespaces[d.deviceId].locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'" ng-hide=!rule.namespaces[d.deviceId]><span><img class=navi-img ng-src={{rule.namespaces[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{rule.namespaces[d.deviceId].deviceName}} </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignTargetDevice($index,d.deviceId)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-init="if=false" ng-include="\'app/views/automation/rules/inputs/simple/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section>'),e.put("app/views/automation/rules/simple/then_available.html",'<section class="accordion-wrap available-devices" ng-repeat="r in rule.rooms track by $index" ng-hide=!rule.target.devicesInRoom[r.id]><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img>&nbsp;{{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in rule.target.availableDevices track by $index" ng-if="d.location == r.id && rule.target.assignedDevices.indexOf(d.deviceId) === -1" ng-hide="d.deviceId == rule.input.params.simple.triggerEvent.deviceId" ng-click=assignTargetDevice(d)><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section><section class=accordion-wrap><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src="{{cfg.img.icons + \'alarm-on.png\'}}" err-src={{cfg.img.placeholder}} alt=img>&nbsp;{{_t(\'add_notification\')}}</span></button></h2><div class=accordion hidden><div class="form-group form-inline"><select class=form-control ng-model=rule.options.notification.default.target><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == e.channel">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group><textarea name=message id=content class="form-control report-content" ng-model=rule.options.notification.default.message placeholder="{{_t(\'message\')}}"></textarea></div><div class=form-group><a href="" class="btn btn-default btn-tag" title="{{_t(\'add_new\')}}" ng-click=assignTargetNotification(rule.options.notification.default)>{{_t(\'add_new\')}} <i class="fas fa-plus text-success"></i></a></div></div></section>'),e.put("app/views/automation/rules/simple/then.html","<div class=\"form-group form-inline\"><label>{{_t('delay')}}</label><div class=input-group><input class=form-control id=then_delay type=number ng-model=rule.input.params.simple.triggerDelay></div><bb-help-text trans=\"_t('help_delay')\"></bb-help-text></div>"),e.put("app/views/automation/scenes/scene_id_assigned_notification.html",'<section class=accordion-wrap ng-repeat="n in scene.input.params.notifications track by $index"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src="{{cfg.img.icons + \'alarm-on.png\'}}" err-src={{cfg.img.placeholder}} alt=img>{{n.targetName}}</span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignNotification($index,n)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion hidden><select class=form-control ng-model=n.target><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == n.target">{{nc.name}} ({{nc.userName}})</option></select><div ng-include="\'app/views/automation/scenes/scene_id_form_notification.html\'"></div><div></div></div></section>'),e.put("app/views/automation/scenes/scene_id_assigned.html",'<section class=accordion-wrap ng-repeat="v in scene.input.params.devices track by $index"><h2 class="accordion-toggle ellipsis"><span class="no-toggle text-danger" ng-if=!scene.availableDevices[v.deviceId]><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'device_removed\')}}&nbsp;({{v.deviceId}}) </span><button type=button aria-expanded=false bb-accordion ng-if="v.deviceType!=\'toggleButton\'" ng-hide=!scene.availableDevices[v.deviceId]><span><img class=navi-img ng-src={{scene.availableDevices[v.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{scene.availableDevices[v.deviceId].deviceName}}&nbsp; <span ng-if="v.deviceType==\'switchRGBW\' && _.isObject(v.level)" class=color-picker-show style="background-color: {{v.level|setRgbColors}};">&nbsp;</span> <span ng-if="v.deviceType!=\'switchRGBW\' || !_.isObject(v.level)"><em>[{{_t(v.level)}}<em ng-if="v.level == \'lvl\'">&nbsp;{{v.exact}}</em>]</em></span>&nbsp; -&nbsp;<em>{{scene.availableDevices[v.deviceId].locationName}}</em></span></button> <span class=no-toggle ng-if="v.deviceType==\'toggleButton\'" ng-hide=!scene.availableDevices[v.deviceId]><span><img class=navi-img ng-src={{scene.availableDevices[v.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{scene.availableDevices[v.deviceId].deviceName}}&nbsp;-&nbsp;<em>{{scene.availableDevices[v.deviceId].locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignDevice($index,v.deviceId)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-if="v.deviceType!=\'toggleButton\'" hidden ng-include="\'app/views/automation/scenes/scene_id_form_\'+v.deviceType+\'.html\'"></div></section>'),e.put("app/views/automation/scenes/scene_id_available.html",'<section class=accordion-wrap ng-repeat="r in scene.rooms track by $index" ng-class="scene.devicesInRoom[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img>&nbsp;{{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in scene.availableDevices" ng-if="d.location == r.id && scene.assignedDevices.indexOf(d.deviceId) === -1" ng-click=assignDevice(d)><img class=navi-img ng-src={{scene.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section><section class=accordion-wrap><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src="{{cfg.img.icons + \'alarm-on.png\'}}" err-src={{cfg.img.placeholder}} alt=img>&nbsp;{{_t(\'add_notification\')}}</span></button></h2><div class=accordion hidden><div class="form-group form-inline"><select class=form-control ng-model=scene.cfg.notification.default.target><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == v.channel">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group><textarea name=message id=content class="form-control report-content" ng-model=scene.cfg.notification.default.message placeholder="{{_t(\'message\')}}"></textarea></div><div class=form-group><a href="" class="btn btn-default btn-tag" title="{{_t(\'add_new\')}}" ng-click=assignNotification(scene.cfg.notification.default)>{{_t(\'add_new\')}} <i class="fas fa-plus text-success"></i></a></div></div></section>'),e.put("app/views/automation/scenes/scene_id_form_doorlock.html","<div class=form-group><label class=switch><input type=checkbox ng-model=v.level ng-checked=\"v.level == 'open'\" ng-true-value=open ng-false-value=close> <span class=slider></span></label> <span class=switch-label>{{v.level}}</span></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/scenes/scene_id_form_notification.html",'<div class=form-group><textarea name=message id=content class="form-control report-content" ng-model=n.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/scenes/scene_id_form_switchBinary.html","<div class=form-group><label class=switch><input type=checkbox ng-model=v.level ng-checked=\"v.level == 'on'\" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label>{{v.level}}</span></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/scenes/scene_id_form_switchMultilevel.html",'<div class="form-group form-inline"><select class=form-control ng-model=v.level><option value={{o}} ng-repeat="o in scene.cfg.switchMultilevel.level track by $index" ng-selected="o == v.level">{{_t(o)}}</option></select> <input type=number class="form-control input-number" min={{scene.cfg.switchMultilevel.min}} max={{scene.cfg.switchMultilevel.max}} ng-model=v.exact ng-if="v.level == \'lvl\'"></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/scenes/scene_id_form_switchRGBW.html",'<div class="form-group form-inline"><select class=form-control ng-model=v.level ng-change="v.level = (v.level == \'rgb\' ? {r:0,g:0,b:0} : v.level)"><option value={{o}} ng-repeat="o in scene.cfg.switchRGBW.level track by $index" ng-selected="o == v.level">{{o}}</option><option value=rgb ng-selected=_.isObject(v.level)>{{_t(\'colors\')}}</option></select> <span class=form-inline ng-hide="v.level.indexOf(v.level) > -1"><label>{{_t(\'red\')}} <input type=number class="form-control input-number" min={{scene.cfg.switchRGBW.min}} max={{scene.cfg.switchRGBW.max}} ng-model=v.level.r></label> <label>{{_t(\'green\')}} <input type=number class="form-control input-number" min={{scene.cfg.switchRGBW.min}} max={{scene.cfg.switchRGBW.max}} ng-model=v.level.g></label> <label>{{_t(\'blue\')}} <input type=number class="form-control input-number" min={{scene.cfg.switchRGBW.min}} max={{scene.cfg.switchRGBW.max}} ng-model=v.level.b></label><bb-help-text trans="_t(\'help_rgbw_value\')"></bb-help-text></span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/scenes/scene_id_form_thermostat.html","<div class=form-group><input type=number class=\"form-control input-number\" min={{scene.cfg.thermostat.min}} max={{scene.cfg.thermostat.max}} ng-model=v.level></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/scenes/scene_id_form.html","<div class=\"form-group form-inline\"><label>{{_t('lb_name')}}</label> <input name=title id=title class=form-control ng-model=scene.input.title></div>"),e.put("app/views/automation/scenes/scene_id_icons.html",'<legend>{{_t(\'custom_icons\')}}</legend><fieldset><div ng-if="scene.input.params.customIcon.table[\'0\'].icon"><img class=imglist-img alt=img ng-src="{{cfg.img.custom_icons + scene.input.params.customIcon.table[\'0\'].icon}}" err-src={{cfg.img.placeholder}}> <button type=button class="btn btn-text is-text" ng-click="removeCustomIcon(scene.input.params.customIcon.table[\'0\'].icon)"><i class="fas fa-trash text-danger"></i> {{_t(\'lb_cancel\')}}</button></div></fieldset><fieldset ng-if=!_.isEmpty(scene.icons)><p>{{_t(\'select_icon\')}}</p><div class="app-row clearfix app-row-imglist"><div class=imglist-entry ng-repeat="v in scene.icons| orderBy : \'-timestamp\' track by $index"><div class="imglist-entry-in infowindow-wrap"><img class="imglist-img clickable" ng-click=setCustomIcon(v.file) ng-src="{{cfg.img.custom_icons + v.file}}"></div></div></div></fieldset><fieldset><input class=inputfile type=file name=file id=file{{v.id}} ng-click="icons.find = v" onchange="angular.element(this).scope().uploadCustomIcon(this.files, angular.element(this).scope().cfg.upload.icon)"> <label for=file{{v.id}} class="btn btn-success" title="{{_t(\'lb_upload_image\')}}" ng-click="icons.find = v">&nbsp;<i class="fas fa-upload"></i>&nbsp;{{_t(\'upload_icon\')}}</label><bb-help-text trans="_t(\'upload_file_info\',{\'__size__\':scene.upload.maxSize,\'__extensions__\': scene.upload.extensions})"></bb-help-text><bb-help-text trans="_t(\'image_recommended_dimension\',{\'__dimension__\':cfg.upload.icon.dimension})"></bb-help-text></fieldset>'),e.put("app/views/automation/scenes/scene_id.html","<div class=automation ng-controller=AutomationSceneIdController><bb-loader></bb-loader><div ng-if=!scene.show ng-include=\"'app/views/automation/no_device.html'\"></div><div ng-if=scene.show><h2>{{_t('scenes')}}</h2><form class=\"form form-page\" ng-submit=storeScene(scene.input,true)><fieldset ng-include=\"'app/views/automation/scenes/scene_id_form.html'\"></fieldset><div ng-if=scene.assignedDevices.length><legend>{{_t('assigned_devices')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/scenes/scene_id_assigned.html'\"></fieldset></div><div ng-if=scene.assignedNotifications.length><legend>{{_t('assigned_notifications')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/scenes/scene_id_assigned_notification.html'\"></fieldset></div><legend>{{_t('lb_available_devices')}}</legend><fieldset data-collapse-all=true bb-child-elem=scene.assignedDevices ng-include=\"'app/views/automation/scenes/scene_id_available.html'\"></fieldset><div ng-include=\"'app/views/automation/scenes/scene_id_icons.html'\"></div><div class=\"fieldset submit-entry is-grid\"><span><label class=switch><input type=checkbox ng-model=scene.input.active> <span class=slider></span></label> <span class=switch-label>{{scene.input.active ? _t('lb_active'): _t('activeASC')}}</span> </span><span><a href=#scenes class=\"btn btn-default\" title=\"{{_t('lb_cancel')}}\"><i class=\"fas fa-reply\"></i> <span class=btn-name>{{_t('lb_cancel')}}</span> </a><button type=submit title=\"{{_t('lb_save')}}\" class=\"btn btn-submit\"><i class=\"fas fa-check\"></i> <span class=btn-name>{{_t('lb_save')}}</span></button></span></div></form></div></div>"),e.put("app/views/automation/scenes/scenes.html",'<div ng-controller=AutomationSceneController><div class="alert alert-info alert-flex" ng-if=!!oldScenes.length><i class="fas fa-info-circle"></i>&nbsp {{_t(\'ligthscenes_exists\')}}<div class="btn btn-default" style="margin-left: auto" ng-click=convertScene()>{{_t(\'ok_import\')}}</div></div><section class=page-topbar><h1>{{_t(\'scenes\')}}</h1><div class=btn-group><a ng-href=#automations class="btn btn-default" title="{{_t(\'lb_cancel\')}}"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span> </a><a class="btn btn-default" href=#scenes/0><i class="fas fa-plus text-success"></i> <span class=btn-name>{{_t(\'add_new\')}}</span></a></div></section><div class=list-panel ng-repeat="v in scenes.all track by $index" ng-class="{\'bcg-danger\':!v.active}"><figure class="img wh-32x32 clickable" ng-click="activateScene(v, v.active ? false : true)"><img ng-src="{{cfg.img.custom_icons + v.params.customIcon.table[\'0\'].icon}}" err-src={{cfg.img.placeholder}} alt=img></figure><div class=body><div><a href=#scenes/{{v.id}}>{{v.title}}</a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'autoDropdown_\' + $index, $event)"></button></div><div class=control ng-class="naviExpanded[\'autoDropdown_\' + $index] ? \'expand-true\': \'expand-false\'"><div class=btn-group><button title="{{_t(\'btn_test\')}}" class="btn btn-default" ng-disabled_="!_.contains(scenes.enableTest, v.id)" ng-click=runSceneTest(v)><bb-row-spinner spinner=rowSpinner[v.id] icon="\'fa-play-circle text-success\'"></bb-row-spinner></button> <a ng-href=#scenes/{{v.id}} class="btn btn-default" title="{{_t(\'lb_update\')}}">&nbsp;<i class="fas fa-pencil-alt text-primary"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateScene(v, v.active ? false : true)">&nbsp;<i class=fas ng-class="v.active ? \'fa-stop text-danger\' : \'fa-play text-success\'"></i></button> <button class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-click=cloneScene(v) ng-disabled=!v.active>&nbsp;<i class="fas fa-clone"></i></button> <button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteScene({\'id\': v.id}, _t(\'lb_delete_confirm\'))">&nbsp;<i class="fas fa-trash text-danger"></i></button></div></div></div></div>'),e.put("app/views/automation/schedules/schedule_id_assigned_notification.html",'<section class=accordion-wrap ng-repeat="n in schedule.input.params.notifications track by $index"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src="{{cfg.img.icons + \'alarm-on.png\'}}" err-src={{cfg.img.placeholder}} alt=img>{{n.targetName}}</span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignNotification($index,n)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion hidden><select class=form-control ng-model=n.target><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == n.target">{{nc.name}} ({{nc.userName}})</option></select><div ng-include="\'app/views/automation/schedules/schedule_id_form_notification.html\'"></div><div></div></div></section>'),e.put("app/views/automation/schedules/schedule_id_assigned.html",'<section class=accordion-wrap ng-repeat="v in schedule.input.params.devices track by $index"><h2 class="accordion-toggle ellipsis"><span class="no-toggle text-danger" ng-if=!schedule.availableDevices[v.deviceId]><i class="fas fa-exclamation-circle"></i> {{_t(\'device_removed\')}} ({{v.deviceId}}) </span><button type=button aria-expanded=false bb-accordion ng-if="v.deviceType!=\'toggleButton\'" ng-hide=!schedule.availableDevices[v.deviceId]><span><img class=navi-img ng-src={{schedule.availableDevices[v.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{schedule.availableDevices[v.deviceId].deviceName}} <span ng-if="v.deviceType==\'switchRGBW\' && _.isObject(v.level)" class=color-picker-show style="background-color: {{v.level|setRgbColors}};">&nbsp;</span> <span ng-if="v.deviceType!=\'switchRGBW\' || !_.isObject(v.level)"><em>[{{_t(v.level)}}<em ng-if="v.level == \'lvl\'">&nbsp;{{v.exact}}</em>]</em></span> - <em>{{schedule.availableDevices[v.deviceId].locationName}}</em></span></button> <span class=no-toggle ng-if="v.deviceType==\'toggleButton\'" ng-hide=!schedule.availableDevices[v.deviceId]><span><img class=navi-img ng-src={{schedule.availableDevices[v.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{schedule.availableDevices[v.deviceId].deviceName}} - <em>{{schedule.availableDevices[v.deviceId].locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignDevice($index,v.deviceId)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-if="v.deviceType!=\'toggleButton\'" hidden ng-include="\'app/views/automation/schedules/schedule_id_form_\'+v.deviceType+\'.html\'"></div></section>'),e.put("app/views/automation/schedules/schedule_id_available.html",'<section class=accordion-wrap ng-repeat="r in schedule.rooms track by $index" ng-class="schedule.devicesInRoom[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in schedule.availableDevices" ng-if="d.location == r.id &&  schedule.assignedDevices.indexOf(d.deviceId) === -1" ng-click=assignDevice(d)><img class=navi-img ng-src={{schedule.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section><section class=accordion-wrap><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src="{{cfg.img.icons + \'alarm-on.png\'}}" err-src={{cfg.img.placeholder}} alt=img>&nbsp;{{_t(\'add_notification\')}}</span></button></h2><div class=accordion hidden><div class="form-group form-inline"><select class=form-control ng-model=schedule.cfg.notification.default.target><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == e.channel">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group><textarea name=message id=content class="form-control report-content" ng-model=schedule.cfg.notification.default.message placeholder="{{_t(\'message\')}}"></textarea></div><div class=form-group><a href="" class="btn btn-default btn-tag" title="{{_t(\'add_new\')}}" ng-click=assignNotification(schedule.cfg.notification.default)>{{_t(\'add_new\')}} <i class="fas fa-plus text-success"></i></a></div></div></section>'),e.put("app/views/automation/schedules/schedule_id_form_doorlock.html","<div class=form-group><label class=switch><input type=checkbox ng-model=v.level ng-checked=\"v.level == 'open'\" ng-true-value=open ng-false-value=close> <span class=slider></span></label> <span class=switch-label>{{v.level}}</span></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/schedules/schedule_id_form_notification.html",'<div class=form-group><textarea name=message id=content class="form-control report-content" ng-model=n.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/schedules/schedule_id_form_switchBinary.html","<div class=form-group><label class=switch><input type=checkbox ng-model=v.level ng-checked=\"v.level == 'on'\" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label>{{v.level}}</span></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/schedules/schedule_id_form_switchMultilevel.html",'<div class="form-group form-inline"><select class=form-control ng-model=v.level><option value={{o}} ng-repeat="o in schedule.cfg.switchMultilevel.level track by $index" ng-selected="o == v.level">{{_t(o)}}</option></select> <input type=number class="form-control input-number" min={{schedule.cfg.switchMultilevel.min}} max={{schedule.cfg.switchMultilevel.max}} ng-model=v.exact ng-if="v.level == \'lvl\'"></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/schedules/schedule_id_form_switchRGBW.html",'<div class="form-group form-inline"><select class=form-control ng-model=v.level ng-change="v.level = (v.level == \'rgb\' ? {r:0,g:0,b:0} : v.level)"><option value={{o}} ng-repeat="o in schedule.cfg.switchRGBW.level track by $index" ng-selected="o == v.level">{{o}}</option><option value=rgb ng-selected=_.isObject(v.level)>{{_t(\'colors\')}}</option></select> <span class=form-inline ng-hide="v.level.indexOf(v.level) > -1"><label>{{_t(\'red\')}} <input type=number class="form-control input-number" min={{schedule.cfg.switchRGBW.min}} max={{schedule.cfg.switchRGBW.max}} ng-model=v.level.r></label> <label>{{_t(\'green\')}} <input type=number class="form-control input-number" min={{schedule.cfg.switchRGBW.min}} max={{schedule.cfg.switchRGBW.max}} ng-model=v.level.g></label> <label>{{_t(\'blue\')}} <input type=number class="form-control input-number" min={{schedule.cfg.switchRGBW.min}} max={{schedule.cfg.switchRGBW.max}} ng-model=v.level.b></label><bb-help-text trans="_t(\'help_rgbw_value\')"></bb-help-text></span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/schedules/schedule_id_form_thermostat.html","<div class=form-group><input type=number class=\"form-control input-number\" min={{schedule.cfg.thermostat.min}} max={{schedule.cfg.thermostat.max}} ng-model=v.level></div><div class=form-group><input type=checkbox name=send_command id=send_command ng-model=v.sendAction ng-checked=v.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/schedules/schedule_id_form.html",'<div class="form-group form-inline"><label>{{_t(\'lb_name\')}}</label> <input name=title id=title class=form-control ng-model=schedule.input.title></div><div class="form-group form-inline"><div class=checkbox ng-repeat="d in schedule.days"><input class=default type=checkbox id=day_{{d}} ng-change=toggleWeekday(d) ng-model=schedule.model.weekday[d] ng-checked="schedule.input.params.weekdays.indexOf(d.toString())  > -1"> <label for=day_{{d}}>{{_t(\'day_\' + d)}}</label></div></div><div class=form-group><button type=button class="btn btn-default btn-tag" title="{{_t(\'add_time\')}}" ng-click="schedule.input.params.times.push(\'00:00\')">{{_t(\'add_time\')}} <i class="fas fa-plus text-success"></i></button></div><div class=form-group><div class="form-group form-inline" ng-repeat="(index, value) in schedule.input.params.times track by $index"><input type=time class=form-control placeholder=HH:MM ng-model=schedule.input.params.times[index]> <button type=button class="btn btn-default" title=Remove ng-click="schedule.input.params.times.splice(index, 1)"><i class="fas fa-times text-danger"></i></button></div></div>'),e.put("app/views/automation/schedules/schedule_id.html","<div class=automation ng-controller=AutomationScheduleIdController><bb-loader></bb-loader><div ng-if=!schedule.show ng-include=\"'app/views/automation/no_device.html'\"></div><div ng-if=schedule.show><h2>{{_t('schedules')}}</h2><form class=\"form form-page\" ng-submit=storeSchedule(schedule.input,true)><fieldset ng-include=\"'app/views/automation/schedules/schedule_id_form.html'\"></fieldset><div ng-if=schedule.assignedDevices.length><legend>{{_t('assigned_devices')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/schedules/schedule_id_assigned.html'\"></fieldset></div><div ng-if=schedule.assignedNotifications.length><legend>{{_t('assigned_notifications')}}</legend><fieldset data-collapse-all=true ng-include=\"'app/views/automation/schedules/schedule_id_assigned_notification.html'\"></fieldset></div><legend>{{_t('lb_available_devices')}}</legend><fieldset data-collapse-all=true bb-child-elem=schedule.assignedDevices ng-include=\"'app/views/automation/schedules/schedule_id_available.html'\"></fieldset><div class=\"fieldset submit-entry is-grid\"><span><label class=switch><input type=checkbox ng-model=schedule.input.active> <span class=slider></span></label> <span class=switch-label>{{schedule.input.active ? _t('lb_active'): _t('activeASC')}}</span> </span><span><button type=button class=\"btn btn-default\" title=\"{{_t('lb_cancel')}}\" bb-go-back><i class=\"fas fa-reply\"></i> <span class=btn-name>{{_t('lb_cancel')}}</span></button> <button type=submit title=\"{{_t('lb_save')}}\" class=\"btn btn-submit\"><i class=\"fas fa-check\"></i> <span class=btn-name>{{_t('lb_save')}}</span></button></span></div></form></div></div>"),e.put("app/views/automation/schedules/schedules.html",'<div ng-controller=AutomationScheduleController><div class="alert alert-info alert-flex" ng-if=oldSchedules.length><i class="fas fa-info-circle"></i>&nbsp {{_t(\'scheduledscenes_exists\')}}<div class="btn btn-default" style="margin-left: auto" ng-click=convertSchedules()>{{_t(\'ok_import\')}}</div></div><section class=page-topbar><h1>{{_t(\'schedules\')}}</h1><div class=btn-group><a ng-href=#automations class="btn btn-default" title="{{_t(\'lb_cancel\')}}"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span> </a><a class="btn btn-default" href=#schedules/0><i class="fas fa-plus text-success"></i> <span class=btn-name>{{_t(\'add_new\')}}</span></a></div></section><div class=list-panel ng-repeat="v in schedules.all track by $index" ng-class="{\'bcg-danger\':!v.active}"><figure class="label-round is-48px clickable" ng-click="activateSchedule(v, v.active ? false : true)"><span>{{v.params.times[0]}}</span></figure><div class=body><div><a href=#schedules/{{v.id}}>{{v.title}}</a><div class=label-wrap><span class="label label-info" title="{{_t(\'day_\' + d)}}" ng-repeat="d in v.params.weekdays">{{_t(\'day_short_\' + d)}}</span></div></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'autoDropdown_\' + $index, $event)"></button></div><div class=control ng-class="naviExpanded[\'autoDropdown_\' + $index] ? \'expand-true\': \'expand-false\'"><div class=btn-group><button title="{{_t(\'btn_test\')}}" class="btn btn-default" ng-disabled="!_.contains(schedules.enableTest, v.id)" ng-click=runScheduleTest(v)><bb-row-spinner spinner=rowSpinner[v.id] icon="\'fa-play-circle text-success\'"></bb-row-spinner></button> <a ng-href=#schedules/{{v.id}} class="btn btn-default" title="{{_t(\'lb_update\')}}"><i class="fas fa-pencil-alt text-primary"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateSchedule(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-stop text-danger\' : \'fa-play text-success\'"></i></button> <button class="btn btn-default" title="{{_t(\'lb_clone\')}}" ng-click=cloneSchedule(v) ng-disabled=!v.active><i class="fas fa-clone"></i></button> <button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteSchedule({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div></div>'),e.put("app/views/automation/security/actions/additional.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'advanced_settings\')}}</span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div class=list-panel><div class="body form-inline"><div class="flex-input-group number-control"><label>{{_t(\'security_alarm_interval\')}}</label> <select class=form-control ng-model=security.input.params.times.interval><option value={{a}} ng-repeat="a in security.intervals track by $index" ng-selected="security.input.params.times.interval == a">{{_t(a)}}</option></select> <span>{{_t(\'security_alarm_interval_unit\')}}</span><bb-help-text trans="_t(\'help_security_alarm_interval\')"></bb-help-text></div></div></div></div></div>'),e.put("app/views/automation/security/actions/alarm.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'alarm_delay\')}}&nbsp;<span class=item-cnt>({{_.size(security.input.params.alarms.table)}})</span></span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div class=list-panel><div class="body form-inline"><div class="flex-input-group number-control"><label>{{_t(\'security_delay_before_alarm\')}}</label> <input class=form-control type=number ng-model=security.input.params.times.silent> <span>{{_t(\'seconds\')}}</span></div><bb-help-text trans="_t(\'help_security_delay_before_alarm\')"></bb-help-text></div></div><div data-collapse-all=true><section class=accordion-wrap ng-repeat="d in security.input.params.alarms.table track by $index" ng-init="model=d"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <span ng-if="d.deviceType==\'switchRGBW\' && _.isObject(d.level)" class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span> <span ng-if="d.deviceType!=\'switchRGBW\' || !_.isObject(d.level)"><em>[{{_t(d.level)}}<em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]</em></span>&nbsp; -&nbsp;<em>{{d.locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp;-&nbsp;<em>{{d.locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'alarms\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/security/inputs/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section></div><div class=list-panel><figure class="img wh-32x32 clickable" ng-click="expandElement(\'alarms\')"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'alarms\')"><div>{{_t(\'notification\')}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{!expand[\'alarms\']||false}}" ng-click="expandElement(\'alarms\')"></button></div><div class=control-collapsable ng-include="\'app/views/automation/security/actions/notification_alarm.html\'" ng-class="!expand[\'alarms\'] ? \'expand-true\': \'expand-false\'"></div></div></div><h3>{{_t(\'devices_triggered_delayed_alarm\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.alarms[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.alarms" ng-if="d.location == r.id &&  !security.input.params.alarms.table[getModelIndex(d.deviceId,\'alarms.table\')]" ng-click="assignDevice(d.deviceId,\'alarms\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/actions/arm_failure_action.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'arm_failure_action\')}} <span class=item-cnt>({{_.size(security.input.params.armFailureAction.table)}})</span></span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div data-collapse-all=true><section class=accordion-wrap ng-repeat="d in security.input.params.armFailureAction.table track by $index" ng-init="model=d"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <span ng-if="d.deviceType==\'switchRGBW\' && _.isObject(d.level)" class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span> <span ng-if="d.deviceType!=\'switchRGBW\' || !_.isObject(d.level)"><em>[{{_t(d.level)}}<em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]</em></span>&nbsp; -&nbsp;<em>{{d.locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp;-&nbsp;<em>{{d.locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'armFailureAction\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/security/inputs/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section></div><div class=list-panel><figure class="img wh-32x32 clickable" ng-click="expandElement(\'armFailureAction\')"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'armFailureAction\')"><div>{{_t(\'notification\')}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{!expand[\'armFailureAction\']||false}}" ng-click="expandElement(\'armFailureAction\')"></button></div><div class=control-collapsable ng-include="\'app/views/automation/security/actions/notification_armFailureAction.html\'" ng-class="!expand[\'armFailureAction\'] ? \'expand-true\': \'expand-false\'"></div></div></div><h3>{{_t(\'devices_triggered_arm_failure_action\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.armFailureAction[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.armFailureAction" ng-if="d.location == r.id &&  !security.input.params.armFailureAction.table[getModelIndex(d.deviceId,\'armFailureAction.table\')]" ng-click="assignDevice(d.deviceId,\'armFailureAction\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/actions/arming.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'arming\')}}&nbsp; <span class=item-cnt>({{_.size(security.input.params.armConfirm.table)}})</span></span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div data-collapse-all=true><section class=accordion-wrap ng-repeat="d in security.input.params.armConfirm.table track by $index" ng-init="model=d"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <span ng-if="d.deviceType==\'switchRGBW\' && _.isObject(d.level)" class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span> <span ng-if="d.deviceType!=\'switchRGBW\' || !_.isObject(d.level)"><em>[{{_t(d.level)}}<em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]</em></span>&nbsp; -&nbsp;<em>{{d.locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp;-&nbsp;<em>{{d.locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'armConfirm\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/security/inputs/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section></div><div class=list-panel><figure class="img wh-32x32 clickable" ng-click="expandElement(\'armConfirm\')"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'armConfirm\')"><div>{{_t(\'notification\')}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{!expand[\'armConfirm\']||false}}" ng-click="expandElement(\'armConfirm\')"></button></div><div class=control-collapsable ng-include="\'app/views/automation/security/actions/notification_arming.html\'" ng-class="!expand[\'armConfirm\'] ? \'expand-true\': \'expand-false\'"></div></div></div><h3>{{_t(\'devices_triggered_arming\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.armConfirm[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.armConfirm" ng-if="d.location == r.id &&  !security.input.params.armConfirm.table[getModelIndex(d.deviceId,\'armConfirm.table\')]" ng-click="assignDevice(d.deviceId,\'armConfirm\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/actions/disarming.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'disarming\')}} <span class=item-cnt>({{_.size(security.input.params.disarmConfirm.table)}})</span></span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div data-collapse-all=true><section class=accordion-wrap ng-repeat="d in security.input.params.disarmConfirm.table track by $index" ng-init="model=d"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <span ng-if="d.deviceType==\'switchRGBW\' && _.isObject(d.level)" class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span> <span ng-if="d.deviceType!=\'switchRGBW\' || !_.isObject(d.level)"><em>[{{_t(d.level)}}<em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]</em></span>&nbsp; -&nbsp;<em>{{d.locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp;-&nbsp;<em>{{d.locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'disarmConfirm\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/security/inputs/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section></div><div class=list-panel><figure class="img wh-32x32 clickable" ng-click="!expandElement(\'disarmConfirm\')"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'disarmConfirm\')"><div>{{_t(\'notification\')}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{expand[\'disarmConfirm\']||false}}" ng-click="expandElement(\'disarmConfirm\')"></button></div><div class=control-collapsable ng-include="\'app/views/automation/security/actions/notification_disarming.html\'" ng-class="!expand[\'disarmConfirm\'] ? \'expand-true\': \'expand-false\'"></div></div></div><h3>{{_t(\'devices_triggered_disarming\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.armConfirm[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.armConfirm" ng-if="d.location == r.id &&  !security.input.params.disarmConfirm.table[getModelIndex(d.deviceId,\'disarmConfirm.table\')]" ng-click="assignDevice(d.deviceId,\'disarmConfirm\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/actions/entrance-detected.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'entrance_detected\')}} <span class=item-cnt>({{_.size(security.input.params.entranceDetected.table)}})</span></span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div data-collapse-all=true><section class=accordion-wrap ng-repeat="d in security.input.params.entranceDetected.table track by $index" ng-init="model=d"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <span ng-if="d.deviceType==\'switchRGBW\' && _.isObject(d.level)" class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span> <span ng-if="d.deviceType!=\'switchRGBW\' || !_.isObject(d.level)"><em>[{{_t(d.level)}}<em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]</em></span>&nbsp; -&nbsp;<em>{{d.locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp;-&nbsp;<em>{{d.locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'entranceDetected\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/security/inputs/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section></div><div class=list-panel><figure class="img wh-32x32 clickable" ng-click="expandElement(\'entranceDetected\')"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'entranceDetected\')"><div>{{_t(\'notification\')}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{!expand[\'entranceDetected\']||false}}" ng-click="expandElement(\'entranceDetected\')"></button></div><div class=control-collapsable ng-include="\'app/views/automation/security/actions/notification-entrance-detected.html\'" ng-class="!expand[\'entranceDetected\'] ? \'expand-true\': \'expand-false\'"></div></div></div><h3>{{_t(\'devices_triggered_alarm\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.alarms[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.alarms" ng-if="d.location == r.id &&  !security.input.params.entranceDetected.table[getModelIndex(d.deviceId,\'entranceDetected.table\')]" ng-click="assignDevice(d.deviceId,\'entranceDetected\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/actions/notification_alarm.html",'<div class="form-group form-inline"><select class=form-control ng-model=security.input.params.alarms.notification.target><option value="" ng-selected="\'\' == security.input.params.alarms.notification.target">---</option><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == security.input.params.alarms.notification.target">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group ng-if="security.input.params.alarms.notification.target && security.input.params.alarms.notification.target !== \'\'"><textarea name=message id=content class="form-control report-content" ng-model=security.input.params.alarms.notification.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/security/actions/notification_armFailureAction.html",'<div class="form-group form-inline"><select class=form-control ng-model=security.input.params.armFailureAction.notification.target><option value="" ng-selected="\'\' == security.input.params.armFailureAction.notification.target">---</option><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == security.input.params.armFailureAction.notification.target">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group ng-if="security.input.params.armFailureAction.notification.target && security.input.params.armFailureAction.notification.target !== \'\'"><textarea name=message id=content class="form-control report-content" ng-model=security.input.params.armFailureAction.notification.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/security/actions/notification_arming.html",'<div class="form-group form-inline"><select class=form-control ng-model=security.input.params.armConfirm.notification.target><option value="" ng-selected="\'\' == security.input.params.armConfirm.notification.target">---</option><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == security.input.params.armConfirm.notification.target">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group ng-if="security.input.params.armConfirm.notification.target && security.input.params.armConfirm.notification.target !== \'\'"><textarea name=message id=content class="form-control report-content" ng-model=security.input.params.armConfirm.notification.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/security/actions/notification_disarming.html",'<div class="form-group form-inline"><select class=form-control ng-model=security.input.params.disarmConfirm.notification.target><option value="" ng-selected="\'\' == security.input.params.disarmConfirm.notification.target">---</option><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == security.input.params.disarmConfirm.notification.target">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group ng-if="security.input.params.disarmConfirm.notification.target && security.input.params.disarmConfirm.notification.target !== \'\'"><textarea name=message id=content class="form-control report-content" ng-model=security.input.params.disarmConfirm.notification.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/security/actions/notification_reset.html",'<div class="form-group form-inline"><select class=form-control ng-model=security.input.params.clean.notification.target><option value="" ng-selected="\'\' == security.input.params.clean.notification.target">---</option><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == security.input.params.clean.notification.target">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group ng-if="security.input.params.clean.notification.target && security.input.params.clean.notification.target !== \'\'"><textarea name=message id=content class="form-control report-content" ng-model=security.input.params.clean.notification.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/security/actions/notification_silent_alarm.html",'<div class="form-group form-inline"><select class=form-control ng-model=security.input.params.silentAlarms.notification.target><option value="" ng-selected="\'\' == security.input.params.silentAlarms.notification.target">---</option><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == security.input.params.silentAlarms.notification.target">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group ng-if="security.input.params.silentAlarms.notification.target && security.input.params.silentAlarms.notification.target !== \'\'"><textarea name=message id=content class="form-control report-content" ng-model=security.input.params.silentAlarms.notification.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/security/actions/notification-entrance-detected.html",'<div class="form-group form-inline"><select class=form-control ng-model=security.input.params.entranceDetected.notification.target><option value="" ng-selected="\'\' == security.input.params.entranceDetected.notification.target">---</option><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == security.input.params.entranceDetected.notification.target">{{nc.name}} ({{nc.userName}})</option></select></div><div class=form-group ng-if="security.input.params.entranceDetected.notification.target && security.input.params.entranceDetected.notification.target !== \'\'"><textarea name=message id=content class="form-control report-content" ng-model=security.input.params.entranceDetected.notification.message placeholder="{{_t(\'message\')}}"></textarea></div>'),e.put("app/views/automation/security/actions/reset.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'clear\')}} <span class=item-cnt>({{_.size(security.input.params.clean.table)}})</span></span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div data-collapse-all=true><section class=accordion-wrap ng-repeat="d in security.input.params.clean.table track by $index" ng-init="model=d"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <span ng-if="d.deviceType==\'switchRGBW\' && _.isObject(d.level)" class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span> <span ng-if="d.deviceType!=\'switchRGBW\' || !_.isObject(d.level)"><em>[{{_t(d.level)}}<em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]</em></span>&nbsp; -&nbsp;<em>{{d.locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp;-&nbsp;<em>{{d.locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'clean\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/security/inputs/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section></div><div class=list-panel><figure class="img wh-32x32 clickable" ng-click="expandElement(\'clean\')"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'clean\')"><div>{{_t(\'notification\')}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{!expand[\'clean\']||false}}" ng-click="expandElement(\'clean\')"></button></div><div class=control-collapsable ng-include="\'app/views/automation/security/actions/notification_reset.html\'" ng-class="!expand[\'clean\'] ? \'expand-true\': \'expand-false\'"></div></div></div><h3>{{_t(\'devices_triggered_clear\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.armConfirm[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.armConfirm" ng-if="d.location == r.id &&  !security.input.params.clean.table[getModelIndex(d.deviceId,\'clean.table\')]" ng-click="assignDevice(d.deviceId,\'clean\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/actions/silent_alarm.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'alarm\')}} <span class=item-cnt>({{_.size(security.input.params.silentAlarms.table)}})</span></span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div data-collapse-all=true><section class=accordion-wrap ng-repeat="d in security.input.params.silentAlarms.table track by $index" ng-init="model=d"><h2 class="accordion-toggle ellipsis"><button type=button aria-expanded=false bb-accordion ng-if="d.deviceType != \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <span ng-if="d.deviceType==\'switchRGBW\' && _.isObject(d.level)" class=color-picker-show style="background-color: {{d.level|setRgbColors}};">&nbsp;</span> <span ng-if="d.deviceType!=\'switchRGBW\' || !_.isObject(d.level)"><em>[{{_t(d.level)}}<em ng-if="d.level == \'lvl\'">&nbsp;{{d.exact}}</em>]</em></span>&nbsp; -&nbsp;<em>{{d.locationName}}</em></span></button> <span class=no-toggle ng-if="d.deviceType == \'toggleButton\'"><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp;-&nbsp;<em>{{d.locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'silentAlarms\')"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-include="\'app/views/automation/security/inputs/\'+ d.deviceType +\'.html\'" ng-if="d.deviceType != \'toggleButton\'" hidden></div></section></div><div class=list-panel><figure class="img wh-32x32 clickable" ng-click="expandElement(\'silentAlarms\')"><img ng-src={{cfg.img.icons}}security-alarmed.png err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'silentAlarms\')"><div>{{_t(\'notification\')}}</div></div><div class=control><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" aria-expanded="{{!expand[\'silentAlarms\']||false}}" ng-click="expandElement(\'silentAlarms\')"></button></div><div class=control-collapsable ng-include="\'app/views/automation/security/actions/notification_silent_alarm.html\'" ng-class="!expand[\'silentAlarms\'] ? \'expand-true\': \'expand-false\'"></div></div></div><h3>{{_t(\'devices_triggered_alarm\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.alarms[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.alarms track by $index" ng-if="d.location == r.id &&  !security.input.params.silentAlarms.table[getModelIndex(d.deviceId,\'silentAlarms.table\')]" ng-click="assignDevice(d.deviceId,\'silentAlarms\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/bydevice/bydevice.html",'<div class=panel-wrap><div class=list-panel ng-repeat="d in security.input.params.controls.table track by $index"><figure class="img wh-32x32 clickable" ng-click="expandElement(\'securityControl_\' + d.devices)"><img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img></figure><div class="body clickable" ng-click="expandElement(\'securityControl_\' + d.devices)"><div>{{d.deviceName}} - <em class=item-cnt>{{d.locationName}}</em></div></div><div class=security-control><button type=button class=arrow-btn title="{{_t(\'lb_settings\')}}" aria-expanded="{{expand[\'securityControl_\' + d.devices]}}" ng-click="expandElement(\'securityControl_\' + d.devices)"><i ng-if="!expand[\'securityControl_\' + d.devices]" class="fal fa-2x fa-angle-down"></i> <i ng-if="expand[\'securityControl_\' + d.devices]" class="fal fa-2x fa-angle-up"></i></button> <button type=button class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'controls\')"><i class="fas fa-times text-danger"></i></button></div><div ng-repeat="type in security.cfg.controls.deviceType track by $index" ng-if="d.deviceType === type" ng-include="\'app/views/automation/security/bydevice/\' + getTemplate(type)" class="control-collapsable form-inline" ng-class="expand[\'securityControl_\' + d.devices] ? \'expand-true\': \'expand-false\'"></div></div><h3>{{_t(\'devices_disarm_security\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.controls[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.controls" ng-if="d.location == r.id &&  !security.input.params.controls.table[getModelIndex(d.deviceId,\'controls.table\')]" ng-click="assignDevice(d.deviceId,\'controls\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/bydevice/on-of-never-template.html","<ng-container ng-repeat=\"field in ['armCondition', 'disarmCondition', 'clearCondition']\"><label>{{_t(field)}}</label> <select ng-model=d[field] class=form-control><option ng-repeat=\"a in security.cfg.controls.status | filter: binarySwitchFilter(d, field)\" value={{a}} ng-selected=\"a === d[field]\">{{_t(a)}}</option></select></ng-container>"),e.put("app/views/automation/security/bydevice/switch-template.html","<ng-container ng-repeat=\"field in ['armCondition', 'disarmCondition', 'clearCondition']\"><label>{{_t(field)}}</label> <input class=form-control ng-model=d[field]></ng-container>"),e.put("app/views/automation/security/bydevice/toggle-template.html","<div class=form-control ng-repeat=\"field in ['armCondition', 'disarmCondition', 'clearCondition']\"><label><input type=radio ng-model=d.toggleButton ng-value=field> {{_t(field)}}</label></div>"),e.put("app/views/automation/security/conditions/armFailureAction.html","<h2 class=\"accordion-toggle chevron\"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t('alarm')}} <span class=item-cnt>({{_.size(security.input.params.input.table)}})</span></span></button></h2><div class=\"accordion no-bcg\" hidden><div class=panel-wrap><div class=\"form-group condition-panel\" ng-if=security.input.params.input.table.length><div class=condition-body>{{_t('device_title')}}</div><div class=condition-control><div>{{_t('alarm_condition')}}</div><div>{{_t('arm_condition')}}</div><div>{{_t('entrance_group')}}</div></div></div><div class=condition-panel ng-repeat=\"d in security.input.params.input.table track by $index\"><div class=condition-body><figure class=\"img wh-32x32\"><img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img></figure><div><span>{{d.deviceName}} - <em class=item-cnt>{{d.locationName}}</em></span></div></div><div class=condition-control><label class=switch><input type=checkbox ng-model=d.conditions ng-true-value=on ng-false-value=off> <span class=slider></span></label> <label class=switch-with-text><input type=checkbox ng-model=d.armCondition ng-true-value=off ng-false-value=on> <span class=slider-with-text></span> <span class=right-side-text>{{_t('main_group')}}</span> <span class=left-side-text>{{_t('entrance_group')}}</span></label> <button type=button class=\"btn btn-text\" title=\"{{_t('lb_remove')}}\" ng-click=\"unassignDevice(d.devices,'input')\"><i class=\"fas fa-times text-danger\"></i></button></div></div></div><h3>{{_t('devices_trigger_alarm')}}</h3><section class=accordion-wrap ng-repeat=\"r in security.rooms track by $index\" ng-class=\"security.devicesInRoom.input[r.id] ? 'available-devices' : 'ng-hide'\"><h2 class=\"accordion-toggle chevron\"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href=\"\" class=\"btn btn-default btn-tag\" title=\"{{d.deviceName + ' | ' + _t(d.deviceType)}}\" ng-repeat=\"d in security.devices.input track by $index\" ng-if=\"d.location == r.id &&  !security.input.params.input.table[getModelIndex(d.deviceId,'input.table')]\" ng-click=\"assignDevice(d.deviceId,'input')\"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class=\"fas fa-plus text-success\" title=\"{{_t('add_new')}}\"></i></a></div></section><section><div class=\"body form-inline form-group\"><div class=\"flex-input-group number-control\"><div>{{_t('sensor_function')}}</div><div><b>{{_t('alarm_condition')}}</b> - {{_t('alarm_condition_help')}}</div><div><b>{{_t('main_group')}}</b> - {{_t('arm_condition_help')}}</div><div><b>{{_t('entrance_group')}}</b> - {{_t('entrance_group_help')}}</div></div></div><div class=\"body form-inline\"><div class=\"flex-input-group number-control\"><input class=form-control type=number ng-model=security.input.params.times.delaySensorAtTheEntrance> <span>{{_t('entrance_group_delay')}}</span></div><bb-help-text trans=\"_t('help_entrance_group_delay')\"></bb-help-text></div></section></div>"),e.put("app/views/automation/security/conditions/arming.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=is-legend>{{_t(\'inputArming\')}} <span class=item-cnt>({{_.size(security.input.params.inputArming.table)}})</span></span></button></h2><div class="accordion no-bcg" hidden><div class=panel-wrap><div class="form-group condition-panel" ng-if=security.input.params.inputArming.table.length><div class=condition-body>{{_t(\'device_title\')}}</div><div class=condition-control><div></div><div></div><div>{{_t(\'input_arming_header\')}}</div></div></div><div class=condition-panel ng-repeat="d in security.input.params.inputArming.table track by $index"><div class=condition-body><figure class="img wh-32x32"><img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img></figure><div><span>{{d.deviceName}} - <em class=item-cnt>{{d.locationName}}</em></span></div></div><div class=condition-control><div></div><div></div><label class=switch><input type=checkbox ng-model=d.conditions ng-true-value=on ng-false-value=off> <span class=slider></span></label> <button type=button class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="unassignDevice(d.devices,\'inputArming\')"><i class="fas fa-times text-danger"></i></button></div></div></div><h3>{{_t(\'devicesRequiredForArming\')}}</h3><section class=accordion-wrap ng-repeat="r in security.rooms track by $index" ng-class="security.devicesInRoom.input[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in security.devices.input" ng-if="d.location == r.id &&  !security.input.params.inputArming.table[getModelIndex(d.deviceId,\'inputArming.table\')]" ng-click="assignDevice(d.deviceId,\'inputArming\')"><img class=navi-img ng-src={{security.availableDevices[d.deviceId].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></div>'),e.put("app/views/automation/security/conditions/conditions.html","<fieldset class=accordion-wrap ng-include=\"'app/views/automation/security/conditions/armFailureAction.html'\"></fieldset><fieldset class=accordion-wrap ng-include=\"'app/views/automation/security/conditions/arming.html'\"></fieldset>"),e.put("app/views/automation/security/id.html",'<section class=automation ng-controller=SecurityIdController><bb-loader></bb-loader><h2>{{_t(\'title_security\')}}</h2><bb-alert alert=security.alert></bb-alert><div class=tab-wrap><div class="btn-group btn-group-justified btn-goup-tabs" role=tablist ng-include="\'app/views/automation/security/tabs.html\'"></div><form class="form form-page" ng-submit=storeInstance(security.input,true)><div id=tabpanel1 role=tabpanel><fieldset ng-include="\'app/views/automation/security/conditions/conditions.html\'"></fieldset></div><div id=tabpanel2 role=tabpanel hidden><fieldset class=accordion-wrap ng-include="\'app/views/automation/security/actions/silent_alarm.html\'"></fieldset><fieldset class=accordion-wrap ng-include="\'app/views/automation/security/actions/alarm.html\'"></fieldset><fieldset class=accordion-wrap ng-include="\'app/views/automation/security/actions/arming.html\'"></fieldset><fieldset class=accordion-wrap ng-include="\'app/views/automation/security/actions/arm_failure_action.html\'"></fieldset><fieldset class=accordion-wrap ng-include="\'app/views/automation/security/actions/disarming.html\'"></fieldset><fieldset class=accordion-wrap ng-include="\'app/views/automation/security/actions/reset.html\'"></fieldset><fieldset class=accordion-wrap ng-include="\'app/views/automation/security/actions/entrance-detected.html\'"></fieldset><fieldset class=accordion-wrap ng-include="\'app/views/automation/security/actions/additional.html\'"></fieldset></div><div id=tabpanel3 role=tabpanel hidden><fieldset ng-include="\'app/views/automation/security/time/time_schedule.html\'"></fieldset></div><div id=tabpanel4 role=tabpanel hidden><fieldset ng-include="\'app/views/automation/security/bydevice/bydevice.html\'"></fieldset></div><div class="fieldset submit-entry is-grid"><span><label class=switch><input type=checkbox ng-model=security.input.active ng-disabled="_.size(security.input.params.input.table) < 1"> <span class=slider></span></label> <span class=switch-label>{{security.input.active ? _t(\'lb_active\'): _t(\'activeASC\')}}</span> </span><span><a ng-href=#automations class="btn btn-default" title="{{_t(\'lb_cancel\')}}"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span> </a><button type=submit title="{{_t(\'lb_save\')}}" class="btn btn-submit" ng-disabled=!security.devicesAvailable><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></span></div></form></div></section>'),e.put("app/views/automation/security/inputs/doorlock.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=close ng-false-value=open> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/security/inputs/switchBinary.html","<div class=form-group><label class=switch><input type=checkbox ng-model=model.level ng-checked=\"model.level == 'on'\" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label>{{model.level}}</span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t('dont_send_on_command')}}</label></div>"),e.put("app/views/automation/security/inputs/switchMultilevel.html",'<div class="form-group form-inline"><select class=form-control ng-model=d.level><option value={{o}} ng-repeat="o in security.cfg.options.switchMultilevel.level track by $index" ng-selected="o == d.level">{{_t(o)}}</option></select> <input type=number class="form-control input-number" min={{security.cfg.options.switchMultilevel.min}} max={{security.cfg.options.switchMultilevel.max}} ng-model=d.exact ng-if="d.level == \'lvl\'"></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=d.sendAction ng-checked=d.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/security/inputs/switchRGBW.html",'<div class="form-group form-inline"><select class=form-control ng-model=model.level ng-change="model.level = (model.level == \'rgb\' ? {r:0,g:0,b:0} : model.level)"><option value={{o}} ng-repeat="o in security.cfg.options.switchRGBW.level track by $index" ng-selected="o == model.level">{{o}}</option><option value=rgb ng-selected=_.isObject(model.level)>{{_t(\'colors\')}}</option></select> <span class=form-inline ng-hide="security.cfg.options.switchRGBW.level.indexOf(model.level) > -1"><label>{{_t(\'red\')}} <input type=number class="form-control input-number" min={{security.cfg.options.switchRGBW.min}} max={{security.cfg.options.switchRGBW.max}} ng-model=model.level.r></label> <label>{{_t(\'green\')}} <input type=number class="form-control input-number" min={{security.cfg.options.switchRGBW.min}} max={{security.cfg.options.switchRGBW.max}} ng-model=model.level.g></label> <label>{{_t(\'blue\')}} <input type=number class="form-control input-number" min={{security.cfg.options.switchRGBW.min}} max={{security.cfg.options.switchRGBW.max}} ng-model=model.level.b></label><bb-help-text trans="_t(\'help_rgbw_value\')"></bb-help-text></span></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/security/inputs/thermostat.html",'<div class="form-group form-inline"><span ng-show="model.operator == \'\'"><label class=switch><input type=checkbox ng-model=model.level ng-checked="model.level == \'on\'" ng-true-value=on ng-false-value=off> <span class=slider></span></label> <span class=switch-label ng-hide=_.isNumber(model.level)>{{model.level}}</span> </span><select class=form-control ng-model=model.operator><option value="">---</option><option value={{o}} ng-repeat="o in security.cfg.options.thermostatoperator track by $index" ng-selected="o == model.operator">{{o}}</option></select> <input type=number class="form-control input-number" min={{security.cfg.options.thermostatmin}} max={{security.cfg.options.thermostatmax}} ng-model=model.level ng-if="model.operator != \'\'"></div><div class=form-group ng-if=!hideAction><input type=checkbox name=send_command id=send_command ng-model=model.sendAction ng-checked=model.sendAction> <label for=send_command>{{_t(\'dont_send_on_command\')}}</label></div>'),e.put("app/views/automation/security/security.html","<div ng-controller=SecurityController><h2>{{_t('title_security')}}</h2></div>"),e.put("app/views/automation/security/tabs.html",'<div class="tabs-wrap form-inline"><div class="btn-group btn-group-justified btn-goup-tabs"><a class="btn btn-default" title="{{_t(\'alarm_conditions\')}}" role=tab data-href=#tabpanel1 aria-selected=true bb-tab><i class="fas fa-bell"></i> <span class=btn-name>{{_t(\'alarm_conditions\')}}</span> </a><a class="btn btn-default" title="{{_t(\'actions_on\')}}" role=tab data-href=#tabpanel2 bb-tab><i class="fas fa-play"></i> <span class=btn-name>{{_t(\'actions_on\')}}</span> </a><a class="btn btn-default" title="{{_t(\'disarm_time\')}}" role=tab data-href=#tabpanel3 ng-click="renderSchedule(\'#schedule-disarm\')" bb-tab><i class="fas fa-clock"></i> <span class=btn-name>{{_t(\'disarm_time\')}}</span> </a><a class="btn btn-default" title="{{_t(\'disarm_device\')}}" role=tab data-href=#tabpanel4 bb-tab><i class="fas fa-gamepad"></i> <span class=btn-name>{{_t(\'disarm_device\')}}</span></a></div></div>'),e.put("app/views/automation/security/time/mobile_schedule.html",'<table class="table-responsive security-schedule"><thead><th class=l-hide>&nbsp;</th><th>{{_t(\'time_period\')}}</th><th>{{_t(\'day_short_0\')}}</th><th>{{_t(\'day_short_1\')}}</th><th>{{_t(\'day_short_2\')}}</th><th>{{_t(\'day_short_3\')}}</th><th>{{_t(\'day_short_4\')}}</th><th>{{_t(\'day_short_5\')}}</th><th>{{_t(\'day_short_6\')}}</th><th>&nbsp;</th></thead><tbody><tr data-expanded=false ng-repeat="v in security.mobileSchedule track by $index"><td class=td-accordion-toggle><button type=button aria-expanded=false bb-table-accordion>{{v.arm}}&nbsp; - &nbsp;{{v.disarm}}</button></td><td class=td-header title="{{_t(\'time_period\')}}" class=form-inline><input type=time class=form-control ng-model=v.arm ng-change="timeChanged($index, \'{{v.arm}}\', \'arm\')"> &nbsp; - &nbsp; <input type=time class=form-control ng-model=v.disarm ng-change="timeChanged($index, \'{{v.disarm}}\', \'disarm\')"></td><td class=td-header title="{{_t(\'day_short_0\')}}" ng-class="{\'active\': v[0]}" ng-click="toggleTime(v, 0, $index)"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_1\')}}" ng-class="{\'active\': v[1]}" ng-click="toggleTime(v, 1, $index)"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_2\')}}" ng-class="{\'active\': v[2]}" ng-click="toggleTime(v, 2, $index)"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_3\')}}" ng-class="{\'active\': v[3]}" ng-click="toggleTime(v, 3, $index)"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_4\')}}" ng-class="{\'active\': v[4]}" ng-click="toggleTime(v, 4, $index)"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_5\')}}" ng-class="{\'active\': v[5]}" ng-click="toggleTime(v, 5, $index)"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_6\')}}" ng-class="{\'active\': v[6]}" ng-click="toggleTime(v, 6, $index)"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'lb_remove\')}}" class=td-action><button type=button class="btn btn-text" title=Remove ng-click=unassignTimeSchedule($index)><i class="fas fa-times text-danger"></i></button></td></tr></tbody></table><div class="section text-right"><button type=button title="{{_t(\'add_new\')}}" class="btn btn-submit" ng-click=assignTimeSchedule()><i class="fas fa-plus"></i> &nbsp;{{_t(\'add_new_scheduler\')}}</button></div>'),e.put("app/views/automation/security/time/security_modal.html",'<div id=securityModal class=appmodal ng-if=modalArr.securityModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'securityModal\', $event)"><i class="fas fa-times"></i></span><h3>{{security.securityModal.title}}</h3></div><div class="appmodal-body text-center"><div><button class="btn btn-default" type=button ng-click="deleteBar(security.securityModal, $event)"><i class="fas fa-trash text-danger"></i> {{_t(\'delete\')}}</button></div></div></div></div>'),e.put("app/views/automation/security/time/time_schedule.1.html",'<div class=form-group><label class=switch><input type=checkbox ng-model=security.input.params.times.aktive> <span class=slider></span></label> <span class=switch-label>{{_t(\'security_immediate_activate_schedule\')}}</span><bb-help-text trans="_t(\'help_security_immediate_activate_schedule\')"></bb-help-text></div><table class="table-responsive security-schedule"><thead><th class=l-hide>&nbsp;</th><th>{{_t(\'time_period\')}}</th><th>{{_t(\'disarm_arm\')}}</th><th>{{_t(\'day_short_0\')}}</th><th>{{_t(\'day_short_1\')}}</th><th>{{_t(\'day_short_2\')}}</th><th>{{_t(\'day_short_3\')}}</th><th>{{_t(\'day_short_4\')}}</th><th>{{_t(\'day_short_5\')}}</th><th>{{_t(\'day_short_6\')}}</th><th>&nbsp;</th></thead><tbody><tr data-expanded=false ng-repeat="v in security.input.params.times.table track by $index"><td class=td-accordion-toggle><button type=button aria-expanded=false bb-table-accordion>{{v.times}}</button></td><td class=td-header title="{{_t(\'time_period\')}}" class=form-inline><span ng-hide=security.editSchedule[$index]>{{v.times}}</span> <input type=time class=form-control ng-model=v.times ng-if=security.editSchedule[$index]> <button type=button class="btn btn-text" title=Remove ng-click="security.editSchedule[$index] = !security.editSchedule[$index]"><i class="fas text-info" ng-class="{\'fa-check\': security.editSchedule[$index],\'fa-pencil-alt\': !security.editSchedule[$index]}"></i></button></td><td class=td-header title="{{_t(\'disarm_arm\')}}"><label class=switch><input type=checkbox ng-model=v.condition ng-false-value=disarm ng-true-value=arm ng-checked="v.condition == \'arm\'"> <span class=slider></span></label></td><td class=td-header title="{{_t(\'day_short_0\')}}" ng-class="{\'active\': v[0]}" ng-click="v[0] = !v[0]"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_1\')}}" ng-class="{\'active\': v[1]}" ng-click="v[1] = !v[1]"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_2\')}}" ng-class="{\'active\': v[2]}" ng-click="v[2] = !v[2]"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_3\')}}" ng-class="{\'active\': v[3]}" ng-click="v[3] = !v[3]"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_4\')}}" ng-class="{\'active\': v[4]}" ng-click="v[4] = !v[4]"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_5\')}}" ng-class="{\'active\': v[5]}" ng-click="v[5] = !v[5]"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'day_short_6\')}}" ng-class="{\'active\': v[6]}" ng-click="v[6] = !v[6]"><i class="fas fa-check"></i></td><td class=td-header title="{{_t(\'lb_remove\')}}" class=td-action><button type=button class="btn btn-text" title=Remove ng-click=unassignTimeScheduler($index)><i class="fas fa-times text-danger"></i></button></td></tr></tbody></table><div class="section text-right"><button type=button title="{{_t(\'add_new\')}}" class="btn btn-submit" ng-click=assignTimeScheduler()><i class="fas fa-plus"></i> &nbsp;{{_t(\'add_new_scheduler\')}}</button></div>'),e.put("app/views/automation/security/time/time_schedule.html","<div class=form-group><label class=switch><input type=checkbox ng-model=security.input.params.times.aktive> <span class=slider></span></label> <span class=switch-label>{{_t('security_immediate_activate_schedule')}}</span><bb-help-text trans=\"_t('help_security_immediate_activate_schedule')\"></bb-help-text></div><div ng-hide=\"deviceDetector.isMobile() || cfg.route.os == 'ZWayMobileAppAndroid' || cfg.route.os == 'ZWayMobileAppiOS'\"><div id=schedule-disarm class=schedule></div><bb-help-text trans=\"_t('help_security_schedule')\"></bb-help-text></div><div ng-if=\"deviceDetector.isMobile() || cfg.route.os == 'ZWayMobileAppAndroid' || cfg.route.os == 'ZWayMobileAppiOS'\" ng-include=\"'app/views/automation/security/time/mobile_schedule.html'\"></div><div ng-include=\"'app/views/automation/security/time/security_modal.html'\"></div>"),e.put("app/views/camera/camera_add.html",'<div ng-controller=CameraAddController><div ng-include="\'app/views/camera/camera_navi.html\'"></div><div class="list-panel bcg-active" ng-repeat="v in ipcameraDevices | orderBy:\'defaults.title\' track by v.moduleName"><figure class="img wh-32x32"><img ng-src="{{moduleMediaUrl + v.moduleName + \'/\' + v.icon}}" ng-if=v.icon alt=img> <img ng-src=storage/img/icons/camera.png ng-if=!v.icon alt=img></figure><div class=body><div><a href=#module/post/{{v.id}}>{{v.defaults.title}}</a></div></div><div class=control><a href=#module/post/{{v.id}} class="btn btn-default" title="{{_t(\'lb_include_device\')}}"><i class="fas fa-plug text-primary"></i></a></div></div><div class=device-logo ng-include="\'app/views/camera/camera_nav.html\'"></div></div>'),e.put("app/views/camera/camera_manage.html",'<div ng-controller=CameraManageController><div ng-include="\'app/views/camera/camera_navi.html\'"></div><div class="list-panel bcg-active" ng-repeat="v in instances |orderBy:\'title\' track by v.id" ng-class="v.active ? \'true\': \'false\'"><figure class="img wh-32x32"><img ng-src="{{modules.mediaUrl + v.moduleId + \'/\' + modules.imgs[v.moduleId]}}" ng-if=modules.imgs[v.moduleId] alt=img> <img ng-src=storage/img/placeholder-img.png ng-if=!modules.imgs[v.moduleId] alt=img></figure><div class=body><div><a href=#module/put/{{v.id}}>{{v.title}}</a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'camera_\' + $index, $event)"></button></div><div class=control ng-class="naviExpanded[\'camera_\' + $index] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a href=#module/put/{{v.id}} class="btn btn-default" title="{{_t(\'lb_settings\')}}"><i class="fas fa-cog"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateInstance(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-pause text-danger\' : \'fa-play text-success\'"></i></button> <button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div><div class=device-logo ng-include="\'app/views/camera/camera_nav.html\'"></div></div>'),e.put("app/views/camera/camera_nav.html","<a href=#devices><img class=apps-image ng-src=app/img/logo-camera.svg alt=Logo></a>"),e.put("app/views/camera/camera_navi.html","<div class=\"tabs-wrap form-inline\"><div class=\"btn-group btn-group-justified btn-goup-tabs\"><a class=\"btn btn-default\" href=#camera/add title=\"{{_t('add_new')}}\" ng-class=\"routeMatch('/camera/add') ? 'active' : ''\"><i class=\"fas fa-plus\"></i> <span class=btn-name>{{_t('add_new')}}</span> </a><a class=\"btn btn-default\" href=#camera/manage title=\"{{_t('camera')}}\" ng-class=\"routeMatch('/camera/manage') ? 'active' : ''\"><i class=\"fas fa-video\"></i> <span class=btn-name>{{_t('camera')}}</span></a></div></div>"),e.put("app/views/customize/icons/icons_local.html",'<div ng-controller=LocalIconController><bb-loader></bb-loader><div ng-include="\'app/views/customize/navi.html\'"></div><div ng-if=icons.show><div class="form form-inline form-page clearfix"><div class="fieldset block-50"><input class=inputfile type=file name=file id=file{{v.id}} ng-click="icons.find = v" onchange="angular.element(this).scope().checkUploadedFile(this.files, angular.element(this).scope().cfg.upload.icon)"> <label for=file{{v.id}} class="btn btn-success" title="{{_t(\'lb_upload_image\')}}" ng-click="icons.find = v"><i class="fas fa-upload"></i> {{_t(\'upload_single_icon\')}}</label><bb-help-text trans="_t(\'upload_file_info\',{\'__size__\':icons.info.maxSize,\'__extensions__\': icons.info.extensions})"></bb-help-text><bb-help-text trans="_t(\'image_recommended_dimension\',{\'__dimension__\':cfg.upload.icon.dimension})"></bb-help-text></div><div class="fieldset block-50"><input class=inputfile type=file name=file_packed id=file_packed{{v.id}} ng-click="icons.find = v" onchange="angular.element(this).scope().checkUploadedFile(this.files, angular.element(this).scope().cfg.upload.icon_packed)"> <label for=file_packed{{v.id}} class="btn btn-primary" title="{{_t(\'lb_upload_image\')}}" ng-click="icons.find = v"><i class="fas fa-upload"></i> {{_t(\'upload_packed_icon\')}}</label><bb-help-text trans="_t(\'upload_file_info\',{\'__size__\':icons.infoPacked.maxSize,\'__extensions__\': icons.infoPacked.extensions})"></bb-help-text><bb-help-text trans="_t(\'image_recommended_dimension\',{\'__dimension__\':cfg.upload.icon_packed.dimension})"></bb-help-text></div></div><div ng-if=!_.isEmpty(icons.all)><div class="page-control form-inline"><div class="btn-group btn-goup-block btn-goup-2" ng-class="{\'btn-goup-3\': checkAll}"><button class="btn btn-default" title="{{_t(\'lb_filter_by\')}}" ng-click="expandNavi(\'iconsLocalFilter\', $event)" ng-class="icons.filter.source ? \'active\' : \'\'"><i class="fas fa-filter"></i> <span class=btn-name ng-if=!icons.filter.source>{{_t(\'lb_show_all\')}} </span><span class=btn-name ng-if=icons.filter.source>{{icons.source.title[icons.filter.source]| cutText:true:30}}</span></button> <button class="btn btn-default" title="{{_t(\'select_icon\')}}" ng-class="{\'active text-success\': checkAll}" ng-click=toggleAll()><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'select_icon\')}}</span></button> <button class="btn btn-default" title="{{_t(\'delete_checked\')}}" ng-show=checkAll ng-click="deleteChecked(_t(\'remove_icon_confirm\'))"><i class="fas fa-trash text-danger"></i> <span class=btn-name>{{_t(\'delete_checked\')}}</span></button></div></div><div class=page-navi ng-if=naviExpanded.iconsLocalFilter><div class=page-navi-in><div class=page-navi-content><a class="btn btn-default btn-tag" ng-click="setFilter();$scope.checkAll = false;toggleAll(false)" ng-class="!icons.filter.source ? \'active\' : \'\'">{{_t(\'lb_show_all\')}} </a><a class="btn btn-default btn-tag" ng-repeat="(k,v) in icons.source.cnt" ng-click="setFilter({source: k});$scope.checkAll = false;toggleAll(false)" ng-class="k === icons.filter.source ? \'active\' : \'\'">{{icons.source.title[k]|cutText:true:30}}<span class=item-cnt>({{v}})</span></a></div></div></div><div class="app-row clearfix app-row-imglist"><div class=imglist-entry ng-class="icons.used.device[v.file] ? \'in-device\' :\'\'" ng-repeat="v in icons.all| orderBy : \'-timestamp\' track by $index"><div class="imglist-entry-in infowindow-wrap"><img class="imglist-img clickable" alt=img title={{v.file}} ng-click="expandNavi(\'iconInfowindow_\' + $index, $event)" ng-src="{{cfg.img.custom_icons + v.file}}"> <input type=checkbox class=img-list-chbx ng-show=checkAll ng-model=v.checked><div class="infowindow top" ng-if="naviExpanded[\'iconInfowindow\' + \'_\' + $index]"><div class="infowindow-in text-center"><img class=imglist-img-preview alt=img title={{v.file}} ng-src="{{cfg.img.custom_icons + v.file}}"><p>{{_t(\'lb_category\')}}: {{v.source_title}}</p><div ng-if=icons.used.device[v.file]><strong>{{_t(\'used_in\')}}</strong><div ng-repeat="d in icons.used.device[v.file]"><a class=text-danger ng-href=#element/{{d}}>{{d|cutText:true:20}}</a></div></div><button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-hide_=icons.used.device[v.file] ng-click="deleteIcon(v, _t(\'remove_icon_confirm\'))"><i class="fas fa-trash text-danger"></i> <span class=btn-name>{{_t(\'lb_remove\')}}</span></button></div></div></div></div></div></div></div></div>'),e.put("app/views/customize/icons/icons_online.html",'<div ng-controller=OnlineIconController><bb-loader></bb-loader><div ng-include="\'app/views/customize/navi.html\'"></div><div class="customize flexgallery"><div ng-repeat="v in iconsOnline.all track by $index" ng-class="{\'inactive\': v.status === \'installed\'}"><figure><img title={{v.title}} ng-src={{v.icon_path}} alt=img><div class=header><span class=is-icon title="{{_t(\'installed\')}}" disabled ng-if="v.status === \'installed\'"><i class="fas fa-check"></i> </span><span class=is-icon title="{{_t(\'lb_download\')}}" ng-if="v.status === \'download\'" ng-click=downloadIconSet(v)><i class="fas fa-download text-success"></i></span></div><figcaption ng-click="handleOnlineIconModal(v,\'iconOnlineModal\', $event)"><span class=title>{{v.title| cutText:true:25}}</span></figcaption></figure></div></div><div id=iconOnlineModal class=appmodal ng-if=modalArr.iconOnlineModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'iconOnlineModal\', $event)"><i class="fas fa-times"></i></span><h3>{{iconsOnline.find.title|cutText:true:30}}</h3></div><div class="appmodal-body customize-detail"><p class=customize-detail-title>{{iconsOnline.find.title}}</p><p class=customize-detail-list ng-if=iconsOnline.find.author><strong>{{_t(\'author\')}}:</strong> <span ng-if=!iconsOnline.find.homepage>{{iconsOnline.find.author}}</span> <a ng-href={{iconsOnline.find.homepage}} ng-if=iconsOnline.find.homepage>{{iconsOnline.find.author}}</a></p><p class=customize-detail-list ng-if=iconsOnline.find.license><strong>{{_t(\'license\')}}:</strong> {{iconsOnline.find.license}}</p><div class=customize-icon-list><img class=customize-icon-preview ng-src="{{iconsOnline.find.preview_path + v}}" ng-repeat="v in iconsOnline.preview"></div></div><div class=appmodal-footer><button class="btn btn-disabled" title="{{_t(\'installed\')}}" disabled ng-if="iconsOnline.find.status === \'installed\'"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'installed\')}}</span></button> <button type=button class="btn btn-default" ng-click="handleModal(\'iconOnlineModal\', $event)"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_close\')}}</span></button> <button href="" class="btn btn-submit" title="{{_t(\'lb_download\')}}" ng-if="iconsOnline.status === \'download\' || v.status === \'installed\'" ng-click="handleModal(\'iconOnlineModal\', $event);downloadIconSet(iconsOnline.find)"><i class="fas fa-download"></i> <span class=btn-name>{{_t(\'lb_download\')}}</span></button></div></div></div></div>'),e.put("app/views/customize/navi.html","<div class=\"tabs-wrap form-inline\" bind-class-on-scroll offset={{cfg.scroll_offset}} scroll-class=fix-me-top><div class=\"btn-group btn-group-justified btn-goup-tabs\"><a class=\"btn btn-default\" title=\"{{_t('local_skins')}}\" href=#customize/skinslocal ng-class=\"routeMatch('/customize/skinslocal') ? 'active' : ''\"><i class=\"fas fa-cloud-download-alt\"></i> <span class=btn-name>{{_t('local_skins')}}</span> </a><a class=\"btn btn-default\" title=\"{{_t('online_skins')}}\" href=#customize/skinsonline ng-class=\"routeMatch('/customize/skinsonline') ? 'active' : ''\" ng-if=elementAccess(cfg.role_access.admin)><i class=\"fas {{skins.online.connect.icon|| 'fa-globe'}}\"></i> <span class=btn-name>{{_t('online_skins')}}</span> </a><a class=\"btn btn-default\" title=\"{{_t('local_icons')}}\" href=#customize/iconslocal ng-class=\"routeMatch('/customize/iconslocal') ? 'active' : ''\" ng-if=elementAccess(cfg.role_access.admin)><i class=\"fas fa-image\"></i> <span class=btn-name>{{_t('local_icons')}}</span> </a><a class=\"btn btn-default\" title=\"{{_t('online_icons')}}\" href=#customize/iconsonline ng-class=\"routeMatch('/customize/iconsonline') ? 'active' : ''\" ng-if=elementAccess(cfg.role_access.admin)><i class=\"fas {{iconsOnline.connect.icon|| 'fa-archive'}}\"></i> <span class=btn-name>{{_t('online_icons')}}</span></a></div></div>"),e.put("app/views/customize/skins/skins_local.1.html",'<div ng-controller=SkinBaseController><div ng-controller=SkinLocalController id=skins_local><bb-loader></bb-loader><div ng-include="\'app/views/customize/navi.html\'"></div><div class=clearfix ng-if=skins.local.show><div class=card-customize title={{v.title}} ng-repeat="v in skins.local.all track by v.name"><div class=card-customize-in style="background-image:url(\'{{v.icon}}\');" ng-class="{\'widget-warning\': v.name === skins.local.active}"><div class=card-header><span class=card-icon title="{{_t(\'lb_activate\')}}" ng-if="v.name !== skins.local.active" ng-click=activateSkin(v)><i class="fas fa-fire text-success"></i> </span><span class=card-icon title="{{_t(\'lb_active\')}}" ng-if="v.name === skins.local.active"><i class="fas fa-check"></i> </span><span class=card-icon title="{{_t(\'upgrade\')}}" ng-click=updateSkin(skins.online.all[v.name]) ng-if="skins.online.all[v.name] && skins.online.all[v.name].status === \'notequal\'"><i class="fas fa-level-up-alt"></i> </span><span class=card-icon title="{{_t(\'lb_remove\')}}" ng-click="removeSkin(v, _t(\'lb_delete_confirm\'))" ng-hide="v.name === skins.local.active" ng-if="v.name !== \'default\'"><i class="fas fa-trash text-danger"></i></span></div><div class=card-footer ng-click="skins.local.find = v;handleModal(\'skinLocalModal\', $event)">{{v.title| cutText:true:25}}</div></div></div></div><div id=skinLocalModal class=appmodal ng-if=modalArr.skinLocalModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'skinLocalModal\', $event)"><i class="fas fa-times"></i></span><h3>{{skins.local.find.title|cutText:true:30}}</h3></div><div class="appmodal-body customize-detail"><p class=customize-detail-title>{{skins.local.find.title}}</p><p class=customize-detail-perex>{{skins.local.find.description}}</p><p class=customize-detail-list ng-if=skins.local.find.author><strong>{{_t(\'author\')}}:</strong> <span ng-if=!skins.local.find.homepage>{{skins.local.find.author}}</span> <a ng-href={{skins.local.find.homepage}} ng-if=skins.local.find.homepage>{{skins.local.find.author}}</a></p><p class=customize-detail-list><strong>{{_t(\'version\')}}:</strong> {{skins.local.find.version}}</p><div class=customize-detail-img><img class=customize-image-detail ng-src={{skins.local.find.icon}} alt=img></div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click="handleModal(\'skinLocalModal\', $event)"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_close\')}}</span></button> <button href="" class="btn btn-submit" title="{{_t(\'lb_activate\')}}" ng-if="skins.local.find.name !== skins.local.active" ng-click="handleModal(\'skinLocalModal\', $event);activateSkin(skins.local.find)"><i class="fas fa-fire"></i> <span class=btn-name>{{_t(\'lb_activate\')}}</span></button> <button class="btn btn-danger" title="{{_t(\'upgrade\')}}" ng-if="skins.online.all[skins.local.find.name] && skins.online.all[skins.local.find.name].status === \'notequal\'" ng-click="handleModal(\'skinLocalModal\', $event);updateSkin(skins.online.all[skins.local.find.name])"><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'upgrade\')}}</span></button></div></div></div></div></div>'),e.put("app/views/customize/skins/skins_local.html",'<div ng-controller=SkinBaseController><div ng-controller=SkinLocalController id=skins_local><bb-loader></bb-loader><div ng-include="\'app/views/customize/navi.html\'"></div><div class="customize flexgallery"><div ng-repeat="v in skins.local.all track by $index" ng-class="{\'inactive\': v.name === skins.local.active}"><figure><img title={{v.title}} ng-src={{v.icon}} alt=img><div class=header><span class=is-icon title="{{_t(\'lb_activate\')}}" ng-if="v.name !== skins.local.active" ng-click=activateSkin(v)><i class="fas fa-fire text-success"></i> </span><span class=is-icon title="{{_t(\'lb_active\')}}" ng-if="v.name === skins.local.active"><i class="fas fa-check"></i> </span><span class=is-icon title="{{_t(\'upgrade\')}}" ng-click=updateSkin(skins.online.all[v.name]) ng-if="skins.online.all[v.name] && skins.online.all[v.name].status === \'notequal\'"><i class="fas fa-level-up-alt"></i> </span><span class=is-icon title="{{_t(\'lb_remove\')}}" ng-click="removeSkin(v, _t(\'lb_delete_confirm\'))" ng-hide="v.name === skins.local.active" ng-if="v.name !== \'default\'"><i class="fas fa-trash text-danger"></i></span></div><figcaption ng-click="skins.local.find = v;handleModal(\'skinLocalModal\', $event)"><span class=title>{{v.title| cutText:true:25}}</span></figcaption></figure></div></div><div id=skinLocalModal class=appmodal ng-if=modalArr.skinLocalModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'skinLocalModal\', $event)"><i class="fas fa-times"></i></span><h3>{{skins.local.find.title|cutText:true:30}}</h3></div><div class="appmodal-body customize-detail"><p class=customize-detail-title>{{skins.local.find.title}}</p><p class=customize-detail-perex>{{skins.local.find.description}}</p><p class=customize-detail-list ng-if=skins.local.find.author><strong>{{_t(\'author\')}}:</strong> <span ng-if=!skins.local.find.homepage>{{skins.local.find.author}}</span> <a ng-href={{skins.local.find.homepage}} ng-if=skins.local.find.homepage>{{skins.local.find.author}}</a></p><p class=customize-detail-list><strong>{{_t(\'version\')}}:</strong> {{skins.local.find.version}}</p><div class=customize-detail-img><img class=customize-image-detail ng-src={{skins.local.find.icon}} alt=img></div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click="handleModal(\'skinLocalModal\', $event)"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_close\')}}</span></button> <button href="" class="btn btn-submit" title="{{_t(\'lb_activate\')}}" ng-if="skins.local.find.name !== skins.local.active" ng-click="handleModal(\'skinLocalModal\', $event);activateSkin(skins.local.find)"><i class="fas fa-fire"></i> <span class=btn-name>{{_t(\'lb_activate\')}}</span></button> <button class="btn btn-danger" title="{{_t(\'upgrade\')}}" ng-if="skins.online.all[skins.local.find.name] && skins.online.all[skins.local.find.name].status === \'notequal\'" ng-click="handleModal(\'skinLocalModal\', $event);updateSkin(skins.online.all[skins.local.find.name])"><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'upgrade\')}}</span></button></div></div></div></div></div>'),e.put("app/views/customize/skins/skins_online.1.html",'<div ng-controller=SkinBaseController><div ng-controller=SkinOnlineController id=skins_online><bb-loader></bb-loader><div ng-include="\'app/views/customize/navi.html\'"></div><div class=clearfix ng-if=skins.online.show><div class=card-customize title={{v.title}} ng-repeat="v in skins.online.all track by v.id"><div class=card-customize-in style="background-image:url(\'{{v.icon_path}}\');" ng-class="{\'widget-warning\': skins.local.all[v.name],\'widget-danger\': skins.local.all[v.name] && skins.local.all[v.name].version != v.version}"><div class=card-header><span class=card-icon title="{{_t(\'lb_download\')}}" ng-if="v.status === \'download\'" ng-click=downloadSkin(v)><i class="fas fa-download text-success"></i> </span><span class=card-icon title="{{_t(\'upgrade\')}}" ng-if="v.status === \'notequal\'" ng-click=uupdateSkin(v)><i class="fas fa-level-up-alt"></i> </span><span class="card-icon disabled" title="{{_t(\'installed\')}}" disabled ng-if="v.status === \'equal\'"><i class="fas fa-check"></i></span></div><div class=card-footer ng-click="skins.online.find = v;handleModal(\'skinOnlineModal\', $event)">{{v.title| cutText:true:25}}</div></div></div></div><div id=skinOnlineModal class=appmodal ng-if=modalArr.skinOnlineModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'skinOnlineModal\', $event)"><i class="fas fa-times"></i></span><h3>{{skins.online.find.title|cutText:true:30}}</h3></div><div class="appmodal-body customize-detail"><p class=customize-detail-title>{{skins.online.find.title}}</p><p class=customize-detail-perex>{{skins.online.find.description}}</p><p class=customize-detail-list ng-if=skins.online.find.author><strong>{{_t(\'author\')}}:</strong> <span ng-if=!skins.online.find.homepage>{{skins.online.find.author}}</span> <a ng-href={{skins.online.find.homepage}} ng-if=skins.online.find.homepage>{{skins.online.find.author}}</a></p><p class=customize-detail-list><strong>{{_t(\'version\')}}:</strong> {{skins.online.find.version}}</p><div class=customize-detail-img><img class=customize-image-detail ng-src={{skins.online.find.icon_path}} alt={{skins.online.find.title}}></div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click="handleModal(\'skinOnlineModal\', $event)"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_close\')}}</span></button> <button href="" class="btn btn-submit" title="{{_t(\'lb_download\')}}" ng-if="skins.online.find.status === \'download\'" ng-click="handleModal(\'skinOnlineModal\', $event);downloadSkin(skins.online.find)"><i class="fas fa-download"></i> <span class=btn-name>{{_t(\'lb_download\')}}</span></button> <button class="btn btn-danger" title="{{_t(\'upgrade\')}}" ng-if="skins.online.find.status === \'notequal\'" ng-click="handleModal(\'skinOnlineModal\', $event);updateSkin(skins.online.find)"><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'upgrade\')}}</span></button></div></div></div></div></div>'),e.put("app/views/customize/skins/skins_online.html",'<div ng-controller=SkinBaseController><div ng-controller=SkinOnlineController id=skins_online><bb-loader></bb-loader><div ng-include="\'app/views/customize/navi.html\'"></div><div class="customize flexgallery"><div ng-repeat="v in skins.online.all track by $index" ng-class="{\'inactive\': skins.local.all[v.name]}"><figure><img title={{v.title}} ng-src={{v.icon_path}} alt=img><div class=header><span class=is-icon title="{{_t(\'lb_download\')}}" ng-if="v.status === \'download\'" ng-click=downloadSkin(v)><i class="fas fa-download text-success"></i> </span><span class=is-icon title="{{_t(\'upgrade\')}}" ng-if="v.status === \'notequal\'" ng-click=uupdateSkin(v)><i class="fas fa-level-up-alt"></i> </span><span class="is-icon disabled" title="{{_t(\'installed\')}}" disabled ng-if="v.status === \'equal\'"><i class="fas fa-check"></i></span></div><figcaption ng-click="skins.online.find = v;handleModal(\'skinOnlineModal\', $event)"><span class=title>{{v.title| cutText:true:25}}</span></figcaption></figure></div></div><div id=skinOnlineModal class=appmodal ng-if=modalArr.skinOnlineModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'skinOnlineModal\', $event)"><i class="fas fa-times"></i></span><h3>{{skins.online.find.title|cutText:true:30}}</h3></div><div class="appmodal-body customize-detail"><p class=customize-detail-title>{{skins.online.find.title}}</p><p class=customize-detail-perex>{{skins.online.find.description}}</p><p class=customize-detail-list ng-if=skins.online.find.author><strong>{{_t(\'author\')}}:</strong> <span ng-if=!skins.online.find.homepage>{{skins.online.find.author}}</span> <a ng-href={{skins.online.find.homepage}} ng-if=skins.online.find.homepage>{{skins.online.find.author}}</a></p><p class=customize-detail-list><strong>{{_t(\'version\')}}:</strong> {{skins.online.find.version}}</p><div class=customize-detail-img><img class=customize-image-detail ng-src={{skins.online.find.icon_path}} alt={{skins.online.find.title}}></div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click="handleModal(\'skinOnlineModal\', $event)"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_close\')}}</span></button> <button href="" class="btn btn-submit" title="{{_t(\'lb_download\')}}" ng-if="skins.online.find.status === \'download\'" ng-click="handleModal(\'skinOnlineModal\', $event);downloadSkin(skins.online.find)"><i class="fas fa-download"></i> <span class=btn-name>{{_t(\'lb_download\')}}</span></button> <button class="btn btn-danger" title="{{_t(\'upgrade\')}}" ng-if="skins.online.find.status === \'notequal\'" ng-click="handleModal(\'skinOnlineModal\', $event);updateSkin(skins.online.find)"><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'upgrade\')}}</span></button></div></div></div></div></div>'),e.put("app/views/devices/devices.html",'<div ng-controller=DeviceController><h2 ng-bind="_t(\'lb_select_device_type\')"></h2><div class="list-panel panel-devices" ng-if=elementAccess(cfg.role_access.apps)><div class=inner-panel><figure class=img><a href=#zwave/devices><img ng-src=app/img/logo-zwave.svg alt=img></a></figure><div class=body><div><a href=#zwave/devices>{{_t(\'devices_text_zwave\')}}</a></div></div><div class=control ng-if=!zwave.active><bb-alert-text class=s-hide alert=zwave.alert></bb-alert-text></div><div class=control ng-class="naviExpanded[\'devicesZway\'] ? \'expand-true\': \'expand-false\'" ng-if=zwave.active><div class=btn-group><a class="btn btn-default" href="" title="{{_t(\'manage_with_expertui\')}}" ng-click="toExpert(\'/expert\',_t(\'redirect_to_expert\'))" ng-if="elementAccess(cfg.role_access.admin) && cfg.app_type === \'default\' && cfg.route.os != \'ZWayMobileAppAndroid\' && cfg.route.os != \'ZWayMobileAppiOS\'"><i class="fas fa-external-link-alt"></i> <span class=btn-name ng-bind="_t(\'manage_with_expertui\')"></span> </a><a class="btn btn-default" href=#zwave/vendors title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span> </a><a class="btn btn-default" href=#zwave/devices title="{{_t(\'manage\')}}"><i class="fas fa-edit text-primary"></i> <span class=btn-name ng-bind="_t(\'manage\')"></span></a></div></div></div></div><div class="list-panel panel-devices" ng-if=elementAccess(cfg.role_access.apps)><div class=inner-panel><figure class=img><a ng-href=#zigbee/manage><img ng-src=app/img/logo-zigbee.svg alt=img></a></figure><div class=body><div><a href=#zigbee/manage>{{_t(\'devices_text_zigbee\')}}</a></div></div><div class=control ng-if=!zigbee.active><bb-alert-text class=s-hide alert=zigbee.alert></bb-alert-text></div><div class=control ng-class="naviExpanded[\'devicesZigbee\'] ? \'expand-true\': \'expand-false\'" ng-if=zigbee.active><div class=btn-group><a class="btn btn-default" href="" title="{{_t(\'manage_with_expertui\')}}" ng-click="toExpert(\'/zigxpert\',_t(\'redirect_to_zigxpert\'))" ng-if="elementAccess(cfg.role_access.admin) && cfg.app_type === \'default\' && cfg.route.os != \'ZWayMobileAppAndroid\' && cfg.route.os != \'ZWayMobileAppiOS\'"><i class="fas fa-external-link-alt"></i> <span class=btn-name ng-bind="_t(\'manage_with_expertui\')"></span> </a><a class="btn btn-default" href=#zigbee/vendors title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span> </a><a class="btn btn-default" href=#zigbee/devices title="{{_t(\'manage\')}}"><i class="fas fa-edit text-primary"></i> <span class=btn-name ng-bind="_t(\'manage\')"></span></a></div></div></div></div><div class="list-panel panel-devices" ng-if=elementAccess(cfg.role_access.apps)><div class=inner-panel><figure class=img><a ng-href=#matter/devices><img ng-src=app/img/logo-matter.svg alt=img></a></figure><div class=body><div><a href=#matter/devices>{{_t(\'devices_text_matter\')}}</a></div></div><div class=control ng-if=!matter.active><bb-alert-text class=s-hide alert=matter.alert></bb-alert-text></div><div class=control ng-class="naviExpanded[\'devicesMatter\'] ? \'expand-true\': \'expand-false\'" ng-if=matter.active><div class=btn-group><a class="btn btn-default" href="" title="{{_t(\'manage_with_expertui\')}}" ng-click="toExpert(\'/matterxpert\',_t(\'redirect_to_matterxpert\'))" ng-if="elementAccess(cfg.role_access.admin) && cfg.app_type === \'default\' && cfg.route.os != \'ZWayMobileAppAndroid\' && cfg.route.os != \'ZWayMobileAppiOS\'"><i class="fas fa-external-link-alt"></i> <span class=btn-name ng-bind="_t(\'manage_with_expertui\')"></span> </a><a class="btn btn-default" href=#matter/vendors title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span> </a><a class="btn btn-default" href=#matter/devices title="{{_t(\'manage\')}}"><i class="fas fa-edit text-primary"></i> <span class=btn-name ng-bind="_t(\'manage\')"></span></a></div></div></div></div><div class="list-panel panel-devices" ng-if=elementAccess(cfg.role_access.apps)><div class=inner-panel><figure class=img><a ng-href=#enocean/manage><img ng-src=app/img/logo-enocean.svg alt=img></a></figure><div class=body><div><a href=#enocean/manage>{{_t(\'devices_text_enocean\')}}</a></div></div><div class=control ng-if=!enocean.active><bb-alert-text class=s-hide alert=enocean.alert></bb-alert-text></div><div class=control ng-class="naviExpanded[\'devicesEnocean\'] ? \'expand-true\': \'expand-false\'" ng-if=enocean.active><div class=btn-group><a class="btn btn-default" href=#enocean/vendors title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span> </a><a class="btn btn-default" href=#enocean/manage title="{{_t(\'manage\')}}"><i class="fas fa-edit text-primary"></i> <span class=btn-name ng-bind="_t(\'manage\')"></span></a></div></div></div></div><div class="list-panel panel-devices"><div class=inner-panel><figure class=img><a ng-href=#mobile/manage><img ng-src=app/img/logo-mobile.svg alt=img></a></figure><div class=body><div><a ng-href=#mobile/manage>{{_t(\'devices_text_mobile\')}}</a></div></div><div class=control ng-class="naviExpanded[\'devicesMobile\'] ? \'expand-true\': \'expand-false\'"><div class=btn-group><button class="btn btn-default" ng-click=handleMobileModal($event) title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span></button> <a class="btn btn-default" href=#mobile/manage title="{{_t(\'manage\')}}"><i class="fas fa-edit text-primary"></i> <span class=btn-name ng-bind="_t(\'manage\')"></span></a></div></div></div></div><div class="list-panel panel-devices" ng-if=elementAccess(cfg.role_access.apps)><div class=inner-panel><figure class=img><a ng-href=#camera/manage><img ng-src=app/img/logo-camera.svg alt=img></a></figure><div class=body><div><a ng-href=#camera/manage>{{_t(\'devices_text_camera\')}}</a></div></div><div class=control ng-class="naviExpanded[\'devicesCamera\'] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a class="btn btn-default" href=#camera/add title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span> </a><a class="btn btn-default" href=#camera/manage title="{{_t(\'manage\')}}"><i class="fas fa-edit text-primary"></i> <span class=btn-name ng-bind="_t(\'manage\')"></span></a></div></div></div></div><div class="list-panel panel-devices" ng-if=elementAccess(cfg.role_access.apps)><div class=inner-panel><figure class=img><a ng-href=#speech_assistants/manage><img ng-src=app/img/logo-speech-assistants.svg alt=img></a></figure><div class=body><div><a ng-href=#speech_assistants/manage>{{_t(\'devices_text_speech\')}}</a></div></div><div class=control ng-class="naviExpanded[\'devicesSpeech\'] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a class="btn btn-default" href=#speech_assistants/devices title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span> </a><a class="btn btn-default" href=#speech_assistants/manage title="{{_t(\'manage\')}}"><i class="fas fa-edit text-primary"></i> <span class=btn-name ng-bind="_t(\'manage\')"></span></a></div></div></div></div><div class="list-panel panel-devices" ng-if=elementAccess(cfg.role_access.apps)><div class=inner-panel><figure class=img><a ng-href=#wifiplug/manage><img ng-src=app/img/logo-wifiplug.svg alt=img></a></figure><div class=body><div><a href=#wifiplug/manage>{{_t(\'devices_text_wifi\')}}</a></div></div><div class=control ng-class="naviExpanded[\'devicesWifi\'] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a class="btn btn-default" href=#wifiplug/add title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span> </a><a class="btn btn-default" href=#wifiplug/manage title="{{_t(\'manage\')}}"><i class="fas fa-edit text-primary"></i> <span class=btn-name ng-bind="_t(\'manage\')"></span></a></div></div></div></div></div><div ng-controller=MobileAddController ng-include="\'app/views/mobile/mobile_add_modal.html\'"></div>'),e.put("app/views/devices/modal.html",'<div id=qrCodeModal class=appmodal ng-controller=MobileAddController ng-if=modalArr.qrCodeModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'qrCodeModal\', $event)"><i class="fas fa-times"></i></span><h3>{{_t(\'add_mobile_device\')}}</h3></div><div class="appmodal-body text-center"><div class=fieldset><div class="form-group form-inline"><div class=img-wrap><div id=qrcode><img width=255 height=255 ng-src={{qrcode}}></div><button class="btn btn-default" ng-if="qrcode != \'\'" ng-click="addQRCode(\'update\')" ng-disabled="rowSpinner[\'update\']" title="{{_t(\'lb_update_qrcode\')}}"><bb-row-spinner spinner="rowSpinner[\'update\']" label="_t(\'lb_update_qrcode\')" icon="\'fa-qrcode\'"></bb-row-spinner></button> <button class="btn btn-default" ng-if="qrcode == \'\'" ng-click="addQRCode(\'create\')" ng-disabled="rowSpinner[\'create\']" title="{{_t(\'lb_create_qrcode\')}}"><bb-row-spinner spinner="rowSpinner[\'create\']" label="_t(\'lb_create_qrcode\')" icon="\'fa-qrcode\'"></bb-row-spinner></button></div></div></div><div class=fieldset><div class=entry-in><div class=entry-media><img ng-src=app/img/smartphone.png alt=Image></div><div class=entry-content><div class=inner><div class=text><h1>{{_t(\'app_name\')}}</h1><p>{{_t(\'app_description\')}}</p></div><div class=badges><a class=google href="https://play.google.com/store/apps/details?id=me.zwave.zway"><img ng-src=app/img/google-play-badge.png alt="Goole Play"> </a><a class=apple href=https://apps.apple.com/app/id1513858668 target=_blank><img ng-src=app/img/apple-store-badges.svg alt="Apple Store"></a></div></div></div></div></div></div></div></div>'),e.put("app/views/dir-pagination.html",'<ul class=pagination ng-if="1 < pages.length"><li ng-if=boundaryLinks ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click=setCurrent(1)>&laquo;</a></li><li ng-if=directionLinks ng-class="{ disabled : pagination.current == 1 }" class=ng-scope><a href="" ng-click="setCurrent(pagination.current - 1)" class=ng-binding></a></li><li ng-repeat="pageNumber in pages track by $index" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' }"><a href="" ng-click=setCurrent(pageNumber)>{{ pageNumber }}</a></li><li ng-if=directionLinks ng-class="{ disabled : pagination.current == pagination.last }" class=ng-scope><a href="" ng-click="setCurrent(pagination.current + 1)" class=ng-binding></a></li><li ng-if=boundaryLinks ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click=setCurrent(pagination.last)>&raquo;</a></li></ul>'),e.put("app/views/elements/element_id_api_info.html",'<div ng-controller=ElementApiInfoController><div class="form form-inline form-page"><section class=accordion-instances><h2 class="accordion-toggle chevron" ng-init="dataHolder.instances.expanded = false"><button type=button aria-expanded={{dataHolder.instances.expanded}} bb-accordion ng-disabled=dataHolder.instances.expanded><span><i class="fieldset fas fa-file-code fa-2x"></i> {{_t(\'lb_device_api_info\')}}</span></button></h2><div class=accordion hidden ng-class="{\'ng-show\':dataHolder.instances.expanded}"><div class="fieldset app-row app-row-report clearfix"><div class=report-entry ng-show="elementId.input.deviceType == \'switchBinary\' || \n                                                             elementId.input.deviceType == \'switchMultilevel\' ||\n                                                             elementId.input.deviceType == \'switchControl\' ||\n                                                             elementId.input.deviceType == \'toggleButton\'"><div class="report-col report-media"><h3>ON</h3></div><div class="report-col report-body">{{getUrl()}}/ZAutomation/api/v1/devices/{{elementId.input.id}}/command/on</div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_on\')}}" class="btn btn-default" data-ng-click="runCmd(elementId.input.id, \'on\')"><i class="fas fa-circle color-green"></i> <span class=btn-name ng-bind="_t(\'lb_on\')"></span></button></div></div><div class=report-entry ng-show="elementId.input.deviceType == \'switchBinary\' || \n                                                             elementId.input.deviceType == \'switchMultilevel\' ||\n                                                             elementId.input.deviceType == \'switchControl\'"><div class="report-col report-media"><h3>OFF</h3></div><div class=report-col>{{getUrl()}}/ZAutomation/api/v1/devices/{{elementId.input.id}}/command/off</div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_off\')}}" class="btn btn-default" data-ng-click="runCmd(elementId.input.id, \'off\')"><i class="fas fa-circle color-red"></i> <span class=btn-name ng-bind="_t(\'lb_off\')"></span></button></div></div><div class=report-entry ng-show="elementId.input.deviceType == \'switchMultilevel\' ||\n                                                            elementId.input.deviceType == \'thermostat\'"><div class="report-col report-media"><h3>SET</h3></div><div class=report-col>{{getUrl()}}/ZAutomation/api/v1/devices/{{elementId.input.id}}/command/exact?level=20</div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_set\')}}" class="btn btn-default" data-ng-click="runCmd(elementId.input.id, \'exact?level=20\')"><i class="fas fa-arrow-up color-orange"></i> <span class=btn-name ng-bind="_t(\'lb_set\')"></span></button></div></div><div class=report-entry ng-show="elementId.input.deviceType == \'doorlock\'"><div class="report-col report-media"><h3>OPEN</h3></div><div class="report-col report-body">{{getUrl()}}/ZAutomation/api/v1/devices/{{elementId.input.id}}/command/open</div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_open\')}}" class="btn btn-default" data-ng-click="runCmd(elementId.input.id, \'open\')"><i class="fas fa-lock-open color-green"></i> <span class=btn-name ng-bind="_t(\'lb_open\')"></span></button></div></div><div class=report-entry ng-show="elementId.input.deviceType == \'doorlock\'"><div class="report-col report-media"><h3>CLOSE</h3></div><div class="report-col report-body">{{getUrl()}}/ZAutomation/api/v1/devices/{{elementId.input.id}}/command/close</div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_close\')}}" class="btn btn-default" data-ng-click="runCmd(elementId.input.id, \'close\')"><i class="fas fa-lock color-red"></i> <span class=btn-name ng-bind="_t(\'lb_close\')"></span></button></div></div><div class=report-entry><div class="report-col report-media"><h3>GET</h3></div><div class=report-col><p>{{getUrl()}}/ZAutomation/api/v1/devices/{{elementId.input.id}}</p></div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_get\')}}" class="btn btn-default" data-ng-click=getData(elementId.input.id)><i class="fas fa-sync"></i> <span class=btn-name ng-bind="_t(\'lb_get\')"></span></button></div></div><div class=report-entry><div class=report-col></div><div class=report-col><pre><code class="syntax-highight hljs" ng-init=getData(elementId.input.id)></code></pre></div><div class=report-col></div></div></div></div></section></div></div>'),e.put("app/views/elements/element_id_icons.html",'<div ng-controller=ElementIconController ng-if_=blablabla><div class="form form-inline form-page" ng-if=!_.isEmpty(icons.all)><bb-loader></bb-loader><div class=fieldset><h2>{{_t(\'custom_icons\')}}</h2><div class="alert alert-warning" ng-if=_.isEmpty(icons.uploaded)><i class="fas fa-exclamation-circle"></i> {{_t(\'custom_icons_no_available\')}} <a href=#/customize/iconslocal class="btn btn-primary"><i class="fas fa-upload"></i> {{_t(\'upload_icon\')}}</a></div></div><div class=fieldset ng-if=!_.isEmpty(icons.uploaded)><div class="app-row app-row-report app-row-icons clearfix"><div class=report-entry><div class="report-col report-media">Default</div><div class="report-col report-body">&nbsp;</div><div class="report-col report-media">Custom</div><div class="report-col report-ctrl">&nbsp;</div></div><div class="report-entry clickable" ng-class="k=== icons.selected ? \'bcg-success\' : \'\'" ng-repeat="(k,v) in icons.all.default" ng-click=setSelectedIcon(k)><div class="report-col report-media"><img class=report-img ng-src="{{cfg.img.icons + v}}" alt={{v}}></div><div class="report-col report-body"><i class="fas fa-long-arrow-alt-right" ng-if=icons.all.custom[k]></i></div><div class="report-col report-media"><img class=report-img ng-src="{{cfg.img.custom_icons + icons.all.custom[k]}}" ng-if=icons.all.custom[k] alt={{v.type}}> <img class="report-img img-opacity-50" ng-src="{{cfg.img.icons }}cancel.png" ng-if=!icons.all.custom[k] alt=img></div><div class="report-col report-ctrl"><button title="{{_t(\'lb_update\')}}" class="btn btn-default" ng-disabled="icons.selected === k" ng-click=setSelectedIcon(k)><i class="fas fa-pencil-alt text-primary"></i></button> <button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-if=icons.all.custom[k] ng-click=removeCustomIcon(k)><i class="fas fa-ban text-danger"></i></button></div></div></div></div><div ng-if="icons.selected && !_.isEmpty(icons.uploaded)"><div class=fieldset><div class="app-row clearfix app-row-imglist"><div class=imglist-entry ng-repeat="v in icons.uploaded| orderBy : \'-timestamp\' track by $index"><div class="imglist-entry-in infowindow-wrap"><img class="imglist-img clickable" ng-click=setCustomIcon(v.file) ng-src="{{cfg.img.custom_icons + v.file}}"></div></div></div></div><div class=fieldset><a href=#/customize/iconslocal class="btn btn-primary"><i class="fas fa-image"></i> {{_t(\'manage_custom_icons\')}}</a></div><fieldset class=submit-entry><button type=button title="{{_t(\'lb_cancel\')}}" class="btn btn-default" ng-click=cancelUpdate()><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=button title="{{_t(\'lb_save\')}}" class="btn btn-submit" ng-click=updateWithCustomIcon()><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></div></div></div>'),e.put("app/views/elements/element_id.html",'<div ng-controller=ElementIdController class=mobile-padding><bb-loader></bb-loader><div ng-if=elementId.show><h2><span ng-bind="_t(\'lb_cfg_view\') + \':\'"></span> <span ng-bind=elementId.input.metrics.title></span></h2><form name=form_element id=form_element class="form form-page" autocomplete=off ng-submit=store(elementId.input) novalidate><fieldset ng-show="elementId.input.isFailed && elementId.appType.zwave"><div class="alert alert-danger"><i class="fas fa-exclamation-triangle"></i> {{_t(\'zwave_device_failed\')}} <a ng-href=#zwave/devices class="btn btn-default" ng-show=elementAccess(cfg.role_access.admin)><i class="fas fa-edit text-primary"></i> {{_t(\'manage\')}}</a></div></fieldset><fieldset ng-if=elementAccess(cfg.role_access.admin)><div class="form-group_ form-inline"><label>{{_t(\'lb_element_name\')}}:</label> <input name=title id=title class=form-control value={{elementId.input.metrics.title}} placeholder="{{_t(\'lb_element_name\')}}" ng-model=elementId.input.metrics.title></div></fieldset><fieldset><div ng-if=elementAccess(cfg.role_access.admin)><div class=form-group ng-switch=elementId.appType.instance.moduleId ng-hide="elementId.appType.instance.category == \'system\'"><label>{{_t(\'lb_gen_by_module\')}}:</label><br><strong>{{elementId.appType.modul.defaults.title}}</strong><br><a href=#zwave/devices/{{elementId.appType.zwave}} class="btn btn-default" ng-switch-when=ZWave><i class="fas fa-cog"></i> <span><strong>{{_t(\'lb_zwave_device\')}}</strong> #{{elementId.appType.zwave}} </span></a><a href=#enocean/manage/{{elementId.appType.enocean}} class="btn btn-default" ng-switch-when=EnOcean><i class="fas fa-cog"></i> <strong>{{_t(\'enocean_device\')}}</strong> #{{elementId.appType.enocean}} </a><a class="btn btn-default" ng-href=#module/put/{{elementId.appType.instance.id}} ng-switch-default><i class="fas fa-cog"></i> <span><strong>{{elementId.appType.instance.title}}</strong></span></a></div><div ng-if=!!elementId.referenced.length class=form-group><label>{{_t(\'referenced_in\')}}:</label><div class=flex-buttons><div ng-repeat="reference in elementId.referenced" ng-switch=reference.moduleId ng-hide="elementId.appType.instance.category == \'system\'"><a class="btn btn-default" ng-href=#module/put/{{reference.instanceId}} ng-switch-default><i class="fas fa-cog"></i> <span><strong>{{reference.instanceTitle}}</strong></span></a></div></div></div><div class=form-group><label for=hide_element><input type=checkbox name=hide_element id=hide_element ng-init="visibility.checked = !elementId.input.visibility" ng-model=visibility.checked ng-change="elementId.input.visibility = !visibility.checked" ng-checked=!elementId.input.visibility> <span>{{_t(\'hide_element\')}}</span></label><bb-help-text trans="_t(\'hide_element_info\')"></bb-help-text></div></div><z-wave-shortcut ng-if="cfg.route.os === \'ZWayMobileAppAndroid\'"></z-wave-shortcut><div class=form-group ng-if="elementAccess(cfg.role_access.admin) && elementId.appType.zwave"><button type=button title="{{_t(\'delete_element\')}}" class="btn btn-danger" ng-click="deleteElement(elementId.input, _t(\'element_delete_confirm\'))"><i class="fas fa-times"></i> {{ _t(\'delete_element\')}}</button><bb-help-text trans="_t(\'deactivate_element_info\')"></bb-help-text></div><div class=form-group><div><label for=dashboard><input type=checkbox name=dashboard value={{elementId.input.onDashboard}} id=dashboard ng-model=elementId.input.onDashboard ng-checked=elementId.input.onDashboard> <span>{{_t(\'lb_add_dashboard\')}}</span></label></div><div><label for=hide_events><input type=checkbox name=hide_events value={{elementId.input.id}} id=hide_events ng-model=elementId.input.hide_events ng-checked="user.hide_single_device_events.indexOf(elementId.input.id) === -1 ? false : true"> <span>{{_t(\'lb_hide_events_device\')}}</span></label></div></div><div class=form-group ng-if="(speechAssistants.Alexa.active && elementId.input.alexaWhitelisted) || speechAssistants.GoogleHome.active"><div ng-if="speechAssistants.Alexa.active && elementId.input.alexaWhitelisted"><div><label for=activate_alexa><input type=checkbox name=activate_alexa id=activate_alexa ng-model=elementId.input.alexaActivated ng-checked_=""> <span>{{_t(\'lb_activate_alexa\')}}</span></label><bb-help-text trans="_t(\'alexa_info\')"></bb-help-text></div></div><div ng-if="speechAssistants.GoogleHome.active && elementId.input.googleHomeWhitelisted"><div><label for=activate_google_home><input type=checkbox name=activate_google_home id=activate_google_home ng-model=elementId.input.googleHomeActivated ng-checked_=""> <span>{{_t(\'lb_activate_google_home\')}}</span></label><bb-help-text trans="_t(\'google_home_info\')"></bb-help-text></div></div><div ng-if="elementId.input.googleHomeActivated || elementId.input.alexaActivated" class=form-inline><label>{{_t(\'lb_call_name\')}}:</label> <input name=google_home_call_name id=google_home_call_name class=form-control value={{elementId.input.callName}} placeholder="{{_t(\'lb_add_call_name\')}}" ng-model=elementId.input.callName><bb-help-text trans="_t(\'call_name_info\')"></bb-help-text><bb-help-text ng-if="speechAssistants.Alexa.instance.params.assign_room && elementId.input.location != 0" trans="_t(\'alexa_room_assigned_info\',  {\'__call_name__\': elementId.input.alexaCallName, \'__room_name__\': elementId.locations[elementId.input.location].title})|toTrusted"></bb-help-text></div></div><div class="form-group form-inline" ng-if=elementAccess(cfg.role_access.admin)><label>{{_t(\'lb_assign_room\')}}:</label><div class="btn-group btn-goup-block btn-goup-1"><button type=button class="btn btn-default" ng-click="expandNavi(\'elidDropDown\', $event)">{{elementId.locations[elementId.input.location].title|cutText:true:20}} <i class="fas fa-caret-down"></i></button><div class="app-dropdown app-dropdown-left dropdown-100" ng-if=naviExpanded.elidDropDown><ul><li class=clickable ng-class="elementId.input.location == v.id ? \'active\' : \'\'" ng-click="elementId.input.location = v.id" ng-repeat="(_, v) in elementId.locations | orderBy:\'title\'"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="elementId.input.location == v.id"></i></a></li></ul></div></div></div></fieldset><fieldset ng-if=elementAccess(cfg.role_access.admin)><div class="form-group form-inline"><label>{{_t(\'lb_tags\')}}:</label><div class=input-group><input name=add_tag id=add_tag class=form-control placeholder="{{_t(\'lb_add_tag\')}}" ng-model=search.text bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable" title="{{_t(\'lb_add_tag\')}}" ng-click=addTag()><i class="fas fa-plus text-success"></i></span><div class="app-dropdown app-dropdown-left" ng-if=suggestions.length><ul><li href="" ng-click=addTag(v) ng-repeat="v in suggestions track by $index"><a href=""><i class="fas fa-plus text-success"></i> {{v}}</a></li></ul></div></div></div><div class="form-group last"><a href="" class="btn btn-default btn-tag" id=tag_{{$index}} ng-repeat="t in elementId.input.tags track by $index" ng-click=removeTag($index)>{{t}} <i class="fas fa-times text-danger" title="{{_t(\'lb_remove\')}}"></i></a></div></fieldset><fieldset><h3>{{_t(\'notifications\')}}</h3><div class="form-group form-inline" ng-repeat="n in notifications.device track by $index"><div ng-include="\'app/views/notifications/notifications_form_\' + elementId.input.deviceType + \'.html\'" onload="v=n"></div><label for=channel_{{v.id}}>{{_t(\'lb_send_channel\')}}</label> <select id=channel_{{v.id}} name=channel class="form-control form-inline" ng-model=v.channel><option value="" ng-selected="v.channel === \'\'">{{_t(\'notifications_all_channels\')}}</option><option value={{nc.id}} ng-repeat="nc in notifications.channels" ng-selected="nc.id == v.channel">{{nc.name}} ({{nc.userName}})</option></select><bb-help-text trans="_t(\'send_channel_help\')"></bb-help-text><label for=customMessage>{{_t(\'custom_message\')}}</label> <input class=form-control id=customMessage name=customMessage ng-model=n.msg><bb-help-text trans="_t(\'custom_message_help\')"></bb-help-text><button type=button class="btn btn-danger" ng-click=removeNotification($index) title="{{_t(\'btn_remove\')}}"><i class="fas fa-times"></i> {{_t(\'btn_remove\')}}</button></div><button type=button class="btn btn-default" ng-click=addNotification() title="{{_t(\'add notificaton\')}}"><i class="fas fa-plus text-success"></i> {{_t(\'add_notification\')}}</button></fieldset><fieldset class=submit-entry><button type=button title="{{_t(\'lb_cancel\')}}" class="btn btn-default" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name ng-bind="_t(\'lb_cancel\')"></span></button> <button type=submit title="{{_t(\'lb_save\')}}" class="btn btn-submit"><i class="fas fa-check"></i> <span class=btn-name ng-bind="_t(\'lb_save\')"></span></button></fieldset></form><div ng-if=elementAccess(cfg.role_access.admin) ng-include="\'app/views/elements/element_id_icons.html\'"></div><div ng-if=elementAccess(cfg.role_access.admin) ng-include="\'app/views/elements/element_id_api_info.html\'"></div></div></div>'),e.put("app/views/elements/elements_ctrl_mode.html",'<button type=button title="{{_t(\'drag_drop\')}}" class="btn btn-default" ng-show="dataHolder.mode === \'default\'" ng-click="changeMode(\'edit\')"><i class="fas fa-arrows-alt"></i> <span class=btn-name>{{_t(\'drag_drop\')}}</span></button> <button type=button title="{{_t(\'lb_cancel\')}}" class="btn btn-default" ng-show="dataHolder.mode === \'edit\'" ng-click="changeMode(\'default\')"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}} {{_t(\'drag_drop\')}}</span></button> <button type=button title="{{_t(\'lb_save\')}}" class=btn ng-if="dataHolder.mode === \'edit\'" ng-class="{\'btn-submit\': !_.isEmpty(dataHolder.dragdrop.data)}" ng-click=dragDropSave() ng-disabled=_.isEmpty(dataHolder.dragdrop.data)><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button>'),e.put("app/views/elements/elements_dashboard.html",'<div ng-controller=ElementBaseController><bb-loader></bb-loader><div ng-controller=ElementDashboardController><div ng-if=elementDashboard.firstLogin ng-include=elementDashboard.firstFile></div><div ng-if="!elementDashboard.firstLogin && dataHolder.devices.noDevices" ng-include="\'app/views/elements/no_devices.html\'"></div><div ng-if="!elementDashboard.firstLogin && dataHolder.devices.noDashboard" ng-include="\'app/views/elements/no_dashboard.html\'"></div><div class=page-control-wrapper><div class="page-control form-inline" ng-if="elementAccess(cfg.role_access.admin) && _.size(dataHolder.devices.collection) > 1"><div class="btn-group btn-goup-block btn-goup-2" ng-include="\'app/views/elements/elements_ctrl_mode.html\'"></div></div></div><div ng-include="\'app/views/elements/list_mode_default.html\'" ng-if="_.size(dataHolder.devices.collection) > 0 && dataHolder.mode === \'default\'"></div><div ng-include="\'app/views/elements/list_mode_edit.html\'" ng-if="dataHolder.mode === \'edit\'"></div></div></div>'),e.put("app/views/elements/elements_page.html",'<div ng-controller=ElementBaseController><bb-loader></bb-loader><div class="page-control form-inline"><div class="btn-group btn-goup-block btn-goup-2" ng-include="\'app/views/elements/elements_ctrl_mode.html\'" ng-show="dataHolder.mode === \'edit\' && elementAccess(cfg.role_access.admin) && _.size(dataHolder.devices.collection) > 1"></div><div id=btn-group-mobile class="btn-group btn-goup-block btn-goup-5" ng-if="dataHolder.mode === \'default\'"><button class="btn btn-default" ng-click="expandNavi(\'elCategories\', $event)" ng-class="!_.isEmpty(dataHolder.devices.filter) ? \'active\':\'\'"><i class="fas fa-filter"></i> <span class=btn-name ng-if=dataHolder.devices.filter.deviceType>{{_t(dataHolder.devices.filter.deviceType) | cutText:true:15}}</span> <span class=btn-name ng-if="dataHolder.devices.filter.visibility === false">{{_t(\'hidden_elements\') | cutText:true:15}}</span> <span class=btn-name ng-if=_.isEmpty(dataHolder.devices.filter)>{{_t(\'all_elements\') | cutText:true:15}}</span> <span class="btn-name item-cnt">({{dataHolder.cnt.collection}})</span></button> <button class="btn btn-default" ng-click="expandNavi(\'elTags\', $event)" ng-class="dataHolder.devices.filter.tag ? \'active\':\'\'"><i class="fas fa-tags"></i> <span class=btn-name ng-if=dataHolder.devices.filter.tag>{{dataHolder.devices.filter.tag|cutText:true:15}}</span> <span class=btn-name ng-if=!dataHolder.devices.filter.tag>{{_t(\'lb_tags\')}}</span></button> <button class="btn btn-default" ng-click="expandNavi(\'elOrderBy\', $event)"><i class="fas fa-sort-alpha-down"></i> <span class=btn-name>{{_t(dataHolder.devices.orderBy) | cutText:true:15}}</span></button> <button type=button title="{{_t(\'drag_drop\')}}" class="btn btn-default" ng-show=elementAccess(cfg.role_access.admin) ng-class="{\'active\': dataHolder.mode === \'edit\'}" ng-click="changeMode(dataHolder.mode === \'default\' ? \'edit\' : \'default\')"><i class="fas fa-arrows-alt"></i> <span class=btn-name>{{_t(\'drag_drop\')}}</span></button> <button type=button title="{{_t(\'lb_search\')}}" class="btn btn-default" ng-class="{\'active\': naviExpanded.elSearch}" ng-click="expandNavi(\'elSearch\', $event)"><i class="fas fa-search"></i> <span class=btn-name>{{_t(\'lb_search\')}}</span></button></div><form id=form_search_mobile class=input-group ng-if="dataHolder.mode === \'default\' && naviExpanded.elSearch" ng-submit="setFilter({q: autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{dataHolder.devices.filter.q}} class=form-control placeholder="{{_t(\'lb_search\')}}" ng-model=autocomplete.term bb-key-event=searchMe() data-toggle=dropdown ng-click=elSearchHolder($event)> <span class="input-group-addon clickable" ng-click="setFilter({q: autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchElements><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in autocomplete.results | orderBy:\'title\' track by $index"><span class=dropdown-col ng-click="setFilter({q: autocomplete.term})"><img class=report-img-s ng-src={{v.iconPath}} alt={{v.title}} err-src={{cfg.img.placeholder}}> <span class=aoutocomplete-title>{{v.title|cutText:true:30}}</span> </span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><a ng-href=#element/{{v.id}}><i class="fas fa-cog"></i></a></span></li></ul></div></form><div id=btn-group class="btn-group btn-goup-block btn-goup-4" ng-if="dataHolder.mode === \'default\'"><button class="btn btn-default" ng-click="expandNavi(\'elCategories\', $event)" ng-class="!_.isEmpty(dataHolder.devices.filter) ? \'active\':\'\'"><i class="fas fa-filter"></i> <span class=btn-name ng-if=dataHolder.devices.filter.deviceType>{{_t(dataHolder.devices.filter.deviceType) | cutText:true:15}}</span> <span class=btn-name ng-if="dataHolder.devices.filter.visibility === false">{{_t(\'hidden_elements\') | cutText:true:15}}</span> <span class=btn-name ng-if=_.isEmpty(dataHolder.devices.filter)>{{_t(\'all_elements\') | cutText:true:15}}</span> <span class="btn-name item-cnt">({{dataHolder.cnt.collection}})</span></button> <button class="btn btn-default" ng-click="expandNavi(\'elTags\', $event)" ng-class="dataHolder.devices.filter.tag ? \'active\':\'\'"><i class="fas fa-tags"></i> <span class=btn-name ng-if=dataHolder.devices.filter.tag>{{dataHolder.devices.filter.tag|cutText:true:15}}</span> <span class=btn-name ng-if=!dataHolder.devices.filter.tag>{{_t(\'lb_tags\')}}</span></button> <button class="btn btn-default" ng-click="expandNavi(\'elOrderBy\', $event)"><i class="fas fa-sort-alpha-down"></i> <span class=btn-name>{{_t(dataHolder.devices.orderBy) | cutText:true:15}}</span></button> <button type=button title="{{_t(\'drag_drop\')}}" class="btn btn-default" ng-show=elementAccess(cfg.role_access.admin) ng-class="{\'active\': dataHolder.mode === \'edit\'}" ng-click="changeMode(dataHolder.mode === \'default\' ? \'edit\' : \'default\')"><i class="fas fa-arrows-alt"></i> <span class=btn-name>{{_t(\'drag_drop\')}}</span></button></div><form id=form_search class=input-group ng-if="dataHolder.mode === \'default\'" ng-submit="setFilter({q: autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{dataHolder.devices.filter.q}} class=form-control placeholder="{{_t(\'lb_search\')}}" ng-model=autocomplete.term bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable" ng-click="setFilter({q: autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchElements><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in autocomplete.results | orderBy:\'title\' track by $index"><span class=dropdown-col ng-click="setFilter({q: autocomplete.term})"><img class=report-img-s ng-src={{v.iconPath}} alt={{v.title}} err-src={{cfg.img.placeholder}}> <span class=aoutocomplete-title>{{v.title|cutText:true:30}}</span> </span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><a ng-href=#element/{{v.id}}><i class="fas fa-cog"></i></a></span></li></ul></div></form></div><div class=page-navi ng-if=naviExpanded.elCategories><div class=page-navi-in id=elCategories><ul><li ng-repeat="(v,k) in dataHolder.devices.deviceType" ng-class="_.findIndex(dataHolder.devices.filter.list, {deviceType: v}) > -1 ? \'active\': \'\'" ng-click="setListFilter({deviceType: v},$event)"><span><i class="fas {{v|getElCategoryIcon}} fa-fw"></i> {{_t(v) | cutText:true:30}} <span class=item-cnt>({{k}})</span></span></li><li ng-click="showHiddenEl((dataHolder.devices.showHidden ? false:true))" ng-class="{\'active\':dataHolder.devices.showHidden}"><span><i class="fas fa-eye fa-fw"></i> {{_t(\'show_hidden\')}}</span></li></ul></div></div><div class=page-navi ng-if=naviExpanded.elTags><div class=page-navi-in><div class=page-navi-content><a class="btn btn-default btn-tag" ng-click=setFilter() ng-class="_.isEmpty(dataHolder.devices.filter) == true ? \'active\': \'\'">{{_t(\'all_elements\')}} </a><a class="btn btn-default btn-tag" ng-repeat="v in dataHolder.devices.tags|orderBy:\'toString()\'" ng-click="setFilter({tag: v})" ng-class="dataHolder.devices.filter.tag == v ? \'active\': \'\'">{{v|cutText:true:30}}</a></div></div></div><div class=page-navi ng-if=naviExpanded.elOrderBy><div class=page-navi-in><div class=page-navi-content><p class=page-navi-title>{{_t(\'sortby\')}}</p><a class="btn btn-default btn-tag" href="" ng-repeat="(k,v) in cfg.orderby.elements" ng-hide="cfg.orderby.blacklist.indexOf(k) > -1" ng-click=setOrderBy(k) ng-class="dataHolder.devices.orderBy == k ? \'active\': \'\'">{{_t(k) | cutText:true:30}}</a></div></div></div><div ng-if=dataHolder.devices.noDevices ng-include="\'app/views/elements/no_devices.html\'"></div><div class="alert alert-warning" ng-if=dataHolder.devices.noSearch><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'no_search_results\',{__term__: "\\"" + dataHolder.devices.filter.q + "\\""})}}</div><div ng-if="dataHolder.devices.show && !dataHolder.devices.noDevices"><div ng-include="\'app/views/elements/list_mode_default.html\'" ng-if="dataHolder.mode === \'default\'"></div><div ng-include="\'app/views/elements/list_mode_edit.html\'" ng-if="dataHolder.mode === \'edit\'"></div></div></div>'),e.put("app/views/elements/elements_room_bar.html",'<div class="elemnts-room-bar longpress-{{longPressSent}}" on-long-press=roomBarOnLongPress(room.id) on-touch-end=roomBarOnTouchEnd() prevent-click=true long-press-mobile={{deviceDetector.isMobile()}}><div class=bar-row><div class="bar-col bar-media" ng-style="{\'background-image\':\'url(\' + room.img_src + \')\', \'background-position\': \'center center\', \'background-size\': \'cover\'}"></div><div class="bar-col bar-body"><div class=btn-group><span class="bar-title swipe"><i class="fas fa-arrow-left"></i> <span class=room-title>{{room.title}}</span> <i class="fas fa-arrow-right"></i> </span><span class="bar-title clickable" ng-if="_.size(dataHolder.cnt.rooms) > 0" ng-click="expandNavi(\'roomDropDown\', $event)">{{room.title}} <i class="fas fa-caret-down"></i> </span><span class=bar-title ng-if="_.size(dataHolder.cnt.rooms) < 1">{{room.title}}</span><div class="app-dropdown app-dropdown-left dropdown-100" ng-if=naviExpanded.roomDropDown><ul><li class=clickable ng-repeat="v in dataHolder.devices.rooms" ng-if=dataHolder.cnt.rooms[v.id]><a ng-href=#/rooms/{{v.id}}><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <span class=item-cnt>({{dataHolder.cnt.rooms[v.id]}})</span></a></li></ul></div></div></div><div class="bar-col bar-ctrl"><div class="btn-group sensor" ng-if=_.size(room.main_sensors)><a class="btn btn-default" ng-show="room.main_sensors.indexOf(v.id) > -1" ng-repeat="v in dataHolder.devices.collection" title={{v.metrics.title}}><img class="sensor-preview-img img-circle" ng-src={{v.iconPath}} alt=img> <span class=sensor-level>{{v.metrics.level}} <small>{{v.metrics.scaleTitle}}</small></span></a></div><span ng-include="\'app/views/elements/elements_ctrl_mode.html\'" ng-if="_.size(dataHolder.devices.collection) > 1 && elementAccess(cfg.role_access.admin)"></span><a class="btn btn-default" href=#config-rooms/{{room.id}} title="{{_t(\'lb_update\')}}" ng-show="elementAccess(cfg.role_access.config_rooms) && v.id != 0 && dataHolder.mode === \'default\'"><i class="fas fa-cog"></i></a></div></div></div>'),e.put("app/views/elements/elements_room.html","<div ng-controller=ElementBaseController><bb-loader></bb-loader><div ng-controller=ElementRoomController><div class=full-bg-wrapper ng-show=\"room.show_background && room.id != 0\"><div class=full-bg ng-style=\"{'background':'url(' + room.img_src + ')', 'background-position': 'center center', 'background-size': 'cover'}\"></div></div><div ng-if=dataHolder.devices.show ng-include=\"'app/views/elements/elements_room_bar.html'\"></div><div ng-if=!dataHolder.devices.show ng-include=\"'app/views/elements/no_elements_room.html'\"></div><div ng-include=\"'app/views/elements/list_mode_default.html'\" ng-if=\"dataHolder.mode === 'default'\"></div><div ng-include=\"'app/views/elements/list_mode_edit.html'\" ng-if=\"dataHolder.mode === 'edit'\"></div></div></div>"),e.put("app/views/elements/first_login_de.html",'<div class="form-page welcome-entry"><div class=fieldset><h1>Willkommen in ihrem Smart Home</h1><div>Hier knnen Sie die Z-Wave Gerte in ihrem Haus managen. Jede Funktion eines Gertes wird als ein <strong>Element</strong> dargestellt (Hat ein physisches Gert mehrere Funktionen, wie Sensoren oder Aktoren dann werden mehrere Elemente erzeugt). Alle Elemente sind in der <strong>Elementebersicht</strong> dargestellt und knnen hier nach Name oder Elementtyp gefiltert werden.<br><br>Jedes Element hat ein <strong>Konfigurationsmen</strong>, wo es unter anderem auch ausgeblendet werden kann, wenn es nicht bentigt wird. Wichtige Elemente knnen dort fr das <strong>Dashboard</strong> markiert werden. Zustzlich knnen die Elemente auch nach Rumen angeordnet werden.<br><br>Jeder Neue Sensorwert oder jede Statusnderung eines Sensors ist ein Ereignis und wird in der <strong>Ereignisbersicht</strong> angezeigt. Die Ereignisse eines einzelnen Elementes oder einer einzelnen Funktionsgruppe knnen herausgefiltert werden.<br><br>Alle anderen Funktionen, wie das Aktivieren einer Szene im Haus, die Nutzung von ber Ethernet erreichbaren Gerten oder Internetdiensten werden alle als <strong>Anwendungen</strong> bezeichnet. Diese Anwendungen erzeugen wieder entsprechend ihrer Funktion keine, ein oder mehrere Elemente. Der Menpunkt <a href=#apps/local class="btn btn-default"><i class="fas fa-cubes"></i> {{_t(\'nav_apps\')}}</a> ermglicht das Herunterladen, Installieren, Aktivieren und Konfigurieren dieser Anwendungen.<br><br>Um ein neues Gert zur Smart Home-Steuerung hinzuzufgen, folgen Sie den Anweisungen unter <a href=#devices class="btn btn-default"><i class="fas fa-lightbulb"></i> {{_t(\'nav_devices\')}}</a></div></div></div>'),e.put("app/views/elements/list_mode_default.html",'<div class="app-row app-row-widget app-row-element clearfix"><div id=Widget_{{v.id}} class="widget-entry widget-entry-element isfailed-{{v.metrics.isFailed}} {{v.deviceType}} probe-type-{{v.probeType}} {{v.metrics.multilineType}} longpress-{{longPressSent}}" ng-class="{\'widget-success\': v.isNew}" ng-repeat="v in dataHolder.devices.collection | orderBy: cfg.orderby.elements[dataHolder.devices.orderBy] track by v.id" on-long-press=itemOnLongPress(v.id) on-touch-end=itemOnTouchEnd() prevent-click=true long-press-mobile={{deviceDetector.isMobile()}}><div class="widget-entry-in progress-{{v.progress}}"><span class=widget-loader></span><div class="widget-img mobile" title="{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}"><div ng-switch=v.deviceType><div ng-switch-when=switchMultilevel><div ng-include="\'app/views/elements/widgets/mobile/switchMultilevel.html\'"></div></div><div ng-switch-when=switchBinary><div ng-include="\'app/views/elements/widgets/mobile/switchBinary.html\'"></div></div><div ng-switch-when=switchRGBW><div ng-include="\'app/views/elements/widgets/mobile/switchRGBW.html\'"></div></div><div ng-switch-when=doorlock><div ng-include="\'app/views/elements/widgets/mobile/doorlock.html\'"></div></div><div ng-switch-when=doorLockControl><div ng-include="\'app/views/elements/widgets/mobile/doorLockControl.html\'"></div></div><div ng-switch-when=toggleButton><div ng-include="\'app/views/elements/widgets/mobile/toggleButton.html\'"></div></div><div ng-switch-when=sensorMultilevel><div ng-include="\'app/views/elements/widgets/mobile/sensorMultilevel.html\'"></div></div><div ng-switch-when=sensorBinary><div ng-include="\'app/views/elements/widgets/mobile/sensorBinary.html\'"></div></div><div ng-switch-when=sensorDiscrete><div ng-include="\'app/views/elements/widgets/mobile/sensorDiscrete.html\'"></div></div><div ng-switch-when=thermostat><div ng-include="\'app/views/elements/widgets/mobile/thermostat.html\'"></div></div><div ng-switch-when=camera><div ng-include="\'app/views/elements/widgets/mobile/camera.html\'"></div></div><div ng-switch-when=text><div ng-include="\'app/views/elements/widgets/mobile/text.html\'"></div></div><div ng-switch-when=switchControl><div ng-include="\'app/views/elements/widgets/mobile/switchControl.html\'"></div></div><div ng-switch-when=sensorMultiline><div ng-include="\'app/views/elements/widgets/mobile/sensorMultiline.html\'"></div></div><div ng-switch-when=audioPlayer><div ng-include="\'app/views/elements/widgets/mobile/audioPlayer.html\'"></div></div><div ng-switch-when=poppKeypad><div ng-include="\'app/views/elements/widgets/mobile/poppKeypad.html\'"></div></div><div ng-switch-default><div ng-include="\'app/views/elements/widgets/mobile/default.html\'"></div></div></div></div><div class=widget-img title="{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}"><img class="widget-preview-img widget-icon-update img-circle trans-{{v.imgTrans}}" ng-src={{v.iconPath}} alt=img ng-click="runCmd(v.id + \'/command/\' + v.updateCmd)" ng-if="cfg.element_update_icon.indexOf(v.deviceType) > -1"> <img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img ng-if="cfg.element_update_icon.indexOf(v.deviceType) === -1"></div><div class=widget-header><a class="widget-icon widget-event" href="" title="{{_t(\'nav_events\')}}" ng-show=v.showNotification ng-click="dataHolder.devices.find = v;handleModal(\'modalEvent\', $event)"><i class="fas fa-clipboard-list"></i> </a><a class="widget-icon widget-hidden" href="" ng-click=setVisibility(v,true) ng-if=!v.visibility><i class="fas fa-eye-slash"></i> </a><a class="widget-icon widget-chart" href="" title="{{_t(\'chart\')}}" ng-click="dataHolder.devices.find = v;handleModal(\'modalIntchart\', $event)" ng-if=v.metrics.intchartUrl><i class="fas fa-chart-line"></i> </a><a class="widget-icon widget-history" href="" title="{{_t(\'history\')}}" ng-show=v.hasHistory ng-click="dataHolder.devices.find = v;handleModal(\'modalHistory\', $event)"><i class="fas fa-history"></i> </a><a class="widget-icon widget-config" href=#element/{{v.id}} title="{{_t(\'lb_cfg_view\')}}" ng-if=elementAccess(cfg.role_access.element)><i class="fas fa-cog"></i></a></div><div class=widget-content><div class=widget-title><span class=widget-room><span ng-if="v.location !== 0">{{dataHolder.devices.rooms[v.location].title}}</span>&nbsp;</span><h3 title={{v.metrics.title}}>{{v.metrics.title}}</h3></div><hr class=bottom-aligner><div class=widget-footer ng-switch=v.deviceType><div ng-switch-when=switchMultilevel><div ng-include="\'app/views/elements/widgets/switchMultilevel.html\'"></div></div><div ng-switch-when=switchBinary><div ng-include="\'app/views/elements/widgets/switchBinary.html\'"></div></div><div ng-switch-when=switchRGBW><div ng-include="\'app/views/elements/widgets/switchRGBW.html\'"></div></div><div ng-switch-when=doorlock><div ng-include="\'app/views/elements/widgets/doorlock.html\'"></div></div><div ng-switch-when=doorLockControl><div ng-include="\'app/views/elements/widgets/doorLockControl.html\'"></div></div><div ng-switch-when=toggleButton><div ng-include="\'app/views/elements/widgets/toggleButton.html\'"></div></div><div ng-switch-when=sensorMultilevel><div ng-include="\'app/views/elements/widgets/sensorMultilevel.html\'"></div></div><div ng-switch-when=sensorBinary><div ng-include="\'app/views/elements/widgets/sensorBinary.html\'"></div></div><div ng-switch-when=sensorDiscrete><div ng-include="\'app/views/elements/widgets/sensorDiscrete.html\'"></div></div><div ng-switch-when=thermostat><div ng-include="\'app/views/elements/widgets/thermostat.html\'"></div></div><div ng-switch-when=camera><div ng-include="\'app/views/elements/widgets/camera.html\'"></div></div><div ng-switch-when=text><div ng-include="\'app/views/elements/widgets/text.html\'"></div></div><div ng-switch-when=switchControl><div ng-include="\'app/views/elements/widgets/switchControl.html\'"></div></div><div ng-switch-when=sensorMultiline><div ng-include="\'app/views/elements/widgets/sensorMultiline.html\'"></div></div><div ng-switch-when=audioPlayer><div ng-include="\'app/views/elements/widgets/audioPlayer.html\'"></div></div><div ng-switch-when=poppKeypad><div ng-include="\'app/views/elements/widgets/poppKeypad.html\'"></div></div><div ng-switch-default><div ng-include="\'app/views/elements/widgets/default.html\'"></div></div></div></div></div></div></div><div ng-include="\'app/views/elements/widgets/intchartModal.html\'"></div><div ng-include="\'app/views/elements/widgets/historyModal.html\'"></div><div ng-include="\'app/views/elements/widgets/eventModal.html\'"></div><div ng-include="\'app/views/elements/widgets/switchMultilevelModal.html\'"></div><div ng-include="\'app/views/elements/widgets/mobile/switchMultilevelModal.html\'"></div><div ng-include="\'app/views/elements/widgets/thermostatModal.html\'"></div><div ng-include="\'app/views/elements/widgets/sensorMultilineModal.html\'"></div><div ng-include="\'app/views/elements/widgets/openWeatherModal.html\'"></div><div ng-include="\'app/views/elements/widgets/multiButtonModal.html\'"></div><div ng-include="\'app/views/elements/widgets/textModal.html\'"></div><div ng-include="\'app/views/elements/widgets/cameraModal.html\'"></div><div ng-include="\'app/views/elements/widgets/climateControlModal.html\'"></div><div ng-include="\'app/views/elements/widgets/mobile/climateControlModal.html\'"></div><div ng-include="\'app/views/elements/widgets/doorLockControlModal.html\'"></div><div ng-include="\'app/views/elements/widgets/switchRGBWModal.html\'"></div><div ng-include="\'app/views/elements/widgets/securityControlModal.html\'"></div><div ng-include="\'app/views/elements/widgets/mobile/securityControlModal.html\'"></div>'),e.put("app/views/elements/list_mode_edit.html",'<div class="clearfix dragdrop-element" title={{v.metrics.title}} sv-root sv-part=dataHolder.devices.collection sv-on-start="dragDropStart($item, $part, $index, $helper)" sv-on-sort="dragDropSort($item, $partFrom, $partTo, $indexFrom, $indexTo)" sv-on-stop="dragDropStop($item, $part, $index)"><div sv-placeholder class="dd-placeholder dd-element">&nbsp;</div><div class=card-element-dragdrop id=ele-{{v.id}} sv-element ng-repeat="v in dataHolder.devices.collection track by v.id" touchstart="highlightElementToogle(\'#ele-\' + v.id)" touchend="highlightElementToogle(\'#ele-\' + v.id)"><div class=card-element-dragdrop-in><img class="element-dragdrop-img dd-handle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} draggable=false ondragstart="return false;" a-sv-handle><h3>{{v.metrics.title|cutText:true:25}}</h3></div></div></div>'),e.put("app/views/elements/no_dashboard.html",'<h2>{{_t(\'welcome_no_devices\')}}</h2><div class="form-page welcome-entry"><div class=fieldset><div class=form-group><span class="badge badge-number">1</span> <span class=welcome-help><a href=#elements>{{_t(\'welcome_step1\')}} <i class="fas fa-th"></i></a></span></div><div class=form-group><span class="badge badge-number">2</span> <span class=welcome-help>{{_t(\'welcome_step2\')}} <i class="fas fa-cog"></i></span></div><div class="form-group last"><span class="badge badge-number">3</span> <span class=welcome-help>{{_t(\'welcome_step3\')}}</span></div></div><div class="fieldset submit-entry"><a class="btn btn-submit" href=#elements>{{_t(\'continue\')}} <i class="fas fa-chevron-right"></i></a></div></div>'),e.put("app/views/elements/no_devices.html",'<h2>{{_t(\'no_device_installed\')}}</h2><div class="form-page welcome-entry" ng-if=elementAccess(cfg.role_access.admin)><div class=fieldset><div class=form-group><span class="badge badge-number">1</span> <span class=welcome-help>{{_t(\'can_add_app\')}}</span> <a href=#apps/local class="btn btn-default"><i class="fas fa-cubes"></i> {{_t(\'nav_apps\')}}</a></div><div class=form-group><span class="badge badge-number">2</span> <span class=welcome-help>{{_t(\'can_include_device\')}}</span> <a href=#devices class="btn btn-default"><i class="fas fa-cogs"></i> {{_t(\'nav_devices\')}}</a></div></div><div class="fieldset submit-entry" ng-if="dataHolder.cnt.hidden > 0"><button class="btn btn-default" ng-click=showHiddenEl(true)><i class="fas fa-eye"></i> {{_t(\'show_hidden\')}}</button></div></div>'),e.put("app/views/elements/no_elements_room.html",'<div class="alert alert-warning"><i class="fas fa-exclamation-circle"></i> {{_t(\'no_devices\')}}</div>'),e.put("app/views/elements/widgets/_muster.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn widget-btn-frostProtection btn-primary"><i class="fas fa-asterisk"></i></button> <button class="btn widget-btn-energySave btn-default"><i class="fas fa-leaf"></i></button> <button class="btn widget-btn-comfort btn-default"><i class="fas fa-building"></i></button></div></div><div class="widget-ctrl ctrl-right"><i class="fas fa-caret-down"></i> <span class=widget-level>100</span> <span class=widget-scale>%</span></div>'),e.put("app/views/elements/widgets/audioPlayer.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-default btn-label-on" id="btn_step_backward_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/previous\', v.id)" title="{{_t(\'lb_step_backward\')}}"><i class="fas fa-step-backward"></i></button> <button class="btn btn-default" id="btn_play_pause_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/\'+ (v.metrics.pStatus == \'Play\' && v.metrics.pStatus != \'Stop\' ? \'pause\' : \'play\'), v.id)" ng-class="v.metrics.pStatus ==\'Play\' || v.metrics.pStatus ==\'Pause\' ? \'btn-primary\': \'btn-default\'" title="{{v.metrics.pStatus == \'Play\' ? _t(\'lb_pause\') : _t(\'lb_play\')}}"><i ng-if="v.metrics.pStatus == \'Play\'" class="fas fa-pause"></i> <i ng-if="v.metrics.pStatus == \'Pause\' || v.metrics.pStatus == \'Stop\'" class="fas fa-play"></i></button> <button class="btn btn-default" id="btn_stop_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/stop\', v.id)" ng-class="v.metrics.pStatus ==\'Stop\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_stop\')}}"><i class="fas fa-stop"></i></button> <button class="btn btn-default btn-label-on" id="btn_step_forward _{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/next\', v.id)" title="{{_t(\'lb_step_forward\')}}"><i class="fas fa-step-forward"></i></button></div></div><div class="widget-ctrl ctrl-right"><div class=btn-group><button class="btn btn-default btn-label-on" id="btn_volume_{{ v.id}}" ng-click="dataHolder.devices.find = v;handleModal(\'switchMultilevelModal_m\', $event)" title="{{_t(\'lb_volume\')}}"><span class=widget-btn-symbol>{{v.metrics.level | getMaxLevel:v.minMax.max}}</span> <i class="fas fa-volume-up"></i></button></div></div>'),e.put("app/views/elements/widgets/camera.html",'<div class="widget-ctrl ctrl-left">&nbsp;</div><div class="widget-ctrl ctrl-right" ng-click="dataHolder.devices.find = v;handleModal(\'cameraModal\', $event)"><div class=btn-group><button class="btn btn-default"><i class="fas fa-video text-primary"></i></button></div></div>'),e.put("app/views/elements/widgets/cameraModal.html",'<div id=cameraModal class=appmodal ng-controller=ElementCameraController ng-if=modalArr.cameraModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'cameraModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetCamera.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetCamera.alert></bb-alert><div class=element-camera-control><a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/zoomIn\')" ng-if=widgetCamera.find.metrics.hasZoomIn><i class="fas fa-search-plus"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/zoomOut\')" ng-if=widgetCamera.find.metrics.hasZoomOut><i class="fas fa-search-minus"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/left\')" ng-if=widgetCamera.find.metrics.hasLeft><i class="fas fa-arrow-circle-left"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/right\')" ng-if=widgetCamera.find.metrics.hasRight><i class="fas fa-arrow-circle-right"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/up\')" ng-if=widgetCamera.find.metrics.hasUp><i class="fas fa-arrow-circle-up"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/down\')" ng-if=widgetCamera.find.metrics.hasDown><i class="fas fa-arrow-circle-down"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/open\')" ng-if=widgetCamera.find.metrics.hasOpen><i class="fas fa-door-open"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/close\')" ng-if=widgetCamera.find.metrics.hasClose><i class="fas fa-door-closed"></i></a>&nbsp;&nbsp;&nbsp;</div><div class=camera-img><img class="text-center camera-img" ng-src={{url}}></div></div></div></div>'),e.put("app/views/elements/widgets/climateControlModal.html",'<div id=climateControlModal class=appmodal ng-controller=ElementClimateControlController ng-if=modalArr.climateControlModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'climateControlModal\', $event)"><i class="fas fa-times"></i></span><h3>{{dataHolder.devices.find.metrics.title}}</h3></div><div class=appmodal-body><bb-alert alert=widgetClimateControl.alert></bb-alert><div class=multiline-entry ng-if=widgetClimateControl.rooms><table class="table table-report table-condensed"><tbody><tr class=bcg-success ng-repeat="n in widgetClimateControl.rooms" ng-if="n.room > 0"><td class=td-img><img class="report-img img-circle" ng-src={{n.roomIcon}}></td><td class=text-left>{{n.roomTitle}}</td><td><span class=text-primary_>{{n.sensorLevel}} {{n.scaleTitle}}</span></td><td class=text-right><i class="fas fa-arrow-right"></i></td><td class=text-right><span class=text-success>{{n.targetTemp}} C</span></td><td class=text-right><select class=form-control name=changeMode_{{n.room}} id=changeMode_{{n.room}} ng-model=n.state ng-change="changeClimateControlMode({cmd: widgetClimateControl.find.id + \'/command/\' + n.state + \'?room=\' + n.room, room: n.room})"><option value={{m}} ng-repeat="m in cfg.climate_state" ng-disabled="m == \'schedule\' && !n.hasSchedule" ng-selected="n.state == m">{{_t(m)}}</option></select></td></tr></tbody></table></div></div></div></div>'),e.put("app/views/elements/widgets/default.html",'<div class="widget-ctrl ctrl-right"><span class=widget-level>{{v.metrics.level}}</span> <span class=widget-scale>{{v.metrics.scaleTitle}}</span></div>'),e.put("app/views/elements/widgets/doorlock.html",'<div class="widget-ctrl ctrl-left">&nbsp;</div><div class="widget-ctrl ctrl-right widget-ctrl-click"><div class=btn-group><button class="btn btn-off" ng-class="v.metrics.level==\'close\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runCmd(v.id + \'/command/close\', v.id)"><i class="fas fa-lock"></i></button> <button class="btn btn-on" ng-class="v.metrics.level ==\'open\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runCmd(v.id + \'/command/open\', v.id)"><i class="fas fa-unlock"></i></button></div></div>'),e.put("app/views/elements/widgets/doorLockControl.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-off" ng-class="v.metrics.level==\'close\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runCmd(v.id + \'/command/close\', v.id)"><i class="fas fa-lock"></i></button> <button class="btn btn-on" ng-class="v.metrics.level ==\'open\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runCmd(v.id + \'/command/open\', v.id)"><i class="fas fa-unlock"></i></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click" title="{{_t(\'lb_settings\')}}" ng-click="dataHolder.devices.find = v;handleModal(\'doorLockControlModal\', $event)"><i class="fas fa-caret-down"></i> <span class=widget-level>Closed at</span> <span>{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}</span></div>'),e.put("app/views/elements/widgets/doorLockControlModal.html",'<div id=doorLockControlModal class=appmodal ng-controller_=ElementThermostatController ng-if=modalArr.doorLockControlModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'doorLockControlModal\', $event)"><i class="fas fa-times"></i></span><h3>{{dataHolder.devices.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetThermostat.alert></bb-alert>Content: doorLockControlModal</div></div></div>'),e.put("app/views/elements/widgets/eventModal.html",'<div id=modalEvent class=appmodal ng-controller=ElementEventController ng-if=modalArr.modalEvent><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="resetDevices({byId:{}});handleModal(\'modalEvent\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetEvent.find.metrics.title}}</h3></div><div class=appmodal-body><bb-alert alert=widgetEvent.alert></bb-alert><table class="table table-report table-condensed"><tbody><tr class=event-level-{{v.level}} ng-repeat="v in widgetEvent.collection | orderBy: \'-timestamp\' | limitTo: 10"><td class=td-img><img id=event_img_{{v.id}} class=report-img-s ng-src={{v.iconPath}} alt={{v.type}}></td><td><span class="text-supp event-date" title="{{v.timestamp| date:\'dd.MM.yyyy H:mm\'}}">{{v.timestamp | eventDate: cfg.route.time.timeZoneOffset}}</span></td><td><span ng-if="v.message | hasNode:\'l\'"><span ng-bind=v.message.dev></span> : <strong ng-bind=v.message.l></strong></span> <span ng-if="!(v.message | hasNode:\'l\')" ng-bind=v.message></span></td></tr></tbody></table></div><div class=appmodal-footer ng-if=!_.isEmpty(widgetEvent.collection)><button class="btn btn-default" ng-click="handleModal(\'modalEvent\', $event);redirectToEvents(\'events/source/\' + widgetEvent.find.id)">{{_t(\'see_more\')}} <i class="fas fa-chevron-right"></i></button></div></div></div>'),e.put("app/views/elements/widgets/historyModal.html",'<div id=modalHistory class=appmodal ng-controller=ElementHistoryController ng-if=modalArr.modalHistory><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="resetDevices({byId:{}});handleModal(\'modalHistory\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetHistory.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetHistory.alert></bb-alert><div ng-show=!(_.isEmpty(widgetHistory.chartData))><canvas id=history_chart tc-chartjs-line chart-data=widgetHistory.chartData chart-options=widgetHistory.chartOptions></canvas></div></div><div class="appmodal-footer submit-entry is-grid" ng-if=elementAccess(cfg.role_access.admin)><div>{{_t(\'history_show_average_steps\')}}<select id=history_steps name=history_steps class=form-control ng-model=widgetHistory.history_steps ng-change=reloadChart(widgetHistory.history_steps)><option ng-repeat="v in widgetHistory.history_steps_list" value={{v.value}} ng-selected="v.value === widgetHistory.history_steps">{{v.key}}</option></select></div><span><button type=button class="btn btn-default" ng-click="deleteHistory(widgetHistory.find,_t(\'history_delete_confirm\'),$event)"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'delete_history\')}}</span></button></span></div></div></div>'),e.put("app/views/elements/widgets/intchartModal.html",'<div id=modalIntchart class=appmodal ng-controller=ElementChartController ng-if=modalArr.modalIntchart><div class=appmodal-in style=min-height:128px><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'modalIntchart\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetChart.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetChart.alert></bb-alert><div ng-if=widgetChart.hasURL ng-include=widgetChart.url></div></div></div></div>'),e.put("app/views/elements/widgets/mobile/audioPlayer.html",'<div class=widget-img-overlay ng-click="dataHolder.devices.find = v;handleModal(\'switchMultilevelModal_m\', $event)"><span class=widget-level>{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}>'),e.put("app/views/elements/widgets/mobile/camera.html",'<img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-click="dataHolder.devices.find = v;handleModal(\'cameraModal\', $event)">'),e.put("app/views/elements/widgets/mobile/cameraModal.html",'<div id=cameraModal class=appmodal ng-controller=ElementCameraController ng-if=modalArr.cameraModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'cameraModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetCamera.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetCamera.alert></bb-alert><div class=element-camera-control><a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/zoomIn\')" ng-if=widgetCamera.find.metrics.hasZoomIn><i class="fas fa-search-plus"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/zoomOut\')" ng-if=widgetCamera.find.metrics.hasZoomOut><i class="fas fa-search-minus"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/left\')" ng-if=widgetCamera.find.metrics.hasLeft><i class="fas fa-arrow-circle-left"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/right\')" ng-if=widgetCamera.find.metrics.hasRight><i class="fas fa-arrow-circle-right"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/up\')" ng-if=widgetCamera.find.metrics.hasUp><i class="fas fa-arrow-circle-up"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/down\')" ng-if=widgetCamera.find.metrics.hasDown><i class="fas fa-arrow-circle-down"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/open\')" ng-if=widgetCamera.find.metrics.hasOpen><i class="fas fa-door-open"></i></a>&nbsp;&nbsp;&nbsp; <a href="" ng-click="runCmd(widgetCamera.find.id + \'/command/close\')" ng-if=widgetCamera.find.metrics.hasClose><i class="fas fa-door-closed"></i></a>&nbsp;&nbsp;&nbsp;</div><div class=camera-img><img class="text-center camera-img" ng-src={{url}}></div></div></div></div>'),e.put("app/views/elements/widgets/mobile/climateControlModal.html",'<div id=climateControlModal class=appmodal ng-controller=ElementClimateControlController ng-if=modalArr.climateControlModal_m><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'climateControlModal_m\', $event)"><i class="fas fa-times"></i></span><h3>{{dataHolder.devices.find.metrics.title}}</h3></div><div class=appmodal-body><bb-alert alert=widgetClimateControl.alert></bb-alert><div class="btn-group btn-goup-block btn-goup-4"><button class="btn widget-btn-frostProtection" id="btn_frostProtection_{{ widgetClimateControl.find.id}}" ng-click="runCmd(widgetClimateControl.find.id + \'/command/\' + cfg.climate_state[0] + \'?room=null\', widgetClimateControl.find.id)" ng-class="widgetClimateControl.find.metrics.state == cfg.climate_state[0] ? \'btn-primary\': \'btn-default\'" title={{_t(cfg.climate_state[0])}}><i class="fas fa-asterisk"></i></button> <button class="btn widget-btn-energySave" id="btn_energySave_{{ widgetClimateControl.find.id}}" ng-click="runCmd(widgetClimateControl.find.id + \'/command/\' + cfg.climate_state[1] + \'?room=null\', widgetClimateControl.find.id)" ng-class="widgetClimateControl.find.metrics.state ==cfg.climate_state[1] ? \'btn-primary\': \'btn-default\'" title={{_t(cfg.climate_state[1])}}><i class="fas fa-moon"></i></button> <button class="btn widget-btn-comfort" id="btn_comfort_{{ widgetClimateControl.find.id}}" ng-click="runCmd(widgetClimateControl.find.id + \'/command/\' + cfg.climate_state[2] + \'?room=null\', widgetClimateControl.find.id)" ng-class="widgetClimateControl.find.metrics.state == cfg.climate_state[2] ? \'btn-primary\': \'btn-default\'" title={{_t(cfg.climate_state[2])}}><i class="fas fa-sun"></i></button> <button class="btn widget-btn-schedule" id="btn_schedule_{{ widgetClimateControl.find.id}}" ng-click="runCmd(widgetClimateControl.find.id + \'/command/\' + cfg.climate_state[3] + \'?room=null\', widgetClimateControl.find.id)" ng-class="widgetClimateControl.find.metrics.state == cfg.climate_state[3] ? \'btn-primary\': \'btn-default\'" title={{_t(cfg.climate_state[3])}}><i class="fas fa-calendar"></i></button></div><div class=multiline-entry ng-if=widgetClimateControl.rooms><table class="table table-report table-condensed"><tbody ng-repeat="n in widgetClimateControl.rooms" ng-if="n.room > 0"><tr class=bcg-success><td class="text-left room-title" colspan=5>{{n.roomTitle}}:</td></tr><tr class=bcg-success><td><span class=text-primary_>{{n.sensorLevel}} {{n.scaleTitle}}</span></td><td class=text-right><i class="fas fa-arrow-right"></i></td><td class=text-right><span class=text-success>{{n.targetTemp}} C</span></td><td class="text-right td40"><select class=form-control name=changeMode_{{n.room}} id=changeMode_{{n.room}} ng-model=n.state ng-change="changeClimateControlMode({cmd: widgetClimateControl.find.id + \'/command/\' + n.state + \'?room=\' + n.room, room: n.room})"><option value={{m}} ng-repeat="m in cfg.climate_state" ng-disabled="m == \'schedule\' && !n.hasSchedule" ng-selected="n.state == m">{{_t(m)}}</option></select></td></tr></tbody></table></div></div></div></div>'),e.put("app/views/elements/widgets/mobile/default.html",'<img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}>'),e.put("app/views/elements/widgets/mobile/doorlock.html","<img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-click=\"runCmd(v.id + '/command/'+ (v.metrics.level == 'open' ? 'close' : 'open'), v.id)\">"),e.put("app/views/elements/widgets/mobile/doorLockControl.html","<img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-click=\"runCmd(v.id + '/command/'+ (v.metrics.level == 'open' ? 'close' : 'open'), v.id)\">"),e.put("app/views/elements/widgets/mobile/eventModal.html",'<div id=modalEvent class=appmodal ng-controller=ElementEventController ng-if=modalArr.modalEvent><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="resetDevices({byId:{}});handleModal(\'modalEvent\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetEvent.find.metrics.title}}</h3></div><div class=appmodal-body><bb-alert alert=widgetEvent.alert></bb-alert><table class="table table-report table-condensed"><tbody><tr class=event-level-{{v.level}} ng-repeat="v in widgetEvent.collection | orderBy: \'-timestamp\' | limitTo: 10"><td class=td-img><img id=event_img_{{v.id}} class=report-img-s ng-src={{v.iconPath}} alt={{v.type}}></td><td><span class="text-supp event-date" title="{{v.timestamp| date:\'dd.MM.yyyy H:mm\'}}">{{v.timestamp | eventDate: cfg.route.time.timeZoneOffset}}</span></td><td><span ng-if="v.message | hasNode:\'l\'"><span ng-bind=v.message.dev></span> : <strong ng-bind=v.message.l></strong></span> <span ng-if="!(v.message | hasNode:\'l\')" ng-bind=v.message></span></td></tr></tbody></table></div><div class=appmodal-footer ng-if=!_.isEmpty(widgetEvent.collection)><button class="btn btn-default" ng-click="handleModal(\'modalEvent\', $event);redirectToEvents(\'events/source/\' + widgetEvent.find.id)">{{_t(\'see_more\')}} <i class="fas fa-chevron-right"></i></button></div></div></div>'),e.put("app/views/elements/widgets/mobile/historyModal.html",'<div id=modalHistory class=appmodal ng-controller=ElementHistoryController ng-if=modalArr.modalHistory><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="resetDevices({byId:{}});handleModal(\'modalHistory\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetHistory.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetHistory.alert></bb-alert><div ng-if=!(_.isEmpty(widgetHistory.chartData))><canvas tc-chartjs-line chart-data=widgetHistory.chartData chart-options=widgetHistory.chartOptions width=340 height=200></canvas></div></div><div class=appmodal-footer ng-if=elementAccess(cfg.role_access.admin)><button type=button class="btn btn-default" ng-click="deleteHistory(widgetHistory.find,_t(\'history_delete_confirm\'),$event)"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'delete_history\')}}</span></button></div></div></div>'),e.put("app/views/elements/widgets/mobile/intchartModal.html",'<div id=modalIntchart class=appmodal ng-controller=ElementChartController ng-if=modalArr.modalIntchart><div class=appmodal-in style=min-height:128px><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'modalIntchart\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetChart.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetChart.alert></bb-alert><div ng-if=widgetChart.hasURL ng-include=widgetChart.url></div></div></div></div>'),e.put("app/views/elements/widgets/mobile/multiButtonModal.html",'<div id=multiButtonModal class=appmodal ng-controller=ElementSensorMultilineController ng-if=modalArr.multiButtonModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'multiButtonModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetSensorMultiline.find.metrics.title}}</h3></div><div class=appmodal-body><bb-alert alert=widgetSensorMultiline.alert></bb-alert><div class=multiline-entry ng-if=widgetSensorMultiline.find><table class="table table-report table-condensed"><tbody><tr ng-repeat="n in widgetSensorMultiline.find.metrics.sensors track by n.id"><td class=td-img><img id=widget_multiline_img_{{n.id}} class=report-img ng-src={{n.iconPath}} alt=img></td><td><span ng-bind=n.metrics.title></td><td class="text-right tbl-widget-ctrl"><a class=widget-history href="" ng-click="getDeviceById(n.id);handleModal(\'modalHistory\', $event)" ng-if=n.hasHistory><i class="fas fa-history"></i></a>&nbsp;<div class=btn-group ng-if="n.deviceType===\'switchBinary\'"><button class="btn btn-off" data-ng-click="runMultilineCmd(n.id + \'/command/off\', n.id)" ng-class="n.metrics.level ==\'off\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" data-ng-click="runMultilineCmd(n.id + \'/command/on\', n.id)" ng-class="n.metrics.level ==\'on\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>I</span></button></div><div class=btn-group ng-if="n.deviceType===\'toggleButton\'"><button class="btn btn-default btn-label-on" ng-click="runCmd(n.id + \'/command/on\')" title="{{_t(\'lb_on\')}}">{{_t(\'lb_on\')}}</button></div></td></tr></tbody></table></div></div></div></div>'),e.put("app/views/elements/widgets/mobile/openWeatherModal.html","<div id=openWeatherModal class=appmodal ng-controller=ElementOpenWeatherController ng-if=modalArr.openWeatherModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click=\"handleModal('openWeatherModal', $event)\"><i class=\"fas fa-times\"></i></span><h3>{{widgetOpenWeather.find.metrics.title}}, {{widgetOpenWeather.find.metrics.country}} <img ng-src={{widgetOpenWeather.find.metrics.flag}}></h3></div><div class=appmodal-body><bb-alert alert=widgetOpenWeather.alert></bb-alert><table class=\"table table-report table-condensed\"><tbody><tr><td><b>{{_t('lb_humidity')}}</b></td><td><span ng-bind=widgetOpenWeather.find.metrics.zwaveOpenWeather.main.humidity><span>%</span></td></tr><tr><td><b>{{_t('lb_pressure')}}</b></td><td><span ng-bind=widgetOpenWeather.find.metrics.zwaveOpenWeather.main.pressure><span>hPa</span></td></tr><tr><td><b>{{_t('lb_weather')}}</b></td><td><span ng-bind=widgetOpenWeather.find.metrics.zwaveOpenWeather.weather[0].description></td></tr><tr><td><b>{{_t('lb_wind')}}</b></td><td><span ng-bind=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.speed | number:1\"><span>m/s</span><span ng-if=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg === 0\">{{_t('lb_n')}}</span> <span ng-if=\"0 < widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg < 45\">{{_t('lb_ne')}}</span> <span ng-if=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg === 90\">{{_t('lb_e')}}</span> <span ng-if=\"90 < widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg < 180\">{{_t('lb_se')}}</span> <span ng-if=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg === 180\">{{_t('lb_s')}}</span> <span ng-if=\"180 < widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg < 270\">{{_t('lb_sw')}}</span> <span ng-if=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.speed === 270\">{{_t('lb_w')}}</span> <span ng-if=\"270 < widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg < 360\">{{_t('lb_nw')}}</span>(<span ng-bind=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg | number:0\"><span></span>)</td></tr><tr><td><b>{{_t('lb_last_update')}}</b></td><td>{{widgetOpenWeather.find.updateTime|isToday:true}}</td></tr></tbody></table></div></div></div>"),e.put("app/views/elements/widgets/mobile/poppKeypad.html",'<img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}>'),e.put("app/views/elements/widgets/mobile/securityControlModal.html",'<div id=securityControlModal class=appmodal ng-controller=ElementSecurityControlController ng-if=modalArr.securityControlModal_m><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'securityControlModal_m\', $event)"><i class="fas fa-times"></i></span><h3>{{dataHolder.devices.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetSecurityControl.alert></bb-alert><div class=switch-wrap><label class=switch><input type=checkbox ng-checked="device.metrics.Clevel === \'cOn\'" ng-click="device.metrics.Clevel = device.metrics.Clevel === \'cOn\' ? \'cOff\': \'cOn\';\n                           runCmd(widgetSecurityControl.find.id + \'/command/\' + device.metrics.Clevel, widgetSecurityControl.find.id)"><div class="slider round"></div></label></div><div class=btn-group><button class="btn btn-off" ng-class="widgetSecurityControl.find.metrics.Rlevel==\'on\' ? \'btn-primary\': \'btn-default\'" ng-click="runCmd(widgetSecurityControl.find.id + \'/command/cReset\', widgetSecurityControl.find.id)"><i class="fas fa-sync"></i></button> <button class="btn btn-on" ng-class="widgetSecurityControl.find.metrics.Alevel ==\'on\' ? \'btn-primary\': \'btn-default\'" ng-click="runCmd(widgetSecurityControl.find.id + \'/command/automationToggle\', widgetSecurityControl.find.id)"><i class="fas fa-clock"></i></button></div><div class=multiline-entry ng-if=!_.isEmpty(widgetSecurityControl.find.metrics.lastTriggerList)><table class="table table-report table-condensed"><tbody><tr class=bcg-success ng-repeat="n in widgetSecurityControl.find.metrics.lastTriggerList"><td class=text-left>{{n.name}}</td><td class=text-left>{{n.state}}</td><td class=text-left>{{n.time | date:\'dd.MM.yyyy H:mm\'}}</td></tr></tbody></table></div></div></div></div>'),e.put("app/views/elements/widgets/mobile/sensorBinary.html",'<img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-if=v.showNotification ng-click="dataHolder.devices.find = v;handleModal(\'modalEvent\', $event)"> <img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-if=!v.showNotification>'),e.put("app/views/elements/widgets/mobile/sensorDiscrete.html",'<img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}>'),e.put("app/views/elements/widgets/mobile/sensorMultilevel.html",'<div class=widget-img-overlay ng-if=!v.hasHistory ng-click="runCmd(v.id + \'/command/update\')"><span class=widget-level>{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><div class=widget-img-overlay ng-if=v.hasHistory ng-click="dataHolder.devices.find = v;handleModal(\'modalHistory\', $event)"><span class=widget-level style="overflow: hidden; text-overflow: ellipsis">{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-if="cfg.element_update_icon.indexOf(v.deviceType) === -1">'),e.put("app/views/elements/widgets/mobile/sensorMultiline.html","<div ng-if=\"v.metrics.multilineType === 'climateControl'\"><img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img ng-click=\"dataHolder.devices.find = v;handleModal('climateControlModal_m', $event)\" err-src={{cfg.img.placeholder}}></div><div ng-if=\"v.metrics.multilineType === 'securityControl'\"><img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img ng-click=\"dataHolder.devices.find = v;handleModal('securityControlModal_m', $event)\" err-src={{cfg.img.placeholder}}></div><div ng-if=\"v.metrics.multilineType === 'multilineSensor'\"><div class=widget-img-overlay ng-click=\"dataHolder.devices.find = v;handleModal('sensorMultilineModal', $event)\"><span class=widget-level>{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}></div><div ng-if=\"v.metrics.multilineType === 'multiButton'\"><div class=widget-img-overlay ng-click=\"runCmd(v.id + '/command/'+ (v.metrics.level == 'on' ? 'off' : 'on') + '?device=null', v.id)\"><span class=widget-level>{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}></div><div ng-if=\"v.metrics.multilineType === 'protection'\"><img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-click=\"runCmd(v.id + '/command/'+ (v.metrics.level == 'armed' ? 'disarm' : 'arm'), v.id)\"></div><div ng-if=\"v.metrics.multilineType === 'openWeather'\"><div class=widget-img-overlay ng-click=\"dataHolder.devices.find = v;handleModal('openWeatherModal', $event)\"><span class=widget-level>{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}></div>"),e.put("app/views/elements/widgets/mobile/switchBinary.html","<img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-click=\"runCmd(v.id + '/command/'+ (v.metrics.level == 'on' ? 'off' : 'on'), v.id)\">"),e.put("app/views/elements/widgets/mobile/switchControl.html","<img class=\"widget-preview-img img-circle\" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-click=\"runCmd(v.id + '/command/'+ (v.metrics.level == 'on' ? 'off' : 'on'), v.id)\">"),e.put("app/views/elements/widgets/mobile/switchMultilevel.html",'<div class=widget-img-overlay ng-show="cfg.element_level_is_number.indexOf(v.deviceType) > -1" ng-click="dataHolder.devices.find = v;handleModal(\'switchMultilevelModal_m\', $event)"><span class=widget-level>{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><i ng-click=handlePower(v) class="fas fa-power-off widget__power-off_bnt" ng-class="!!(v.metrics.level) ? \'on\' : \'off\'"></i> <img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}>'),e.put("app/views/elements/widgets/mobile/switchMultilevelModal.html",'<div id=switchMultilevelModal class=appmodal ng-controller=ElementSwitchMultilevelController ng-if=modalArr.switchMultilevelModal_m><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'switchMultilevelModal_m\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetSwitchMultilevel.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetSwitchMultilevel.alert></bb-alert><div class="app-row app-row-knob clearfix"><div class="knob-col knob-ctrl"><input value={{widgetSwitchMultilevel.find.metrics.level|getMaxLevel:widgetSwitchMultilevel.find.minMax.max}} class="dial widget-level-knob" data-width=160 data-height=160 knob-step=widgetSwitchMultilevel.find.minMax.step knob-min=widgetSwitchMultilevel.find.minMax.min knob-max=widgetSwitchMultilevel.find.minMax.max knob-id=widgetSwitchMultilevel.find.id knob-data=widgetSwitchMultilevel.find.metrics.level knob-options=knobopt ng-model=widgetSwitchMultilevel.find.metrics.level myknob></div><div class="knob-col knob-btn"><p><button class="btn btn-primary" ng-click="setExactCmd(widgetSwitchMultilevel.find, \'+\')"><i class="fas fa-angle-up"></i></button>&nbsp; <button class="btn btn-info" ng-click="setExactCmd(widgetSwitchMultilevel.find, widgetSwitchMultilevel.find.minMax.max)"><i class="fas fa-angle-double-up"></i></button></p><p><button class="btn btn-primary" ng-click="setExactCmd(widgetSwitchMultilevel.find, \'-\')"><i class="fas fa-angle-down"></i></button>&nbsp; <button class="btn btn-info" ng-click="setExactCmd(widgetSwitchMultilevel.find, widgetSwitchMultilevel.find.minMax.min)"><i class="fas fa-angle-double-down"></i></button></p><p><button class="btn btn-default" ng-if="widgetSwitchMultilevel.find.probeType == \'motor\'" id="btn_stop_{{ v.id}}" data-ng-click="runCmd(widgetSwitchMultilevel.find.id + \'/command/stop\', widgetSwitchMultilevel.find.id)" title="{{_t(\'lb_stop\')}}"><i class="fas fa-square text-danger"></i></button></p><div class="btn-group btn-goup-block btn-goup-4" ng-if="widgetSwitchMultilevel.find.deviceType == \'audioPlayer\'"><button class="btn btn-default btn-label-on" id="btn_step_backward_{{ widgetSwitchMultilevel.find.id}}" data-ng-click="runCmd(widgetSwitchMultilevel.find.id + \'/command/previous\', widgetSwitchMultilevel.find.id)" title="{{_t(\'lb_step_backward\')}}"><i class="fas fa-step-backward"></i></button> <button class="btn btn-default" id="btn_play_pause_{{ widgetSwitchMultilevel.find.id}}" data-ng-click="runCmd(widgetSwitchMultilevel.find.id + \'/command/\'+ (widgetSwitchMultilevel.find.metrics.pStatus == \'Play\' && widgetSwitchMultilevel.find.metrics.pStatus != \'Stop\' ? \'pause\' : \'play\'), widgetSwitchMultilevel.find.id)" ng-class="widgetSwitchMultilevel.find.metrics.pStatus ==\'Play\' || widgetSwitchMultilevel.find.metrics.pStatus ==\'Pause\' ? \'btn-primary\': \'btn-default\'" title="{{v.metrics.pStatus == \'Play\' ? _t(\'lb_pause\') : _t(\'lb_play\')}}"><i ng-if="widgetSwitchMultilevel.find.metrics.pStatus == \'Play\'" class="fas fa-pause"></i> <i ng-if="widgetSwitchMultilevel.find.metrics.pStatus == \'Pause\' || widgetSwitchMultilevel.find.metrics.pStatus == \'Stop\'" class="fas fa-play"></i></button> <button class="btn btn-default" id="btn_stop_{{ widgetSwitchMultilevel.find.id}}" data-ng-click="runCmd(widgetSwitchMultilevel.find.id + \'/command/stop\', widgetSwitchMultilevel.find.id)" ng-class="widgetSwitchMultilevel.find.metrics.pStatus ==\'Stop\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_stop\')}}"><i class="fas fa-stop"></i></button> <button class="btn btn-default btn-label-on" id="btn_step_forward _{{ widgetSwitchMultilevel.find.id}}" data-ng-click="runCmd(widgetSwitchMultilevel.find.id + \'/command/next\', widgetSwitchMultilevel.find.id)" title="{{_t(\'lb_step_forward\')}}"><i class="fas fa-step-forward"></i></button></div></div></div></div></div></div>'),e.put("app/views/elements/widgets/mobile/switchRGBW.html",'<div class=widget-img-overlay ng-click="dataHolder.devices.find = v;handleModal(\'switchRGBWModal\', $event)"><span class=widget-level>{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}>'),e.put("app/views/elements/widgets/mobile/switchRGBWModal.html",'<div id=switchRGBWModal class=appmodal ng-controller=ElementSwitchRGBWController ng-if=modalArr.switchRGBWModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'switchRGBWModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetSwitchRGBW.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetSwitchRGBW.alert></bb-alert><div class=fieldset><div class="form form-page" ng-repeat="dev in widgetSwitchRGBW.all" ng-if="dev.deviceType == \'switchMultilevel\' && dev.probeType == \'multilevel\'"><fieldset><div class=row><div class=col-sm-12><div class=row><h3>{{_t(\'rgb_dimmer\')}}</h3><div class=col-sm-1></div><div class=col-sm-11><div id=range_slider_dimmer class=app-range-slider range-slider min=0 max=99 model-max=dev.metrics.level pin-handle=min decimal-places=0 step=0 on-handle-down=sliderOnHandleDown(dev) on-handle-up=sliderOnHandleUp(dev)></div></div></div></div></div></fieldset></div><div class="form form-page"><fieldset><div class=row><div class=col-sm-12><h3>{{_t(\'rgb_color\')}}</h3><div class="row wheel-colorpicker"><div class=col-sm-3></div><div class="col-rgb col-sm-3"><canvas id=wheel_picker var=4 width=150 height=150 ng-mousemove=setColor($element)></canvas><input type=hidden id=rgbVal></div><div class="col-rgb col-sm-3"><div id=wheel_picker_selected class="wheel-picker-circle-half wheel-picker-circle-top" style="background-color: {{widgetSwitchRGBW.selectedColor}};"><div id=wheel_picker_selected_spin ng-if=widgetSwitchRGBW.process><i class="fas fa-spinner fa-spin"></i> {{_t(\'updating\')}}</div></div><div id=wheel_picker_preview class="wheel-picker-circle-half wheel-picker-circle-bottom" style="background-color: {{widgetSwitchRGBW.previewColor}};">&nbsp;</div><p>{{widgetSwitchRGBW.previewColor}}</p></div><div class=col-sm-3></div></div><div class="input-group form-block"><span class=input-group-addon id=basic-addon1>#</span> <input ng-blur="colorHexChange(); setRGBColor(widgetSwitchRGBW.find)" class=form-control ng-model=widgetSwitchRGBW.colorHex></div><div ng-repeat="dev in widgetSwitchRGBW.all" ng-if="dev.deviceType == \'switchRGBW\'"><div class="row form-block" ng-repeat="(k, v) in dev.metrics.color"><div class=col-sm-1><span><i class="fas fa-circle fa-lg {{widgetSwitchRGBW.color[k]}}"></i></span></div><div class=col-sm-11><div id=range_slider_{{$index}} class=app-range-slider range-slider min=0 max=255 model-max=dev.metrics.color[k] pin-handle=min decimal-places=0 step=0 on-handle-down=sliderOnHandleDown(dev) on-handle-up=sliderOnHandleUpRGB(dev)></div></div></div></div></div></div></fieldset></div><div class="form form-page last" ng-repeat="dev in widgetSwitchRGBW.all" ng-if="dev.deviceType == \'switchMultilevel\' && [\'switchColor_soft_white\'].indexOf(dev.probeType) > -1"><fieldset><div class=row><div class=col-sm-12><h3>{{_t(\'rgb_softcold\')}}</h3><div ng-repeat="dev in widgetSwitchRGBW.all" ng-if="dev.deviceType == \'switchMultilevel\' && [\'switchColor_soft_white\',\'switchColor_cold_white\'].indexOf(dev.probeType) > -1" class="row form-block"><div class=col-sm-1><span ng-if="dev.probeType == \'switchColor_soft_white\'">{{_t(\'rgb_soft\')}}</span> <span ng-if="dev.probeType == \'switchColor_cold_white\'">{{_t(\'rgb_cold\')}}</span></div><div class=col-sm-11><div id=range_slider_{{$index}} class=app-range-slider range-slider min=0 max=99 model-max=dev.metrics.level pin-handle=min decimal-places=0 step=0 on-handle-down=sliderOnHandleDown(dev) on-handle-up=sliderOnHandleUp(dev)></div></div></div></div></div></fieldset></div></div></div></div></div>'),e.put("app/views/elements/widgets/mobile/text.html",'<img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-click="dataHolder.devices.find = v;handleModal(\'textModal\', $event)">'),e.put("app/views/elements/widgets/mobile/thermostat.html",'<div class=widget-img-overlay ng-show="cfg.element_level_is_number.indexOf(v.deviceType) > -1" ng-click="dataHolder.devices.find = v;handleModal(\'thermostatModal\', $event)"><span class=widget-level>{{v.metrics.level}}<small>{{v.metrics.scaleTitle}}</small></span></div><img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}}>'),e.put("app/views/elements/widgets/mobile/toggleButton.html",'<img class="widget-preview-img img-circle" ng-src={{v.iconPath}} alt=img err-src={{cfg.img.placeholder}} ng-click="runCmd(v.id + \'/command/on\')">'),e.put("app/views/elements/widgets/multiButtonModal.html",'<div id=multiButtonModal class=appmodal ng-controller=ElementSensorMultilineController ng-if=modalArr.multiButtonModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'multiButtonModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetSensorMultiline.find.metrics.title}}</h3></div><div class=appmodal-body><bb-alert alert=widgetSensorMultiline.alert></bb-alert><div class=multiline-entry ng-if=widgetSensorMultiline.find><table class="table table-report table-condensed"><tbody><tr ng-repeat="n in widgetSensorMultiline.find.metrics.sensors track by n.id"><td class=td-img><img id=widget_multiline_img_{{n.id}} class=report-img ng-src={{n.iconPath}} alt=img></td><td><span ng-bind=n.metrics.title></td><td class="text-right tbl-widget-ctrl"><a class=widget-history href="" ng-click="getDeviceById(n.id);handleModal(\'modalHistory\', $event)" ng-if=n.hasHistory><i class="fas fa-history"></i></a>&nbsp;<div class=btn-group ng-if="n.deviceType===\'switchBinary\'"><button class="btn btn-off" data-ng-click="runMultilineCmd(n.id + \'/command/off\', n.id)" ng-class="n.metrics.level ==\'off\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" data-ng-click="runMultilineCmd(n.id + \'/command/on\', n.id)" ng-class="n.metrics.level ==\'on\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>I</span></button></div><div class=btn-group ng-if="n.deviceType===\'toggleButton\'"><button class="btn btn-default btn-label-on" ng-click="runCmd(n.id + \'/command/on\')" title="{{_t(\'lb_on\')}}">{{_t(\'lb_on\')}}</button></div></td></tr></tbody></table></div></div></div></div>'),e.put("app/views/elements/widgets/openWeatherModal.html","<div id=openWeatherModal class=appmodal ng-controller=ElementOpenWeatherController ng-if=modalArr.openWeatherModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click=\"handleModal('openWeatherModal', $event)\"><i class=\"fas fa-times\"></i></span><h3>{{widgetOpenWeather.find.metrics.title}}, {{widgetOpenWeather.find.metrics.country}} <img ng-src={{widgetOpenWeather.find.metrics.flag}}></h3></div><div class=appmodal-body><bb-alert alert=widgetOpenWeather.alert></bb-alert><table class=\"table table-report table-condensed\"><tbody><tr><td><b>{{_t('lb_humidity')}}</b></td><td><span ng-bind=widgetOpenWeather.find.metrics.zwaveOpenWeather.main.humidity><span>%</span></td></tr><tr><td><b>{{_t('lb_pressure')}}</b></td><td><span ng-bind=widgetOpenWeather.find.metrics.zwaveOpenWeather.main.pressure><span>hPa</span></td></tr><tr><td><b>{{_t('lb_weather')}}</b></td><td><span ng-bind=widgetOpenWeather.find.metrics.zwaveOpenWeather.weather[0].description></td></tr><tr><td><b>{{_t('lb_wind')}}</b></td><td><span ng-bind=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.speed | number:1\"><span>m/s</span><span ng-if=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg === 0\">{{_t('lb_n')}}</span> <span ng-if=\"0 < widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg < 45\">{{_t('lb_ne')}}</span> <span ng-if=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg === 90\">{{_t('lb_e')}}</span> <span ng-if=\"90 < widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg < 180\">{{_t('lb_se')}}</span> <span ng-if=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg === 180\">{{_t('lb_s')}}</span> <span ng-if=\"180 < widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg < 270\">{{_t('lb_sw')}}</span> <span ng-if=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.speed === 270\">{{_t('lb_w')}}</span> <span ng-if=\"270 < widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg < 360\">{{_t('lb_nw')}}</span>(<span ng-bind=\"widgetOpenWeather.find.metrics.zwaveOpenWeather.wind.deg | number:0\"><span></span>)</td></tr><tr><td><b>{{_t('lb_last_update')}}</b></td><td>{{widgetOpenWeather.find.updateTime|isToday:true}}</td></tr></tbody></table></div></div></div>"),e.put("app/views/elements/widgets/poppKeypad.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-default btn-widget-time"><i class="fas fa-clock"></i> <span class=widget-update-time>{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click"><span class=widget-scale>{{v.metrics.level}}</span></div>'),e.put("app/views/elements/widgets/securityControlModal.html",'<div id=securityControlModal class=appmodal ng-controller=ElementSecurityControlController ng-if=modalArr.securityControlModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'securityControlModal\', $event)"><i class="fas fa-times"></i></span><h3>{{dataHolder.devices.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetSecurityControl.alert></bb-alert><div class=multiline-entry ng-if=!_.isEmpty(widgetSecurityControl.find.metrics.lastTriggerList)><table class="table table-report table-condensed"><tbody><tr class=bcg-success ng-repeat="n in widgetSecurityControl.find.metrics.lastTriggerList"><td class=text-left>{{n.name}}</td><td class=text-left>{{n.state}}</td><td class=text-left>{{n.time | date:\'dd.MM.yyyy H:mm\'}}</td></tr></tbody></table></div></div></div></div>'),e.put("app/views/elements/widgets/sensorBinary.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-default btn-widget-time" title="{{_t(\'lb_update\')}}" ng-click="runCmd(v.id + \'/command/update\')"><i class="fas fa-clock"></i> <span class=widget-update-time>{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'): cfg.route.time.timeZoneOffset}}</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click"><span class=widget-level>{{v.metrics.level}}</span> <span class=widget-scale>{{v.metrics.scaleTitle}}</span></div>'),e.put("app/views/elements/widgets/sensorDiscrete.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-default btn-widget-time" title="{{_t(\'lb_update\')}}" ng-click="runCmd(v.id + \'/command/update\')"><i class="fas fa-clock"></i> <span class=widget-update-time>{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click"><span class=widget-scale ng-if="v.metrics.cnt !== \'\' && v.metrics.cnt > 1">{{v.metrics.cnt}} x</span> <span class=widget-scale ng-if="v.metrics.cnt === \'\'">{{v.metrics.level}}</span> <span class=widget-scale ng-if="v.metrics.type === \'B\'">{{v.metrics.currentScene}}</span> <span class=widget-scale ng-if="v.metrics.type === \'G\'">{{v.metrics.currentScene}}</span> <span class=widget-scale ng-if="v.metrics.type === \'C\'">{{v.metrics.currentScene}}</span> <span class=widget-scale>{{_t(v.metrics.state)}}</span></div>'),e.put("app/views/elements/widgets/sensorMultilevel.html",'<div style="display: flex;\n            justify-content: space-between;\n            align-items: flex-end;"><div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-default btn-widget-time" title="{{_t(\'lb_update\')}}" ng-click="runCmd(v.id + \'/command/update\')"><i class="fas fa-clock"></i> <span class=widget-update-time>{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click"><span class=widget-level ng-style="adaptiveFontSize(v.metrics.scaleTitle + v.metrics.level)">{{v.metrics.level}}</span> <span class=widget-scale ng-style="adaptiveFontSize(v.metrics.scaleTitle + v.metrics.level)">{{v.metrics.scaleTitle}}</span></div></div>'),e.put("app/views/elements/widgets/sensorMultiline.html",'<div ng-if="v.metrics.multilineType === \'climateControl\'"><div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn widget-btn-frostProtection" id="btn_frostProtection_{{ v.id}}" ng-click="runCmd(v.id + \'/command/\' + cfg.climate_state[0] + \'?room=null\', v.id)" ng-class="v.metrics.state == cfg.climate_state[0] ? \'btn-primary\': \'btn-default\'" title={{_t(cfg.climate_state[0])}}><i class="fas fa-asterisk"></i></button> <button class="btn widget-btn-energySave" id="btn_energySave_{{ v.id}}" ng-click="runCmd(v.id + \'/command/\' + cfg.climate_state[1] + \'?room=null\', v.id)" ng-class="v.metrics.state ==cfg.climate_state[1] ? \'btn-primary\': \'btn-default\'" title={{_t(cfg.climate_state[1])}}><i class="fas fa-moon"></i></button> <button class="btn widget-btn-comfort" id="btn_comfort_{{ v.id}}" ng-click="runCmd(v.id + \'/command/\' + cfg.climate_state[2] + \'?room=null\', v.id)" ng-class="v.metrics.state == cfg.climate_state[2] ? \'btn-primary\': \'btn-default\'" title={{_t(cfg.climate_state[2])}}><i class="fas fa-sun"></i></button> <button class="btn widget-btn-schedule" id="btn_schedule_{{ v.id}}" ng-click="runCmd(v.id + \'/command/\' + cfg.climate_state[3] + \'?room=null\', v.id)" ng-class="v.metrics.state == cfg.climate_state[3] ? \'btn-primary\': \'btn-default\'" title={{_t(cfg.climate_state[3])}}><i class="fas fa-calendar"></i></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click" ng-click="dataHolder.devices.find = v;handleModal(\'climateControlModal\', $event)"><i class="fas fa-caret-down" title="{{_t(\'lb_settings\')}}"></i> <strong>{{_t(\'nav_rooms\')}}</strong></div></div><div ng-if="v.metrics.multilineType === \'securityControl\'"><div class="widget-ctrl ctrl-left"><div class=switch-wrap><label class=switch><input type=checkbox ng-checked="v.metrics.Clevel === \'cOn\'" ng-click="v.metrics.Clevel = v.metrics.Clevel === \'cOn\' ? \'cOff\':\'cOn\';\n                       runCmd(v.id + \'/command/\' + v.metrics.Clevel, v.id);"><div class="slider round"></div></label></div><div class=btn-group><button class="btn btn-off" ng-disabled="!(v.metrics.level==\'alarmed\' && v.metrics.Rlevel==\'on\')" ng-class="v.metrics.Rlevel==\'on\' ? \'btn-primary\': \'btn-default\'" ng-click="runCmd(v.id + \'/command/cReset\', v.id)"><i class="fas fa-redo"></i></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click" title="{{_t(\'lb_settings\')}}" ng-click="dataHolder.devices.find = v;handleModal(\'securityControlModal\', $event)"><i class="fas fa-caret-down"></i></div></div><div ng-if="v.metrics.multilineType === \'multilineSensor\'"><div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-default btn-widget-time" title="{{_t(\'lb_update\')}}" ng-click="runCmd(v.id + \'/command/update\')"><i class="fas fa-clock"></i> <span class=widget-update-time>{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click" ng-click="dataHolder.devices.find = v;handleModal(\'sensorMultilineModal\', $event)"><i class="fas fa-caret-down" title="{{_t(\'lb_settings\')}}"></i> <span class=widget-level>{{v.metrics.level}}</span> <span class=widget-scale>{{v.metrics.scaleTitle}}</span></div></div><div ng-if="v.metrics.multilineType === \'multiButton\'"><div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-off" id="btn_off_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/off?device=null\', v.id)" ng-class="v.metrics.level ==\'off\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id="btn_on_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/on?device=null\', v.id)" ng-class="v.metrics.level ==\'on\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>I</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click" ng-click="dataHolder.devices.find = v;handleModal(\'multiButtonModal\', $event)"><i class="fas fa-caret-down" title="{{_t(\'lb_settings\')}}"></i> <span class=widget-level>{{v.metrics.level}}</span> <span class=widget-scale>{{v.metrics.scaleTitle}}</span></div></div><div ng-if="v.metrics.multilineType === \'protection\'"><div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-off" id="btn_off_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/disarm\', v.id)" ng-class="v.metrics.state ==\'disarmed\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_disarm\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id="btn_on_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/arm\', v.id)" ng-class="v.metrics.state ==\'armed\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_arm\')}}"><span class=widget-btn-symbol>I</span></button></div></div><div class="widget-ctrl ctrl-right" ng-click="dataHolder.devices.find = v;handleModal(\'sensorMultilineModal\', $event)"><i class="fas fa-caret-down" title="{{_t(\'lb_settings\')}}"></i> <span class=widget-level>{{v.metrics.level}}</span></div></div><div ng-if="v.metrics.multilineType === \'openWeather\'"><div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-default btn-widget-time" title="{{_t(\'lb_update\')}}" ng-click="runCmd(v.id + \'/command/update\')"><i class="fas fa-clock"></i> <span class=widget-update-time>{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click" ng-click="dataHolder.devices.find = v;handleModal(\'openWeatherModal\', $event)"><i class="fas fa-caret-down" title="{{_t(\'lb_settings\')}}"></i> <span class=widget-level>{{v.metrics.level}}</span> <span class=widget-scale>{{v.metrics.scaleTitle}}</span></div></div>'),e.put("app/views/elements/widgets/sensorMultilineModal.html",'<div id=sensorMultilineModal class=appmodal ng-controller=ElementSensorMultilineController ng-if=modalArr.sensorMultilineModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'sensorMultilineModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetSensorMultiline.find.metrics.title}}</h3></div><div class=appmodal-body><bb-alert alert=widgetSensorMultiline.alert></bb-alert><div class=multiline-entry ng-if=widgetSensorMultiline.find.metrics.sensors><table class="table table-report table-condensed"><tbody><tr ng-repeat="n in widgetSensorMultiline.find.metrics.sensors track by n.id"><td class=td-img><img id=widget_multiline_img_{{n.id}} class=report-img ng-src={{n.iconPath}} alt=img></td><td><span ng-bind=n.metrics.title><br></td><td><strong>{{n.metrics.level | numberFixedLen}} {{n.metrics.scaleTitle}}</strong></td><td class="text-right tbl-widget-ctrl"><a class=widget-history href="" ng-click="getDeviceById(n.id);handleModal(\'modalHistory\', $event)" ng-if=n.hasHistory><i class="fas fa-history"></i></a>&nbsp; <button class="btn btn-default" ng-click="runCmd(n.id + \'/command/update\')" ng-if="cfg.element_update_time_btn.indexOf(n.deviceType) > - 1 && n.updateTime"><i class="fas fa-clock"></i> <span class=widget-update-time>{{n.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}</span></button></td></tr></tbody></table></div></div></div></div>'),e.put("app/views/elements/widgets/switchBinary.html",'<div class="widget-ctrl ctrl-left">&nbsp;</div><div class="widget-ctrl ctrl-right"><div class=btn-group><button class="btn btn-off" id="btn_off_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/off\', v.id)" ng-class="v.metrics.level ==\'off\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id="btn_on_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/on\', v.id)" ng-class="v.metrics.level ==\'on\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>I</span></button></div></div>'),e.put("app/views/elements/widgets/switchControl.html",'<div class="widget-ctrl ctrl-left">&nbsp;</div><div class="widget-ctrl ctrl-right"><div class=btn-group><button class="btn btn-off" id="btn_off_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/off\', v.id)" ng-class="v.metrics.level ==\'off\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id="btn_on_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/on\', v.id)" ng-class="v.metrics.level ==\'on\' ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>I</span></button></div></div>'),e.put("app/views/elements/widgets/switchMultilevel.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group ng-if="v.probeType == \'multilevel\'"><button class="btn btn-off" id="btn_off_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/off\', v.id)" ng-class="v.metrics.level < 1 ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id="btn_on_{{ v.id}}" title="{{_t(\'lb_on\')}}" data-ng-click="runCmd(v.id + \'/command/on\', v.id)" ng-class="v.metrics.level > 0 ? \'btn-primary\': \'btn-default\'"><span class=widget-btn-symbol>I</span></button> <button class=btn id="btn_max_{{ v.id}}" data-ng-click="setExactCmd( v,v.minMax.max)" ng-class="v.metrics.level == v.minMax.max ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_on\')}}"><i class="fas fa-arrow-up"></i></button></div><div class=btn-group ng-if="v.probeType == \'motor\'"><button class="btn btn-off" id="btn_off_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/off\', v.id)" ng-class="v.metrics.level < 1 ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_down\')}}"><i class="fas fa-arrow-down"></i></button> <button class="btn btn btn-on" id="btn_on_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/on\', v.id)" ng-class="v.metrics.level > 0 ? \'btn-primary\': \'btn-default\'" title="{{_t(\'lb_up\')}}"><i class="fas fa-arrow-up"></i></button> <button class="btn btn btn-default" id="btn_stop_{{ v.id}}" data-ng-click="runCmd(v.id + \'/command/stop\', v.id)" title="{{_t(\'lb_stop\')}}"><i class="fas fa-square text-danger"></i></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click" ng-click="dataHolder.devices.find = v;handleModal(\'switchMultilevelModal\', $event)"><i class="fas fa-caret-down" title="{{_t(\'lb_settings\')}}"></i> <span class=widget-level>{{v.metrics.level | getMaxLevel:v.minMax.max}}</span> <span class=widget-scale>{{v.metrics.scaleTitle}}</span></div>'),e.put("app/views/elements/widgets/switchMultilevelModal.html",'<div id=switchMultilevelModal class=appmodal ng-controller=ElementSwitchMultilevelController ng-if=modalArr.switchMultilevelModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'switchMultilevelModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetSwitchMultilevel.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetSwitchMultilevel.alert></bb-alert><div class="app-row app-row-knob clearfix"><div class="knob-col knob-ctrl"><input value={{widgetSwitchMultilevel.find.metrics.level|getMaxLevel:widgetSwitchMultilevel.find.minMax.max}} class="dial widget-level-knob" data-width=160 data-height=160 knob-step=widgetSwitchMultilevel.find.minMax.step knob-min=widgetSwitchMultilevel.find.minMax.min knob-max=widgetSwitchMultilevel.find.minMax.max knob-id=widgetSwitchMultilevel.find.id knob-data=widgetSwitchMultilevel.find.metrics.level knob-options=knobopt ng-model=widgetSwitchMultilevel.find.metrics.level myknob></div><div class="knob-col knob-btn"><p><button class="btn btn-primary" ng-click="setExactCmd(widgetSwitchMultilevel.find, \'+\')"><i class="fas fa-angle-up"></i></button>&nbsp; <button class="btn btn-info" ng-click="setExactCmd(widgetSwitchMultilevel.find, widgetSwitchMultilevel.find.minMax.max)"><i class="fas fa-angle-double-up"></i></button></p><p><button class="btn btn-primary" ng-click="setExactCmd(widgetSwitchMultilevel.find, \'-\')"><i class="fas fa-angle-down"></i></button>&nbsp; <button class="btn btn-info" ng-click="setExactCmd(widgetSwitchMultilevel.find, widgetSwitchMultilevel.find.minMax.min)"><i class="fas fa-angle-double-down"></i></button></p></div></div></div></div></div>'),e.put("app/views/elements/widgets/switchRGBW.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-off" id=btn_off_{{v.id}} ng-if=getRgbState(v.id) ng-class="getRgbState(v.id) == \'off\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runRgbCmd(\'off\', v.id)" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id=btn_w_{{v.id}} ng-if=getRgbState(v.id) ng-class="getRgbState(v.id) == \'w\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runRgbCmd(\'w\', v.id)" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>W</span></button> <button class="btn btn-on" id=btn_rgb_{{v.id}} ng-if=getRgbState(v.id) ng-class="getRgbState(v.id) == \'rgb\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runRgbCmd(\'rgb\', v.id)" title="{{_t(\'lb_rgb\')}}"><span class=widget-btn-symbol>RGB</span></button> <button class="btn btn-off" id="btn_off_{{ v.id}}" ng-if=!getRgbState(v.id) ng-class="v.metrics.level == \'off\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runCmd(v.id + \'/command/off\', v.id)" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id="btn_on_{{ v.id}}" ng-if=!getRgbState(v.id) ng-class="v.metrics.level ==\'on\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runCmd(v.id + \'/command/on\', v.id)" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>I</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click" ng-click="dataHolder.devices.find = v;handleModal(\'switchRGBWModal\', $event)"><span><i class="fas fa-caret-down" title="{{_t(\'lb_settings\')}}"></i></span> <span class=color-picker-show style="background-color: {{v.metrics.color|setRgbColors}};">&nbsp;</span></div>'),e.put("app/views/elements/widgets/switchRGBWModal.html",'<div id=switchRGBWModal class=appmodal ng-controller=ElementSwitchRGBWController ng-if=modalArr.switchRGBWModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'switchRGBWModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetSwitchRGBW.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetSwitchRGBW.alert></bb-alert><div class=fieldset><div class="form form-page" ng-repeat="dev in widgetSwitchRGBW.all" ng-if="dev.deviceType == \'switchMultilevel\' && dev.probeType == \'multilevel\'"><fieldset><div class=row><div class=col-sm-12><div class="row form-block"><h3>{{_t(\'rgb_dimmer\')}}</h3><div class=col-sm-1></div><div class=col-sm-11><div id=range_slider_dimmer class=app-range-slider range-slider min=0 max=99 model-max=dev.metrics.level pin-handle=min decimal-places=0 step=0 on-handle-down=sliderOnHandleDown(dev) on-handle-up=sliderOnHandleUp(dev)></div></div></div></div></div></fieldset></div><div class="form form-page"><fieldset><div class=row><div class=col-sm-12><h3>{{_t(\'rgb_color\')}}</h3><div class="row wheel-colorpicker"><div class=col-sm-3></div><div class="col-rgb col-sm-3"><canvas id=wheel_picker var=4 width=150 height=150 ng-mousemove=setColor($element)></canvas><input type=hidden id=rgbVal></div><div class="col-rgb col-sm-3"><div id=wheel_picker_selected class="wheel-picker-circle-half wheel-picker-circle-top" style="background-color: {{widgetSwitchRGBW.selectedColor}};"><div id=wheel_picker_selected_spin ng-if=widgetSwitchRGBW.process><i class="fas fa-spinner fa-spin"></i> {{_t(\'updating\')}}</div></div><div id=wheel_picker_preview class="wheel-picker-circle-half wheel-picker-circle-bottom" style="background-color: {{widgetSwitchRGBW.previewColor}};">&nbsp;</div><p>{{widgetSwitchRGBW.previewColor}}</p></div><div class=col-sm-3></div></div><div class="input-group form-block"><span class=input-group-addon id=basic-addon1>#</span> <input ng-blur="colorHexChange(); setRGBColor(widgetSwitchRGBW.find)" class=form-control ng-model=widgetSwitchRGBW.colorHex></div><div ng-repeat="dev in widgetSwitchRGBW.all" ng-if="dev.deviceType == \'switchRGBW\'"><div class="row form-block" ng-repeat="(k, v) in dev.metrics.color"><div class=col-sm-1><span><i class="fas fa-circle fa-lg {{widgetSwitchRGBW.color[k]}}"></i></span></div><div class=col-sm-11><div id=range_slider_{{$index}} class=app-range-slider range-slider min=0 max=255 model-max=dev.metrics.color[k] pin-handle=min decimal-places=0 step=0 on-handle-down=sliderOnHandleDown(dev) on-handle-up=sliderOnHandleUpRGB(dev)></div></div></div></div></div></div></fieldset></div><div class="form form-page" ng-repeat="dev in widgetSwitchRGBW.all" ng-if="dev.deviceType == \'switchMultilevel\' && [\'switchColor_soft_white\'].indexOf(dev.probeType) > -1"><fieldset><div class=row><div class=col-sm-12><h3>{{_t(\'rgb_softcold\')}}</h3><div ng-repeat="dev in widgetSwitchRGBW.all" ng-if="dev.deviceType == \'switchMultilevel\' && [\'switchColor_soft_white\',\'switchColor_cold_white\'].indexOf(dev.probeType) > -1" class="row form-block"><div class=col-sm-1><span ng-if="dev.probeType == \'switchColor_soft_white\'">{{_t(\'rgb_soft\')}}</span> <span ng-if="dev.probeType == \'switchColor_cold_white\'">{{_t(\'rgb_cold\')}}</span></div><div class=col-sm-11><div id=range_slider_{{$index}} class=app-range-slider range-slider min=0 max=99 model-max=dev.metrics.level pin-handle=min decimal-places=0 step=0 on-handle-down=sliderOnHandleDown(dev) on-handle-up=sliderOnHandleUp(dev)></div></div></div></div></div></fieldset></div><div class="form form-page last"><fieldset class=widget-ctrl><div class=btn-group><button class="btn btn-off" id=btn_off_{{widgetSwitchRGBW.find.id}} ng-if=getRgbState(widgetSwitchRGBW.find.id) ng-class="getRgbState(widgetSwitchRGBW.find.id) == \'off\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runRgbCmd(\'off\', widgetSwitchRGBW.find.id)" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id=btn_w_{{widgetSwitchRGBW.find.id}} ng-if=getRgbState(widgetSwitchRGBW.find.id) ng-class="getRgbState(widgetSwitchRGBW.find.id) == \'w\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runRgbCmd(\'w\', widgetSwitchRGBW.find.id)" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>W</span></button> <button class="btn btn-on" id=btn_rgb_{{widgetSwitchRGBW.find.id}} ng-if=getRgbState(widgetSwitchRGBW.find.id) ng-class="getRgbState(widgetSwitchRGBW.find.id) == \'rgb\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runRgbCmd(\'rgb\', widgetSwitchRGBW.find.id)" title="{{_t(\'lb_rgb\')}}"><span class=widget-btn-symbol>RGB</span></button> <button class="btn btn-off" id="btn_off_{{ widgetSwitchRGBW.find.id}}" ng-if=!getRgbState(widgetSwitchRGBW.find.id) ng-class="widgetSwitchRGBW.find.metrics.level == \'off\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runCmd(widgetSwitchRGBW.find.id + \'/command/off\', widgetSwitchRGBW.find.id)" title="{{_t(\'lb_off\')}}"><span class=widget-btn-symbol>0</span></button> <button class="btn btn-on" id="btn_on_{{ widgetSwitchRGBW.find.id}}" ng-if=!getRgbState(widgetSwitchRGBW.find.id) ng-class="v.metrics.level ==\'on\' ? \'btn-primary\': \'btn-default\'" data-ng-click="runCmd(widgetSwitchRGBW.find.id + \'/command/on\', widgetSwitchRGBW.find.id)" title="{{_t(\'lb_on\')}}"><span class=widget-btn-symbol>I</span></button></div></fieldset></div></div></div></div></div>'),e.put("app/views/elements/widgets/text.html",'<div class=widget-ctrl-block><a href="" ng-click="dataHolder.devices.find = v;handleModal(\'textModal\', $event)">{{v.metrics.text|stripTags|cutText:true:35}} &raquo;</a><br>&nbsp;</div>'),e.put("app/views/elements/widgets/textModal.html",'<div id=textModal class=appmodal ng-controller=ElementTextController ng-if=modalArr.textModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'textModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetText.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetText.alert></bb-alert><img class=widget-promo-image ng-show=widgetText.find.metrics.icon ng-src={{widgetText.find.metrics.icon}} alt=input.title><div class=widget-promo-text ng-bind-html="widgetText.find.metrics.text | toTrusted"></div></div></div></div>'),e.put("app/views/elements/widgets/thermostat.html",'<div class="widget-ctrl ctrl-left">&nbsp;</div><div class="widget-ctrl ctrl-right widget-ctrl-click" ng-click="dataHolder.devices.find = v;handleModal(\'thermostatModal\', $event)"><i class="fas fa-caret-down" title="{{_t(\'lb_settings\')}}"></i> <span class=widget-level>{{v.metrics.level}}</span> <span class=widget-scale>{{v.metrics.scaleTitle}}</span></div>'),e.put("app/views/elements/widgets/thermostatModal.html",'<div id=thermostatModal class=appmodal ng-controller=ElementThermostatController ng-if=modalArr.thermostatModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'thermostatModal\', $event)"><i class="fas fa-times"></i></span><h3>{{widgetThermostat.find.metrics.title}}</h3></div><div class="appmodal-body text-center"><bb-alert alert=widgetThermostat.alert></bb-alert><div class="app-row app-row-knob clearfix"><div class="knob-col knob-ctrl"><input value={{widgetThermostat.find.metrics.level}} class="dial widget-level-knob" data-width=160 data-height=160 knob-step=widgetThermostat.find.minMax.step knob-min=widgetThermostat.find.minMax.min knob-max=widgetThermostat.find.minMax.max knob-id=widgetThermostat.find.id knob-data=widgetThermostat.find.metrics.level knob-options=knobopt ng-model=widgetThermostat.find.metrics.level myknob></div><div class="knob-col knob-btn"><p><button class="btn btn-primary" ng-click="setExactCmd(widgetThermostat.find, \'+\')"><i class="fas fa-angle-up"></i></button>&nbsp; <button class="btn btn-info" ng-click="setExactCmd(widgetThermostat.find, widgetThermostat.find.minMax.max)"><i class="fas fa-angle-double-up"></i></button></p><p><button class="btn btn-primary" ng-click="setExactCmd(widgetThermostat.find, \'-\')"><i class="fas fa-angle-down"></i></button>&nbsp; <button class="btn btn-info" ng-click="setExactCmd(widgetThermostat.find, widgetThermostat.find.minMax.min)"><i class="fas fa-angle-double-down"></i></button></p></div></div></div></div></div>'),e.put("app/views/elements/widgets/toggleButton.html",'<div class="widget-ctrl ctrl-left"><div class=btn-group><button class="btn btn-default btn-widget-time" title="{{_t(\'lb_update\')}}" ng-click="runCmd(v.id + \'/command/update\')"><i class="fas fa-clock"></i> <span class=widget-update-time>{{v.updateTime|isToday:true:_t(\'lb_days\'):_t(\'lb_yesterday\'):cfg.route.time.timeZoneOffset}}</span></button></div></div><div class="widget-ctrl ctrl-right widget-ctrl-click"><div class=btn-group><button class="btn btn-default btn-label-on" ng-click="runCmd(v.id + \'/command/on\')" title="{{_t(\'lb_on\')}}">{{_t(\'lb_on\')}}</button></div></div>'),e.put("app/views/enocean/controller.html",'<div ng-controller=EnoceanControllerController class=mobile-padding><bb-loader></bb-loader><div ng-include="\'app/views/enocean/navi.html\'"></div><div class=tab-content><table class="table table-report table-condensed"><tbody><tr ng-repeat="(k,v) in controller" id="row_controller_{{ v}}" ng-if="controllerShow.indexOf(k) > -1"><td style="width: 30%;" ng-bind=k></td><td ng-bind=v.value></td></tr></tbody></table></div><div class=device-logo ng-include="\'app/views/enocean/enocean_nav.html\'"></div></div>'),e.put("app/views/enocean/enocean_nav.html","<a href=#devices><img class=apps-image ng-src=app/img/logo-enocean.svg alt=Logo></a>"),e.put("app/views/enocean/manage_detail.html",'<div ng-controller=EnoceanManageDetailController class=mobile-padding><bb-loader></bb-loader><div ng-include="\'app/views/enocean/navi.html\'"></div><div class=tab-content><h2><span ng-bind="_t(\'enocean_device\')"></span>: {{input.name}} (#{{input.id}})</h2><form name=form_enocean_edit id=form_enocean_edit class="form form-page" ng-submit=store(input) novalidate><fieldset><h3><i class="fas fa-chevron-down"></i> <span ng-bind="_t(\'lb_name\')"></span></h3><div class=form-group><input name=name id=name class=form-control value={{input.name}} ng-model=input.name></div><h3><i class="fas fa-chevron-down"></i> <span ng-bind="_t(\'select_profile\')"></span></h3><div class=form-group><select name=enoceanProfiles class=form-control ng-model=input.profileId><option value={{manProfile}} ng-repeat="v in enoceanProfiles | orderBy:\'_funcDescription\'" ng-init="manProfile = {rorg:v._rorg,funcId: v._func,typeId: v._type}" ng-selected="v.id == input.deviceProfileId" ng-if="input.rorg == v.rorgInt">{{v._funcDescription}} | rorg: {{v._rorg}} | func: {{v._func}} | type: {{v._type}}</option></select></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form><form name=form_enocean_config id=form_enocean_config class="form form-page" novalidate ng-if=apiDevices><fieldset><div class="form-group form-inline" ng-repeat="e in apiDevices | orderBy:\'title\':false" ng-init="dev[e.id] = e"><h3><img id=widget_img_{{v.id}} class=report-img ng-src={{e.iconPath}} alt=img> <span ng-bind=dev[e.id].metrics.title></span></h3><div><input name=fdf class="form-control form-control-md" ng-model=dev[e.id].metrics.title value={{dev[e.id].metrics.title}}> <button class="btn btn-primary" ng-click=updateDevice(dev[e.id]) ng-bind="_t(\'rename_element\')"></button> <button class=btn ng-click="updateDevice({id: e.id,permanently_hidden: e.permanently_hidden ? false : true})" ng-bind="e.permanently_hidden ? _t(\'show_element\') : _t(\'hide_element\')" ng-class="e.permanently_hidden ? \'btn-danger\' : \'btn-info\'"></button></div></div></fieldset><fieldset><div class="form-group form-inline"><h3><i class="fas fa-chevron-down"></i> <span ng-bind="_t(\'devices_to_room\')"></span></h3><select class=form-control ng-model=modelRoom><option ng-repeat="v in rooms" value={{v.id}} ng-bind="(v.id === 0 ? _t(v.title) : v.title)"></option></select> <button class="btn btn-primary" ng-click="devicesToRoom(modelRoom, apiDevices)" ng-bind="_t(\'lb_save\')"></button></div></fieldset></form><div class="fieldset submit-entry"><button class="btn btn-submit" title="{{_t(\'continue\')}}" bb-go-back><span class=btn-name>{{_t(\'continue\')}}</span> <i class="fas fa-chevron-right"></i></button></div></div><div class=device-logo ng-include="\'app/views/enocean/enocean_nav.html\'"></div></div>'),e.put("app/views/enocean/manage.html",'<div ng-controller=EnoceanManageController class=mobile-padding><bb-loader></bb-loader><div ng-include="\'app/views/enocean/navi.html\'"></div><div ng-if=enoceanDevices><table class="table table-condensed table-report"><tbody><tr id=enocean_row_{{v.id}} ng-repeat="v in enoceanDevices track by v.id"><td class=text-left><a href="" class=network-zwave-title ng-click="goEdit[v.id] = !goEdit[v.id]"><i class=fa ng-class="goEdit[v.id] ? \'fa-chevron-up\': \'fa-chevron-down\'"></i> <span ng-bind=v.givenName></span> (#{{v.id}})</a><div class=network-zwave-element ng-repeat="e in v.elements| orderBy:\'title\':false" ng-if=goEdit[v.id]><img class=report-img ng-src={{e.iconPath}} alt=img> <span class=network-hidden-{{e.permanently_hidden}} ng-bind=e.title></span></div></td><td class=td-action><div class=btn-group><a href=#enocean/manage/x{{v.id}} class="btn btn-default" title="{{_t(\'lb_configuration\')}}"><i class="fas fa-cog"></i> </a><button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteDevice(v.id, \'#enocean_row_\' + v.id, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></td></tr></tbody></table></div><div class=device-logo ng-include="\'app/views/enocean/enocean_nav.html\'"></div></div>'),e.put("app/views/enocean/navi.html","<div class=\"tabs-wrap form-inline\"><div class=\"btn-group btn-group-justified btn-goup-tabs\"><a class=\"btn btn-default\" href=#enocean/controller title=\"{{_t('controller_info')}}\" ng-class=\"routeMatch('/enocean/controller') ? 'active' : ''\"><i class=\"fas fa-info-circle\"></i> <span class=btn-name>{{_t('controller_info')}}</span> </a><a class=\"btn btn-default\" href=#enocean/manage title=\"{{_t('manage')}}\" ng-class=\"routeMatch('/enocean/manage') ? 'active' : ''\"><i class=\"fas fa-bolt\"></i> <span class=btn-name>{{_t('manage')}}</span> </a><a class=\"btn btn-default\" href=#enocean/vendors title=\"{{_t('teach_in')}}\" ng-class=\"routeMatch('/enocean/vendors') ? 'active' : ''\"><i class=\"fas fa-sitemap\"></i> <span class=btn-name>{{_t('teach_in')}}</span></a></div></div>"),e.put("app/views/enocean/products.html",'<div ng-controller=EnoceanVendorController><h3><a href=#enocean/vendors class="btn btn-default"><i class="fas fa-arrow-left"></i> </a>{{enocean.vendor}}</h3><div class=list-panel ng-repeat="v in enocean.products | orderBy:\'name\' track by $index"><figure class="img wh-64x64 clickable"><a href=#enocean/teachin/{{v.teachIn}}><img class=product-img ng-src=storage/img/enocean/devices/{{v.image}} alt=img err-src={{cfg.img.placeholder}} alt={{v.name}}></a></figure><div class=body><div><a href=#enocean/teachin/{{v.teachIn}}>{{v.name}}</a></div></div><div class=control><a href=#enocean/teachin/{{v.teachIn}} class="btn btn-default" title="{{_t(\'teach_in\')}}"><i class="fas fa-plug text-primary"></i></a></div></div></div>'),e.put("app/views/enocean/teachin-genericProfile.html",'<div ng-controller=EnoceanTeachinController class=mobile-padding><bb-loader></bb-loader><div class="form form-inline form-page"><div class="fieldset clearfix"><div class=include-device-img><img class=include-image-detail ng-src=storage/img/enocean/devices/{{device.image}} alt={{device.name}} ng-if=device.image> <img class=include-image-detail src=storage/img/enocean/vendors/GenericProfile.png alt="EnOcean Generic Profile" ng-if=!device.image></div><div class=include-device-body><h1 ng-if=!device.name ng-bind="_t(\'teach_in\')"></h1><h1 ng-if=device.name ng-bind=device.name></h1><p ng-if=device.description ng-bind=device.description></p></div></div><div class="fieldset clearfix"><table class="table table-report table-inclusion"><tbody><tr><td><span class="badge badge-number">1</span></td><td><div class=alert ng-if=inclusion.message ng-class=inclusion.status><i class=fa ng-class=inclusion.icon></i> <span ng-bind-html="inclusion.message | toTrusted"></span> <button class="btn btn-danger" ng-if="!inclusion.done && inclusion.promisc" ng-click=AddDeviceStop()><i class="fas fa-ban"></i> <span class=btn-name>{{_t(\'stop_teachin\')}}</span></button> <button class="btn btn-success" ng-if="!inclusion.done && !inclusion.promisc" ng-click=AddDeviceStart()><i class="fas fa-plug"></i> <span class=btn-name>{{_t(\'start_teachin\')}}</span></button></div></td></tr><tr><td><span class="badge badge-number">2</span></td><td><strong ng-bind="_t(\'lb_settings\')"></strong><form name=form_enocean_config id=form_enocean_config class="form form-page" ng-if=inclusion.config novalidate><fieldset><div class="form-group form-inline"><input name=enocean_name id=enocean_name class="form-control form-control-md" ng-model=lastIncludedDevice.name value={{lastIncludedDevice.name}}> <button class="btn btn-primary" ng-click="runCmd(\'devices[\\\'x\' + lastIncludedDevice.id + \'\\\'].data.givenName=\\\'\' + lastIncludedDevice.name + \'\\\'\')" ng-bind="_t(\'rename_device\')"></button></div></fieldset><div class="alert alert-warning" ng-if="apiDevices.length < 1"><i class="fas fa-exclamation-circle"></i> <span ng-bind="_t(\'enocean_no_settings\')"></span></div><fieldset ng-if=apiDevices><div class="form-group form-inline" ng-repeat="e in apiDevices | orderBy:\'title\':false" ng-init="dev[e.id] = e"><h3><img id=widget_img_{{v.id}} class=report-img ng-src={{e.iconPath}} alt=img> <span ng-bind=dev[e.id].metrics.title></span></h3><div><input name=fdf class="form-control form-control-md" ng-model=dev[e.id].metrics.title value={{dev[e.id].metrics.title}}> <button class="btn btn-primary" ng-click=updateDevice(dev[e.id]) ng-bind="_t(\'rename_element\')"></button> <button class=btn ng-click="updateDevice({id: e.id,permanently_hidden: e.permanently_hidden ? false : true})" ng-bind="e.permanently_hidden ? _t(\'show_element\') : _t(\'hide_element\')" ng-class="e.permanently_hidden ? \'btn-danger\' : \'btn-info\'"></button></div></div></fieldset><fieldset ng-if=apiDevices><div class="form-group form-inline" ng-if=rooms><h3><i class="fas fa-chevron-down"></i> <span ng-bind="_t(\'devices_to_room\')"></span></h3><select class=form-control ng-model=modelRoom><option value="">------</option><option ng-repeat="v in rooms" ng-selected_="input.location == v.id" value={{v.id}} ng-bind=v.title></option></select> <button class="btn btn-primary" ng-click="devicesToRoom(modelRoom, apiDevices)" ng-bind="_t(\'lb_save\')"></button></div></fieldset></form></td></tr></tbody></table></div><div class="fieldset submit-entry"><a href=#enocean/manage class="btn btn-submit"><span class=btn-name>{{_t(\'manage_enocean_devices\')}}</span> <i class="fas fa-chevron-right"></i></a></div></div><div class=device-logo ng-include="\'app/views/enocean/enocean_nav.html\'"></div></div>'),e.put("app/views/enocean/teachin-smartAck.html",'<div ng-controller=EnoceanTeachinController class=mobile-padding><bb-loader></bb-loader><div class="form form-inline form-page"><div class="fieldset clearfix"><div class=include-device-img><img class=include-image-detail ng-src=storage/img/enocean/devices/{{device.image}} alt={{device.name}} ng-if=device.image> <img class=include-image-detail src=storage/img/enocean/vendors/SmartAck.png alt="EnOcean Smart Ack" ng-if=!device.image></div><div class=include-device-body><h1 ng-if=!device.name ng-bind="_t(\'teach_in\')"></h1><h1 ng-if=device.name ng-bind=device.name></h1><p ng-if=device.description ng-bind=device.description></p></div></div><div class="fieldset clearfix"><table class="table table-report table-inclusion"><tbody><tr><td><span class="badge badge-number">1</span></td><td><div class=alert ng-if=inclusion.message ng-class=inclusion.status><i class=fa ng-class=inclusion.icon></i> <span ng-bind-html="inclusion.message | toTrusted"></span> <button class="btn btn-danger" ng-if=inclusion.smartAckLearnMode ng-click="runCmd(\'smartAckLearnMode(0,0)\')"><i class="fas fa-ban"></i> <span class=btn-name>{{_t(\'stop_teachin\')}}</span></button> <button class="btn btn-success" ng-if=!inclusion.smartAckLearnMode ng-click="runCmd(\'smartAckLearnMode(1,1)\')"><i class="fas fa-plug"></i> <span class=btn-name>{{_t(\'start_teachin\')}}</span></button> <button class="btn btn-success" ng-if=!inclusion.smartAckLearnMode ng-click="runCmd(\'smartAckLearnMode(1,0)\')"><i class="fas fa-plug"></i> <span class=btn-name>{{_t(\'start_teachout\')}}</span></button></div></td></tr><tr><td><span class="badge badge-number">2</span></td><td><strong ng-bind="_t(\'lb_settings\')"></strong><form name=form_enocean_config id=form_enocean_config class="form form-page" ng-if=inclusion.config novalidate><fieldset><div class="form-group form-inline"><input name=enocean_name id=enocean_name class="form-control form-control-md" ng-model=lastIncludedDevice.name value={{lastIncludedDevice.name}}> <button class="btn btn-primary" ng-click="runCmd(\'devices[\\\'x\' + lastIncludedDevice.id + \'\\\'].data.givenName=\\\'\' + lastIncludedDevice.name + \'\\\'\')" ng-bind="_t(\'rename_device\')"></button></div></fieldset><div class="alert alert-warning" ng-if="apiDevices.length < 1"><i class="fas fa-exclamation-circle"></i> <span ng-bind="_t(\'enocean_no_settings\')"></span></div><fieldset ng-if=apiDevices><div class="form-group form-inline" ng-repeat="e in apiDevices | orderBy:\'title\':false" ng-init="dev[e.id] = e"><h3><img id=widget_img_{{v.id}} class=report-img ng-src={{e.iconPath}} alt=img> <span ng-bind=dev[e.id].metrics.title></span></h3><div><input name=fdf class="form-control form-control-md" ng-model=dev[e.id].metrics.title value={{dev[e.id].metrics.title}}> <button class="btn btn-primary" ng-click=updateDevice(dev[e.id]) ng-bind="_t(\'rename_element\')"></button> <button class=btn ng-click="updateDevice({id: e.id,permanently_hidden: e.permanently_hidden ? false : true})" ng-bind="e.permanently_hidden ? _t(\'show_element\') : _t(\'hide_element\')" ng-class="e.permanently_hidden ? \'btn-danger\' : \'btn-info\'"></button></div></div></fieldset><fieldset ng-if=apiDevices><div class="form-group form-inline" ng-if=rooms><h3><i class="fas fa-chevron-down"></i> <span ng-bind="_t(\'devices_to_room\')"></span></h3><select class=form-control ng-model=modelRoom><option value="">------</option><option ng-repeat="v in rooms" ng-selected_="input.location == v.id" value={{v.id}} ng-bind=v.title></option></select> <button class="btn btn-primary" ng-click="devicesToRoom(modelRoom, apiDevices)" ng-bind="_t(\'lb_save\')"></button></div></fieldset></form></td></tr></tbody></table></div><div class="fieldset submit-entry"><a href=#enocean/manage class="btn btn-submit"><span class=btn-name>{{_t(\'manage_enocean_devices\')}}</span> <i class="fas fa-chevron-right"></i></a></div></div><div class=device-logo ng-include="\'app/views/enocean/enocean_nav.html\'"></div></div>'),e.put("app/views/enocean/teachin.html",'<div ng-controller=EnoceanTeachinController class=mobile-padding><bb-loader></bb-loader><div class="form form-inline form-page"><div class="fieldset clearfix"><div class=include-device-img ng-if=device.image><img class=include-image-detail ng-src=storage/img/enocean/devices/{{device.image}} alt={{device.name}} ng-if=device.image></div><div class=include-device-body><h1 ng-if=!device.name ng-bind="_t(\'teach_in\')"></h1><h1 ng-if=device.name ng-bind=device.name></h1><p ng-if=device.description ng-bind=device.description></p></div></div><div class="fieldset clearfix"><table class="table table-report table-inclusion"><tbody><tr><td><span class="badge badge-number">1</span></td><td><div class=alert ng-if=inclusion.message ng-class=inclusion.status><i class=fa ng-class=inclusion.icon></i> <span ng-bind-html="inclusion.message | toTrusted"></span> <button class="btn btn-danger" ng-if="!inclusion.done && inclusion.promisc" ng-click=AddDeviceStop()><i class="fas fa-ban"></i> <span class=btn-name>{{_t(\'stop_teachin\')}}</span></button> <button class="btn btn-success" ng-if="!inclusion.done && !inclusion.promisc" ng-click=AddDeviceStart()><i class="fas fa-plug"></i> <span class=btn-name>{{_t(\'start_teachin\')}}</span></button></div></td></tr><tr><td><span class="badge badge-number">2</span></td><td><strong ng-bind="_t(\'lb_settings\')"></strong><form name=form_enocean_config id=form_enocean_config class="form form-page" ng-if=inclusion.config novalidate><fieldset><div class="form-group form-inline"><input name=enocean_name id=enocean_name class="form-control form-control-md" ng-model=lastIncludedDevice.name value={{lastIncludedDevice.name}}> <button class="btn btn-primary" ng-click="runCmd(\'devices[\\\'x\' + lastIncludedDevice.id + \'\\\'].data.givenName=\\\'\' + lastIncludedDevice.name + \'\\\'\')" ng-bind="_t(\'rename_device\')"></button></div></fieldset><div class="alert alert-warning" ng-if="apiDevices.length < 1"><i class="fas fa-exclamation-circle"></i> <span ng-bind="_t(\'enocean_no_settings\')"></span></div><fieldset ng-if=apiDevices><div class="form-group form-inline" ng-repeat="e in apiDevices | orderBy:\'title\':false" ng-init="dev[e.id] = e"><h3><img id=widget_img_{{v.id}} class=report-img ng-src={{e.iconPath}} alt=img> <span ng-bind=dev[e.id].metrics.title></span></h3><div><input name=fdf class="form-control form-control-md" ng-model=dev[e.id].metrics.title value={{dev[e.id].metrics.title}}> <button class="btn btn-primary" ng-click=updateDevice(dev[e.id]) ng-bind="_t(\'rename_element\')"></button> <button class=btn ng-click="updateDevice({id: e.id,permanently_hidden: e.permanently_hidden ? false : true})" ng-bind="e.permanently_hidden ? _t(\'show_element\') : _t(\'hide_element\')" ng-class="e.permanently_hidden ? \'btn-danger\' : \'btn-info\'"></button></div></div></fieldset><fieldset ng-if=apiDevices><div class="form-group form-inline" ng-if=rooms><h3><i class="fas fa-chevron-down"></i> <span ng-bind="_t(\'devices_to_room\')"></span></h3><select class=form-control ng-model=modelRoom><option value="">------</option><option ng-repeat="v in rooms" ng-selected_="input.location == v.id" value={{v.id}} ng-bind=v.title></option></select> <button class="btn btn-primary" ng-click="devicesToRoom(modelRoom, apiDevices)" ng-bind="_t(\'lb_save\')"></button></div></fieldset></form></td></tr></tbody></table></div><div class="fieldset submit-entry"><a href=#enocean/manage class="btn btn-submit"><span class=btn-name>{{_t(\'manage_enocean_devices\')}}</span> <i class="fas fa-chevron-right"></i></a></div></div><div class=device-logo ng-include="\'app/views/enocean/enocean_nav.html\'"></div></div>'),e.put("app/views/enocean/vendors.html",'<div ng-controller=EnoceanVendorController><bb-loader></bb-loader><bb-alert alert=alert></bb-alert><div class="vendors flexgallery"><div ng-repeat="v in enocean.vendors"><a class=figure ng-href=#enocean/products/{{v.vendor}} title={{v.vendor}}><img ng-src=storage/img/enocean/vendors/{{v.vendorLogo}} alt=img ng-show=v.vendorLogo> <span ng-hide=v.vendorLogo>{{v.vendor|cutText:true:20}}</span></a></div><div><a class=figure ng-href=#enocean/teachin/smartAck title="EnOcean Smart Ack device"><img src=storage/img/enocean/vendors/SmartAck.png alt=img></a></div><div><a class=figure ng-href=#enocean/teachin/genericProfile title="EnOcean Generic Profile device"><img src=storage/img/enocean/vendors/GenericProfile.png alt=img></a></div></div><div class=device-logo ng-include="\'app/views/enocean/enocean_nav.html\'"></div></div>'),e.put("app/views/error_403.html",'<div class=app-fatal-error><div class=fatal-error-message><i class="fas fa-exclamation-triangle fa-lg"></i> {{_t(\'error_403\')}}</div></div><div class="blank is-info"><figure><i class="fas fa-exclamation-triangle"></i></figure><div>{{_t(\'error_403\')}}</div><a class="btn btn-default" href=#home>{{_t(\'take_me_home\')}}</a></div>'),e.put("app/views/error_404.html",'<div class="blank is-info"><figure><i class="fas fa-exclamation-triangle"></i></figure><div>{{_t(\'error_404\')}}</div><a class="btn btn-default" href=#home>{{_t(\'take_me_home\')}}</a></div>'),e.put("app/views/events/dropdown.html",'<div class="btn-group group-event-dropdown"><button type=button class="btn btn-default" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'evDropDown_\' + $index, $event)"><i class="fas fa-caret-down"></i></button><div class="app-dropdown dropdown-events" ng-if="naviExpanded[\'evDropDown\' + \'_\' + $index]"><div class=dropdown-header><span class="text-supp event-date" title="{{v.timestamp| date:\'dd.MM.yyyy H:mm\'}}" ng-bind="v.timestamp | eventDate: cfg.route.time.timeZoneOffset"></span> <span class=event-message ng-if="v.source && v.message" ng-bind-html=v.messageView|toTrusted></span> <span class=event-message ng-bind=v.message ng-if="!v.source && !v.message"></span> <span class=event-room ng-if=rooms.all[v.message.location]>{{rooms.all[v.message.location]}}</span></div><ul><li><a ng-href=#events><i class="fas fa-eye fa-fw"></i> <span ng-bind="_t(\'lb_show_all\')"></span></a></li><li><a ng-href=#events/source/{{v.source}}><i class="fas fa-check fa-fw"></i> <span ng-bind="_t(\'lb_events_source\')"></span></a></li><li><a ng-href=#events/type/{{v.type}}><i class="fas fa-check-square fa-fw"></i> <span ng-bind="_t(\'lb_events_type\')"></span></a></li><li><a ng-href="#events/source_type?source={{v.source}}&type={{v.type}}"><i class="fas fa-check-circle fa-fw"></i> <span ng-bind="_t(\'lb_events_source_type\')"></span></a></li><li ng-if="elementAccess(cfg.role_access.element) && (cfg.events_clickable.indexOf(v.level) > -1) && (v.source && v.message)"><a href=#element/{{v.source}}><i class="fas fa-cog fa-fw"></i> <span ng-bind="_t(\'lb_source_cfg\')"></span></a></li><li><a href="" ng-click=hideSourceEvents(v.source) ng-if="user.hide_single_device_events.indexOf(v.source) === -1"><i class="fas fa-minus-circle fa-fw text-danger"></i> <span ng-bind="_t(\'lb_hide_events_source\')"></span></a></li><li ng-if="elementAccess(cfg.role_access.event_delete) && (v.level == \'error\' || v.level == \'notification\')"><a href="" ng-click="deleteEvent(v.id, \'?uid=\' + v.h,_t(\'lb_delete_confirm\'))"><i class="fas fa-times fa-fw text-danger"></i> <span ng-bind="_t(\'lb_delete_event\')"></span></a></li></ul></div></div>'),e.put("app/views/events/events.html",'<div ng-controller=EventController><bb-loader></bb-loader><div class="page-control form-inline"><div class="btn-group btn-goup-block btn-goup-3"><button class="btn btn-default" ng-click="expandNavi(\'evFilter\', $event)" ng-class="devices.find.title || currLevel ? \'active\':\'\' "><i class="fas fa-filter"></i> <span class=btn-name ng-if="!devices.find.title && !currLevel">{{_t(\'lb_show_all\')}}</span> <span class=btn-name ng-if=devices.find.title>{{devices.find.title | cutText:true:15}}</span> <span class=btn-name ng-if=currLevel>{{_t(\'lb_notify_\' + currLevel)}}</span></button> <button class="btn btn-default" ng-click="expandNavi(\'evDays\', $event)" ng-switch=timeFilter.day><i class="fas fa-calendar-check"></i> <span class=btn-name ng-switch-when=2>{{_t(\'lb_yesterday\')}}</span> <span class=btn-name ng-switch-when=7>7 {{_t(\'lb_days\')}}</span> <span class=btn-name ng-switch-default>{{_t(\'lb_today\')}}</span></button> <button class="btn btn-default" title="{{_t(\'reload\')}}" ng-click=reloadData()><i class="fas fa-redo"></i></button></div></div><div class=page-navi ng-if=naviExpanded.evFilter><div class=page-navi-in><div class=page-navi-content><a class="btn btn-default btn-tag" ng-href=#events/level/{{v.key}} ng-repeat="v in eventLevels" ng-class="v.key == currLevel? \'active\': \'\'">{{_t(\'lb_notify_\' + v.val)}}</a></div><div ng-if=devices.show><div class=page-navi-content><a class="btn btn-default btn-tag" ng-href=#events/source/{{v.id}} ng-repeat="v in devices.data" ng-class="v.id===devices.find.id ? \'active\':\'\'" ng-if=devices.cnt.deviceEvents[v.id]><img class=navi-img ng-src={{v.iconPath}} alt=img> {{v.metrics.title|cutText:true:25}} <span class=item-cnt>({{devices.cnt.deviceEvents[v.id]}})</span></a></div></div></div></div><div class=page-navi ng-if=naviExpanded.evDays><div class=page-navi-in><div class=page-navi-content><a class="btn btn-default btn-tag" href="" ng-class="timeFilter.day == 1 ? \'active\': \'\'" ng-click=changeTime(1)>{{_t(\'lb_today\')}}</a> <a class="btn btn-default btn-tag" href="" ng-class="timeFilter.day == 2 ? \'active\': \'\'" ng-click=changeTime(2)>{{_t(\'lb_yesterday\')}}</a> <a class="btn btn-default btn-tag" href="" ng-class="timeFilter.day == 7 ? \'active\': \'\'" ng-click=changeTime(7)>7 {{_t(\'lb_days\')}}</a></div></div></div><div class="blank is-info" ng-if="events.state === \'blank\'"><figure><i class="fas fa-info-circle"></i></figure><div>{{_t(\'no_events\')}}</div></div><div class="blank is-info" ng-if="devices.find.id && collection.length < 1"><figure><i class="fas fa-info-circle"></i></figure><div>{{_t(\'device_no_event\')}}</div></div><div class="blank is-info" ng-if="user.hide_all_device_events || user.hide_system_events"><figure><i class="fas fa-info-circle"></i></figure><div>{{_t(\'events_hidden\')}}</div></div><div class=events ng-swipe-left="swipeMe(\'left\')" ng-swipe-right="swipeMe(\'right\')" ng-hide="events.state === \'blank\'"><div class="list-panel condensed event-level-{{v.level}}" dir-paginate="v in collection | orderBy: \'-timestamp\' | itemsPerPage: pageSize track by $index" current-page=currentPage><figure class="img wh-32x32" ng-href=#admin/user/{{v.id}}><img ng-src={{v.icon}} err-src={{cfg.img.placeholder}} alt={{v.type}}></figure><div class=body><span class="text-supp event-date" title="{{v.timestamp| date:\'dd.MM.yyyy H:mm\'}}" ng-bind="v.timestamp | eventDate: cfg.route.time.timeZoneOffset"></span> &nbsp; <span class=event-message ng-if="v.source && v.message"><a ng-href=#element/{{v.source}} ng-if="elementAccess(cfg.role_access.element) && (cfg.events_clickable.indexOf(v.level) > -1)" ng-bind-html=v.messageView|toTrusted></a> <span ng-if="!elementAccess(cfg.role_access.element) || (cfg.events_clickable.indexOf(v.level) === -1)" ng-bind-html=v.messageView|toTrusted></span> </span><span class=event-message ng-bind=v.message ng-if="!v.source && !v.message"></span> <span class=event-room ng-if=rooms.all[v.message.location]>{{rooms.all[v.message.location]}}</span></div><div class=control ng-include="\'app/views/events/dropdown.html\'"></div></div></div><div class="paginate-lg text-center" ng-if="collection.length > 0"><dir-pagination-controls boundary-links=true></dir-pagination-controls></div><div class="paginate-sm text-center" ng-if="pagesSum > 1"><p>{{_t(\'page_from\',{__currentPage__:currentPage,__pagesSum__:pagesSum})}}</p><div class=btn-group><button class="btn btn-default" on-long-press=goToPage(1) prevent-click=true ng-click="swipeMe(\'right\')" ng-disabled="currentPage == 1"><i class="fas fa-chevron-left"></i></button> <button class="btn btn-default" on-long-press=goToPage(pagesSum) prevent-click=true ng-click="swipeMe(\'left\')" ng-disabled="currentPage >= pagesSum"><i class="fas fa-chevron-right"></i></button></div></div></div>'),e.put("app/views/jamesbox/update.html","<div ng-controller=JbUpdateController><bb-loader></bb-loader><div id=jamesBoxConfirmModal class=appmodal ng-if=jamesbox.showConfirm><div class=appmodal-in><div class=appmodal-header><h3>{{_t('jamesbox_software_upgrade')}}</h3></div><div class=appmodal-body><div class=\"alert alert-warning\">{{_t('jamesbox_current_firmware', {__currentfw__: jamesbox.version, __newfw__: jamesbox.versionNew})}}</div><div class=text-center><button class=\"btn btn-submit btn-lg\" title=\"{{_t('update_now')}}\" ng-click=firmwareUpdate()><i class=\"fas fa-check\"></i> {{_t('update_now')}}</button></div></div><div class=appmodal-footer><a ng-href=#dashboard class=\"btn btn-default\" title=\"{{_t('jamesbox_not_update')}}\"><span class=btn-name>{{_t('jamesbox_not_update')}}</span> <i class=\"fas fa-arrow-right\"></i></a></div></div></div><div id=jamesBoxUpdateModal class=appmodal ng-if=jamesbox.showUpdate><div class=appmodal-in><div class=appmodal-header><h3>{{_t('jamesbox_software_upgrade')}}</h3></div><div class=appmodal-body><div id=jamesboxUpdateInfo><div id=updateTimeout>{{_t('jamesbox_update_update_timeout')}}</div><div>{{_t('jamesbox_update_follow_steps')}}</div></div><ol><li class=jamesboxUpdateInfoList>{{_t('jamesbox_update_1')}}</li><li class=jamesboxUpdateInfoList>{{_t('jamesbox_update_2')}}</li><li class=jamesboxUpdateInfoList>{{_t('jamesbox_update_3')}}</li></ol><div class=\"alert alert-warning\"><i class=\"fas fa-exclamation-circle\"></i> {{_t('jamesbox_update_attention')}}</div><div class=text-center><button class=\"btn btn-submit btn-lg\" title=\"{{_t('reboot_now')}}\" ng-click=systemReboot()><i class=\"fas fa-check\"></i> {{_t('reboot_now')}}</button></div></div><div class=appmodal-footer><button class=\"btn btn-default\" title=\"{{_t('jamesbox_not_update')}}\" ng-click=cancelUpdate()><span class=btn-name>{{_t('jamesbox_not_update')}}</span> <i class=\"fas fa-arrow-right\"></i></button></div></div></div></div>"),e.put("app/views/management/management_appstore.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-cart-plus fa-fw"></i>{{_t(\'app_store_access\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementAppStoreController><bb-loader></bb-loader><div class="form form-page"><div class=fieldset>{{_t(\'app_store_access_info\')}}</div><div class=fieldset><div class="form-group form-inline"><div class=input-group><input name=appstore_token id=appstore_token class=form-control placeholder="{{_t(\'add_token\')}}" ng-model=appStore.input.token> <span class="input-group-addon clickable" title="{{_t(\'add_new\')}}" ng-click=appStoreAddToken()><i class="fas fa-plus text-success"></i></span></div></div><div class="form-group last"><a href="" class="btn btn-default btn-tag" id=tag_{{$index}} title="{{_t(\'lb_remove\')}}" ng-repeat="v in appStore.tokens track by $index" ng-click="appStoreRemoveToken(v, _t(\'lb_delete_confirm\'))">{{v}} <i class="fas fa-times text-danger"></i></a></div></div></div></div>'),e.put("app/views/management/management_backup_restore.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-download fa-fw"></i> {{_t(\'backup_restore\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementCloudBackupController><bb-loader></bb-loader><div class="form form-page"><fieldset><h3>{{_t(\'local_backup\')}}</h3><p ng-bind-html="_t(\'backup_info\', {__link__ : \'/expert/#/network/control\'}) | toTrusted"></p></fieldset><div class="fieldset submit-entry"><button class="btn btn-submit" type=button title="{{_t(\'nm_backup_download\')}}" ng-click=downLoadBackup() ng-disabled="rowSpinner[\'downLoadBackup()\']"><span class=btn-spin><i class=fa ng-class="rowSpinner[\'downLoadBackup()\'] ? \'fa-spinner fa-spin\' : \'fa-download\'"></i> </span><span class=btn-name>{{_t(\'download_backup_computer\')}}</span></button></div></div><div class="form form-page" ng-controller=ManagementRestoreController><div class=fieldset><h3>{{_t(\'restore\')}}</h3><p ng-bind-html="_t(\'restore_info\') | toTrusted">{{_t(\'restore_info\')}}</p><div class="form-group form-inline"><a class="btn btn-default" href=https://service.z-wave.me/cloudbackup/ target=_blank title="{{_t(\'online_cloudbackup\')}}"><i class="fas fa-cloud-download-alt"></i> <span class=btn-name>{{_t(\'online_cloudbackup\')}}</span></a></div><p></p><bb-alert alert=managementRestore.alert></bb-alert><div ng-hide=managementRestore.alert.message><div class="alert alert-warning"><input type=checkbox name=restore_confirm value=1 id=restore_confirm ng-click="managementRestore.confirm = !managementRestore.confirm"> <label for=restore_confirm class=right>{{_t(\'are_you_sure_restore\')}}</label><div class=form-group><bb-help-text trans="_t(\'are_you_sure_restore_info\')"></bb-help-text></div></div><div ng-show=managementRestore.confirm><div class="alert alert-warning"><input type=checkbox name=overwriteNetwork id=overwriteNetwork value=true ng-model=managementRestore.overwriteNetwork> <label for=overwriteNetwork class=right>{{_t(\'restore_zway_network\')}}</label><div class="alert alert-warning" ng-if=managementRestore.overwriteNetwork><i class="fas fa-exclamation-triangle"></i> {{_t(\'restore_backup_chip\')}}</div></div><div class="form-group last"><input type=file class=inputfile_ name=file id=file file-model=myFile onchange=angular.element(this).scope().checkSelectedFile(this.files,angular.element(this).scope().cfg.upload.restore_from_backup)></div></div></div></div><div class="fieldset submit-entry"><button type=button class="btn btn-submit" title="{{_t(\'nm_restore_pick_up\')}}" ng-click=uploadFile() ng-disabled="!managementRestore.confirm || managementRestore.alert.message || !managementRestore.fileName"><i class="fas fa-upload"></i> <span class=btn-name>{{_t(\'nm_restore_pick_up\')}}</span></button></div></div><form name=form_cloud_backup id=form_cloud_backup class="form form-page" ng-submit="updateInstance(form_cloud_backup, managementCloud.instance)" novalidate><fieldset><h3>{{_t(\'cloudbackup\')}}</h3><p ng-bind-html="_t(\'cloudbackup_info\', {__email__ : managementCloud.email === \'\' ? \'<b>\'+_t(\'not_set\')+\'</b>\' : \'<b>\'+managementCloud.email+\'</b>\'}) | toTrusted"></p><bb-alert alert=managementCloud.alert></bb-alert><button class="btn btn-default" type=button title="{{_t(\'activate_module\',{__module__ : \'CloudBackup\'})}}" ng-click="activateCloudBackup(managementCloud.instance,(managementCloud.instance.active ? false : true))" ng-class="managementCloud.instance.active ? \'active\' : \'\'" ng-if="managementCloud.service_status === \'\' || managementCloud.service_status === true" ng-disabled="managementCloud.email === \'\'? true : false"><i class="fas fa-cloud" ng-class="managementCloud.instance.active ? \'text-success\' : \'text-danger\'"></i> <span class=btn-name ng-if="managementCloud.instance.active === true && managementCloud.instance.params.user_active === true">{{_t(\'cloudbackup_active\')}}</span> <span class=btn-name ng-if="managementCloud.instance.active === false">{{_t(\'cloudbackup_inactive\')}}</span> <span class=btn-name ng-if="managementCloud.instance.active === true && managementCloud.instance.params.user_active === false">{{_t(\'cloudbackup_install\')}}</span></button></fieldset><div ng-if="managementCloud.instance.active === true && managementCloud.instance.params.user_active === true && managementCloud.service_status === true"><fieldset><div class=form-group><h4>{{managementCloud.module.options.fields.email_log.label}}</h4><div ng-repeat="v in managementCloud.module.schema.properties.email_log.enum track by $index"><label><input type=radio name=email_log value={{v}} id=email_log_{{v}} ng-model=managementCloud.instance.params.email_log ng-checked="managementCloud.instance.params.email_log === v"> <span>{{managementCloud.module.options.fields.email_log.optionLabels[$index]}}</span></label></div></div></fieldset><fieldset><p class=btn-group><button class="btn btn-default" title="{{_t(\'daily\')}}" type=button ng-repeat="v in managementCloud.module.schema.properties.scheduler.enum track by $index" ng-class="v === managementCloud.instance.params.scheduler ? \'active\' : \'\'" ng-click=setSchedulerType(v)>{{managementCloud.module.options.fields.scheduler.optionLabels[$index]}}</button></p><div class="form-group form-inline form-block"><span ng-if="managementCloud.module.options.fields.hours.dependencies.scheduler.indexOf(managementCloud.instance.params.scheduler) > -1"><label>{{managementCloud.module.options.fields.hours.label}}</label> <select class=form-control ng-model=managementCloud.instance.params.hours ng-required=true><option value={{v}} ng-repeat="v in managementCloud.module.schema.properties.hours.enum track by $index" ng-selected="v === managementCloud.instance.params.hours">{{v}}</option></select> </span><span ng-if="managementCloud.module.options.fields.minutes.dependencies.scheduler.indexOf(managementCloud.instance.params.scheduler) > -1"><label>{{managementCloud.module.options.fields.minutes.label}}</label> <select class=form-control ng-model=managementCloud.instance.params.minutes ng-required=true><option value={{v}} ng-repeat="v in managementCloud.module.schema.properties.minutes.enum track by $index" ng-selected="v === managementCloud.instance.params.minutes">{{v}}</option></select> </span><span ng-if="managementCloud.module.options.fields.weekDays.dependencies.scheduler.indexOf(managementCloud.instance.params.scheduler) > -1"><label>{{managementCloud.module.options.fields.weekDays.label}}</label> <select class=form-control ng-model=managementCloud.instance.params.weekDays ng-required=true><option value={{v}} ng-repeat="v in managementCloud.module.schema.properties.weekDays.enum track by $index" ng-selected="v.toString() === managementCloud.instance.params.weekDays">{{managementCloud.module.options.fields.weekDays.optionLabels[$index]}}</option></select> </span><span ng-if="managementCloud.module.options.fields.days.dependencies.scheduler.indexOf(managementCloud.instance.params.scheduler) > -1"><label>{{managementCloud.module.options.fields.days.label}}</label> <select class=form-control ng-model=managementCloud.instance.params.days ng-required=true><option value={{v}} ng-repeat="v in managementCloud.module.schema.properties.days.enum track by $index" ng-selected="v === managementCloud.instance.params.days">{{v}}</option></select></span><div ng-if="managementCloud.instance.params.scheduler === \'0\'"><button class="btn btn-default" title="{{_t(\'upload_backup\')}}" type=button ng-click=manualCloudBackup()><i class="fas fa-cloud-upload-alt"></i> <span class=btn-name>{{_t(\'upload_backup\')}}</span></button></div></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}" ng-disabled=form_cloud_backup.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></div></form></div>'),e.put("app/views/management/management_factory.html","<h2 class=\"accordion-toggle chevron\" ng-if=\"(cfg.route.os != 'ZWayMobileAppAndroid' && cfg.route.os != 'ZWayMobileAppiOS' && connection.local)\"><button type=button aria-expanded=false bb-accordion><span><i class=\"fas fa-redo fa-fw\"></i> {{_t('factory_default')}}</span></button></h2><h2 class=\"accordion-toggle chevron\" ng-if=\"cfg.route.os == 'ZWayMobileAppAndroid' || cfg.route.os == 'ZWayMobileAppiOS' || connection.remote\"><button type=button><span><i class=\"fas fa-exclamation-circle fa-fw text-warning\"></i> {{_t('factory_default')}} <em ng-if=\"cfg.route.os == 'ZWayMobileAppAndroid' || cfg.route.os == 'ZWayMobileAppiOS'\">,&nbsp;{{_t('not_supported_on_mobile')}} </em><em class=infowindow-in ng-if=\"cfg.route.os != 'ZWayMobileAppAndroid' && cfg.route.os != 'ZWayMobileAppiOS' && connection.remote\">,&nbsp;{{_t('not_supported_on_remote')}}</em></span></button></h2><div class=accordion hidden ng-controller=ManagementFactoryController><bb-loader></bb-loader><form name=form_factory_default id=form_profile class=\"form form-page\" ng-submit=\"resetFactoryDefault(_t('factory_default_war'))\" novalidate><fieldset><p>{{_t('factory_default_info')}}</p></fieldset><fieldset class=submit-entry><button type=submit class=\"btn btn-danger\" title=\"{{_t('reset_factory_default')}}\"><i class=\"fas fa-redo\"></i> <span class=btn-name>{{_t('reset_factory_default')}}</span></button></fieldset></form></div>"),e.put("app/views/management/management_firmware_jb.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-level-up-alt fa-fw"></i> {{_t(\'firmware_update\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementFirmwareController><bb-loader></bb-loader><div class="form form-page"><div class=fieldset><p class=form-control-static><span ng-bind="_t(\'current_firmware\')"></span>: <strong ng-bind=controllerInfo.softwareRevisionVersion></strong></p><div class=form-group><bb-help-text trans="_t(\'jb_upgrade_info\')"></bb-help-text></div><a class="btn btn-default" href=#/boxupdate title="{{_t(\'jamesbox_software_upgrade\')}}"><i class="fas fa-download text-success"></i> <span class=btn-name ng-bind="_t(\'jamesbox_software_upgrade\')"></span></a></div></div><div id=firmwareUpdateModal class="appmodal appmodal-100" ng-if="modalArr.firmwareUpdateModal && firmwareUpdate.show"><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="setAccess(\'?allow_access=0\');handleModal(\'firmwareUpdateModal\', $event)"><i class="fas fa-times"></i></span><h3>{{_t(\'firmware_update\')}}</h3></div><div class="appmodal-body text-center"><iframe ng-src={{firmwareUpdate.url}} height=600 style="width: 100%;" ng-if=firmwareUpdate.loaded></iframe></div></div></div></div>'),e.put("app/views/management/management_firmware.html",'<h2 class="accordion-toggle chevron" ng-if="cfg.route.os != \'ZWayMobileAppAndroid\' && cfg.route.os != \'ZWayMobileAppiOS\' && connection.local"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-level-up-alt fa-fw"></i>{{_t(\'firmware_update\')}}</span></button></h2><h2 class="accordion-toggle chevron" ng-if=connection.remote><button type=button><span><i class="fas fa-exclamation-circle fa-fw text-warning"></i>{{_t(\'firmware_update\')}} <em class=infowindow-in>{{_t(\'not_supported_on_remote\')}}</em></span></button></h2><div class=accordion hidden ng-controller=ManagementFirmwareController><bb-loader></bb-loader><form name=form_firmware id=form_firmware class="form form-page" ng-submit=updateFirmware() novalidate><fieldset><p class=form-control-static><span ng-bind="_t(\'current_firmware\')"></span>: <strong ng-bind=controllerInfo.softwareRevisionVersion></strong></p><div class=form-group><bb-help-text trans="_t(\'firmware_update_info\')"></bb-help-text></div></fieldset><fieldset class=submit-entry><button type=button class="btn btn-submit" title="{{_t(\'update_to_latest\')}}" ng-click="setAccess(\'?allow_access=1\',true);handleModal(\'firmwareUpdateModal\', $event)"><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'update_to_latest\')}}</span></button></fieldset></form><form name=form_update_device_database id=form_update_device_database class="form form-page" ng-submit=updateDatabases()><fieldset><p class=form-control-static><span ng-bind="_t(\'device_database_info\')"></span></p><p ng-repeat="(k,v) in databaseUpdate" ng-show=(v)><strong>{{_t(k)}} <i class="fas fa-lg {{v}}"></i></strong></p></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'btn_update_device_database\')}}" ng-disabled=databaseProcess><i class="fas fa-level-up-alt"></i> <span class=btn-name>{{_t(\'btn_update_device_database\')}}</span></button></fieldset></form><div id=firmwareUpdateModal class="appmodal appmodal-90 modal-h-700" ng-if="modalArr.firmwareUpdateModal && firmwareUpdate.show"><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="setAccess(\'?allow_access=0\');handleModal(\'firmwareUpdateModal\', $event)"><i class="fas fa-times"></i></span><h3>{{_t(\'firmware_update\')}}</h3></div><div class="appmodal-body text-center"><div class=iframe-wrapper><iframe ng-src={{firmwareUpdate.url}} height=600 style="width: 100%;" ng-if=firmwareUpdate.loaded></iframe></div></div></div></div></div>'),e.put("app/views/management/management_info.html","<h2 class=\"accordion-toggle chevron\"><button type=button aria-expanded=false bb-accordion><span><i class=\"fas fa-info-circle fa-fw\"></i> {{_t('info')}}</span></button></h2><div class=accordion hidden><div class=\"form form-inline form-page\"><div class=fieldset><h3>{{_t('software_info')}}</h3><table class=\"table table-report\"><tbody><tr><td>{{_t('firmware_version')}}</td><td class=td20>{{controllerInfo.softwareRevisionVersion}}</td></tr><tr><td>{{_t('ui_version')}}</td><td class=td20>{{cfg.app_version}}</td></tr><tr><td>{{_t('built_date')}}</td><td class=td20>{{builtInfo.built}}</td></tr><tr><td>{{_t('ctrl_info_caps_cap_title')}}</td><td class=td20>{{controllerInfo.capabillities}}</td></tr></tbody></table></div><div class=fieldset><h3>{{_t('translation')}}</h3><div>{{_t('management_trans_info')}}</div></div></div></div>"),e.put("app/views/management/management_licence.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-key fa-fw"></i> {{_t(\'licence_upgrade\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementLicenceController><bb-loader></bb-loader><bb-alert alert=handleLicense.alert></bb-alert><form name=form_licence id=form_password class="form form-page" ng-submit=getLicense(inputLicence) ng-if=!handleLicense.error novalidate><fieldset><div class="alert alert-danger" ng-if=handleLicense.replug><i class="fas fa-plug"></i> {{_t(\'replug_device\')}}</div><p>{{_t(\'licence_upgrade_key\')}}</p><p class=form-inline><label>{{_t(\'licence_key_insert\')}}:</label> <input class="form-control form-control-sm" name=scratch_id id=scratch_id value={{inputLicence.scratch_id}} ng-disabled=handleLicense.disabled ng-model=inputLicence.scratch_id></p><div><p ng-if=proccessVerify.message><i ng-class=proccessVerify.status></i> <strong ng-bind=proccessVerify.message></strong></p><p ng-if=proccessUpdate.message><i ng-class=proccessUpdate.status></i> <strong ng-bind=proccessUpdate.message></strong></p></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'btn_licence_verify\')}}" ng-disabled="proccessLicence || controllerInfo.isZeroUuid"><i class="fas fa-share"></i> <span class=btn-name>{{_t(\'btn_licence_verify\')}}</span></button></fieldset></form></div>'),e.put("app/views/management/management_local.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-database fa-fw"></i> {{_t(\'local_access_manage\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementLocalController><bb-loader></bb-loader><form name=form_local id=form_local class="form form-page" ng-if=handleTimezone.show ng-submit=updateInstance(handleTimezone.instance)><fieldset><p>{{_t(\'wan_port_access_info\')}}</p><div class=form-group><div><input type=checkbox name=wan_port_access id=wan_port_access value=true ng-model=handleTimezone.instance.params.wan_port_access ng-checked=handleTimezone.instance.params.wan_port_access> <label for=wan_port_access ng-bind="_t(\'local_access_activate\')"></label><bb-help-text trans="_t(\'timezone_info\')"></bb-help-text></div></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form><div class="alert alert-warning" ng-bind="_t(\'local_access_not_installed\')" ng-if=!handleTimezone.show></div></div>'),e.put("app/views/management/management_remote.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-globe fa-fw"></i> {{_t(\'remote_access_manage\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementRemoteController><bb-loader></bb-loader><form name=form_remote id=form_remote class="form form-page" ng-if=remoteAccess ng-submit="putRemoteAccess(remoteAccess, newRemoteAccessPassword)" novalidate><fieldset><p ng-bind="_t(\'remote_access_info\')"></p><div ng-if=remoteAccess><div class=form-group><p class=form-control-static><span ng-bind="_t(\'remote_access_id\')"></span>: <strong ng-bind=remoteAccess.params.userId></strong></p></div><div class=form-group><div><label for=remote_access><input type=checkbox name=remote_access value=true id=remote_access ng-model=remoteAccess.params.zbwStatus ng-checked=remoteAccess.params.zbwStatus ng-disabled="cfg.route.os == \'ZWayMobileAppAndroid\' || cfg.route.os == \'ZWayMobileAppiOS\' || connection.remote"> <span>{{_t(\'remote_access\')}}</span> <span class=help-text ng-if=connection.remote><i class="fas text-info fa-info-circle"></i> {{_t(\'disable_only_on_local_possible\')}}</span></label><div class="alert alert-warning" ng-bind="_t(\'remote_access_warning\', {__url__:findUrl})" ng-if=!remoteAccess.params.zbwStatus></div></div><div><label for=remote_support><input type=checkbox name=remote_support value=true id=remote_support ng-model=remoteAccess.params.sshStatus ng-checked=remoteAccess.params.sshStatus> <span>{{_t(\'remote_access_support\')}}</span></label></div></div></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div>'),e.put("app/views/management/management_report.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-bug fa-fw"></i> {{_t(\'nav_report\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementReportController><bb-loader></bb-loader><form name=form_report id=form_profile class="form form-page" ng-submit=sendReport(form_report,input) novalidate><fieldset><div class="alert alert-warning"><i class="fas fa-exclamation-circle"></i> {{_t(\'bugreport_info\')}}</div><div class=form-group><textarea name=content id=content class="form-control report-content" ng-blur="contentBlur = true" ng-model=input.content ng-required=true></textarea><bb-validator input-name=form_report.content.$error.required trans=\'_t("field_required")\' has-blur=contentBlur></bb-validator></div><div class="form-group form-inline last"><label>{{_t(\'lb_email\')}}:</label> <input name=email id=email type=email class=form-control value={{input.email}} ng-blur="emailBlur = true" ng-model=input.email ng-required=true><bb-validator input-name=form_report.email.$error.required trans=\'_t("email_invalid")\' has-blur=emailBlur></bb-validator></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'lb_submit\')}}" ng-disabled=form_report.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_submit\')}}</span></button></fieldset></form></div>'),e.put("app/views/management/management_timezone_jb.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-clock fa-fw"></i> {{_t(\'timezone\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementTimezoneJBController><bb-loader></bb-loader><form name=form_timezone id=form_password class="form form-page" ng-if=handleTimezone.show ng-submit=updateInstance(handleTimezone.instance) novalidate><fieldset><div class="form-group form-inline"><label>{{_t(\'timezone_select\')}}</label> <select class=form-control ng-model=handleTimezone.instance.params.timezone><option value={{v}} ng-repeat="v in managementTimezone.enums track by $index" ng-selected="v === handleTimezone.instance.params.timezone">{{managementTimezone.labels[$index]}}</option></select><bb-help-text trans="_t(\'timezone_info\')"></bb-help-text></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'set_timezone\')}}"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'set_timezone\')}}</span></button></fieldset></form><div class="alert alert-warning" ng-bind="_t(\'timezone_not_installed\')" ng-if=!handleTimezone.show></div></div>'),e.put("app/views/management/management_timezone.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-clock fa-fw"></i> {{_t(\'timezone\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementTimezoneController><bb-loader></bb-loader><form name=form_timezone id=form_timezone class="form form-page" ng-submit=setTimezone(managementTimezone.input,$event) novalidate><fieldset class=form-inline><label>{{_t(\'timezone\')}}:</label> <select name=time_zone class=form-control ng-model=managementTimezone.input.timeZone><option ng-repeat="v in cfg.time_zone_list" value={{v}} ng-selected="v === managementTimezone.input.timeZone">{{v}}</option></select><div class="alert alert-warning" ng-if="managementTimezone.input.timeZone != managementTimezone.lastTZ"><i class="fas fa-exclamation-circle"></i> {{_t(\'timeZoneChangeWarning\')}}</div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'set_timezone\')}}" ng-disabled="managementTimezone.input.timeZone == managementTimezone.lastTZ"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'set_timezone\')}}</span></button></fieldset></form><div ng-include="\'app/views/management/modal_timezone.html\'"></div></div>'),e.put("app/views/management/management_user_id.html",'<div ng-controller=ManagementUserIdController><bb-loader></bb-loader><div ng-if=show><h2><span ng-bind="_t(\'lb_user\')"></span>: <span ng-show="input.id > 0">(#{{input.id}})</span> <span ng-bind=input.name></span></h2><form name=form_profile id=form_profile class="form form-page" ng-submit=store(form_profile,input) novalidate><fieldset><div class="form-group form-inline"><label class="isrequired display-block">{{_t(\'lb_name\')}}:</label> <input name=name id=name class=form-control value={{input.name}} ng-model=input.name ng-blur="nameBlur = true" ng-required=true><bb-validator input-name=form_profile.name.$error.required trans=\'_t("field_required")\' has-blur=nameBlur></bb-validator></div><div class="form-group form-inline"><label class=display-block>{{_t(\'lb_email\')}}:</label> <input name=email id=email type=email class=form-control value={{input.email}} ng-model=input.email ng-blur="emailBlur = true"><bb-validator input-name=form_profile.email.$error.email trans=\'_t("email_invalid")\' has-blur=emailBlur></bb-validator></div></fieldset><fieldset ng-if="id == 0"><div class="form-group form-inline"><label class="isrequired display-block">{{_t(\'lb_login\')}}:</label> <input name=login id=login class=form-control value={{input.login}} ng-model=input.login g-blur="loginBlur = true" ng-required=true><bb-validator input-name=form_profile.name.$error.required trans=\'_t("field_required")\' has-blur=loginBlur></bb-validator></div><div class="form-group form-inline"><label class="isrequired display-block">{{_t(\'lb_password\')}}:</label> <input name=password id=password type=password class=form-control ng-model=input.password ng-blur="passwordBlur = true" ng-required=true ng-minlength=6><bb-validator input-name=form_profile.password.$error.required trans=\'_t("field_required")\' has-blur=passwordBlur></bb-validator><bb-validator input-name=form_profile.password.$error.minlength trans=\'_t("password_valid")\' has-blur=passwordBlur></bb-validator></div><div class="form-group form-inline"><label class="isrequired display-block">{{_t(\'confirm_password\')}}:</label> <input name=password_confirm id=password_confirm type=password class=form-control ng-blur="passwordConfirmBlur = true" ng-model=input.passwordConfirm bb-compare-to=password><bb-validator input-name=form_profile.password_confirm.$error.compareto trans=\'_t("passwords_must_match")\' has-blur=passwordConfirmBlur></bb-validator></div></fieldset><fieldset><h3><span ng-bind="_t(\'lb_settings\')"></span></h3><div><div class="form-group form-inline" ng-if="user.id != id"><label>{{_t(\'lb_role\')}}:</label><br><label><input type=radio name=role value=1 ng-model=input.role ng-checked="input.role == 1" bb-integer> <span>{{_t(\'lb_admin\')}}</span></label><br><label><input type=radio name=role value=2 ng-model=input.role ng-checked="input.role == 2" bb-integer> <span>{{_t(\'lb_user\')}}</span></label><br><label><input type=radio name=role value=3 ng-model=input.role ng-checked="input.role == 3" bb-integer> <span>{{_t(\'lb_local\')}}</span></label><br><label><input type=radio name=rol value=4 ng-model=input.role ng-checked="input.role == 4" bb-integer> <span>{{_t(\'lb_anonymous\')}}</span></label></div><div class="form-group form-inline"><div class="accordion-toggle inline"><button type=button aria-expanded=false bb-accordion><span>{{_t(\'lb_language\')}}: <img class="form-control-img profile-lang" ng-src=app/img/flags/{{input.lang}}.png title={{input.lang}}> <span class=uppercase>{{input.lang}}</span></span></button></div><div class=accordion hidden><img class="form-control-img profile-lang" title={{v}} ng-repeat="v in cfg.lang_list" ng-click="input.lang = v" ng-class="v == input.lang ? \'lang-active\':\'\'" ng-src=app/img/flags/{{v}}.png></div></div></div></fieldset><fieldset><h3>{{_t(\'lb_allow_rooms\')}}</h3><div ng-if="input.role === 1"><p>{{_t(\'lb_allow_access_to_all_rooms\')}}</p></div><div ng-if="input.role !== 1"><div ng-if=!rooms.length><p>{{_t(\'no_rooms\')}}</p></div><div ng-if=rooms.length><div class="device-available-block assigned"><a href="" class="btn btn-default btn-tag" title={{d.title}} ng-repeat="d in rooms" ng-if="input.rooms.indexOf(d.id) > -1" ng-click=removeRoom(d.id)>{{d.title|cutText:true:30}} <i class="fas fa-times text-danger"></i></a></div><h3>{{_t(\'lb_available_rooms\')}}</h3><div class=device-available-block><a href="" class="btn btn-default btn-tag" title={{d.title}} ng-repeat="d in rooms" ng-if="input.rooms.indexOf(d.id) === -1" ng-click=assignRoom(d.id)>{{d.title|cutText:true:30}} <i class="fas fa-plus text-success"></i></a></div></div></div></fieldset><fieldset><h3>{{_t(\'lb_allow_devices\')}}</h3><div ng-if="input.role === 1"><p>{{_t(\'lb_allow_access_to_all_devices\')}}</p></div><div ng-if="input.role !== 1"><div ng-if=!devices.length><p>{{_t(\'no_devices\')}}</p></div><div ng-if=devices.length><div class="device-available-block assigned"><a href="" style="font-size: 1.2em" class="btn btn-lg btn-default btn-tag" ng-repeat="d in devices" ng-if="input.devices.indexOf(d.id) > -1" title={{d.metrics.title}} ng-click=removeDevice(d.id)>{{d.metrics.title|cutText:true:30}} <i class="fas fa-times text-danger"></i></a></div><h3>{{_t(\'lb_available_devices\')}}</h3><div class=device-available-block><a href="" style="font-size: 1.2em" class="btn btn-lg btn-default btn-tag" ng-repeat="d in devices" ng-if="input.devices.indexOf(d.id) === -1 && !d.permanently_hidden && d.visibility" title={{d.metrics.title}} ng-click=assignDevice(d.id)>{{d.metrics.title|cutText:true:30}} <i class="fas fa-plus text-success"></i></a></div></div></div></fieldset><fieldset class=submit-entry><button type=button class="btn btn-default" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" ng-disabled=form_profile.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form><div ng-controller=MySettingsSessionController ng-include="\'app/views/mysettings/mysettings-sessions.html\'"></div></div></div>'),e.put("app/views/management/management_user.html",'<h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-users fa-fw"></i> {{_t(\'nav_admin\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementUserController><div class="page-control form-inline"><div class=btn-group><button class="btn btn-default" ng-click="expandNavi(\'roomsOrderBy\', $event)"><i class="fas fa-sort-alpha-down"></i> <span class=btn-name>{{_t(userProfiles.orderBy) | cutText:true:15}}</span></button> <a class="btn btn-success" ng-href=#admin/user/0 title="{{_t(\'lb_add_user\')}}"><i class="fas fa-plus"></i> <span class=btn-name>{{_t(\'lb_add_user\')}}</span></a></div></div><div class=page-navi ng-if=naviExpanded.roomsOrderBy><div class=page-navi-in><div class=page-navi-content><p class=page-navi-title>{{_t(\'sortby\')}}</p><a class="btn btn-default btn-tag" href="" ng-repeat="(k,v) in cfg.orderby.users" ng-click=setOrderBy(k) ng-class="userProfiles.orderBy == k ? \'active\': \'\'">{{_t(k) | cutText:true:30}}</a></div></div></div><div class=list-panel ng-repeat="v in userProfiles.all|orderBy:cfg.orderby.users[userProfiles.orderBy]| filter:q  track by v.id"><a class="figure img wh-32x32" ng-href=#admin/user/{{v.id}}><img ng-src=storage/img/icons/user.png alt={{v.name}}></a><div class=body><div><a ng-href=#admin/user/{{v.id}}>{{v.name|cutText:true:25}}</a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'manageUser_\' + $index, $event)"></button></div><div class=control ng-class="naviExpanded[\'manageUser_\' + $index] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a class="btn btn-default" ng-href=#admin/user/{{v.id}} title="{{_t(\'lb_update\')}}"><i class="fas fa-pencil-alt text-info"></i> </a><button class="btn btn-default" title="{{_t(\'lb_remove\')}}" ng-hide="v.id == 1" ng-click="deleteProfile(v, _t(\'lb_delete_confirm\'), 1)"><i class="fas fa-times text-danger"></i></button></div></div></div></div>'),e.put("app/views/management/management_wifi_settings.html",'<h2 class="accordion-toggle chevron" xmlns=http://www.w3.org/1999/html><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-wifi fa-fw"></i>{{_t(\'nav_wifi\')}}</span></button></h2><div class=accordion hidden ng-controller=ManagementWiFiController><div class="form form-page" ng-if="currentConnection.length !== 0"><fieldset class=wifi-status__block><div ng-repeat="connect in connectionStatus.possibleConnections" class=wifi_status><span><span style="font-weight: bold"><i class="fa {{ connectToStr(connect)[1] }}" aria-hidden=true></i> {{ _t(connectToStr(connect)[0])}}</span> <span>-</span> <span class={{connectInfo(connect).class}}>{{_t(connectInfo(connect).description)}} </span></span><span style={{connectInfo(connect).style}}>{{_t(connectInfo(connect).status)}}</span></div></fieldset></div><div class="form form-page"><fieldset><div class=wifi-current-connect><div><i ng-class=currentConnectStatus()></i> <span ng-hide="connecting.progress || loadingWiFilist" class=wifi-current-name>{{currentConnect ? currentConnect.essid : _t(\'wifi_no_connection\')}}</span></div><div ng-if=currentConnect class="btn btn-danger" ng-click=disconnect()>{{_t(\'wifi_disconnect\')}}</div></div></fieldset></div><div ng-show=loadingWiFilist class=center><i class="fa fa-spinner fa-pulse"></i></div><div ng-show=wifiNets.all.length><div ng-hide=connecting.progress ng-controller=ManagementWiFiSelectController class="ng-scope wifi-select"><div class="help-text wifi-help">{{enteringPassword ? _t(\'wifi_connect_help\', {__name__: selectedConnect.essid}) : _t(\'wifi_connect_select_help\')}}</div><button class="btn btn-default" ng-if=!enteringPassword ng-click="expandNavi(\'wifiNetsList\', $event)"><i class=fad ng-class=wifiSignalIcon(selectedConnect.signal)></i> {{selectedConnect.essid}} <i class="fal fa-caret-down" style="padding-left: 1ch"></i></button><div class=page-navi ng-if=naviExpanded.wifiNetsList><div class=page-navi-in><div class="page-navi-content btn-default wifi-options" ng-repeat="v in wifiNets.all"><div ng-click=selectWiFi(v) class=wifi-options-box><div><i class=fad ng-class=wifiSignalIcon(v.signal)></i></div><div class=essid>{{ v.essid }}</div><div><i class="fad fa-lock-alt" ng-style="v.security === \'NONE\' && {\'display\': \'none\'}"></i></div></div></div></div></div><div class=control ng-class="enteringPassword ? \'wifi-full-size\' : \'\'"><div><div ng-show=enteringPassword><div class=wifi-control><div class=wifi-control-input-block><div class=wifi-password><input type={{inputType}} id=v.id ng-model=wifiPassword autocomplete=off placeholder="{{_t(\'wifi_password\')}}"> <i class=fa ng-class=" showPassword ? \'fa-eye\': \'fa-eye-slash\'" ng-click=showPass() aria-hidden=true title="{{ showPassword ?\n                                   _t(\'hide_password\'):\n                                   _t(\'show_password\')}}"></i></div><div class=wifi-control-btn-group><button ng-disabled="wifiPassword.length < 8" class="btn btn-submit" title="{{_t(\'wifi_continue\')}}" ng-click=passwordRequest()>{{_t(\'wifi_continue\')}}</button> <button class="btn btn-danger" title="{{_t(\'wifi_cancel\')}}" ng-click=cancelConnection()>{{_t(\'wifi_cancel\')}}</button></div></div></div></div><button class=btn ng-class="selectedConnect.security === \'NONE\' ? \'btn-danger\' : \'btn-submit\'" title="{{ selectedConnect.security === \'NONE\' ? _t(\'wifi_connect_insecure\') : _t(\'wifi_connect\') }}" ng-disabled="!selectedConnect || selectedConnect.security === \'NONE\'" ng-click=connectWiFi() ng-hide=enteringPassword>{{ selectedConnect.security === \'NONE\' ? _t(\'wifi_connect_insecure\') : _t(\'wifi_connect\')}}</button></div></div></div><div ng-show=connecting.progress><p ng-show="connecting.response === true"><i class="fas fa-check" style="color: lawngreen"></i> {{ _t(\'wifi_connect_successfully\')}}</p><p ng-show="connecting.response === undefined"><i class="fas fa-spinner fa-pulse"></i> {{ _t(\'wifi_connect_progress\', {__net__: selectedConnect.essid})}}</p><p ng-show="connecting.response === false"><i class="fas fa-times" style="color: darkred"></i> {{ _t(\'wifi_connect_failed\')}} {{connecting.data.error}}</p></div></div><div ng-show="!wifiNets.all.length && !loadingWiFilist">{{_t(\'no_connections\')}}</div></div>'),e.put("app/views/management/management.html","<div data-collapse-all=true ng-controller=ManagementController><section class=accordion-wrap ng-include=\"'app/views/management/management_user.html'\"></section><section class=accordion-wrap ng-include=\"'app/views/management/management_remote.html'\"></section><section class=accordion-wrap ng-if=handleLicense.show ng-include=\"'app/views/management/management_licence.html'\"></section><section class=accordion-wrap ng-include=\"'app/views/management/management_local.html'\" ng-if=\"(cfg.app_type === 'zme_hub')\"></section><section class=accordion-wrap ng-if=\"cfg.app_type == 'default'\" ng-include=\"'app/views/management/management_timezone.html'\"></section><section class=accordion-wrap ng-include=\"'app/views/management/management_timezone_jb.html'\" ng-if=\"(cfg.app_type === 'zme_hub')\"></section><section class=accordion-wrap ng-include=\"'app/views/management/management_backup_restore.html'\" ng-if=!isMobile></section><section class=accordion-wrap ng-class=\"(cfg.route.os == 'ZWayMobileAppAndroid' || cfg.route.os == 'ZWayMobileAppiOS' || connection.remote) ? 'disabled' : ''\" ng-include=\"'app/views/management/management_factory.html'\"></section><section class=accordion-wrap ng-if=\"!isInArray(['wd','zme_hub'],cfg.app_type)\" ng-class=\"(cfg.route.os == 'ZWayMobileAppAndroid' || cfg.route.os == 'ZWayMobileAppiOS' || connection.remote) ? 'disabled' : ''\" ng-include=\"'app/views/management/management_firmware.html'\"></section><section class=accordion-wrap ng-if=\"(cfg.app_type === 'zme_hub') && cfg.route.os != 'ZWayMobileAppAndroid' && cfg.route.os != 'ZWayMobileAppiOS'\" ng-include=\"'app/views/management/management_firmware_jb.html'\"></section><section class=accordion-wrap ng-include=\"'app/views/management/management_appstore.html'\"></section><section class=accordion-wrap ng-if=\"cfg.app_type === 'zme_hub'\" ng-include=\"'app/views/management/management_wifi_settings.html'\"></section><section class=accordion-wrap ng-include=\"'app/views/management/management_report.html'\"></section><section class=accordion-wrap ng-include=\"'app/views/management/management_info.html'\"></section></div>"),e.put("app/views/management/modal_timezone.html",'<div id=timezoneModal class=appmodal ng-show=modalArr.timezoneModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'timezoneModal\', $event)"><i class="fas fa-times"></i></span><h3><i class="fas fa-exclamation-circle"></i> {{cfg.app_name}}</h3></div><div class=appmodal-body><div class="alert alert-warning"><i class="fas fa-spinner fa-spin fa-lg"></i> {{ _t(\'z_way_restart\', {__val__: managementTimezone.countdown,__level__: _t(\'seconds\')})}}</div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click="handleModal(\'timezoneModa\', $event)"><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button></div></div></div>'),e.put("app/views/matter/matter_batteries.html",'<div ng-controller=MatterManageController><bb-loader></bb-loader><div ng-include="\'app/views/matter/navi.html\'"></div><div class="app-row app-row-report app-row-matter clearfix"><div id=row_battery_{{v.id}} class=report-entry ng-repeat="v in devices.zw| orderBy:\'title\':false" ng-if=v.hasBattery><div class="report-col report-media"><img class=report-img ng-src={{v.batteryCharge|getBatteryIcon}} alt=img></div><div class="report-col report-body report-col-w30"><span class="network-matter-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}})</span><div class=btn-group ng-if="_.size(v.elements) > 0"><a href="" class=network-matter-title ng-click="expandNavi(\'accMatterManage_\' + v.id, $event)"><i class=fa ng-class="naviExpanded[\'accMatterManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}})</a><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accMatterManage_\' + v.id]"><ul><li class="clickable matter-hidden-{{e.permanently_hidden}}" ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:20}} <span class=matter-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-battery-info"><div ng-if=v.date><i class="fas fa-clock"></i> {{v.date}}</div><div ng-if=v.awake><i class="fas {{v.awake|getAwakeIcon}}"></i> <span ng-if=v.sleeping ng-bind-html="v.sleeping | toTrusted"></span></div></div><div class="report-col report-ctrl"><span class=text-success ng-show="v.batteryCharge >= 80">{{v.batteryCharge}} %</span> <span class=text-default ng-show="v.batteryCharge < 80 && v.batteryCharge > 20">{{v.batteryCharge}} %</span> <span class=text-danger ng-show="v.batteryCharge <= 20"><i class="fas fa-exclamation-triangle"></i> {{v.batteryCharge}} %</span></div></div></div><div class=device-logo ng-include="\'app/views/matter/matter_nav.html\'"></div></div>'),e.put("app/views/matter/matter_commission_code.html",'<div ng-controller=MatterCommissionCodeController><div ng-if="!dataHolder.video.supported || dataHolder.manual_add"><div class="alert alert-warning" ng-if=!dataHolder.video.supported><i class="fas fa-info-circle"></i> {{_t(\'video_not_supported_smart_start\')}}</div></div><div class=entry ng-if="!dataHolder.video.supported && !isMobile"><div class=entry-in><div class=entry-media><img ng-src=app/img/smartphone.png alt=Image></div><div class=entry-content><div class=inner><div class=mobile-app-icon><img style="width: 50%;" alt="Z-Wave.Me Mobile App" src=app/img/small_logo.svg></div><div class=text><h1>{{_t(\'app_name\')}}</h1><p>{{_t(\'app_description\')}}</p></div><div class=badges><a class=google href="https://play.google.com/store/apps/details?id=me.zwave.zway"><img ng-src=app/img/google-play-badge.png alt="Goole Play"></a><a class=apple href=https://apps.apple.com/app/id1513858668 target=_blank><img ng-src=app/img/apple-store-badges.svg alt="Apple Store"></a></div></div></div></div></div></div>'),e.put("app/views/matter/matter_commission_qr.html","<div ng-controller=MatterCommissionQrController><bb-alert alert=dataHolder.video.alert></bb-alert><div class=\"entry scan-qrcode\" ng-if=\"dataHolder.video.supported && qrcode.state !== 'success-register'\"><div class=video-wrapper><video id=video width=300 height=200></video></div><canvas id=qr-canvas width=480 height=640></canvas><p class=content>{{_t('qr_code_desc')}}</p></div></div>"),e.put("app/views/matter/matter_commission.html","<div class=smart-start ng-controller=MatterCommissionBaseController><div class=container><div ng-include=\"'app/views/matter/matter_commission_qr.html'\"></div><div ng-include=\"'app/views/matter/matter_commission_code.html'\"></div></div></div>"),e.put("app/views/matter/matter_inclusion.html",'<div ng-controller=MatterInclusionController id=matter_inclusion><bb-loader></bb-loader><div class="form form-inline form-page"><div class=fieldset><h1>{{_t(\'add_new_device\')}}</h1></div><div class="fieldset bar-row inclusion" ng-show=!_.isEmpty(matterInclusion.device.find)><div class="bar-col bar-media"><img ng-src="{{cfg.img.matterdevices + matterInclusion.device.find.product_image}}" err-src="{{cfg.online_device_icon_url + matterInclusion.device.find.remote_image}}" err-src2={{cfg.img.placeholder}} alt=img></div><div class="bar-col bar-body"><em>{{matterInclusion.device.find.brandname + \' \' + matterInclusion.device.find.name}}</em></div></div><div class="fieldset clearfix"><div class="app-row app-row-report clearfix"><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">1</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!matterInclusion.exclusionProcess.process><bb-help-text trans="_t(\'lb_matter_include_preparation\')"></bb-help-text></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=matterInclusion.exclusionProcess.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">2</span></div><div class="report-col report-body">{{_t(\'matter_ble_ext_mode\')}}<div class=btn-group><button class=btn id=btn_bleextdh ng-disabled=!matterInclusion.controller.bleExtDHSupported data-ng-click="setBLEWSExt(true, false)" ng-class="matterInclusion.controller.bleExtEnabled ? \'btn-success\': \'btn-default\'"><i class="fas fa-mobile-alt"></i></button> <button class=btn id=btn_bleint data-ng-click=setBLEWSExt(false) ng-class="!matterInclusion.controller.bleExtEnabled ? \'btn-success\': \'btn-default\'"><i class="fab fa-bluetooth"></i></button></div><div class="alert alert-warning" ng-if="!matterInclusion.controller.bleExtDHSupported && cfg.route.os != \'ZWayMobileAppAndroid\' && cfg.route.os != \'ZWayMobileAppiOS\'" ng-bind-html="_t(\'matter_ble_ext_dh_mode_enable_how_to\')|toTrusted"></div><div class="alert alert-warning" ng-if="!matterInclusion.controller.bleExtDHSupported && (cfg.route.os == \'ZWayMobileAppAndroid\' || cfg.route.os == \'ZWayMobileAppiOS\')" ng-bind-html="_t(\'matter_ble_ext_dh_mode_mobile_how_to\')|toTrusted"></div></div><div class="report-col report-ctrl"></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">3</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!matterInclusion.inclusionProcess.process><button class="btn btn-success btn-lg" title="{{_t(\'start\')}}" ng-disabled="matterInclusion.bleExtChanging || matterInclusion.exclusionProcess.process || matterInclusion.automatedConfiguration.includedDevice.nodeId > 0" ng-click="startStopProcess(\'inclusion\', true)"><i class="fas fa-plug"></i> <span class=btn-name>{{_t(\'start\')}}</span></button></div><div class=inclusion-process ng-if=matterInclusion.inclusionProcess.process><div class="alert alert-warning"><h4><i class="fas fa-spinner fa-spin"></i> {{_t(\'lb_ready_include\')}}</h4><p ng-bind-html=matterInclusion.device.find.inc|toTrusted></p></div><button class="btn btn-danger btn-lg" title="{{_t(\'stop\')}}" ng-click="startStopProcess(\'inclusion\', false)"><i class="fas fa-ban"></i> <span class=btn-name>{{_t(\'stop\')}}</span></button></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=matterInclusion.inclusionProcess.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">4</span></div><div class="report-col report-body"><div ng-if=!matterInclusion.controller.bleExtEnabled>{{_t(\'matter_ble_int_mode_comment\')}}</div><div ng-if="matterInclusion.controller.bleExtEnabled && !matterInclusion.controller.bleExtWS">{{_t(\'matter_ble_ext_dh_mode_comment\')}}</div><div ng-if="matterInclusion.controller.bleExtEnabled && matterInclusion.controller.bleExtWS">{{_t(\'matter_ble_ext_ws_mode_comment\')}}<div id=qrcode ng-if="matterInclusion.controller.controllerState == 1"><img width=255 height=255 ng-src={{qrcode}}> <a class="btn btn-default ng-scope" target=_blank ng-href={{blews_addr}}><span class="btn-name ng-binding" ng-bind="_t(\'matter_open_blews\')"></span> <i class="fas fa-external-link-alt"></i></a></div></div></div><div class="report-col report-ctrl"></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">5</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!matterInclusion.automatedConfiguration.process><h3>{{_t(\'automated_konfiguration\')}}</h3></div><bb-alert alert=matterInclusion.s2.alert></bb-alert><div class=inclusion-process ng-if=matterInclusion.automatedConfiguration.process><div class="alert alert-warning" ng-hide="matterInclusion.automatedConfiguration.progress > 99"><i class="fas fa-spinner fa-spin"></i><strong><span ng-if="breakTime !== null"> [{{breakTime | date: \'mm:ss\'}}]</span> {{_t(\'configuring_device\')}}</strong> <span>(#{{matterInclusion.automatedConfiguration.includedDevice.nodeId}})</span><br><span ng-if=matterInclusion.automatedConfiguration.includedDevice.retryCCInterviews>{{_t(\'retry_cc_interviews\')}}</span><div ng-if="breakTime === 0"><div>{{_t(\'interviewNotFinish\')}}</div><div>{{_t(\'showInterviewInExpert\')}} <a ng-href=../matterxpert/#/configuration/interview/{{matterInclusion.automatedConfiguration.includedDevice.nodeId}} target=_blank><i class="fas fa-external-link-alt"></i></a></div></div></div><div class=progress><div class=progress-bar style="min-height:40px;min-width: 2em; width: {{matterInclusion.automatedConfiguration.progress}}%;" ng-class="matterInclusion.automatedConfiguration.progress < 100 ? \'progress-bar-striped active\' : \'progress-bar-success\'">{{matterInclusion.automatedConfiguration.progress}}%</div></div></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=matterInclusion.automatedConfiguration.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">6</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!matterInclusion.manualConfiguration.process><h3>{{_t(\'manual_konfiguration\')}}</h3></div><div class=inclusion-process ng-if=matterInclusion.manualConfiguration.process><div class="alert alert-warning"><i class="fas fa-spinner fa-spin"></i> <strong ng-bind="_t(\'manual_config_prepare\')"></strong></div></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=matterInclusion.manualConfiguration.done></i></div></div></div></div><div class="fieldset submit-entry"><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button></div></div><div id=cancelConfigurationModal class=appmodal ng-if=matterInclusion.cancelModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click=cancelManualConfiguration(true)><i class="fas fa-times"></i></span><h3>{{cfg.app_name}}</h3></div><div class=appmodal-body>{{_t(\'configuration_cancel\')}}</div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click=cancelManualConfiguration(true)><i class="fas fa-sync text-success"></i> {{_t(\'reset_redo_inclusion\')}}</button> <button type=button class="btn btn-default" ng-click=cancelManualConfiguration(false)>{{_t(\'continue_anyway\')}} <i class="fas fa-arrow-right text-primary"></i></button></div></div></div><div class=device-logo ng-include="\'app/views/matter/matter_nav.html\'"></div></div>'),e.put("app/views/matter/matter_manage_id_new.html",'<div ng-controller=MatterManageIdController class=mobile-padding><bb-loader></bb-loader><div ng-show=formInput.show><h1>(#{{matterDevice.id}}) {{formInput.deviceName}}</h1><form name=form_network_config id=form_profile class="form form-page" ng-submit=updateAllDevices(formInput) novalidate><fieldset><label ng-bind="_t(\'rename_device\')"></label> <input name=device_name id=device_name class=form-control value={{formInput.deviceName}} ng-model=formInput.deviceName></fieldset><div ng-if="devices.length > 0"><fieldset><div class="form-group form-inline"><div class=input-group><input name=appstore_token id=appstore_token class=form-control placeholder="{{_t(\'lb_add_room\')}}" ng-model=formInput.newRoom> <span class="input-group-addon clickable" title="{{_t(\'add_new\')}}" ng-click=addRoom(formInput.newRoom)><i class="fas fa-plus text-success"></i></span></div></div><div class="form-group form-inline"><label class=display-block ng-bind="_t(\'devices_to_room\')"></label><div class=btn-group><button type=button class="btn btn-default" ng-click="expandNavi(\'devidDropDown\', $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></button><div class="app-dropdown app-dropdown-left" ng-if=naviExpanded.devidDropDown><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="v in rooms"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div></div></div></fieldset><div class="app-row app-row-widget app-row-element clearfix"><div class=widget-matter-wrap ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><div id=Widget_{{v.id}} class="widget-entry widget-entry-element widget-matter"><div class=widget-entry-in><div class=widget-img><img class="widget-preview-img img-circle" ng-src={{e.metrics.icon|getElementIcon:e:e.level}} alt=img></div><div class=widget-header>&nbsp;</div><div class=widget-content><div class=widget-title><div class=btn-group><span class="widget-room clickable" ng-click="expandNavi(\'devidRooms_\' + $index, $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></span><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'devidRooms\' + \'_\' + $index]"><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="v in rooms"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div><h3 class=clickable ng-click="expandNaviNotHide(\'devidTitle_\' + $index, $event)">{{formInput.elements[e.id].metrics.title|cutText:true:25}} <i class="fas fa-pencil-alt text-info"></i></h3><div class="app-dropdown app-dropdown-left" ng-if="naviExpandedNotHide[\'devidTitle\' + \'_\' + $index]"><div class=app-dropdown-content><div class=input-group><input name=title_{{$index}} id=title_{{$index}} class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}}> <span class="input-group-addon clickable" title="{{_t(\'lb_save\')}}" ng-click="expandNaviNotHide(\'devidTitle_\' + $index, $event, false)"><i class="fas fa-check text-success"></i></span></div></div></div></div></div><hr class=bottom-aligner><div class=widget-footer ng-switch=v.deviceType><input type=checkbox> Deactivate | <input type=checkbox> Hide</div></div></div></div><div id=Widget_{{v.id}}_2 class="widget-entry widget-entry-element widget-matter widget-matter-ctrl"><div class=widget-entry-in><div class="app-row app-row-report app-row-icons clearfix"><div class=report-entry><div class="report-col report-media">Default</div><div class="report-col report-body">&nbsp;</div><div class="report-col report-media">Custom</div><div class="report-col report-ctrl">&nbsp;</div></div><div class="report-entry clickable" ng-class="k === icons.selected ? \'bcg-success\' : \'\'" ng-repeat="(k,v) in [\'temperature.png\',\'luminosity.png\']"><div class="report-col report-media"><img class=report-img ng-src="{{cfg.img.icons + v}}" alt={{v}}></div><div class="report-col report-body"><i class="fas fa-long-arrow-alt-right"></i></div><div class="report-col report-media"><img class="report-img img-opacity-50" ng-src={{cfg.img.icons}}cancel.png ng-if=!icons.all.custom[k] alt=img></div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_update\')}}" class="btn btn-default"><i class="fas fa-pencil-alt text-primary"></i></button> <button type=button title="{{_t(\'lb_remove\')}}" class="btn btn-default"><i class="fas fa-ban text-danger"></i></button></div></div></div></div></div><div class=clearfix></div><div class="widget-matter-footer clearfix"><div class="widget-matter-50 form-inline"><div class=input-group><input class=form-control placeholder="Add tag"> <span class="input-group-addon clickable" title="{{_t(\'Addd\')}}"><i class="fas fa-plus text-success"></i></span></div></div><div class=widget-matter-50><strong>Tags:</strong> tag1, tag2, tag3, tag4</div></div></div></div><div class=clearfix></div><fieldset><div class="form-group form-inline matter-hidden-{{formInput.elements[e.id].permanently_hidden}}" ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><h3><img class=report-img-s ng-src={{e.iconPath}} alt=img> <span ng-bind=formInput.elements[e.id].metrics.title></span></h3><div class="form-group form-inline"><input name=title_{{$index}} id=title_{{$index}} class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}}> <span class=mobile-block><input type=checkbox name=permanently_hidden_{{$index}} id=permanently_hidden_{{$index}} ng-model=formInput.elements[e.id].permanently_hidden ng-checked=formInput.elements[e.id].permanently_hidden> <label for=permanently_hidden_{{$index}}>{{_t(\'lb_deactivate\')}}</label></span></div></div><div class="form-group form-inline"><a class="btn btn-primary" href=/matterxpert/#/configuration/configuration/{{matterDevice.id}} title="{{_t(\'hardware_konfiguration\')}}" ng-if="matterDevice.cfg.length > 0"><i class="fas fa-wrench"></i> <span class=btn-name ng-bind="_t(\'hardware_konfiguration\')"></span></a></div></fieldset></div><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" ng-if=!nohistory bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div><div class=device-logo ng-include="\'app/views/matter/matter_nav.html\'"></div></div>'),e.put("app/views/matter/matter_manage_id.html",'<div ng-controller=MatterManageIdController><bb-loader></bb-loader><div ng-show=formInput.show><h1>(#{{matterDevice.id}}) {{formInput.deviceName}}</h1><form name=form_network_config id=form_network_config class="form form-page" ng-submit=updateAllDevices(formInput) novalidate><fieldset><label ng-bind="_t(\'rename_device\')"></label> <input name=device_name id=device_name class=form-control value={{formInput.deviceName}} ng-model=formInput.deviceName></fieldset><div ng-if="devices.length > 0"><fieldset><div class="form-group form-inline"><div class=input-group><input name=appstore_token id=appstore_token class=form-control placeholder="{{_t(\'lb_add_room\')}}" ng-model=formInput.newRoom> <span class="input-group-addon clickable" title="{{_t(\'add_new\')}}" ng-click=addRoom(formInput.newRoom)><i class="fas fa-plus text-success"></i></span></div></div><div class="form-group form-inline"><label class=display-block ng-bind="_t(\'devices_to_room\')"></label><div class=btn-group><button type=button class="btn btn-default" ng-click="expandNavi(\'devidDropDown\', $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></button><div class="app-dropdown app-dropdown-left" ng-if=naviExpanded.devidDropDown><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="(_, v) in rooms | orderBy:\'title\'"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div></div></div></fieldset><fieldset><div class="form-group form-inline matter-hidden-{{formInput.elements[e.id].permanently_hidden}}" ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><ng-form name=subForm><h3><img class=report-img-s ng-src={{e.iconPath}} alt=img> <span ng-bind=formInput.elements[e.id].metrics.title></span></h3><div class="form-group form-inline is-inline"><input name=title id=title class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}} ng-blur="titleBlur = true" ng-required=true size=40> <span class=mobile-block><input type=checkbox name=permanently_hidden_{{$index}} id=permanently_hidden_{{$index}} ng-model=formInput.elements[e.id].permanently_hidden ng-checked=formInput.elements[e.id].permanently_hidden> <label for=permanently_hidden_{{$index}}>{{_t(\'lb_deactivate\')}}</label></span><bb-validator input-name=subForm.title.$error.required trans=\'_t("field_required")\' has-blur=titleBlur></bb-validator></div><div class=text-info><i class="fas fa-info-circle text-info"></i> Id: {{e.id}}</div></ng-form></div><div class="form-group form-inline"><a class="btn btn-primary" href=/matterxpert/#/configuration/configuration/{{matterDevice.id}} title="{{_t(\'hardware_konfiguration\')}}" ng-if="matterDevice.cfg.length > 0"><i class="fas fa-wrench"></i> <span class=btn-name ng-bind="_t(\'hardware_konfiguration\')"></span></a></div></fieldset></div><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" ng-if=!nohistory bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}" ng-disabled=form_network_config.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div><div class=device-logo ng-include="\'app/views/matter/matter_nav.html\'"></div></div>'),e.put("app/views/matter/matter_manage.html",'<div ng-controller=MatterManageController><bb-loader></bb-loader><div ng-include="\'app/views/matter/navi.html\'"></div><div class="app-row app-row-report app-row-matter clearfix"><div id=row_matter_{{v.id}} class=report-entry ng-repeat="v in devices.zw | orderBy:\'id\'"><div class="report-col report-body matter-devices"><div class=btn-group><span class="network-matter-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}}) </span><a href="" class=network-matter-title ng-click="expandNavi(\'accMatterManage_\' + v.id, $event)" ng-if="_.size(v.elements) > 0"><i class=fa ng-class="naviExpanded[\'accMatterManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}})</a><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accMatterManage_\' + v.id]"><ul><li class=matter-hidden-{{e.permanently_hidden}} ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:40}} <span class=matter-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-ctrl" ng-if=elementAccess(cfg.role_access.network)><div class=btn-group><a class="btn btn-default" href=#matter/devices/{{v.id}} title="{{_t(\'lb_configuration\')}}"><i class="fas fa-cog text-primary"></i></a></div></div></div></div><div class=device-logo ng-include="\'app/views/matter/matter_nav.html\'"></div></div>'),e.put("app/views/matter/matter_nav.html","<a href=#devices><img class=apps-image ng-src=app/img/logo-matter.svg alt=Logo></a>"),e.put("app/views/matter/matter_network.html",'<div ng-controller=MatterManageController><bb-loader></bb-loader><div ng-include="\'app/views/matter/navi.html\'"></div><div class="app-row app-row-report app-row-matter clearfix"><div id=row_matter_network_{{v.id}} class=report-entry ng-repeat="v in devices.zw | orderBy:\'title\':false" ng-class="v.isFailed ? \'bcg-danger\': \'\'" ng-if="_.size(v.messages) > 0"><div class="report-col report-body matter-network"><span class="network-matter-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}})</span><div class=btn-group ng-if="_.size(v.elements) > 0"><a href="" class=network-matter-title ng-click="expandNavi(\'accMatterManage_\' + v.id, $event)"><i class=fa ng-class="naviExpanded[\'accMatterManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}})</a><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accMatterManage_\' + v.id]"><ul><li class="clickable matter-hidden-{{e.permanently_hidden}}" ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:20}} <span class=matter-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-ctrl"><div ng-repeat="m in v.messages|unique:true"><div class=text-danger ng-if="m.type !== \'config\'">{{m.error}}</div><button class="btn btn-default" ng-if="!v.interviewDone  && !v.isFailed" ng-click="devices.find = v;handleModal(\'matterNetworkModal\', $event)"><i class="fas fa-sync text-primary"></i> <span class=btn-name>{{_t(\'configure_device\')}}</span></button></div></div></div></div><div class=device-logo ng-include="\'app/views/matter/matter_nav.html\'"></div><div id=matterNetworkModal class=appmodal ng-controller=MatterInterviewController ng-if="modalArr.matterNetworkModal && !_.isEmpty(devices.find)"><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click=cancelConfiguration($event)><i class="fas fa-times"></i></span><h3>{{devices.find.title|cutText:true:25}} (#{{devices.find.id}})</h3></div><div class=appmodal-body><div class="alert alert-warning" ng-hide="matterInterview.progress > 99"><i class="fas fa-spinner fa-spin"></i> <strong>{{_t(\'configuring_device\')}}</strong></div><div class=progress><div class=progress-bar style="min-height:40px;min-width: 2em; width: {{matterInterview.progress}}%;" ng-class="matterInterview.progress < 100 ? \'progress-bar-striped active\' : \'progress-bar-success\'">{{matterInterview.progress}}%</div></div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click=cancelConfiguration($event)><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button></div></div></div></div>'),e.put("app/views/matter/matter_products.html",'<div ng-controller=MatterVendorController><bb-loader></bb-loader><div class=row><div class=col-sm-6><h3><a ng-href=#/matter/vendors class="btn btn-default"><i class="fas fa-arrow-left"></i> </a><strong>{{matterVendors.products.pageTitle}}</strong> | {{_t(\'products\')}} <span class="badge text-primary">{{matterVendors.products.cnt}}</span> | {{_t(\'frequency\')}} <span class=badge>{{matterVendors.frequencyName}}</span> <em ng-class="matterProducts.cnt == 0 ? \'text-danger\': \'\' "></em></h3></div><div class=col-sm-6 ng-include="\'app/views/matter/matter_vendors_ctrl.html\'"></div></div><div class="alert alert-warning" ng-if=matterVendors.products.noSearch><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'no_search_results\',{__term__: "\\"" + matterVendors.products.noSearch + "\\""})}}</div><div class=list-panel ng-repeat="v in matterVendors.products.collection | orderBy:\'name\' track by $index"><figure class="img wh-64x64 clickable"><a ng-href=#matter/inclusion/{{v.id}}><img class=product-img ng-src="{{cfg.img.matterdevices + v.product_image}}" err-src="{{cfg.online_device_icon_url + v.remote_image}}" err-src2={{cfg.img.placeholder}} alt=img></a></figure><div class=body><div><a ng-href=#matter/inclusion/{{v.id}}>{{v.name}}</a><p class=s-hide><small>{{v.id}}</small></p></div></div><div class=control><a ng-href=#matter/inclusion/{{v.id}} class="btn btn-default" title="{{_t(\'lb_include_device\')}}"><i class="fas fa-plug text-primary"></i></a></div></div><div class="fieldset submit-entry_" ng-show="_.size(matterVendors.products.collection) > 10"><a ng-href=#/matter/vendors class="btn btn-default"><i class="fas fa-arrow-left"></i></a></div></div>'),e.put("app/views/matter/matter_vendors_autodetect.html",'<div class="tabs-wrap form-inline device-autodetect"><div class="btn-group btn-group-justified"><a class="btn btn-default btn-lg btn-block" href=#matter/commission title="{{_t(\'scan_qrcode\')}}"><i class="fas fa-qrcode text-success"></i> <span class=btn-name ng-bind="_t(\'scan_qrcode\')"></span></a></div></div>'),e.put("app/views/matter/matter_vendors_ctrl.html",'<div class="page-control form-inline" bind-class-on-scroll offset={{cfg.scroll_offset}} scroll-class=fix-me-top><form id=form_search_vendor class=input-group ng-submit="setFilter({q: autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{matterVendors.filter.q}} class=form-control placeholder="{{_t(\'lb_search\')}}" ng-model=autocomplete.term bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable" ng-click="setFilter({q: autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchProducts><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in autocomplete.results | orderBy:\'name\' track by $index"><span class=dropdown-col ng-click="setFilter({q: autocomplete.term})"><img class=report-img-s ng-src="{{cfg.img.matterdevices + v.product_image}}" err-src={{cfg.img.placeholder}} alt=img> <span class=aoutocomplete-title>{{v.name|cutText:true:30}}</span>&nbsp; <em class=item-cnt>({{v.brandname}})</em> </span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><a ng-href=#matter/inclusion/{{v.id}}><i class="fas fa-plug text-primary"></i></a></span></li></ul></div></form></div>'),e.put("app/views/matter/matter_vendors.html",'<div ng-controller=MatterVendorController><bb-loader></bb-loader><div class="text-center device-autodetect" ng-include="\'app/views/matter/matter_vendors_autodetect.html\'"></div><bb-alert alert=matterVendors.alert></bb-alert><div class=device-logo ng-include="\'app/views/matter/matter_nav.html\'"></div></div>'),e.put("app/views/matter/navi.html",'<div class="tabs-wrap form-inline" ng-if_=devices.show><div class="btn-group btn-group-justified btn-goup-tabs"><a class="btn btn-default" href=#matter/vendors title="{{_t(\'add_new\')}}"><i class="fas fa-plus"></i> <span class=btn-name>{{_t(\'add_new\')}}</span> </a><a class="btn btn-default" href=#matter/devices title="{{_t(\'lb_matter_devices\')}}" ng-class="routeMatch(\'/matter/devices\') ? \'active\' : \'\'"><i class="fas fa-wifi"></i> <span class=btn-name>{{_t(\'lb_matter_devices\')}}</span> </a><a class="btn btn-default" href=#matter/batteries title="{{_t(\'lb_battery_status\')}}" ng-class="routeMatch(\'/matter/batteries\') ? \'active\' : \'\'" ng-if=elementAccess(cfg.role_access.network)><i class="fas fa-battery-three-quarters"></i> <span class=btn-name>{{_t(\'lb_battery_status\')}}</span></a></div></div>'),e.put("app/views/mobile/mobile_add_modal.html",'<div id=qrCodeModal class=appmodal ng-controller=MobileAddController ng-if=modalArr.qrCodeModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleMobileModal(\'qrCodeModal\', $event)"><i class="fas fa-times"></i></span><h3>{{_t(\'add_mobile_device\')}}</h3></div><div class="appmodal-body text-center"><div class=fieldset><div class="form-group form-inline"><div class=img-wrap><div id=qrcode><img width=255 height=255 ng-src={{qrcode}}></div><button class="btn btn-default" ng-if="qrcode != \'\'" ng-click="addQRCode(\'update\')" ng-disabled="rowSpinner[\'update\']" title="{{_t(\'lb_update_qrcode\')}}"><bb-row-spinner spinner="rowSpinner[\'update\']" label="_t(\'lb_update_qrcode\')" icon="\'fa-qrcode\'"></bb-row-spinner></button> <button class="btn btn-default" ng-if="qrcode == \'\'" ng-click="addQRCode(\'create\')" ng-disabled="rowSpinner[\'create\']" title="{{_t(\'lb_create_qrcode\')}}"><bb-row-spinner spinner="rowSpinner[\'create\']" label="_t(\'lb_create_qrcode\')" icon="\'fa-qrcode\'"></bb-row-spinner></button></div></div></div><div class=fieldset><div class=entry-in><div class=entry-media><img ng-src=app/img/smartphone.png alt=Image></div><div class=entry-content><div class=inner><div class=mobile-app-icon><img ng-src=app/img/z-wave-me-mobile-app-icon.png alt="Z-Wave.Me Mobile App" src=app/img/z-wave-me-mobile-app-icon.png></div><div class=text><h1>Z-Wave.Me {{_t(\'app_name\')}}</h1><p>{{_t(\'app_description\')}}</p></div><div class=badges><a class=google href="https://play.google.com/store/apps/details?id=me.zwave.zway"><img ng-src=app/img/google-play-badge.png alt="Goole Play"> </a><a class=apple href=https://apps.apple.com/app/id1513858668 target=_blank><img ng-src=app/img/apple-store-badges.svg alt="Apple Store"></a></div></div></div></div></div></div></div></div>'),e.put("app/views/mobile/mobile_manage.html",'<div ng-controller=MobileManageController><bb-loader></bb-loader><h2>{{_t(\'mobile_app_support\')}}</h2><form class="form form-page" ng-submit=storeMobile(mobile.input)><div class=fieldset><section><h3>{{_t(\'mobile_device_list\')}}</h3><div class=fieldset><section class=accordion-wrap ng-repeat="v in mobile.input.apps track by $index"><h2 class="accordion-toggle ellipsis"><span class=no-toggle><span>{{v.title}},&nbsp;{{v.userName}}&nbsp; <em>{{_t(\'os\')}}:&nbsp;{{_t(v.os)}}, </em><em>{{_t(\'added_at\')}}:&nbsp;{{v.created_formated}}, </em><em>{{_t(\'last_seen\')}}:&nbsp;{{v.last_seen_formated}} </em></span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click="removeApp(v.token, v.app_profile)"><i class="fas fa-times text-danger"></i></span></h2><div class=accordion hidden></div></section></div><div class=fieldset><button type=button class="btn btn-default" ng-click="handleModal(\'qrCodeModal\', $event)" title="{{_t(\'add_new\')}}"><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'add_new\')"></span></button></div></section></div></form></div><div ng-include="\'app/views/mobile/mobile_add_modal.html\'"></div>'),e.put("app/views/mysettings/mysettings-sessions.html",'<div ng-if="id > 0"><h2><i class="fas fa-desktop fa-fw"></i> {{_t(\'lb_auth_token\')}}</h2><div class=form-page><div ng-if=!authTokens.length><p>{{_t(\'no_auth_token\')}}</p></div><table class=table-responsive ng-if=authTokens.length><thead><tr><th>{{_t(\'lb_auth_token_logout\')}}</th><th>{{_t(\'lb_auth_token_lifetime\')}}</th><th>{{_t(\'lb_auth_token_created\')}}</th><th>{{_t(\'lb_auth_token_expires\')}}</th><th>{{_t(\'lb_auth_token_user_agent\')}}</th><th>{{_t(\'lb_auth_token_last_seen\')}}</th><th>{{_t(\'lb_auth_token_ip\')}}</th><th>{{_t(\'lb_auth_token_token\')}}</th></tr></thead><tbody><tr ng-repeat-start="d in authTokens" ng-show=isMobile><td colspan=8 class=mobile-sessions><div class=mobile-session-title>{{d.ip}}</div><div class="btn btn-default" ng-click="removeAuthToken(input.id, d.sid, _t(\'lb_delete_confirm\'))" title="{{_t(\'lb_auth_token_logout\')}}"><i class="fas fa-times text-danger"></i></div><div class="btn btn-default" ng-if=d.expire ng-click="permanentAuthToken(input.id, d.sid, _t(\'lb_permanent_token_confirm\'))" title="{{_t(\'lb_auth_token_permanent\')}}"><i class="far fa-hourglass-half"></i></div><div class="btn btn-default" ng-if=!d.expire ng-disabled=true><i class="fas fa-infinity"></i></div><div class="btn btn-default more_info" ng-click="d.show = !d.show"><i class="far fa-info-circle"></i></div></td></tr><tr class="form-group form-inline" ng-repeat-end ng-if=authTokens.length ng-class="currentZWayAuthToken.substring(0,6) == d.sid.substring(0,6) ? \'bg-info\' : \'\'" ng-show="!!d.show || !isMobile"><td ng-hide=isMobile data-label="{{_t(\'lb_auth_token_logout\')}}"><a href="" class="btn btn-default btn-block" ng-click="removeAuthToken(input.id, d.sid, _t(\'lb_delete_confirm\'))" title="{{_t(\'lb_auth_token_logout\')}}"><i class="fas fa-times text-danger"></i></a></td><td ng-hide=isMobile data-label="{{_t(\'lb_auth_token_lifetime\')}}"><a href="" class="btn btn-default btn-block" ng-if=d.expire ng-click="permanentAuthToken(input.id, d.sid, _t(\'lb_permanent_token_confirm\'))" title="{{_t(\'lb_auth_token_permanent\')}}"><i class="far fa-hourglass-half"></i> </a><a href="" class="btn btn-default btn-block" ng-if=!d.expire ng-disabled=true><i class="fas fa-infinity"></i></a></td><td data-label="{{_t(\'lb_auth_token_created\')}}"><span ng-bind=d.date_str></span></td><td data-label="{{_t(\'lb_auth_token_expires\')}}"><span ng-bind=d.expire_str></span></td><td data-label="{{_t(\'lb_auth_token_user_agent\')}}"><span ng-bind=d.agent></span></td><td data-label="{{_t(\'lb_auth_token_last_seen\')}}"><span ng-bind=d.lastSeen_str></span></td><td data-label="{{_t(\'lb_auth_token_ip\')}}"><span ng-bind=d.ip></span></td><td data-label="{{_t(\'lb_auth_token_token\')}}"><span ng-bind=d.sid></span></td></tr><tr class="form-group form-inline" ng-if=authTokens.length><td colspan=8><a href="" class="btn btn-default btn-block" ng-click="removeAllAuthTokens(input.id, authTokens, _t(\'lb_delete_confirm_all\'))" title="{{_t(\'lb_auth_token_logout_all\')}}"><i class="btn fa fa-times text-danger"></i> {{_t(\'lb_auth_token_logout_all\')}}</a></td></tr></tbody></table></div></div><div ng-if="user.role <= 2 && cfg.route.os != \'ZWayMobileAppAndroid\' && cfg.route.os != \'ZWayMobileAppiOS\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-code fa-fw"></i> {{_t(\'lb_generate_auth_token\')}}</span></button></h2><div class=accordion hidden><div class="form-page full-width btn-block-spacing"><token-button title-text="_t(\'lb_generate_local_auth_token\')" type=local profile=input></token-button><token-button title-text="_t(\'lb_generate_global_auth_token\')" type=global profile=input></token-button></div></div></div><div ng-if="id > 0 && cfg.route.os != \'ZWayMobileAppAndroid\' && cfg.route.os != \'ZWayMobileAppiOS\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-code fa-fw"></i> {{_t(\'lb_auth_token_api\')}}</span></button></h2><div class=accordion hidden><div class=form-page><table class=table-responsive><thead><tr><th>{{_t(\'lb_auth_token_scope\')}}</th><th>{{_t(\'lb_auth_token_token\')}}</th></tr></thead><tbody><tr><td data-label="{{_t(\'lb_auth_token_scope\')}}"><span ng-if=!currentFullAuthTokenGlobal><i class="fas fa-home"></i> {{_t(\'lb_auth_token_local\')}}</span> <span ng-if=currentFullAuthTokenGlobal><i class="fas fa-globe"></i> {{_t(\'lb_auth_token_global\')}}</span></td><td data-label="{{_t(\'lb_auth_token_token\')}}"><span ng-bind=currentFullAuthToken></span></td></tr></tbody></table></div></div></div><section><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><i class="fas fa-key fa-fw"></i> {{_t(\'my_local_access\')}}</span></button></h2><div class=accordion hidden><form name=form_password id=form_password class="form form-inline form-page" ng-submit=changePassword(form_password,newPassword) novalidate><fieldset><p class=form-control-static><span ng-bind="_t(\'lb_login\')"></span>: <strong ng-bind=input.login></strong></p><div class="form-group last"><label class=isrequired>{{_t(\'lb_new_password\')}}:</label> <input name=password id=password type=password class=form-control ng-model=newPassword ng-blur="passwordBlur = true" ng-required=true ng-minlength=6><bb-validator input-name=form_password.password.$error.required trans=\'_t("field_required")\' has-blur=passwordBlur></bb-validator><bb-validator input-name=form_password.password.$error.minlength trans=\'_t("password_valid")\' has-blur=passwordBlur></bb-validator></div><div class="form-group last"><label class=isrequired>{{_t(\'confirm_password\')}}:</label> <input name=password_confirm id=password_confirm type=password class=form-control ng-blur="passwordConfirmBlur = true" ng-model=input.passwordConfirm bb-compare-to=password><bb-validator input-name=form_password.password_confirm.$error.compareto trans=\'_t("passwords_must_match")\' has-blur=passwordConfirmBlur></bb-validator></div></fieldset><fieldset class=submit-entry><button type=submit class="btn btn-submit" title="{{_t(\'lb_change_password\')}}" ng-disabled=form_password.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_change_password\')}}</span></button></fieldset></form></div></section>'),e.put("app/views/mysettings/mysettings.html",'<div ng-controller=MySettingsController><bb-loader></bb-loader><div ng-show=input><h2 ng-bind="_t(\'nav_myaccess\')"></h2><form name=form_profile id=form_profile class="form form-page" ng-submit=store(form_profile,input) novalidate><fieldset><div class="form-group form-inline"><label class=isrequired>{{_t(\'lb_name\')}}:</label> <input name=name id=name class=form-control placeholder="{{_t(\'lb_profile_name_insert\')}}" value={{input.name}} ng-model=input.name ng-blur="nameBlur = true" ng-required=true><bb-validator input-name=form_profile.name.$error.required trans=\'_t("field_required")\' has-blur=nameBlur></bb-validator></div><div class="form-group form-inline"><label>{{_t(\'lb_email\')}}:</label> <input name=email id=email type=email class=form-control value={{input.email}} ng-model=input.email ng-blur="emailBlur = true"><bb-validator input-name=form_profile.email.$error.email trans=\'_t("email_invalid")\' has-blur=emailBlur></bb-validator></div></fieldset><fieldset><div class="form-group form-inline"><div class="accordion-toggle inline"><button type=button aria-expanded=false bb-accordion><span>{{_t(\'lb_language\')}}: <img class="form-control-img profile-lang" ng-src=app/img/flags/{{input.lang}}.png title={{input.lang}}> <span class=uppercase>{{input.lang}}</span></span></button></div><div class=accordion hidden><img class="form-control-img profile-lang" title={{v}} ng-repeat="v in cfg.lang_list" ng-click="input.lang = v" ng-class="v == input.lang ? \'lang-active\':\'\'" ng-src=app/img/flags/{{v}}.png></div></div><div class="form-group form-inline"><label>{{_t(\'lb_interval\')}} ({{_t(\'miliseconds\')}}):</label> <input name=interval id=interval class=form-control placeholder="{{_t(\'lb_interval_placeholder\')}}" value={{input.interval}} ng-model=input.interval></div></fieldset><fieldset><div class="form-group form-inline" ng-if="cfg.route.os != \'ZWayMobileAppiOS\'"><label for=night_mode><input type=checkbox name=night_mode id=night_mode ng-model=input.night_mode ng-checked=input.night_mode ng-change="setNightMode(user.night_mode = !user.night_mode)"> <span>{{_t(\'night_mode\')}}</span></label></div><div class="form-group form-inline" ng-if="cfg.route.os == \'ZWayMobileAppiOS\'"><label class=switch><input type=checkbox name=night_mode id=night_mode ng-model=input.night_mode ng-checked=input.night_mode ng-change="setNightMode(user.night_mode = !user.night_mode)"> <span class=slider></span></label> <span class="switch-label ng-binding">{{_t(\'night_mode\')}}</span></div></fieldset><fieldset ng-if=elementAccess(cfg.role_access.expert_view)><div class="form-group form-inline is-inline"><label for=show_beta><input type=checkbox name=show_beta id=show_beta ng-model=input.beta ng-checked=input.beta> <span>{{_t(\'lb_show_beta\')}}</span></label></div><div class="form-group form-inline"><label for=expert_view><input type=checkbox name=expert_view id=expert_view ng-model=input.expert_view ng-checked=input.expert_view> <span>{{_t(\'lb_expert_app_view\')}}</span></label></div></fieldset><fieldset><div class="form-check form-check-inline"><label for=hide_all_device_events class=form-check-label><input class=form-check-input type=checkbox name=hide_all_device_events value=true id=hide_all_device_events ng-model=input.hide_all_device_events ng-checked=input.hide_all_device_events> <span>{{_t(\'lb_hide_device_events\')}}</span></label></div><div class="form-check form-check-inline"><label for=hide_system_events class=form-check-label><input class=form-check-input type=checkbox name=hide_system_events value=true id=hide_system_events ng-model=input.hide_system_events ng-checked=input.hide_system_events> <span>{{_t(\'lb_hide_system_events\')}}</span></label></div></fieldset><fieldset><h3><span ng-bind="_t(\'lb_hidden_events_device\')"></span></h3><div class="device-available-block assigned"><a href="" class="btn btn-default btn-tag" title={{d.metrics.title}} ng-repeat="d in devices" ng-if="input.hide_single_device_events.indexOf(d.id) > -1" ng-click=removeDevice(d.id)>{{d.metrics.title|cutText:true:20}} <i class="fas fa-times text-danger"></i></a></div></fieldset><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}" ng-disabled=form_profile.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form><div ng-controller=MySettingsSessionController ng-include="\'app/views/mysettings/mysettings-sessions.html\'"></div></div></div>'),e.put("app/views/notifications/notifications_assigned.html",'<section class=accordion-wrap ng-repeat="v in notifications.input.params.devices track by $index"><h2 class="accordion-toggle ellipsis"><span class="no-toggle text-danger" ng-if=!notifications.availableDevices[v.id]><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'device_removed\')}}&nbsp;({{v.id}}) </span><button type=button aria-expanded=false bb-accordion ng-if="v.deviceType!=\'toggleButton\'" ng-hide=!notifications.availableDevices[v.id]><span><img class=navi-img ng-src={{notifications.availableDevices[v.id].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{notifications.availableDevices[v.id].deviceName}}&nbsp;-&nbsp; <em>{{notifications.availableDevices[v.id].locationName}}</em></span></button> <span class=no-toggle ng-if="v.deviceType==\'toggleButton\'" ng-hide=!notifications.availableDevices[v.id]><span><img class=navi-img ng-src={{notifications.availableDevices[v.id].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{notifications.availableDevices[v.id].deviceName}}&nbsp;-&nbsp;<em>{{notifications.availableDevices[v.id].locationName}}</em> </span></span><span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=unassignDevice($index,v.id)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion ng-if="v.deviceType!=\'toggleButton\'" hidden><div class=form-group><label for=customMessage_{{v.id}}>{{_t(\'custom_message\')}}</label> <textarea class=form-control id=customMessage_{{v.id}} name=customMessage ng-model=v.msg></textarea><bb-help-text trans="_t(\'custom_message_help\')"></bb-help-text></div><div ng-if_="v.logLevel == \'notifications\'" ng-include="\'app/views/notifications/notifications_form_\' + v.deviceType + \'.html\'"></div></div></section>'),e.put("app/views/notifications/notifications_available.html",'<section class=accordion-wrap ng-repeat="r in notifications.rooms track by $index" ng-class="notifications.devicesInRoom[r.id] ? \'available-devices\' : \'ng-hide\'"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img>&nbsp;{{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title="{{d.deviceName + \' | \' + _t(d.deviceType)}}" ng-repeat="d in notifications.availableDevices" ng-if="d.location == r.id &&  notifications.assignedDevices.indexOf(d.id) === -1" ng-click=assignDevice(d)><img class=navi-img ng-src={{notifications.availableDevices[d.id].iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section>'),e.put("app/views/notifications/notifications_form_doorlock.html",'<label for=condition_{{$index}}>{{_t(\'lb_send_condition\')}}</label> <select id=condition_{{$index}} name=condition class="form-control form-inline" ng-model=v.level><option value={{o}} ng-repeat="o in notifications.cfg.doorlock.level" ng-selected="o == v.level">{{_t(o)}}</option></select><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/notifications/notifications_form_sensorBinary.html",'<label for=condition_{{$index}}>{{_t(\'lb_send_condition\')}}</label> <select id=condition_{{$index}} name=condition class="form-control form-inline" ng-model=v.level><option value={{o}} ng-repeat="o in notifications.cfg.sensorBinary.level" ng-selected="o == v.level">{{_t(o)}}</option></select><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/notifications/notifications_form_sensorMultilevel.html",'<label>{{_t(\'lb_send_condition\')}}</label> <select class=form-control ng-model=v.operator><option value={{o}} ng-repeat="o in notifications.cfg.sensorMultilevel.operator" ng-selected="o == v.operator">{{o}}</option></select> <input type=number class="form-control input-number" min={{notifications.cfg.sensorMultilevel.min}} max={{notifications.cfg.sensorMultilevel.max}} ng-model=v.level ng-if="v.operator != \'all\'"><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/notifications/notifications_form_sensorMultiline.html",'<label>{{_t(\'lb_send_condition\')}}</label> <select class=form-control ng-model=v.operator><option value={{o}} ng-repeat="o in notifications.cfg.sensorMultiline.operator" ng-selected="o == v.operator">{{o}}</option></select> <input type=number class="form-control input-number" min={{notifications.cfg.sensorMultiline.min}} max={{notifications.cfg.sensorMultiline.max}} ng-model=v.level ng-if="v.operator != \'all\'"><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/notifications/notifications_form_switchBinary.html",'<label for=condition_{{$index}}>{{_t(\'lb_send_condition\')}}</label> <select id=condition_{{$index}} name=condition class="form-control form-inline" ng-model=v.level><option value={{o}} ng-repeat="o in notifications.cfg.switchBinary.level" ng-selected="o == v.level">{{_t(o)}}</option></select><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/notifications/notifications_form_switchControl.html",'<label>{{_t(\'lb_send_condition\')}}</label> <select class=form-control ng-model=v.operator><option value={{o}} ng-repeat="o in notifications.cfg.switchControl.operator" ng-selected="o == v.operator">{{o}}</option></select> <input type=number class="form-control input-number" min={{notifications.cfg.switchControl.min}} max={{notifications.cfg.switchControl.max}} ng-model=v.level ng-if="v.operator != \'all\'"><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/notifications/notifications_form_switchMultilevel.html",'<label>{{_t(\'lb_send_condition\')}}</label> <select class=form-control ng-model=v.operator><option value={{o}} ng-repeat="o in notifications.cfg.switchMultilevel.operator" ng-selected="o == v.operator">{{o}}</option></select> <input type=number class="form-control input-number" min={{notifications.cfg.switchMultilevel.min}} max={{notifications.cfg.switchMultilevel.max}} ng-model=v.level ng-if="v.operator != \'all\'"><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/notifications/notifications_form_switchRGBW.html",'!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! <label>{{_t(\'lb_send_condition\')}}</label> <select id=condition_{{$index}} name=condition class=form-control ng-model=v.level ng-change="v.level = (v.level == \'rgb\' ? {r:0,g:0,b:0} : v.level)"><option value={{o}} ng-repeat="o in notifications.cfg.switchRGBW.level" ng-selected="o == v.level">{{o}}</option><option value=rgb ng-selected=_.isObject(v.level)>{{_t(\'colors\')}}</option></select> <span class=form-inline ng-hide="v.level.indexOf(v.level) > -1"><label>{{_t(\'red\')}} <input type=number class="form-control input-number" min={{notifications.cfg.switchRGBW.min}} max={{notifications.cfg.switchRGBW.max}} ng-model=v.level.r></label> <label>{{_t(\'green\')}} <input type=number class="form-control input-number" min={{notifications.cfg.switchRGBW.min}} max={{notifications.cfg.switchRGBW.max}} ng-model=v.level.g></label> <label>{{_t(\'blue\')}} <input type=number class="form-control input-number" min={{notifications.cfg.switchRGBW.min}} max={{notifications.cfg.switchRGBW.max}} ng-model=v.level.b></label><bb-help-text trans="_t(\'help_rgbw_value\')"></bb-help-text></span><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/notifications/notifications_form_thermostat.html",'<label>{{_t(\'lb_send_condition\')}}</label> <select class=form-control ng-model=v.operator><option value={{o}} ng-repeat="o in notifications.cfg.thermostat.operator" ng-selected="o == v.operator">{{o}}</option></select> <input type=number class="form-control input-number" min={{notifications.cfg.thermostat.min}} max={{notifications.cfg.thermostat.max}} ng-model=v.level ng-if="v.operator != \'all\'"><bb-help-text trans="_t(\'send_condition_help\')"></bb-help-text>'),e.put("app/views/pages/about.html","<div ng-controller=AboutController class=mobile-padding><h1>{{_t('nav_about')}}</h1><p>This User Interfaces allows to operate a Smart Home Network based on Z-Wave devices. It utilizes the software architecture \"Z_Way\", certified as Z-Wave Plus Controller under the Certification number ZC10-14110009.</p><p><em>All rights reserved by Z-Wave Me, c/o Alsenet S.A. Switzerland</em></p></div>"),e.put("app/views/rooms/config_rooms_id.html",'<div ng-controller=RoomConfigIdController><bb-loader></bb-loader><div ng-show=input><h2><span ng-bind="_t(\'lb_room\')"></span>: <span ng-show="input.id > 0">(#{{input.id}})</span> <span ng-bind=input.title></span></h2><form name=form_room id=form_room class="form form-page" ng-submit=store(form_room,input) novalidate><fieldset ng-include="\'app/views/rooms/room_form.html\'"></fieldset><legend>{{_t(\'lb_devices_in_room\')}}</legend><fieldset ng-include="\'app/views/rooms/room_assigned.html\'"></fieldset><legend>{{_t(\'lb_available_devices\')}}</legend><fieldset ng-include="\'app/views/rooms/room_available.html\'"></fieldset><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}" ng-disabled=form_room.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div></div>'),e.put("app/views/rooms/room_assigned.html",'<p><span class=inline><bb-help-text trans="_t(\'room_main_sensors\',{\'__cnt__\': input.main_sensors.length})" display=inline></bb-help-text></span><button type=button class="btn btn-default btn-small" ng-show=input.main_sensors.length ng-click=clearSensors(input)><i class="fas fa-sync"></i> {{_t(\'clear_sensors\')}}</button></p><div class="device-available-block assigned"><div class="btn-group btn-tag" ng-repeat="d in devices" ng-if="devicesAssigned.indexOf(d.id) > -1 && d.location !== 0"><a href="" class="btn btn-default" title={{d.metrics.title}} ng-click=removeDevice(d)>{{d.metrics.title|cutText:true:20}} <i class="fas fa-times text-danger" title="{{_t(\'lb_remove\')}}"></i> </a><label class="btn btn-default" for=assign_sensor_{{d.id}} ng-if="[\'sensorBinary\', \'sensorMultilevel\'].indexOf(d.deviceType) !== -1" ng-class="(input.main_sensors.length === 3 && input.main_sensors.indexOf(d.id) === -1) ? \'disabled\' : \'\'"><input type=checkbox value={{d.id}} name=assign_sensor id=assign_sensor_{{d.id}} ng-click="assignSensor($event, d)" ng-checked="input.main_sensors.indexOf(d.id) > -1"></label></div></div>'),e.put("app/views/rooms/room_available.1.html",'<div class=flextag><button class="btn_ btn-default_" title={{d.metrics.title}} ng-repeat="d in devices" ng-if="devicesAssigned.indexOf(d.id) === -1 || d.location === 0" ng-click=assignDevice(d)>{{d.metrics.title|cutText:true:20}}</button></div>'),e.put("app/views/rooms/room_available.html",'<div class=device-available-block><a href="" class="btn btn-default btn-tag" title={{d.metrics.title}} ng-repeat="d in devices" ng-if="devicesAssigned.indexOf(d.id) === -1 || d.location === 0" ng-click=assignDevice(d)>{{d.metrics.title|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div>'),e.put("app/views/rooms/room_form.html",'<div class="form-group form-inline"><label>{{_t(\'lb_name\')}}:</label> <input name=title id=title class=form-control placeholder="{{_t(\'lb_room_name\')}}" value={{input.title}} ng-model=input.title ng-blur="titleBlur = true" ng-required=true><bb-validator input-name=form_room.title.$error.required trans=\'_t("field_required")\' has-blur=titleBlur></bb-validator></div><div class=mobile-hide><h3><span ng-bind="_t(\'lb_select_image\')"></span></h3><div class=clearfix><div class=form-group><img class="room-img-upload form-control-img" ng-repeat="v in defaultImages" ng-click="selectRoomImage(v, \'default\')" ng-class="input.img_type == \'default\' && v == input.default_img ? \'control-active\':\'\'" ng-src=storage/img/rooms/{{v}} alt={{v}}><div class=room-image-delete-wrap><img class="room-img-upload form-control-img" ng-click="selectRoomImage(input.user_img, \'user\')" ng-class="input.img_type == \'user\' ? \'control-active\':\'\'" ng-src="{{userImageUrl + input.user_img}}" ng-if=input.user_img></div></div><div class=form-group ng-if=input.user_img><button type=button title="{{_t(\'image_delete_info\')}}" class="btn btn-danger" ng-click="deleteImage(input.user_img, _t(\'delete_confirm_label\',{__label__:input.user_img}))"><i class="fas fa-times"></i> {{ _t(\'image_delete_info\')}}</button></div></div><div class=form-group><input type=checkbox name=instances_expanded id=instances_expanded ng-model=input.show_background ng-checked=input.show_background> <label for=instances_expanded>{{_t(\'selected_image_background\')}}</label></div></div><div class="mobile-hide form-group"><input class=inputfile type=file name=file id=file{{v.id}} ng-disabled=input.user_img ng-click="icons.find = v" onchange=angular.element(this).scope().uploadFile(this.files)> <label for=file{{v.id}} class="btn btn-default" ng-disabled=input.user_img title="{{_t(\'lb_upload_image\')}}" ng-click="icons.find = v"><i class="fas fa-upload text-success"></i> {{_t(\'lb_upload_image\')}}</label><div ng-if=file.upload>{{file.upload|cutText:true:30}}</div><bb-help-text ng-if=input.user_img trans="_t(\'upload_file_info_disabled\')"></bb-help-text><bb-help-text trans="_t(\'upload_file_info\',{\'__size__\':file.info.maxSize,\'__extensions__\': file.info.extensions})"></bb-help-text><bb-help-text trans="_t(\'image_recommended_dimension\',{\'__dimension__\':cfg.upload.room.dimension})"></bb-help-text></div><div class=form-group><button type=button title="{{_t(\'delete_room\')}}" class="btn btn-danger" ng-click="deleteRoom(input.id, _t(\'delete_confirm_label\',{__label__:input.title}))"><i class="fas fa-times"></i> {{ _t(\'delete_room\')}}</button></div>'),e.put("app/views/rooms/rooms.html",'<div ng-controller=RoomController><bb-loader></bb-loader><div class="page-control form-inline"><a class="btn btn-default s-hide" href=#config-rooms/0 ng-if=elementAccess(cfg.role_access.config_rooms)><i class="fas fa-plus text-success"></i> <span class=btn-name>{{_t(\'lb_add_room\')}}</span></a><div class="input-group input-search s-hide"><input ng-model=q class="form-control form-search" value={{q}}> <span class=input-group-addon><i class="fas fa-search"></i></span></div></div><div class="rooms flexgallery longpress-{{longPressSent}}" ng-if=rooms.show ng-controller=ElementBaseController><div ng-repeat="v in rooms.all|orderBy:cfg.orderby.rooms[rooms.orderBy] | filter:q  track by $index" ng-hide="v.id === 0 && !rooms.cnt.devices[v.id]" ng-class="{\'inactive\': !rooms.cnt.devices[v.id]}"><figure on-long-press=onLongPress(v.id) on-touch-end=onTouchEnd() prevent-click=true long-press-mobile={{deviceDetector.isMobile()}}><a ng-href="#/rooms{{(rooms.cnt.devices[v.id] ? \'/\' + v.id : \'\')}}" ng-disabled=!rooms.cnt.devices[v.id] title="{{_t(\'lb_devices_room\')}} {{v.title}}"><img ng-src={{v.img_src}} alt=img></a><div class=header ng-class="{\'header__long__title\': !v.default_img , \'header__long__title-compression\': v.title.length > 7}"><span class=char ng-show=v.default_img>{{v.title_char}} </span><span class="char long__title" ng-hide=v.default_img>{{v.title}} </span><a class=settings href=#config-rooms/{{v.id}} title="{{_t(\'lb_update\')}}" ng-show="elementAccess(cfg.role_access.config_rooms) && v.id != 0"><i class="fas fa-cog"></i></a></div><figcaption ng-class="{\'s-hide\': !_.size(v.main_sensors)}"><div class=title>{{v.title|cutText:true:25}} <span class=item-cnt>({{rooms.cnt.devices[v.id]|| 0}})</span></div><div class=room-sensors ng-show=_.size(v.main_sensors)><div class=sensor title="{{device.metrics.title + \': \' + device.metrics.level + \' \' + device.metrics.scaleTitle}}" ng-show="v.main_sensors.indexOf(device.id) > -1" ng-repeat="device in dataHolder.devices.all"><div class=sensor-img><img class="sensor-preview-img img-circle" ng-src={{device.iconPath}} alt=img></div><div class=sensor-ctrl><span class=sensor-level>{{device.metrics.level}}</span> <span class=sensor-scale>{{device.metrics.scaleTitle|cutText:true:7}}</span> &nbsp;</div></div></div></figcaption></figure></div></div><div class="text-center l-hide" ng-show="elementAccess(cfg.role_access.config_rooms) && v.id != 0"><a class="btn btn-default btn" href=#config-rooms/0><i class="fas fa-plus text-success"></i> <span class=btn-name_>{{_t(\'lb_add_room\')}}</span></a></div></div>'),e.put("app/views/rss/rss.html",'<div ng-controller=RssController><bb-loader></bb-loader><h1>{{_t(\'news\')}}</h1><div class=list-panel ng-repeat="v in rss.all | orderBy: \'-pubDate\' track by $index" ng-class="rss.read.indexOf(v.id) > -1 ? \'read-true\':\'read-false\'" ng-click="readRss(v,\'rssModal\', $event)"><div class=body><span class="text-supp event-date">{{v.pubDate}}</span><h2 class=rss-title>{{v.title}}</h2><div class=rss-description>{{v.description | stripTags| cutText:true:256}}</div></div><div class=control><button class="btn btn-success" ng-class="rss.read.indexOf(v.id) > -1 ? \'btn-default\':\'btn-success\'" ng-click="readRss(v,\'rssModal\', $event)">{{_t(\'read_more\')}} <i class="fas fa-angle-right"></i></button></div></div><div id=rssModal class=appmodal ng-if=modalArr.rssModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'rssModal\', $event)"><i class="fas fa-times"></i></span><h3>{{_t(\'news\')}}</h3></div><div class=appmodal-body><div class=rss-title><span class="text-supp event-date">{{v.pubDate}}</span><h2>{{rss.find.title}}</h2></div><p class=rss-description ng-if=rss.find.description><span ng-bind-html="rss.find.description | toTrusted"></span></p><div class=rss-body ng-if=rss.find.content><span ng-bind-html="rss.find.content | toTrusted"></span></div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click="handleModal(\'rssModal\', $event)"><i class="fas fa-times text-danger"></i> {{_t(\'lb_close\')}}</button></div></div></div></div>'),e.put("app/views/simple.html",'ddfdfdfd<ul dnd-list=list><li ng-repeat="item in list" dnd-draggable=item dnd-moved="list.splice($index, 1)" dnd-effect-allowed=move dnd-selected="models.selected = item" ng-class="{\'selected\': models.selected === item}">{{item.label}}</li></ul>'),e.put("app/views/smartstart/navi.html","<div class=\"tabs-wrap form-inline\"><div class=\"btn-group btn-group-justified btn-goup-tabs\"><a class=\"btn btn-default\" title=\"{{_t('Scan QR code')}}\" href=#smartstartqr ng-class=\"routeMatch('/smartstartqr') ? 'active' : ''\"><i class=\"fas fa-qrcode\"></i> <span class=btn-name>{{_t('Scan QR code')}}</span> </a><a class=\"btn btn-default\" title=\"{{_t('device_key_list')}}\" href=#smartstartlist ng-class=\"routeMatch('/smartstartlist') ? 'active' : ''\"><i class=\"fas fa-list\"></i> <span class=btn-name>{{_t('device_key_list')}}</span></a></div></div>"),e.put("app/views/smartstart/smartstart_dsk.html",'<div ng-controller=SmartStartDskController><div ng-if="_.isEmpty(dsk.firmwareAlert) && !dataHolder.video.supported || dataHolder.manual_add"><div class="alert alert-warning" ng-if=!dataHolder.video.supported><i class="fas fa-info-circle"></i> {{_t(\'video_not_supported_smart_start\')}}</div><bb-alert alert=dsk.firmwareAlert></bb-alert><div class="entry add-dsk"><p class=content>{{_t(\'smartstart_enter_key\')}}</p><form name=form_dsk class=form-inline_ ng-submit=addDskProvisioningList()><div class="form-group dsk-input-group" bb-dsk-navigate><span ng-repeat="_ in [].constructor(8) track by $index"><input id="dsk_{{$index + 1}}" maxlength=5 class="form-control dsk-number" ng-model="dsk.input[\'dsk_\' + ($index + 1)]" ng-paste="fillInput($event, $index)" ng-change="fixLength($index + 1)" ng-trim=false></span></div><div class=form-group><button class="btn btn-block_" ng-disabled=registerDisabled ng-class="registerDisabled ? \'btn-default\': \'btn-success\'"><bb-row-spinner spinner=rowSpinner[cfg.api.add_dsk] label="_t(\'Register\')" icon="\'fa-plus\'"></bb-row-spinner></button></div></form></div><div class="entry list" ng-if="dsk.state == \'success-register\'"><div class="alert alert-success"><i class="fas fa-check"></i> {{_t(\'smartstart_enter_key_success\')}}<div>{{dsk.response}}</div></div></div><div class="entry list" ng-if="dsk.state == \'error-register\'"><div class="alert alert-danger"><i class="fa fa-times" style="color: red"></i> {{_t(\'smartstart_enter_key_error\')}}<div>{{dsk.response}}</div></div></div></div><div class=entry ng-if="!dataHolder.video.supported && !isMobile"><div class=entry-in><div class=entry-media><img ng-src=app/img/smartphone.png alt=Image></div><div class=entry-content><div class=inner><div class=mobile-app-icon><img style="width: 50%;" alt="Z-Wave.Me Mobile App" src=app/img/small_logo.svg></div><div class=text><h1>{{_t(\'app_name\')}}</h1><p>{{_t(\'app_description\')}}</p></div><div class=badges><a class=google href="https://play.google.com/store/apps/details?id=me.zwave.zway"><img ng-src=app/img/google-play-badge.png alt="Goole Play"></a><a class=apple href=https://apps.apple.com/app/id1513858668 target=_blank><img ng-src=app/img/apple-store-badges.svg alt="Apple Store"></a></div></div></div></div></div></div>'),e.put("app/views/smartstart/smartstart_list_modal.html",'<div id=dskModal class=appmodal ng-if=modalArr.dskModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click="handleModal(\'dskModal\', $event)"><i class="fas fa-times"></i></span><h3>{{cfg.app_name}}</h3></div><div class=appmodal-body><form name=form_dsk_update><div class=grid><div class=col-6><dl class=inline-dl><dt>{{_t(\'device_name\')}}</dt><dd><div class="form-group form-inline is-inline"><span ng-hide=showGivenNameForm>{{collection.find.givenName}}</span> <input class=form-control ng-show=showGivenNameForm ng-model=collection.find.givenName name=given_name> <i class="fas clickable" ng-click="showGivenNameForm = !showGivenNameForm" ng-class="showGivenNameForm ? \'fa-times text-danger\' : \'fa-pencil-alt text-primary\'"></i></div></dd><dt>{{_t(\'lb_room\')}}</dt><dd><div class="form-group form-inline is-inline" ng-if=elementAccess(cfg.role_access.admin)><div class="btn-group btn-goup-block btn-goup-1"><button type=button class="btn btn-default" ng-click="expandNavi(\'elidDropDown\', $event)">{{locations[collection.find.location].title|cutText:true:20}} <i class="fas fa-caret-down"></i></button><div class="app-dropdown app-dropdown-left dropdown-100" ng-if=naviExpanded.elidDropDown><ul><li class=clickable ng-class="collection.find.location == v.id ? \'active\' : \'\'" ng-click="collection.find.location = v.id" ng-repeat="v in locations"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="collection.find.location == v.id"></i></a></li></ul></div></div></div></dd><dt>{{_t(\'brand_name\')}}</dt><dd>{{collection.find.added.brand_name}}</dd><dt>{{_t(\'product_name\')}}</dt><dd>{{collection.find.added.product}}</dd><dt>{{_t(\'device_type\')}}</dt><dd>{{collection.find.added.device_type}}</dd><dt>{{_t(\'state\')}}</dt><dd><span class="label label-primary" ng-class="collection.find.state == \'included\' ? \'label-primary\':\'label-info\'"><i ng-class="collection.find.state == \'included\' ? \'fas fa-check\':\'fas fa-clock\'"></i> {{collection.find.state}}</span></dd><dt>{{_t(\'registered_at\')}}</dt><dd>{{collection.find.added.registred_at}}</dd><dt>{{_t(\'dsk\')}}</dt><dd class=clickable ng-click="showDskForm = !showDskForm">{{collection.find.DSK}} <i class=fa ng-class="showDskForm ? \'fa-times text-danger\' : \'fa-pencil-alt text-primary\'"></i></dd></dl></div><div class="col-6 product-image-wrap"><div class=product-image><img ng-if="collection.find.added.product_image != \'\'" ng-src="{{cfg.img.zwavedevices + collection.find.added.product_image}}" err-src="{{cfg.online_device_icon_url + collection.find.added.product_image_remote}}" err-src2={{collection.find.added.product_image_remote}} err-src3={{cfg.img.placeholder}} alt={{collection.find.added.product}}> <img ng-if="collection.find.added.product_image == \'\'" ng-src="{{cfg.img.zwavevendors + collection.find.added.brand_image}}" err-src={{cfg.img.placeholder}} alt={{collection.find.added.brand_image}}></div></div><div class="form-group dsk-input-group" ng-show=showDskForm bb-dsk-navigate><span><input id=dsk_1 maxlength=5 class="form-control dsk-number" ng-model=collection.find.added.dskArray[0]> </span><span><input id=dsk_2 maxlength=5 class="form-control dsk-number" ng-model=collection.find.added.dskArray[1]> </span><span><input id=dsk_3 maxlength=5 class="form-control dsk-number" ng-model=collection.find.added.dskArray[2]> </span><span><input id=dsk_4 maxlength=5 class="form-control dsk-number" ng-model=collection.find.added.dskArray[3]> </span><span><input id=dsk_5 maxlength=5 class="form-control dsk-number" ng-model=collection.find.added.dskArray[4]> </span><span><input id=dsk_6 maxlength=5 class="form-control dsk-number" ng-model=collection.find.added.dskArray[5]> </span><span><input id=dsk_7 maxlength=5 class="form-control dsk-number" ng-model=collection.find.added.dskArray[6]> </span><span><input id=dsk_8 maxlength=5 class="form-control dsk-number" ng-model=collection.find.added.dskArray[7]></span></div></div></form></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click="closeModal(collection.find, \'dskModal\', $event)"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=button class="btn btn-submit" ng-click="updateDsk(collection.find);handleModal(\'dskModal\', $event)"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></div></div></div>'),e.put("app/views/smartstart/smartstart_list.html",'<div class=smart-start ng-controller=SmartStartListController><bb-loader></bb-loader><div class=container><div ng-include="\'app/views/zwave/navi.html\'"></div><div class="alert alert-warning" ng-if="hasNotIncludedDevices && collection.all.length"><bb-help-text trans="_t(\'smartStartRangeHelp\')"></bb-help-text><bb-help-text trans="_t(\'smartStartHelp\')"></bb-help-text></div><div class=control__buttons ng-controller=ZwaveInclusionController><a class="btn btn-default btn-lg" href=#smartstart title="{{_t(\'scan_qrcode\')}}"><i class="fas fa-qrcode text-success"></i> <span class=btn-name ng-bind="_t(\'scan_qrcode\')"></span> </a><button class="btn btn-default btn-lg" ng-show=!smartStartEnabled ng-click=enableSmartStart() title="{{_t(\'enable_smart_start\')}}"><i class="fas fa-play-circle text-success"></i><span class=btn-name> {{_t(\'enable_smart_start\')}}</span></button> <button class="btn btn-default btn-lg" ng-show=smartStartEnabled ng-click=disableSmartStart() title="{{_t(\'disable_smart_start\')}}"><i class="fas fa-stop-circle text-warning"></i><span class=btn-name> {{_t(\'disable_smart_start\')}}</span></button> <button class="btn btn-default btn-lg" ng-click=refreshDSKList() title="{{_t(\'reload\')}}"><i class="fas fa-sync text-warning"></i><span class=btn-name> {{_t(\'reload\')}}</span></button><z-wave-controller-mode-switcher></z-wave-controller-mode-switcher></div><div id=table_mobile><table class=table><tbody ng-repeat="v in collection.all track by $index"><tr><td data-title=""><span class=text-supp>{{v.added.registred_at}}</span></td><td class=td-action data-title=""><div class=btn-group><button class="btn btn-default" title="{{_t(\'lb_update\')}}" ng-click="setData(v);handleModal(\'dskModal\', $event)"><i class="fas fa-edit text-primary"></i></button> <button class="btn btn-default" title="{{_t(\'dialog_remove\')}}" ng-click="removeDsk(v,_t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></td></tr><tr><td data-title=DSK colspan=2><div class=state_text ng-show=v.isSmartStart><span class="label label-primary" ng-class="v.added.state == \'included\' ? \'label-primary\':\'label-warning\'"><i ng-class="v.added.state == \'included\' ? \'fas fa-check\':\'fas fa-clock\'"></i> <span class=btn-name>{{v.added.state}}</span></span></div><div class=infowindow-wrap ng-show=!v.isSmartStart><i class="fas fa-question-circle fa-lg text-info clickable" ng-click="expandNavi(\'dskInfowindow_\' + $index, $event)"></i><div class="infowindow top" ng-if="naviExpanded[\'dskInfowindow\' + \'_\' + $index]"><div class="infowindow-in text-center"><p>This device does not support SmartStart.</p><a href=#zwave/vendors class="btn btn-primary">Add device manually</a></div></div></div><dl class=inline-dl><dt>{{_t(\'device_name\')}}</dt><dd>{{v.givenName}}</dd><dt>{{_t(\'lb_room\')}}</dt><dd>{{locations[v.location].title|cutText:true:20}}</dd><dt>{{_t(\'brand_name\')}}</dt><dd>{{v.added.brand_name}}</dd><dt>{{_t(\'product_name\')}}</dt><dd>{{v.added.product}}</dd><dt>{{_t(\'device_type\')}}</dt><dd>{{v.added.device_type}}</dd><dt>{{_t(\'added_at\')}}</dt><dd>{{v.added.added_at}}</dd></dl></td></tr></tbody></table></div><div id=table_desktop><table class=table><thead><tr><th>{{_t(\'registered_at\')}}</th><th>{{_t(\'s2pin\')}}</th><th>{{_t(\'device_name\')}}</th><th>{{_t(\'lb_room\')}}</th><th>{{_t(\'brand_name\')}}</th><th>{{_t(\'device_type\')}}</th><th>{{_t(\'product_name\')}}</th><th>{{_t(\'state\')}}</th><th>{{_t(\'added_at\')}}</th><th>{{_t(\'btn_lr_classic\')}} / {{_t(\'btn_lr_long_range\')}}</th><th></th></tr></thead><tbody><tr ng-repeat="v in collection.all track by $index" ng-class="{\'last-added-device\': collection.lastRegistered === v.timestamp}"><td data-title=""><span class=text-supp>{{v.added.registred_at}}</span></td><td><span>{{v.added.s2pin}}</span></td><td data-title=given_name><span>{{v.givenName? v.givenName :\'-\'}}</span></td><td data-title=location><span>{{locations[v.location].title}}</span></td><td data-title=brand><span>{{v.added.brand_name}}</span></td><td data-title=device_type><span>{{v.added.device_type}}</span></td><td data-title=product><span>{{v.added.product}}</span></td><td class=text-center data-title=""><div ng-if=v.isValid><span ng-if="v.added.state == \'included\'" class="label label-primary"><i class="fas fa-check"></i> {{v.added.state}} </span><span ng-if="v.added.state == \'not included\'" class="label label-info"><i class="fas fa-clock"></i> {{v.added.state}}</span></div><div ng-if=!v.isValid><span class="label label-danger"><i class="fas fa-times"></i> {{_t(\'invalid\')}}</span></div></td><td data-title=added_at><span class=text-supp>{{v.added.added_at}}</span></td><td><span class=text-supp><i class=far ng-class="{\'fa-spider-web\': v.classicalSupported}"></i> / <i class=far ng-class="{\'fas fa-asterisk\': v.longRangeSupported}"></i></span></td><td class=td-action data-title=""><div class=btn-group><button class="btn btn-default" title="{{_t(\'lb_update\')}}" ng-click="setData(v);handleModal(\'dskModal\', $event)"><i class="fas fa-edit text-primary"></i></button> <a class="btn btn-default" ng-if="v.added.state === \'included\'" href=#/zwave/devices/{{v.nodeId}} title="{{_t(\'lb_configuration\')}}"><i class="fas fa-cog text-primary"></i> </a><button ng-if="v.added.state !== \'included\'" class="btn btn-default" title="{{_t(\'btn_remove\')}}" ng-click="v.added.state === \'included\'? removeDsk(v,_t(\'lb_delete_confirm_included_dsk\')) : removeDsk(v,_t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></td></tr></tbody></table></div><bb-alert alert=collection.alert></bb-alert></div><div ng-include="\'app/views/smartstart/smartstart_list_modal.html\'"></div></div>'),e.put("app/views/smartstart/smartstart_qr.html",'<div ng-controller=SmartStartQrController><bb-alert alert=dataHolder.video.alert></bb-alert><div class="entry scan-qrcode" ng-if="dataHolder.video.supported && qrcode.state !== \'success-register\'"><div class=video-wrapper><video id=video width=300 height=200></video></div><canvas id=qr-canvas width=480 height=640></canvas><p class=content>{{_t(\'qr_code_desc\')}}</p><button class="btn btn-success" ng-click="dataHolder.manual_add = !dataHolder.manual_add">{{_t(\'manual_add\')}}</button></div><div class="entry list" ng-if="qrcode.state == \'success-register\'"><div class="alert alert-success"><i class="fas fa-check"></i> {{_t(\'smartstart_enter_key_success\')}}<div>{{qrcode.response}}</div></div></div></div>'),e.put("app/views/smartstart/smartstart.html","<div class=smart-start ng-controller=SmartStartBaseController><div class=container><div ng-include=\"'app/views/smartstart/smartstart_qr.html'\"></div><div ng-include=\"'app/views/smartstart/smartstart_dsk.html'\"></div></div></div>"),e.put("app/views/speech_assistants/alexa.html",'<div ng-controller=AlexaManageController><bb-loader></bb-loader><h2>{{_t(\'lb_alexa\')}}</h2><form class="form form-page" ng-submit=store()><fieldset><div class="form-group form-inline ng-scope"><label>{{_t("assign_rooms")}}</label><div class=input-group><input id=then_delay type=checkbox ng-model=alexa.instance.params.assign_room></div><bb-help-text trans="_t(\'assign_room_info\')"></bb-help-text></div></fieldset><div ng-if="_.size(alexa.devices.active) > 0"><legend>{{_t(\'activated_devices\')}}</legend><fieldset><section class=accordion-wrap ng-repeat="d in alexa.devices.active"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <em>{{d.locationName}}&nbsp;</em> <em ng-if="alexa.instance.params.assign_room && d.location != 0">({{_t(\'lb_call_name\')}}:&nbsp{{d.callName}}&nbsp{{d.locationName}})&nbsp; </em><em ng-if="!alexa.instance.params.assign_room || (alexa.instance.params.assign_room && d.location == 0)">({{_t(\'lb_call_name\')}}:&nbsp{{d.callName}})</em></span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=deactivateDevice(d.deviceId)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion hidden><div class="form-group form-inline"><label>{{_t(\'lb_call_name\')}}</label> <input class=form-control ng-model=d.callName placeholder="{{_t(\'lb_add_call_name\')}}" required><bb-help-text trans="_t(\'call_name_info\')"></bb-help-text></div></div></section></fieldset></div><legend>{{_t(\'lb_available_devices\')}}</legend><fieldset><section class="accordion-wrap available-devices" ng-repeat="r in alexa.rooms track by $index"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title_={{d.deviceName}} ng-repeat="d in alexa.devices.available track by $index" ng-if="d.location == r.id && !alexa.devices.active[d.deviceId]" ng-click=activateDevice(d)><img class=navi-img ng-src="{{ alexa.devices.available[d.deviceId].iconPath}}" err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></fieldset><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit title="{{_t(\'lb_save\')}}" class="btn btn-submit"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div>'),e.put("app/views/speech_assistants/google_home.html",'<div ng-controller=GoogleHomeManageController><bb-loader></bb-loader><h2>{{_t(\'lb_google_home\')}}</h2><form class="form form-page" ng-submit=store()><div ng-if="_.size(google_home.devices.active) > 0"><legend>{{_t(\'activated_devices\')}}</legend><fieldset><section class=accordion-wrap ng-repeat="d in google_home.devices.active"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span class=accordion-title><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img> {{d.deviceName}}&nbsp; <em>{{d.locationName}}&nbsp;</em> <em ng-if="google_home.instance.params.assign_room && d.location != 0">({{_t(\'lb_call_name\')}}:&nbsp{{d.callName}}&nbsp{{d.locationName}})&nbsp; </em><em ng-if="!google_home.instance.params.assign_room || (google_home.instance.params.assign_room && d.location == 0)">({{_t(\'lb_call_name\')}}:&nbsp{{d.callName}})</em></span></button> <span class="btn btn-text" title="{{_t(\'lb_remove\')}}" ng-click=deactivateDevice(d.deviceId)><i class="fas fa-times text-danger"></i></span></h2><div class=accordion hidden><div class="form-group form-inline"><label>{{_t(\'lb_call_name\')}}</label> <input class=form-control ng-model=d.callName placeholder="{{_t(\'lb_add_call_name\')}}" required><bb-help-text trans="_t(\'call_name_info\')"></bb-help-text></div></div></section></fieldset></div><legend>{{_t(\'lb_available_devices\')}}</legend><fieldset><section class="accordion-wrap available-devices" ng-repeat="r in google_home.rooms track by $index"><h2 class="accordion-toggle chevron"><button type=button aria-expanded=false bb-accordion><span><img class=navi-img ng-src={{r.img_src}} alt=img> {{r.title}}</span></button></h2><div class=accordion hidden><a href="" class="btn btn-default btn-tag" title_={{d.deviceName}} ng-repeat="d in google_home.devices.available track by $index" ng-if="d.location == r.id && !google_home.devices.active[d.deviceId]" ng-click=activateDevice(d)><img class=navi-img ng-src={{d.iconPath}} err-src={{cfg.img.placeholder}} alt=img>&nbsp;{{d.deviceName|cutText:true:20}} <i class="fas fa-plus text-success" title="{{_t(\'add_new\')}}"></i></a></div></section></fieldset><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit title="{{_t(\'lb_save\')}}" class="btn btn-submit"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div>'),e.put("app/views/speech_assistants/nav.html","<a href=#devices><img class=apps-image ng-src=app/img/logo-speech-assistants.svg alt=Logo></a>"),e.put("app/views/speech_assistants/navi.html","<div class=\"tabs-wrap form-inline\" ng-if_=devices.show><div class=\"btn-group btn-group-justified btn-goup-tabs\"><a class=\"btn btn-default\" href=#speech_assistants/devices title=\"{{_t('add_new')}}\" ng-class=\"routeMatch('/speech_assistants/devices') ? 'active' : ''\"><i class=\"fas fa-plus\"></i> <span class=btn-name>{{_t('add_new')}}</span> </a><a class=\"btn btn-default\" href=#speech_assistants/manage title=\"{{_t('nav_devices')}}\" ng-class=\"routeMatch('/speech_assistants/manage') ? 'active' : ''\"><i class=\"fas fa-microphone\"></i> <span class=btn-name>{{_t('nav_devices')}}</span></a></div></div>"),e.put("app/views/speech_assistants/setup_alexa.html",'<div ng-controller=AlexaSetupController><div class=form-page><div class=fieldset><ul class=wizard><li ng-repeat="v in steps" class=clickable ng-class="{\'active\' : $index + 1 == currentStep}" ng-model=currentStep ng-click="setStep($index + 1)">{{$index + 1}}</li></ul></div><div ng-switch=currentStep class=wizard-tabs><div class="fieldset tab" ng-switch-when=1><div class=content><h1>{{_t(\'alexa_step1_h\')}}</h1><div class=text><p>{{_t(\'alexa_step1_t\')}}</p></div><div class=image><a href="" ng-click="setImagePath(\'app/img/alexa/amazon_echo.jpg\');handleModal(\'imageModal\', $event)"><img src=app/img/alexa/amazon_echo.jpg></a></div></div></div><div class="fieldset tab" ng-switch-when=2><div class=content><h1>{{_t(\'alexa_step2_h\')}}</h1><div class=text>{{_t(\'alexa_step2_t\')}}<ul><li><a href="https://www.amazon.com/gp/help/customer/display.html/ref=hp_bc_nav?ie=UTF8&nodeId=200127470" target=_blank><b>{{_t(\'alexa_step2_info_1\')}}</b></a></li><li><a href="http://www.amazon.com/gp/help/customer/display.html?nodeId=201602060" taget=_blank><b>{{_t(\'alexa_step2_info_2\')}}</b></a></li><li><a href=https://alexa.amazon.com><b>{{_t(\'alexa_step2_info_3\')}}</b></a></li></ul></div></div></div><div class="fieldset tab" ng-switch-when=3><div class=content><h1>{{_t(\'alexa_step3_h\')}}</h1><div class=text ng-bind-html="_t(\'alexa_step3_t\',{__boxtype__: boxtype}) | toTrusted"></div><div class=image><a href="" ng-click="setImagePath(\'app/img/alexa/alexa_login.png\');handleModal(\'imageModal\', $event)"><img src=app/img/alexa/alexa_login.png></a></div></div></div><div class="fieldset tab" ng-switch-when=4><div class=content><h1>{{_t(\'alexa_step4_h\', {__boxtype__: boxtype})}}</h1><div class=text><ol><li>{{_t(\'alexa_step4_l1\')}}</li><li>{{_t(\'alexa_step4_l2\', {__boxtype__: boxtype})}}</li><li>{{_t(\'alexa_step4_l3\', {__boxtype__: boxtype})}}</li></ol></div><div class=image><a href="" ng-click="setImagePath(\'app/img/alexa/found_skill.png\');handleModal(\'imageModal\', $event)"><img src=app/img/alexa/found_skill.png></a></div></div></div><div class="fieldset tab" ng-switch-when=5><div class=content><h1>{{_t(\'alexa_step5_h\', {__boxtype__: boxtype})}}</h1><div class=text>{{_t(\'alexa_step5_t\')}}</div><div class=image><a href="" ng-click="setImagePath(\'app/img/alexa/activate_skill.png\');handleModal(\'imageModal\', $event)"><img src=app/img/alexa/activate_skill.png></a></div></div></div><div class="fieldset tab" ng-switch-when=6><div class=content><h1>{{_t(\'alexa_step6_h\', {__boxtype__: boxtype})}}</h1><div class=text>{{_t(\'alexa_step6_t\')}}</div><div class=image><a href="" ng-click="setImagePath(\'app/img/alexa/oauth_login.png\');handleModal(\'imageModal\', $event)"><img src=app/img/alexa/oauth_login.png></a></div></div></div><div class="fieldset tab" ng-switch-when=7><div class=content><h1>{{_t(\'alexa_step7_h\')}}</h1><div class=text ng-bind-html="_t(\'alexa_step7_t\') | toTrusted"></div><div class=image><a href="" ng-click="setImagePath(\'app/img/alexa/manage_alexa.png\');handleModal(\'imageModal\', $event)"><img src=app/img/alexa/manage_alexa.png></a></div></div></div><div class="fieldset tab" ng-switch-when=8><div class=content><h1>{{_t(\'alexa_step8_h\')}}</h1><div class=text ng-bind-html="_t(\'alexa_step8_t\') | toTrusted"></div></div></div></div><div class="fieldset wizard-controls"><button class="btn btn-submit prev" title="{{_t(\'lb_prev\')}}" ng-hide="currentStep == 1" ng-click=prevNext(-1)><i class="fas fa-chevron-left"></i> {{_t(\'lb_prev\')}}</button> <button type=button title="{{_t(\'lb_cancel\')}}" class="btn btn-default cancel" ng-if="currentStep !== steps.length" bb-go-back=""><i class="fas fa-reply"></i> {{_t(\'lb_cancel\')}}</button> <button type=button title="{{_t(\'ok\')}}" class="btn btn-default cancel" ng-if="currentStep == steps.length" bb-go-back="">{{_t(\'ok\')}}</button> <button class="btn btn-submit next" title="{{_t(\'lb_next\')}}" ng-hide="currentStep == steps.length" ng-click=prevNext(1)>{{_t(\'lb_next\')}} <i class="fas fa-chevron-right"></i></button></div></div><div id=imageModal class="appmodal image" ng-if=modalArr.imageModal><span class=appmodal-close ng-click="handleModal(\'imageModal\', $event)"><i class="fas fa-times"></i></span><div class=appmodal-in><img ng-src={{myImage}} alt=Image></div></div></div>'),e.put("app/views/speech_assistants/setup_google_home.html",'<div ng-controller=GoogleHomeSetupController><div class=form-page><div class=fieldset><ul class=wizard><li ng-repeat="v in steps" class=clickable ng-class="{\'active\' : $index + 1 == currentStep}" ng-model=currentStep ng-click="setStep($index + 1)">{{$index + 1}}</li></ul></div><div ng-switch=currentStep class=wizard-tabs><div class="fieldset tab" ng-switch-when=1><div class=content><h1>Connect Google Home with your Z-Way Smart Home</h1><div class=text><p>Z-Way Smart Home can connect with Google Home and Google Assistants to devices to give you command of your home through voice controls. This guide help you to setup the Google Home and give you additional infomrations for configuring your devices.</p></div><div class=image><a href="" ng-click="setImagePath(\'app/img/google_home/google_home.jpg\');handleModal(\'imageModal\', $event)"><img src=app/img/google_home/google_home.jpg></a></div></div></div><div class="fieldset tab" ng-switch-when=2><div class=content><h1>Get started</h1><div class=text>Before we can start, please setup your Google Home device.<ol><li>Plug the power cable into Google Home.</li><li>Plug the power adapter into wall socket.</li><li>Download and run the Google Home app on a phone or tablet.</li></ol><div class=badges><a class=google href="https://play.google.com/store/apps/details?id=com.google.android.apps.chromecast.app" target=_blank><img ng-src=app/img/google-play-badge.png alt="Goole Play"> </a><a class=apple href=https://itunes.apple.com/app/google-home/id680819774 target=_blank><img ng-src=app/img/apple-store-badges.svg alt="Apple Store"></a></div></div><div class=image><a href="" ng-click="setImagePath(\'app/img/google_home/google_home_and google_home_mini.png\');handleModal(\'imageModal\', $event)"><img src="app/img/google_home/google_home_and google_home_mini.png"></a></div></div></div><div class="fieldset tab" ng-switch-when=3><div class=content><h1>Coonect your Z-Way Smart Home devices to your google Home device</h1><div class=text><ol><li>Make sure your mobile device or tablet is connected to the same Wi-Fi as your Google Home device.</li><li>Open the Google Home app.</li><li>In the top left corner of the Home screen, tap Menu.</li><li>Verify that the Google Account that is listed is the one linked to Google Home. To switch accounts, click the triangle to the right of the account name.</li><li>Tap Home control.</li><li>In the "Devices" tab, at the bottom right tap Add.</li><li>Tap "Z-Way Smart Home" to connect, then follow the steps.</li><li>When pairing is complete, tap Done.</li></ol></div><div class=image></div></div></div><div class="fieldset tab" ng-switch-when=4><div class=content><h1>List and edit devices for Google Home support</h1><div class=text>After Google Home has been successfully linked with your Z-Way Smart Home, you just have to activate your devices for Google Home. Click this <a href=#speech_assistants/GoogleHome><b>Mange Google Home</b></a><br>or got to Devices > Speech assistants > Manage > GoogleHome > <i class="fas fa-cog"></i>.<br>On this page you can add devcies to Google Home and give the devices a call name, a phonetic naming for simpler voice control.</div><div class=image><a href="" ng-click="setImagePath(\'app/img/alexa/manage_alexa.png\');handleModal(\'imageModal\', $event)"><img src=app/img/alexa/manage_alexa.png></a></div></div></div><div class="fieldset tab" ng-switch-when=5><div class=content><h1>Edit device in device detail view</h1><div class=text>You can also activate or change the call name of a device in the device detail view.<br>Elements > widget configuration wheel <i class="fas fa-cog"></i> > Detail/Konfiguration view</div></div></div></div><div class="fieldset wizard-controls"><button class="btn btn-submit prev" title="_t(\'lb_prev\')" ng-hide="currentStep == 1" ng-click=prevNext(-1)><i class="fas fa-chevron-left"></i> {{_t(\'lb_prev\')}}</button> <button type=button title="_t(\'lb_cancel\')" class="btn btn-default cancel" bb-go-back=""><i class="fas fa-reply"></i> <span class="btn-name ng-binding" ng-bind="_t(\'lb_cancel\')"></span></button> <button class="btn btn-submit next" title="_t(\'lb_next\')" ng-hide="currentStep == steps.length" ng-click=prevNext(1)>{{_t(\'lb_next\')}} <i class="fas fa-chevron-right"></i></button></div></div><div id=imageModal class="appmodal image" ng-if=modalArr.imageModal><span class=appmodal-close ng-click="handleModal(\'imageModal\', $event)"><i class="fas fa-times"></i></span><div class=appmodal-in><img ng-src={{myImage}} alt=Image></div></div></div>'),e.put("app/views/speech_assistants/speech_assistants_devices.html",'<div ng-controller=SpeechAssistantsAddController><bb-loader></bb-loader><div ng-include="\'app/views/speech_assistants/navi.html\'"></div><div class="app-row app-row-report clearfix"><div class=clearfix><div class=onlineapp><div class="onlineapp-in longpress-{{longPressSent}}" on-long-press=onLongPress(speechAssistants.Alexa.module.id) on-touch-end=onTouchEnd() prevent-click=true><a class=onlineapp-header href=#speech_assistants/Alexa/setup><img class=onlineapp-img alt={{speechAssistants.Alexa.module.defaults.title}} title={{v.toolTipDescription}} ng-src="{{speechAssistants.Alexa.module.icon ? speechAssistants.Alexa.module.iconPath : \'storage/img/placeholder-img.png\'}}"></a><div class=onlineapp-body><a class=onlineapp-title ng-href=#speech_assistants/Alexa/setup title={{speechAssistants.Alexa.module.defaults.title}}>{{speechAssistants.Alexa.module.defaults.title}}</a><div class=onlineapp-footer ng-class="speechAssistants.Alexa.module.id == hasLongPress ? \'has-longpress\' : \'\'" on-long-press=onLongPress() prevent-click=true><div class=rating-group><a href=#speech_assistants/Alexa/setup title="{{_t(\'lb_quick_setup_guide\')}}"><i class="fas fa-chevron-right"></i> <span>{{_t(\'lb_quick_setup_guide\')}}</span></a></div><div class="btn-group group-apps"><button class="btn btn-default" title="_t(\'lb_add_app\')" ng-disabled=speechAssistants.Alexa.instance.active ng-click=createInstance(speechAssistants.Alexa.module)><i class="fas fa-plus text-success"></i> <span class=btn-name ng-bind="_t(\'lb_add_app\')">{{_t(\'lb_add_app\')}}</span></button></div></div></div></div></div></div></div><div class=device-logo ng-include="\'app/views/speech_assistants/nav.html\'"></div></div>'),e.put("app/views/speech_assistants/speech_assistants_manage.html",'<div ng-controller=SpeechAssistantsManageController><bb-loader></bb-loader><div ng-include="\'app/views/speech_assistants/navi.html\'"></div><bb-alert alert=alert></bb-alert><div class="list-panel bcg-active" ng-repeat="v in instances |orderBy:\'title\' track by v.id" ng-class="v.active ? \'true\': \'false\'"><figure class="img wh-32x32"><img ng-src="{{modules.mediaUrl + v.moduleId + \'/\' + modules.imgs[v.moduleId]}}" ng-if=modules.imgs[v.moduleId] alt=img> <img ng-src=storage/img/placeholder-img.png ng-if=!modules.imgs[v.moduleId] alt=img></figure><div class=body><div><a href=#speech_assistants/{{v.moduleId}}>{{v.title}}</a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'speech_\' + $index, $event)"></button></div><div class=control ng-class="naviExpanded[\'speech_\' + $index] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a href=#speech_assistants/{{v.moduleId}} class="btn btn-default" title="{{_t(\'lb_settings\')}}"><i class="fas fa-cog"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateInstance(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-pause text-danger\' : \'fa-play text-success\'"></i></button> <button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div><div class=device-logo ng-include="\'app/views/speech_assistants/nav.html\'"></div></div>'),e.put("app/views/welcome/first_login.html",'<div ng-controller=WelcomeController><div class=form-page><div ng-switch=currentStep class=wizard-tabs><div class="fieldset tab" ng-switch-when=1><div class=content ng-include="\'app/views/welcome/tab_welcome.html\'"></div></div><div class="fieldset tab" ng-switch-when=2><div class=content ng-include="\'app/views/welcome/tab_elements.html\'"></div></div><div class="fieldset tab" ng-switch-when=3><div class=content ng-include="\'app/views/welcome/tab_element_detail_view.html\'"></div></div><div class="fieldset tab" ng-switch-when=4><div class=content ng-include="\'app/views/welcome/tab_rooms.html\'"></div></div><div class="fieldset tab" ng-switch-when=5><div class=content ng-include="\'app/views/welcome/tab_events.html\'"></div></div><div class="fieldset tab" ng-switch-when=6><div class=content ng-include="\'app/views/welcome/tab_automation.html\'"></div></div><div class="fieldset tab" ng-switch-when=7><div class=content ng-include="\'app/views/welcome/tab_menu.html\'"></div></div><div class="fieldset tab" ng-switch-when=8><div class=content ng-include="\'app/views/welcome/tab_lets_start.html\'"></div></div></div><ol class=dots><li class=clickable ng-repeat="v in steps" ng-class="{\'active\' : ($index + 1) == currentStep}" ng-model=currentStep ng-click="setStep(($index + 1))"></li></ol><div class="fieldset wizard-controls"><button class="btn btn-submit prev" ng-hide="currentStep == 1" ng-click=prevNext(-1)><i class="fas fa-chevron-left"></i> {{_t(\'lb_prev\')}}</button> <button class="btn btn-default cancel" title="_t(\'lb_skip\')" ng-hide="currentStep == steps.length" ng-click=skip()>{{_t(\'lb_skip\')}} <i class="fas fa-angle-double-right"></i></button> <a class="btn btn-submit cancel" ng-show="currentStep == steps.length" href=#elements>{{_t(\'lets_start\')}} <i class="fas fa-chevron-right"></i></a> <button class="btn btn-submit next" ng-hide="currentStep == steps.length" ng-click=prevNext(1)>{{_t(\'lb_next\')}} <i class="fas fa-chevron-right"></i></button></div></div></div>'),e.put("app/views/welcome/tab_automation.html","<h1>{{_t('nav_automation')}}</h1><div class=text><p ng-bind-html=\"_t('p_welcome_automation')|toTrusted\"></p><ul><li ng-bind-html=\"_t('li_welcome_automation_scenes',{'__title_scenes__':_t('title_scenes')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_automation_rules',{'__title_rules__':_t('title_rules')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_automation_schedules',{'__title_schedules__':_t('title_schedules')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_automation_climate',{'__title_climate__':_t('title_climate')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_automation_hazard_notification',{'__title_leakage_hazard_notification__':_t('title_leakage_hazard_notification')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_automation_security',{'__title_security__':_t('title_security')})|toTrusted\"></li></ul><br><br></div><div class=image><img ng-src=app/img/welcome/automation_view{{sourcePrefix}}.jpg alt=\"\"></div>"),e.put("app/views/welcome/tab_element_detail_view.html","<h1>{{_t('nav_elements_detail')}}</h1><div class=text><p ng-bind-html=\"_t('p_welcome_elements_detail')|toTrusted\"></p></div><div class=image><img ng-src=app/img/welcome/element_detail_view{{sourcePrefix}}.jpg alt=\"\"></div>"),e.put("app/views/welcome/tab_elements.html","<h1>{{_t('nav_elements')}}</h1><div class=text><p ng-bind-html=\"_t('p_welcome_elements')|toTrusted\"></p><br><ul><li ng-bind-html=\"_t('li_welcome_elements_filter_type')|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_elements_filter_visibility')|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_elements_filter_tags')|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_elements_filter_search')|toTrusted\"></li></ul><br><p ng-bind-html=\"_t('p_welcome_elements_order')|toTrusted\"></p></div><div class=image><img ng-src=app/img/welcome/elements{{sourcePrefix}}.jpg alt=\"\"></div>"),e.put("app/views/welcome/tab_events.html","<h1>{{_t('nav_events')}}</h1><div class=text><p ng-bind-html=\"_t('p_welcome_events')|toTrusted\"></p></div><div class=image><img ng-src=app/img/welcome/events{{sourcePrefix}}.jpg alt=\"\"></div>"),e.put("app/views/welcome/tab_lets_start.html","<h1>{{_t('lets_start')}}</h1><div class=text><p ng-bind-html=\"_t('p_welcome_lets_start_instruction',{'__btn_dev__':_t('nav_devices')})|toTrusted\"></p><ul><li>{{_t('devices_text_zwave')}}</li><li>{{_t('devices_text_mobile_push')}}</li><li>{{_t('devices_text_camera')}}</li><li>{{_t('devices_text_speech_assistant')}}</li><li>{{_t('devices_text_wifi_plug')}}</li><li>{{_t('devices_text_enocean')}}</li><li>{{_t('devices_text_433')}}</li></ul><br><br><div ng-if=elementAccess(cfg.role_access.admin) ng-bind-html=\"_t('p_welcome_lets_start_apps', {'__btn_apps__':_t('nav_apps')})|toTrusted\"></div></div><div class=image><img ng-src=app/img/welcome/overview{{sourcePrefix}}.jpg alt=\"\"></div>"),e.put("app/views/welcome/tab_menu.html","<h1>{{_t('nav_menu')}}</h1><div class=text><p ng-bind-html=\"_t('p_welcome_menu',{'__nav_menu__':_t('nav_menu')})|toTrusted\"></p><ul><li ng-bind-html=\"_t('li_welcome_menu_applications',{'__nav_apps__':_t('nav_apps')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_menu_devices',{'__nav_devices__':_t('nav_devices')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_menu_design',{'__customize__':_t('customize')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_menu_settings',{'__nav_myaccess__':_t('nav_myaccess')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_menu_managment',{'__management__':_t('management')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_menu_news',{'__news__':_t('news')})|toTrusted\"></li><li ng-bind-html=\"_t('li_welcome_menu_logout',{'__nav_logout__':_t('nav_logout')})|toTrusted\"></li></ul><br><br></div><div class=image><img ng-src=app/img/welcome/menu_view{{sourcePrefix}}.jpg alt=\"\"></div>"),e.put("app/views/welcome/tab_rooms.html","<h1>{{_t('nav_rooms')}}</h1><div class=text><p ng-bind-html=\"_t('p_welcome_rooms')|toTrusted\"></p></div><div class=image><img ng-src=app/img/welcome/room_view{{sourcePrefix}}.jpg alt=\"\"></div>"),e.put("app/views/welcome/tab_welcome.html","<h1>{{_t('welcome_1')}}</h1><div class=text><p ng-bind-html=\"_t('p_welcome_welcome')|toTrusted\"></p></div><div class=image><img ng-src=app/img/welcome/overview{{sourcePrefix}}.jpg alt=\"\"></div>"),e.put("app/views/wifiplug/wifi_navi.html","<div class=\"tabs-wrap form-inline\"><div class=\"btn-group btn-group-justified btn-goup-tabs\"><a class=\"btn btn-default\" href=#wifiplug/add title=\"{{_t('add_new')}}\" ng-class=\"routeMatch('/wifiplug/add') ? 'active' : ''\"><i class=\"fas fa-plus\"></i> <span class=btn-name>{{_t('add_new')}}</span> </a><a class=\"btn btn-default\" href=#wifiplug/manage title=\"{{_t('devices_text_wifi_plug')}}\" ng-class=\"routeMatch('/wifiplug/manage') ? 'active' : ''\"><i class=\"fas fa-wifi\"></i> <span class=btn-name>{{_t('devices_text_wifi_plug')}}</span></a></div></div>"),e.put("app/views/wifiplug/wifiplug_add.html",'<div ng-controller=WifiPlugAddController><div ng-include="\'app/views/wifiplug/wifi_navi.html\'"></div><div class="list-panel bcg-active" ng-repeat="v in wifiplugDevices | orderBy:\'defaults.title\' track by v.moduleName"><figure class="img wh-32x32"><img ng-src="{{moduleMediaUrl + v.moduleName + \'/\' + v.icon}}" ng-if=v.icon alt=img> <img ng-src=storage/img/icons/logo-wifiplug.png ng-if=!v.icon alt=img></figure><div class=body><div><a href=#module/post/{{v.id}}>{{v.defaults.title}}</a></div></div><div class=control><a href=#module/post/{{v.id}} class="btn btn-default" title="{{_t(\'lb_include_device\')}}"><i class="fas fa-plug text-primary"></i></a></div></div><div class=device-logo ng-include="\'app/views/wifiplug/wifiplug_nav.html\'"></div></div>'),e.put("app/views/wifiplug/wifiplug_manage.html",'<div ng-controller=WifiPlugManageController><div ng-include="\'app/views/wifiplug/wifi_navi.html\'"></div><div class="list-panel bcg-active" ng-repeat="v in instances |orderBy:\'title\' track by v.id" ng-class="v.active ? \'true\': \'false\'"><figure class="img wh-32x32"><img ng-src="{{modules.mediaUrl + v.moduleId + \'/\' + modules.imgs[v.moduleId]}}" ng-if=modules.imgs[v.moduleId] alt=img> <img ng-src=storage/img/placeholder-img.png ng-if=!modules.imgs[v.moduleId] alt=img></figure><div class=body><div><a href=#module/put/{{v.id}}>{{v.title}}</a></div></div><div class="l-hide control"><button type=button class="btn btn-ctrl" title="{{_t(\'lb_settings\')}}" ng-click="expandNavi(\'wifi_\' + $index, $event)"></button></div><div class=control ng-class="naviExpanded[\'wifi_\' + $index] ? \'expand-true\': \'expand-false\'"><div class=btn-group><a href=#module/put/{{v.id}} class="btn btn-default" title="{{_t(\'lb_settings\')}}"><i class="fas fa-cog"></i> </a><button title="{{_t(\'lb_activate\')}}/{{_t(\'lb_deactivate\')}}" class="btn btn-default" ng-click="activateInstance(v, v.active ? false : true)"><i class=fas ng-class="v.active ? \'fa-pause text-danger\' : \'fa-play text-success\'"></i></button> <button title="{{_t(\'lb_remove\')}}" class="btn btn-default" ng-click="deleteInstance({\'id\': v.id}, _t(\'lb_delete_confirm\'))"><i class="fas fa-trash text-danger"></i></button></div></div></div><div class=device-logo ng-include="\'app/views/wifiplug/wifiplug_nav.html\'"></div></div>'),e.put("app/views/wifiplug/wifiplug_nav.html","<a href=#devices><img class=apps-image ng-src=app/img/logo-wifiplug.svg alt=Logo></a>"),e.put("app/views/zigbee/navi.html",'<div class="tabs-wrap form-inline" ng-if_=devices.show><div class="btn-group btn-group-justified btn-goup-tabs"><a class="btn btn-default" href=#zigbee/vendors title="{{_t(\'add_new\')}}"><i class="fas fa-plus"></i> <span class=btn-name>{{_t(\'add_new\')}}</span> </a><a class="btn btn-default" href=#zigbee/devices title="{{_t(\'lb_zigbee_devices\')}}" ng-class="routeMatch(\'/zigbee/devices\') ? \'active\' : \'\'"><i class="fas fa-wifi"></i> <span class=btn-name>{{_t(\'lb_zigbee_devices\')}}</span> </a><a class="btn btn-default" href=#zigbee/batteries title="{{_t(\'lb_battery_status\')}}" ng-class="routeMatch(\'/zigbee/batteries\') ? \'active\' : \'\'" ng-if=elementAccess(cfg.role_access.network)><i class="fas fa-battery-three-quarters"></i> <span class=btn-name>{{_t(\'lb_battery_status\')}}</span></a></div></div>'),e.put("app/views/zigbee/zigbee_batteries.html",'<div ng-controller=ZigbeeManageController><bb-loader></bb-loader><div ng-include="\'app/views/zigbee/navi.html\'"></div><div class="app-row app-row-report app-row-zigbee clearfix"><div id=row_battery_{{v.id}} class=report-entry ng-repeat="v in devices.zw| orderBy:\'title\':false" ng-if=v.hasBattery><div class="report-col report-media"><img class=report-img ng-src={{v.batteryCharge|getBatteryIcon}} alt=img></div><div class="report-col report-body report-col-w30"><span class="network-zigbee-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}})</span><div class=btn-group ng-if="_.size(v.elements) > 0"><a href="" class=network-zigbee-title ng-click="expandNavi(\'accZigbeeManage_\' + v.id, $event)"><i class=fa ng-class="naviExpanded[\'accZigbeeManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}})</a><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accZigbeeManage_\' + v.id]"><ul><li class="clickable zigbee-hidden-{{e.permanently_hidden}}" ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:20}} <span class=zigbee-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-battery-info"><div ng-if=v.date><i class="fas fa-clock"></i> {{v.date}}</div><div ng-if=v.awake><i class="fas {{v.awake|getAwakeIcon}}"></i> <span ng-if=v.sleeping ng-bind-html="v.sleeping | toTrusted"></span></div></div><div class="report-col report-ctrl"><span class=text-success ng-show="v.batteryCharge >= 80">{{v.batteryCharge}} %</span> <span class=text-default ng-show="v.batteryCharge < 80 && v.batteryCharge > 20">{{v.batteryCharge}} %</span> <span class=text-danger ng-show="v.batteryCharge <= 20"><i class="fas fa-exclamation-triangle"></i> {{v.batteryCharge}} %</span></div></div></div><div class=device-logo ng-include="\'app/views/zigbee/zigbee_nav.html\'"></div></div>'),e.put("app/views/zigbee/zigbee_inclusion.html",'<div ng-controller=ZigbeeInclusionController id=zigbee_inclusion><bb-loader></bb-loader><div class="form form-inline form-page"><div class=fieldset><h1>{{_t(\'add_new_device\')}}</h1></div><div class="fieldset bar-row inclusion" ng-show=!_.isEmpty(zigbeeInclusion.device.find)><div class="bar-col bar-media"><img ng-src="{{cfg.img.zigbeedevices + zigbeeInclusion.device.find.product_image}}" err-src="{{cfg.online_device_icon_url + zigbeeInclusion.device.find.remote_image}}" err-src2={{cfg.img.placeholder}} alt=img></div><div class="bar-col bar-body"><em>{{zigbeeInclusion.device.find.brandname + \' \' + zigbeeInclusion.device.find.name}}</em></div></div><div class="fieldset clearfix"><div class="app-row app-row-report clearfix"><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">1</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!zigbeeInclusion.exclusionProcess.process><bb-help-text trans="_t(\'lb_zigbee_include_preparation\')"></bb-help-text></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=zigbeeInclusion.exclusionProcess.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">2</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!zigbeeInclusion.inclusionProcess.process><button class="btn btn-success btn-lg" title="{{_t(\'start\')}}" ng-disabled="zigbeeInclusion.exclusionProcess.process || zigbeeInclusion.automatedConfiguration.includedDevice.nodeId > 0" ng-click="startStopProcess(\'inclusion\', true)"><i class="fas fa-plug"></i> <span class=btn-name>{{_t(\'start\')}}</span></button></div><div class=inclusion-process ng-if=zigbeeInclusion.inclusionProcess.process><div class="alert alert-warning"><h4><i class="fas fa-spinner fa-spin"></i> {{_t(\'lb_ready_include\')}}</h4><p ng-bind-html=zigbeeInclusion.device.find.inc|toTrusted></p></div><button class="btn btn-danger btn-lg" title="{{_t(\'stop\')}}" ng-click="startStopProcess(\'inclusion\', false)"><i class="fas fa-ban"></i> <span class=btn-name>{{_t(\'stop\')}}</span></button></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=zigbeeInclusion.inclusionProcess.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">3</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!zigbeeInclusion.automatedConfiguration.process><h3>{{_t(\'automated_konfiguration\')}}</h3></div><bb-alert alert=zigbeeInclusion.s2.alert></bb-alert><div class=inclusion-process ng-if=zigbeeInclusion.automatedConfiguration.process><div class="alert alert-warning" ng-hide="zigbeeInclusion.automatedConfiguration.progress > 99"><i class="fas fa-spinner fa-spin"></i><strong><span ng-if="breakTime !== null"> [{{breakTime | date: \'mm:ss\'}}]</span> {{_t(\'configuring_device\')}}</strong> <span>(#{{zigbeeInclusion.automatedConfiguration.includedDevice.nodeId}})</span><br><span ng-if=zigbeeInclusion.automatedConfiguration.includedDevice.retryCCInterviews>{{_t(\'retry_cc_interviews\')}}</span><div ng-if="breakTime === 0"><div>{{_t(\'interviewNotFinish\')}}</div><div>{{_t(\'showInterviewInExpert\')}} <a ng-href=../zigxpert/#/configuration/interview/{{zigbeeInclusion.automatedConfiguration.includedDevice.nodeId}} target=_blank><i class="fas fa-external-link-alt"></i></a></div></div></div><div class=progress><div class=progress-bar style="min-height:40px;min-width: 2em; width: {{zigbeeInclusion.automatedConfiguration.progress}}%;" ng-class="zigbeeInclusion.automatedConfiguration.progress < 100 ? \'progress-bar-striped active\' : \'progress-bar-success\'">{{zigbeeInclusion.automatedConfiguration.progress}}%</div></div></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=zigbeeInclusion.automatedConfiguration.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">4</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!zigbeeInclusion.manualConfiguration.process><h3>{{_t(\'manual_konfiguration\')}}</h3></div><div class=inclusion-process ng-if=zigbeeInclusion.manualConfiguration.process><div class="alert alert-warning"><i class="fas fa-spinner fa-spin"></i> <strong ng-bind="_t(\'manual_config_prepare\')"></strong></div></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=zigbeeInclusion.manualConfiguration.done></i></div></div></div></div><div class="fieldset submit-entry"><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button></div></div><div id=cancelConfigurationModal class=appmodal ng-if=zigbeeInclusion.cancelModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click=cancelManualConfiguration(true)><i class="fas fa-times"></i></span><h3>{{cfg.app_name}}</h3></div><div class=appmodal-body>{{_t(\'configuration_cancel\')}}</div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click=cancelManualConfiguration(true)><i class="fas fa-sync text-success"></i> {{_t(\'reset_redo_inclusion\')}}</button> <button type=button class="btn btn-default" ng-click=cancelManualConfiguration(false)>{{_t(\'continue_anyway\')}} <i class="fas fa-arrow-right text-primary"></i></button></div></div></div><div class=device-logo ng-include="\'app/views/zigbee/zigbee_nav.html\'"></div></div>'),e.put("app/views/zigbee/zigbee_manage_id_new.html",'<div ng-controller=ZigbeeManageIdController class=mobile-padding><bb-loader></bb-loader><div ng-show=formInput.show><h1>(#{{zigbeeDevice.id}}) {{formInput.deviceName}}</h1><form name=form_network_config id=form_profile class="form form-page" ng-submit=updateAllDevices(formInput) novalidate><fieldset><label ng-bind="_t(\'rename_device\')"></label> <input name=device_name id=device_name class=form-control value={{formInput.deviceName}} ng-model=formInput.deviceName></fieldset><div ng-if="devices.length > 0"><fieldset><div class="form-group form-inline"><div class=input-group><input name=appstore_token id=appstore_token class=form-control placeholder="{{_t(\'lb_add_room\')}}" ng-model=formInput.newRoom> <span class="input-group-addon clickable" title="{{_t(\'add_new\')}}" ng-click=addRoom(formInput.newRoom)><i class="fas fa-plus text-success"></i></span></div></div><div class="form-group form-inline"><label class=display-block ng-bind="_t(\'devices_to_room\')"></label><div class=btn-group><button type=button class="btn btn-default" ng-click="expandNavi(\'devidDropDown\', $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></button><div class="app-dropdown app-dropdown-left" ng-if=naviExpanded.devidDropDown><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="v in rooms"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div></div></div></fieldset><div class="app-row app-row-widget app-row-element clearfix"><div class=widget-zigbee-wrap ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><div id=Widget_{{v.id}} class="widget-entry widget-entry-element widget-zigbee"><div class=widget-entry-in><div class=widget-img><img class="widget-preview-img img-circle" ng-src={{e.metrics.icon|getElementIcon:e:e.level}} alt=img></div><div class=widget-header>&nbsp;</div><div class=widget-content><div class=widget-title><div class=btn-group><span class="widget-room clickable" ng-click="expandNavi(\'devidRooms_\' + $index, $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></span><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'devidRooms\' + \'_\' + $index]"><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="v in rooms"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div><h3 class=clickable ng-click="expandNaviNotHide(\'devidTitle_\' + $index, $event)">{{formInput.elements[e.id].metrics.title|cutText:true:25}} <i class="fas fa-pencil-alt text-info"></i></h3><div class="app-dropdown app-dropdown-left" ng-if="naviExpandedNotHide[\'devidTitle\' + \'_\' + $index]"><div class=app-dropdown-content><div class=input-group><input name=title_{{$index}} id=title_{{$index}} class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}}> <span class="input-group-addon clickable" title="{{_t(\'lb_save\')}}" ng-click="expandNaviNotHide(\'devidTitle_\' + $index, $event, false)"><i class="fas fa-check text-success"></i></span></div></div></div></div></div><hr class=bottom-aligner><div class=widget-footer ng-switch=v.deviceType><input type=checkbox> Deactivate | <input type=checkbox> Hide</div></div></div></div><div id=Widget_{{v.id}}_2 class="widget-entry widget-entry-element widget-zigbee widget-zigbee-ctrl"><div class=widget-entry-in><div class="app-row app-row-report app-row-icons clearfix"><div class=report-entry><div class="report-col report-media">Default</div><div class="report-col report-body">&nbsp;</div><div class="report-col report-media">Custom</div><div class="report-col report-ctrl">&nbsp;</div></div><div class="report-entry clickable" ng-class="k === icons.selected ? \'bcg-success\' : \'\'" ng-repeat="(k,v) in [\'temperature.png\',\'luminosity.png\']"><div class="report-col report-media"><img class=report-img ng-src="{{cfg.img.icons + v}}" alt={{v}}></div><div class="report-col report-body"><i class="fas fa-long-arrow-alt-right"></i></div><div class="report-col report-media"><img class="report-img img-opacity-50" ng-src={{cfg.img.icons}}cancel.png ng-if=!icons.all.custom[k] alt=img></div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_update\')}}" class="btn btn-default"><i class="fas fa-pencil-alt text-primary"></i></button> <button type=button title="{{_t(\'lb_remove\')}}" class="btn btn-default"><i class="fas fa-ban text-danger"></i></button></div></div></div></div></div><div class=clearfix></div><div class="widget-zigbee-footer clearfix"><div class="widget-zigbee-50 form-inline"><div class=input-group><input class=form-control placeholder="Add tag"> <span class="input-group-addon clickable" title="{{_t(\'Addd\')}}"><i class="fas fa-plus text-success"></i></span></div></div><div class=widget-zigbee-50><strong>Tags:</strong> tag1, tag2, tag3, tag4</div></div></div></div><div class=clearfix></div><fieldset><div class="form-group form-inline zigbee-hidden-{{formInput.elements[e.id].permanently_hidden}}" ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><h3><img class=report-img-s ng-src={{e.iconPath}} alt=img> <span ng-bind=formInput.elements[e.id].metrics.title></span></h3><div class="form-group form-inline"><input name=title_{{$index}} id=title_{{$index}} class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}}> <span class=mobile-block><input type=checkbox name=permanently_hidden_{{$index}} id=permanently_hidden_{{$index}} ng-model=formInput.elements[e.id].permanently_hidden ng-checked=formInput.elements[e.id].permanently_hidden> <label for=permanently_hidden_{{$index}}>{{_t(\'lb_deactivate\')}}</label></span></div></div><div class="form-group form-inline"><a class="btn btn-primary" href=/zigxpert/#/configuration/configuration/{{zigbeeDevice.id}} title="{{_t(\'hardware_konfiguration\')}}" ng-if="zigbeeDevice.cfg.length > 0"><i class="fas fa-wrench"></i> <span class=btn-name ng-bind="_t(\'hardware_konfiguration\')"></span></a></div></fieldset></div><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" ng-if=!nohistory bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div><div class=device-logo ng-include="\'app/views/zigbee/zigbee_nav.html\'"></div></div>'),e.put("app/views/zigbee/zigbee_manage_id.html",'<div ng-controller=ZigbeeManageIdController><bb-loader></bb-loader><div ng-show=formInput.show><h1>(#{{zigbeeDevice.id}}) {{formInput.deviceName}}</h1><form name=form_network_config id=form_network_config class="form form-page" ng-submit=updateAllDevices(formInput) novalidate><fieldset><label ng-bind="_t(\'rename_device\')"></label> <input name=device_name id=device_name class=form-control value={{formInput.deviceName}} ng-model=formInput.deviceName></fieldset><div ng-if="devices.length > 0"><fieldset><div class="form-group form-inline"><div class=input-group><input name=appstore_token id=appstore_token class=form-control placeholder="{{_t(\'lb_add_room\')}}" ng-model=formInput.newRoom> <span class="input-group-addon clickable" title="{{_t(\'add_new\')}}" ng-click=addRoom(formInput.newRoom)><i class="fas fa-plus text-success"></i></span></div></div><div class="form-group form-inline"><label class=display-block ng-bind="_t(\'devices_to_room\')"></label><div class=btn-group><button type=button class="btn btn-default" ng-click="expandNavi(\'devidDropDown\', $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></button><div class="app-dropdown app-dropdown-left" ng-if=naviExpanded.devidDropDown><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="(_, v) in rooms | orderBy:\'title\'"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div></div></div></fieldset><fieldset><div class="form-group form-inline zigbee-hidden-{{formInput.elements[e.id].permanently_hidden}}" ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><ng-form name=subForm><h3><img class=report-img-s ng-src={{e.iconPath}} alt=img> <span ng-bind=formInput.elements[e.id].metrics.title></span></h3><div class="form-group form-inline is-inline"><input name=title id=title class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}} ng-blur="titleBlur = true" ng-required=true size=40> <span class=mobile-block><input type=checkbox name=permanently_hidden_{{$index}} id=permanently_hidden_{{$index}} ng-model=formInput.elements[e.id].permanently_hidden ng-checked=formInput.elements[e.id].permanently_hidden> <label for=permanently_hidden_{{$index}}>{{_t(\'lb_deactivate\')}}</label></span><bb-validator input-name=subForm.title.$error.required trans=\'_t("field_required")\' has-blur=titleBlur></bb-validator></div><div class=text-info><i class="fas fa-info-circle text-info"></i> Id: {{e.id}}</div></ng-form></div><div class="form-group form-inline"><a class="btn btn-primary" href=/zigxpert/#/configuration/configuration/{{zigbeeDevice.id}} title="{{_t(\'hardware_konfiguration\')}}" ng-if="zigbeeDevice.cfg.length > 0"><i class="fas fa-wrench"></i> <span class=btn-name ng-bind="_t(\'hardware_konfiguration\')"></span></a></div></fieldset></div><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" ng-if=!nohistory bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}" ng-disabled=form_network_config.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div><div class=device-logo ng-include="\'app/views/zigbee/zigbee_nav.html\'"></div></div>'),e.put("app/views/zigbee/zigbee_manage.html",'<div ng-controller=ZigbeeManageController><bb-loader></bb-loader><div ng-include="\'app/views/zigbee/navi.html\'"></div><div class="app-row app-row-report app-row-zigbee clearfix"><div id=row_zigbee_{{v.id}} class=report-entry ng-repeat="v in devices.zw | orderBy:\'id\'"><div class="report-col report-body zigbee-devices"><div class=btn-group><span class="network-zigbee-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}}) </span><a href="" class=network-zigbee-title ng-click="expandNavi(\'accZigbeeManage_\' + v.id, $event)" ng-if="_.size(v.elements) > 0"><i class=fa ng-class="naviExpanded[\'accZigbeeManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}})</a><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accZigbeeManage_\' + v.id]"><ul><li class=zigbee-hidden-{{e.permanently_hidden}} ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:40}} <span class=zigbee-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-ctrl" ng-if=elementAccess(cfg.role_access.network)><div class=btn-group><a class="btn btn-default" href=#zigbee/devices/{{v.id}} title="{{_t(\'lb_configuration\')}}"><i class="fas fa-cog text-primary"></i></a></div></div></div></div><div class=device-logo ng-include="\'app/views/zigbee/zigbee_nav.html\'"></div></div>'),e.put("app/views/zigbee/zigbee_nav.html","<a href=#devices><img class=apps-image ng-src=app/img/logo-zigbee.svg alt=Logo></a>"),e.put("app/views/zigbee/zigbee_network.html",'<div ng-controller=ZigbeeManageController><bb-loader></bb-loader><div ng-include="\'app/views/zigbee/navi.html\'"></div><div class="app-row app-row-report app-row-zigbee clearfix"><div id=row_zigbee_network_{{v.id}} class=report-entry ng-repeat="v in devices.zw | orderBy:\'title\':false" ng-class="v.isFailed ? \'bcg-danger\': \'\'" ng-if="_.size(v.messages) > 0"><div class="report-col report-body zigbee-network"><span class="network-zigbee-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}})</span><div class=btn-group ng-if="_.size(v.elements) > 0"><a href="" class=network-zigbee-title ng-click="expandNavi(\'accZigbeeManage_\' + v.id, $event)"><i class=fa ng-class="naviExpanded[\'accZigbeeManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}})</a><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accZigbeeManage_\' + v.id]"><ul><li class="clickable zigbee-hidden-{{e.permanently_hidden}}" ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:20}} <span class=zigbee-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-ctrl"><div ng-repeat="m in v.messages|unique:true"><div class=text-danger ng-if="m.type !== \'config\'">{{m.error}}</div><button class="btn btn-default" ng-if="!v.interviewDone  && !v.isFailed" ng-click="devices.find = v;handleModal(\'zigbeeNetworkModal\', $event)"><i class="fas fa-sync text-primary"></i> <span class=btn-name>{{_t(\'configure_device\')}}</span></button></div></div></div></div><div class=device-logo ng-include="\'app/views/zigbee/zigbee_nav.html\'"></div><div id=zigbeeNetworkModal class=appmodal ng-controller=ZigbeeInterviewController ng-if="modalArr.zigbeeNetworkModal && !_.isEmpty(devices.find)"><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click=cancelConfiguration($event)><i class="fas fa-times"></i></span><h3>{{devices.find.title|cutText:true:25}} (#{{devices.find.id}})</h3></div><div class=appmodal-body><div class="alert alert-warning" ng-hide="zigbeeInterview.progress > 99"><i class="fas fa-spinner fa-spin"></i> <strong>{{_t(\'configuring_device\')}}</strong></div><div class=progress><div class=progress-bar style="min-height:40px;min-width: 2em; width: {{zigbeeInterview.progress}}%;" ng-class="zigbeeInterview.progress < 100 ? \'progress-bar-striped active\' : \'progress-bar-success\'">{{zigbeeInterview.progress}}%</div></div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click=cancelConfiguration($event)><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button></div></div></div></div>'),e.put("app/views/zigbee/zigbee_products.html",'<div ng-controller=ZigbeeVendorController><bb-loader></bb-loader><div class=row><div class=col-sm-6><h3><a ng-href=#/zigbee/vendors class="btn btn-default"><i class="fas fa-arrow-left"></i> </a><strong>{{zigbeeVendors.products.pageTitle}}</strong> | {{_t(\'products\')}} <span class="badge text-primary">{{zigbeeVendors.products.cnt}}</span> | {{_t(\'frequency\')}} <span class=badge>{{zigbeeVendors.frequencyName}}</span> <em ng-class="zigbeeProducts.cnt == 0 ? \'text-danger\': \'\' "></em></h3></div><div class=col-sm-6 ng-include="\'app/views/zigbee/zigbee_vendors_ctrl.html\'"></div></div><div class="alert alert-warning" ng-if=zigbeeVendors.products.noSearch><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'no_search_results\',{__term__: "\\"" + zigbeeVendors.products.noSearch + "\\""})}}</div><div class=list-panel ng-repeat="v in zigbeeVendors.products.collection | orderBy:\'name\' track by $index"><figure class="img wh-64x64 clickable"><a ng-href=#zigbee/inclusion/{{v.id}}><img class=product-img ng-src="{{cfg.img.zigbeedevices + v.product_image}}" err-src="{{cfg.online_device_icon_url + v.remote_image}}" err-src2={{cfg.img.placeholder}} alt=img></a></figure><div class=body><div><a ng-href=#zigbee/inclusion/{{v.id}}>{{v.name}}</a><p class=s-hide><small>{{v.id}}</small></p></div></div><div class=control><a ng-href=#zigbee/inclusion/{{v.id}} class="btn btn-default" title="{{_t(\'lb_include_device\')}}"><i class="fas fa-plug text-primary"></i></a></div></div><div class="fieldset submit-entry_" ng-show="_.size(zigbeeVendors.products.collection) > 10"><a ng-href=#/zigbee/vendors class="btn btn-default"><i class="fas fa-arrow-left"></i></a></div></div>'),e.put("app/views/zigbee/zigbee_vendors_autodetect.html",'<div class="tabs-wrap form-inline device-autodetect"><div class="btn-group btn-group-justified"><a href=#zigbee/inclusion class="btn btn-default btn-lg btn-block" title="{{_t(\'lb_zigbee_autodetect\')}}"><i class="fas fa-plug text-success"></i> <span class=btn-name>{{_t(\'lb_zigbee_autodetect\')}}</span></a></div></div>'),e.put("app/views/zigbee/zigbee_vendors_ctrl.html",'<div class="page-control form-inline" bind-class-on-scroll offset={{cfg.scroll_offset}} scroll-class=fix-me-top><form id=form_search_vendor class=input-group ng-submit="setFilter({q: autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{zigbeeVendors.filter.q}} class=form-control placeholder="{{_t(\'lb_search\')}}" ng-model=autocomplete.term bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable" ng-click="setFilter({q: autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchProducts><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in autocomplete.results | orderBy:\'name\' track by $index"><span class=dropdown-col ng-click="setFilter({q: autocomplete.term})"><img class=report-img-s ng-src="{{cfg.img.zigbeedevices + v.product_image}}" err-src={{cfg.img.placeholder}} alt=img> <span class=aoutocomplete-title>{{v.name|cutText:true:30}}</span>&nbsp; <em class=item-cnt>({{v.brandname}})</em> </span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><a ng-href=#zigbee/inclusion/{{v.id}}><i class="fas fa-plug text-primary"></i></a></span></li></ul></div></form></div>'),e.put("app/views/zigbee/zigbee_vendors.html",'<div ng-controller=ZigbeeVendorController><bb-loader></bb-loader><div class="text-center device-autodetect" ng-include="\'app/views/zigbee/zigbee_vendors_autodetect.html\'"></div><bb-alert alert=zigbeeVendors.alert></bb-alert><div class=device-logo ng-include="\'app/views/zigbee/zigbee_nav.html\'"></div></div>'),e.put("app/views/zwave/navi.html","<div class=\"tabs-wrap form-inline\" ng-if_=devices.show><div class=\"btn-group btn-group-justified btn-goup-tabs\"><a class=\"btn btn-default\" href=#zwave/vendors title=\"{{_t('add_new')}}\"><i class=\"fas fa-plus\"></i> <span class=btn-name>{{_t('add_new')}}</span> </a><a class=\"btn btn-default\" href=#zwave/devices title=\"{{_t('lb_zwave_devices')}}\" ng-class=\"routeMatch('/zwave/devices') ? 'active' : ''\"><i class=\"fas fa-wifi\"></i> <span class=btn-name>{{_t('lb_zwave_devices')}}</span> </a><a class=\"btn btn-default\" href=#zwave/batteries title=\"{{_t('lb_battery_status')}}\" ng-class=\"routeMatch('/zwave/batteries') ? 'active' : ''\" ng-if=elementAccess(cfg.role_access.network)><i class=\"fas fa-battery-three-quarters\"></i> <span class=btn-name>{{_t('lb_battery_status')}}</span> </a><a class=\"btn btn-default\" href=#zwave/network title=\"{{_t('lb_network_status')}}\" ng-class=\"routeMatch('/zwave/network') ? 'active' : ''\" ng-if=elementAccess(cfg.role_access.network)><i class=\"fas fa-sitemap\"></i> <span class=btn-name>{{_t('lb_network_status')}}</span> </a><a class=\"btn btn-default\" title=\"{{_t('Device Key List')}}\" href=#smartstartlist ng-class=\"routeMatch('/smartstartlist') ? 'active' : ''\"><i class=\"fas fa-list\"></i> <span class=btn-name>{{_t('device_key_list')}}</span></a></div></div>"),e.put("app/views/zwave/zwave_batteries.html",'<div ng-controller=ZwaveManageController><bb-loader></bb-loader><div ng-include="\'app/views/zwave/navi.html\'"></div><div class="app-row app-row-report app-row-zwave clearfix"><div id=row_battery_{{v.id}} class=report-entry ng-repeat="v in devices.zw| orderBy:\'title\':false" ng-if=v.hasBattery><div class="report-col report-media"><img class=report-img ng-src={{v.batteryCharge|getBatteryIcon}} alt=img></div><div class="report-col report-body report-col-w30"><span class="network-zwave-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}})</span><div class=btn-group ng-if="_.size(v.elements) > 0"><a href="" class=network-zwave-title ng-click="expandNavi(\'accZwaveManage_\' + v.id, $event)"><i class=fa ng-class="naviExpanded[\'accZwaveManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}})</a><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accZwaveManage_\' + v.id]"><ul><li class="clickable zwave-hidden-{{e.permanently_hidden}}" ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:20}} <span class=zwave-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-battery-info"><div ng-if=v.date><i class="fas fa-clock"></i> {{v.date}}</div><div ng-if=v.awake><i class="fas {{v.awake|getAwakeIcon}}"></i> <span ng-if=v.sleeping ng-bind-html="v.sleeping | toTrusted"></span></div></div><div class="report-col report-ctrl"><span class=text-success ng-show="v.batteryCharge >= 80">{{v.batteryCharge}} %</span> <span class=text-default ng-show="v.batteryCharge < 80 && v.batteryCharge > 20">{{v.batteryCharge}} %</span> <span class=text-danger ng-show="v.batteryCharge <= 20"><i class="fas fa-exclamation-triangle"></i> {{v.batteryCharge}} %</span></div></div></div><div class=device-logo ng-include="\'app/views/zwave/zwave_nav.html\'"></div></div>'),e.put("app/views/zwave/zwave_exclude.html",'<div ng-controller=ZwaveExcludeController><div ng-if=zWaveDevice.id><div class="device-perex clearfix"><h2>{{zWaveDevice.name}}</h2></div><div class=form-page><div class="row fieldset"><div class=col-sm-6><div ng-if="zWaveDevice.lastExcludedDevice != zWaveDevice.id"><button class="btn btn-default btn-lg" ng-click="resetRemoveDevice(\'controller.RemoveNodeFromNetwork(1)\')"><i class="fas fa-sync text-danger"></i> {{_t(\'reset_remove\')}}</button></div><bb-help-text trans="_t(\'reset_remove_info\')"></bb-help-text></div><div class=col-sm-6><button class="btn btn-default btn-lg" ng-disabled=!zWaveDevice.isFailed ng-click="handleModal(\'removeModal\', $event)"><i class="fas fa-unlink text-danger"></i> {{_t(\'lb_remove\')}}</button><bb-help-text trans="_t(\'remove_device_info\')"></bb-help-text></div></div><div class="fieldset submit-entry"><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name ng-bind="_t(\'lb_cancel\')"></span></button></div></div></div><div class=device-logo ng-include="\'app/views/zwave/zwave_nav.html\'"></div><div id=resetRemoveModal class=appmodal ng-if=zWaveExclude.resetRemove.process><div class=appmodal-in><div class=appmodal-header><h3>{{_t(\'reset_remove\')}} {{zWaveDevice.name}}</h3></div><div class=appmodal-body><div ng-show=_.size(zWaveDevice.devices)><h3>{{_t(\'following_elements_remove\')}}:</h3><span ng-repeat="v in zWaveDevice.devices">{{v.name}}{{$last ? \'\' : \', \'}}</span></div><div class=exclude-device ng-show="zWaveDevice.controllerState == 5"><bb-alert alert=zWaveExclude.resetRemove.alert></bb-alert></div></div><div class=appmodal-footer><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" ng-click="runZwaveCmd(\'controller.RemoveNodeFromNetwork(0)\');zWaveExclude.resetRemove.process = false"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button></div></div></div><div id=removeModal class=appmodal ng-if=modalArr.removeModal><div class=appmodal-in><div class=appmodal-header><h3>{{_t(\'lb_remove\')}} {{zWaveDevice.name}}</h3></div><div class=appmodal-body><div ng-show="_.size(zWaveDevice.devices) && !zWaveExclude.remove.process"><h3>{{_t(\'following_elements_remove\')}}:</h3><span ng-repeat="v in zWaveDevice.devices">{{v.name}}{{$last ? \'\' : \', \'}}</span></div><div ng-if=zWaveExclude.remove.process>{{_t(\'removing\')}}<div class=progress><div class=progress-bar style="min-height:40px;min-width: 2em; width: {{zWaveExclude.remove.progress}}%;" ng-class="zWaveExclude.remove.progress < 100 ? \'progress-bar-danger progress-bar-striped active\' : \'progress-bar-success\'">{{zWaveExclude.remove.progress}}%</div></div></div></div><div class=appmodal-footer><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" ng-disabled=zWaveExclude.remove.process ng-click="handleModal(\'removeModal\', $event)"><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button class="btn btn-danger" ng-disabled=zWaveExclude.remove.process ng-click=removeDevice()><i class="fas fa-exclamation-triangle"></i> {{_t(\'remove_permanently\')}}</button></div></div></div></div>'),e.put("app/views/zwave/zwave_inclusion.html",'<div ng-controller=ZwaveInclusionController id=zwave_inclusion><bb-loader></bb-loader><pre> {{ zwaveInclusion.s2.keysRequested | json }} </pre><div class="form form-inline form-page"><div class=fieldset><h1>{{_t(\'add_new_device\')}}</h1></div><div class="fieldset bar-row inclusion" ng-show=!_.isEmpty(zwaveInclusion.device.find)><div class="bar-col bar-media"><img ng-src="{{cfg.img.zwavedevices + zwaveInclusion.device.find.product_image}}" err-src="{{cfg.online_device_icon_url + zwaveInclusion.device.find.remote_image}}" err-src2={{cfg.img.placeholder}} alt=img></div><div class="bar-col bar-body"><em>{{zwaveInclusion.device.find.brandname + \' \' + zwaveInclusion.device.find.name}}</em></div></div><div class="fieldset clearfix"><div class="app-row app-row-report clearfix"><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">1</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!zwaveInclusion.exclusionProcess.process><button class="btn btn-default" title="{{_t(\'lb_zwave_include_preparation_start\')}}" ng-disabled="zwaveInclusion.inclusionProcess.process || zwaveInclusion.automatedConfiguration.includedDevice.nodeId > 0" ng-click="startStopProcess(\'exclusion\',true)"><i class="fas fa-sync"></i> {{_t(\'lb_zwave_include_preparation_start\')}}</button><bb-help-text trans="_t(\'lb_zwave_include_preparation\')"></bb-help-text><p ng-if=zwaveInclusion.device.find.prep><em>{{zwaveInclusion.device.find.prep}}</em></p></div><div class=inclusion-process ng-if=zwaveInclusion.exclusionProcess.process><div class="alert alert-warning"><h4><i class="fas fa-spinner fa-spin"></i> {{_t(\'lb_ready_exclude\')}}</h4><p ng-bind-html=zwaveInclusion.device.find.exc|toTrusted></p></div><button class="btn btn-danger btn-lg" title="{{_t(\'stop\')}}" ng-click="startStopProcess(\'exclusion\', false)"><i class="fas fa-ban"></i> <span class=btn-name>{{_t(\'stop\')}}</span></button></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=zwaveInclusion.exclusionProcess.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">2</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!zwaveInclusion.inclusionProcess.process><button class="btn btn-success btn-lg" title="{{_t(\'start\')}}" ng-disabled="zwaveInclusion.exclusionProcess.process || zwaveInclusion.automatedConfiguration.includedDevice.nodeId > 0" ng-click="startStopProcess(\'inclusion\', true)"><i class="fas fa-plug"></i> <span class=btn-name>{{_t(\'start\')}}</span></button> <button type=button class="btn btn-default btn-lg" id=btn_force_unsecure_lock ng-class="zwaveInclusion.controller.secureInclusion ? \'active\' : \'\'" ng-click="setSecureInclusion(\'controller.data.secureInclusion=\' + (zwaveInclusion.controller.secureInclusion ? \'0\' : \'2\'))" ng-disabled="zwaveInclusion.exclusionProcess.process || zwaveInclusion.automatedConfiguration.process"><span ng-if=!zwaveInclusion.controller.secureInclusion title="{{_t(\'btn_unsecure\')}}"><i class="fas fa-unlock text-danger"></i> <span class=btn-name>{{_t(\'btn_unsecure\')}}</span> </span><span ng-if=zwaveInclusion.controller.secureInclusion title="{{_t(\'btn_secure\')}}"><i class="fas fa-lock text-success"></i> <span class=btn-name>{{_t(\'btn_secure\')}}</span></span></button> <button class="btn btn-default btn-lg" ng-if=!smartStartEnabled ng-click=enableSmartStart() title="{{_t(\'enable_smart_start\')}}"><i class="fas fa-play-circle text-success"></i><span class=btn-name>{{_t(\'enable_smart_start\')}}</span></button> <button class="btn btn-default btn-lg" ng-if=smartStartEnabled ng-click=disableSmartStart() title="{{_t(\'disable_smart_start\')}}"><i class="fas fa-stop-circle text-warning"></i><span class=btn-name>{{_t(\'disable_smart_start\')}}</span></button></div><div class=inclusion-process ng-if=zwaveInclusion.inclusionProcess.process><div class="alert alert-warning"><h4><i class="fas fa-spinner fa-spin"></i> {{_t(\'lb_ready_include\')}}</h4><p ng-bind-html=zwaveInclusion.device.find.inc|toTrusted></p></div><button class="btn btn-danger btn-lg" title="{{_t(\'stop\')}}" ng-click="startStopProcess(\'inclusion\', false)"><i class="fas fa-ban"></i> <span class=btn-name>{{_t(\'stop\')}}</span></button></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=zwaveInclusion.inclusionProcess.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">3</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!zwaveInclusion.automatedConfiguration.process><h3>{{_t(\'automated_konfiguration\')}}</h3></div><bb-alert alert=zwaveInclusion.s2.alert></bb-alert><div class=inclusion-process ng-if=zwaveInclusion.automatedConfiguration.process><div class="alert alert-warning" ng-hide="zwaveInclusion.automatedConfiguration.progress > 99"><i class="fas fa-spinner fa-spin"></i><strong><span ng-if="breakTime !== null"> [{{breakTime | date: \'mm:ss\'}}]</span> {{_t(\'configuring_device\')}}</strong> <span>(#{{zwaveInclusion.automatedConfiguration.includedDevice.nodeId}})</span><br><span ng-if=zwaveInclusion.automatedConfiguration.includedDevice.retryCCInterviews>{{_t(\'retry_cc_interviews\')}}</span><div ng-if="breakTime === 0"><div>{{_t(\'interviewNotFinish\')}}</div><div>{{_t(\'showInterviewInExpert\')}} <a ng-href=../expert/#/configuration/interview/{{zwaveInclusion.automatedConfiguration.includedDevice.nodeId}} target=_blank><i class="fas fa-external-link-alt"></i></a></div></div></div><div class=progress><div class=progress-bar style="min-height:40px;min-width: 2em; width: {{zwaveInclusion.automatedConfiguration.progress}}%;" ng-class="zwaveInclusion.automatedConfiguration.progress < 100 ? \'progress-bar-striped active\' : \'progress-bar-success\'">{{zwaveInclusion.automatedConfiguration.progress}}%</div></div></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=zwaveInclusion.automatedConfiguration.done></i></div></div><div class=report-entry><div class="report-col report-media"><span class="badge badge-number">4</span></div><div class="report-col report-body"><div class=inclusion-header ng-if=!zwaveInclusion.manualConfiguration.process><h3>{{_t(\'manual_konfiguration\')}}</h3></div><div class=inclusion-process ng-if=zwaveInclusion.manualConfiguration.process><div class="alert alert-warning"><i class="fas fa-spinner fa-spin"></i> <strong ng-bind="_t(\'manual_config_prepare\')"></strong></div></div></div><div class="report-col report-ctrl"><i class="fas fa-check fa-2x text-success" ng-if=zwaveInclusion.manualConfiguration.done></i></div></div></div></div><div class="fieldset submit-entry"><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button></div></div><div id=cancelConfigurationModal class=appmodal ng-if=zwaveInclusion.cancelModal><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click=cancelManualConfiguration(true)><i class="fas fa-times"></i></span><h3>{{cfg.app_name}}</h3></div><div class=appmodal-body>{{_t(\'configuration_cancel\')}}</div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click=cancelManualConfiguration(true)><i class="fas fa-sync text-success"></i> {{_t(\'reset_redo_inclusion\')}}</button> <button type=button class="btn btn-default" ng-click=cancelManualConfiguration(false)>{{_t(\'continue_anyway\')}} <i class="fas fa-arrow-right text-primary"></i></button></div></div></div><div id=inclusionS2GrantKeys class=appmodal ng-if=zwaveInclusion.s2.grantKeys.show><form class=appmodal-in name=form_inclusionS2GrantKeys id=form_inclusionS2GrantKeys ng-submit=""><div class=appmodal-header><h3>{{_t(\'granted_keys\')}}</h3></div><div class=appmodal-body><p>{{_t(\'select_auth_for_device\')}}:</p><div class="alert alert-warning">{{zwaveInclusion.s2.grantKeys.countDown}}s {{_t(\'remain\')}}</div><div><input type=checkbox name=grantS0 value=false id=grantS0 ng-model=zwaveInclusion.s2.input.keysGranted.S0 ng-disabled=!zwaveInclusion.s2.input.keysRequested.S0> <label ng-class="{disabled_label: !zwaveInclusion.s2.input.keysRequested.S0}">{{_t(\'S0\')}}</label></div><div><input type=checkbox name=grantS2Unauthenticated value=false id=grantS2Unauthenticated ng-model=zwaveInclusion.s2.input.keysGranted.S2Unauthenticated ng-disabled=!zwaveInclusion.s2.input.keysRequested.S2Unauthenticated> <label ng-class="{disabled_label: !zwaveInclusion.s2.input.keysRequested.S2Unauthenticated}">{{_t(\'S2_Unauthenticated\')}}</label></div><div><input type=checkbox name=grantS2Authenticated value=false id=grantS2Authenticated ng-model=zwaveInclusion.s2.input.keysGranted.S2Authenticated ng-disabled=!zwaveInclusion.s2.input.keysRequested.S2Authenticated> <label ng-class="{disabled_label: !zwaveInclusion.s2.input.keysRequested.S2Authenticated}">{{_t(\'S2_Authenticated\')}}</label></div><div><input type=checkbox name=grantS2Access value=false id=grantS2Access ng-model=zwaveInclusion.s2.input.keysGranted.S2Access ng-disabled=!zwaveInclusion.s2.input.keysRequested.S2Access> <label ng-class="{disabled_label: !zwaveInclusion.s2.input.keysRequested.S2Access}">{{_t(\'S2_Access\')}}</label></div></div><div class=appmodal-footer><button type=button class="btn btn-submit" ng-click="handleInclusionS2GrantKeys(zwaveInclusion.s2.input.keysGranted, false)"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'ok\')}}</span></button></div></form></div><div id=inclusionVerifyDSKModal class=appmodal ng-if=zwaveInclusion.s2.verifyDSK.show><div class=appmodal-in><form name=dskForm><div class=appmodal-header><h3>{{_t(\'verify_device_pin\')}}</h3></div><div class="appmodal-body form-group form-inline"><div class="alert alert-warning">{{zwaveInclusion.s2.verifyDSK.countDown}}s {{_t(\'remain\')}}</div><label>{{_t(\'pin\')}}</label><div class=pin><label class=pin-label><input name=dsk_pin id=dsk_pin type=number size=5 placeholder=00000 class="form-control hide-arrow input-valid-{{dskForm.dsk_pin.$valid}}" min=0 max=65533 ng-if=zwaveInclusion.s2.input.publicKeyAuthenticationRequired ng-model=zwaveInclusion.s2.input.dskPin required></label><div ng-repeat="_ in [].constructor(14) track by $index"><span ng-if=$even class=sep>-</span> <label class=pin-label ng-if=$odd><input size=5 class=form-control ng-value="dskBlock(zwaveInclusion.s2.input.publicKey, $index)" readonly ng-if=zwaveInclusion.s2.input.publicKeyAuthenticationRequired></label></div></div></div><div class=appmodal-footer><button type=button class="btn btn-submit" ng-click=handleInclusionVerifyDSK(zwaveInclusion.automatedConfiguration.includedDevice.nodeId) ng-click_=handleInclusionVerifyDSK(12)><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'confirm\')}}</span></button></div></form></div></div><div class=device-logo ng-include="\'app/views/zwave/zwave_nav.html\'"></div></div>'),e.put("app/views/zwave/zwave_manage_id_new.html",'<div ng-controller=ZwaveManageIdController class=mobile-padding><bb-loader></bb-loader><div ng-show=formInput.show><h1>(#{{zWaveDevice.id}}) {{formInput.deviceName}}</h1><form name=form_network_config id=form_profile class="form form-page" ng-submit=updateAllDevices(formInput) novalidate><fieldset><label ng-bind="_t(\'rename_device\')"></label> <input name=device_name id=device_name class=form-control value={{formInput.deviceName}} ng-model=formInput.deviceName></fieldset><div ng-if="devices.length > 0"><fieldset><div class="form-group form-inline"><div class=input-group><input name=appstore_token id=appstore_token class=form-control placeholder="{{_t(\'lb_add_room\')}}" ng-model=formInput.newRoom> <span class="input-group-addon clickable" title="{{_t(\'add_new\')}}" ng-click=addRoom(formInput.newRoom)><i class="fas fa-plus text-success"></i></span></div></div><div class="form-group form-inline"><label class=display-block ng-bind="_t(\'devices_to_room\')"></label><div class=btn-group><button type=button class="btn btn-default" ng-click="expandNavi(\'devidDropDown\', $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></button><div class="app-dropdown app-dropdown-left" ng-if=naviExpanded.devidDropDown><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="v in rooms"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div></div></div></fieldset><div class="app-row app-row-widget app-row-element clearfix"><div class=widget-zwave-wrap ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><div id=Widget_{{v.id}} class="widget-entry widget-entry-element widget-zwave"><div class=widget-entry-in><div class=widget-img><img class="widget-preview-img img-circle" ng-src={{e.metrics.icon|getElementIcon:e:e.level}} alt=img></div><div class=widget-header>&nbsp;</div><div class=widget-content><div class=widget-title><div class=btn-group><span class="widget-room clickable" ng-click="expandNavi(\'devidRooms_\' + $index, $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></span><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'devidRooms\' + \'_\' + $index]"><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="v in rooms"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div><h3 class=clickable ng-click="expandNaviNotHide(\'devidTitle_\' + $index, $event)">{{formInput.elements[e.id].metrics.title|cutText:true:25}} <i class="fas fa-pencil-alt text-info"></i></h3><div class="app-dropdown app-dropdown-left" ng-if="naviExpandedNotHide[\'devidTitle\' + \'_\' + $index]"><div class=app-dropdown-content><div class=input-group><input name=title_{{$index}} id=title_{{$index}} class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}}> <span class="input-group-addon clickable" title="{{_t(\'lb_save\')}}" ng-click="expandNaviNotHide(\'devidTitle_\' + $index, $event, false)"><i class="fas fa-check text-success"></i></span></div></div></div></div></div><hr class=bottom-aligner><div class=widget-footer ng-switch=v.deviceType><input type=checkbox> Deactivate | <input type=checkbox> Hide</div></div></div></div><div id=Widget_{{v.id}}_2 class="widget-entry widget-entry-element widget-zwave widget-zwave-ctrl"><div class=widget-entry-in><div class="app-row app-row-report app-row-icons clearfix"><div class=report-entry><div class="report-col report-media">Default</div><div class="report-col report-body">&nbsp;</div><div class="report-col report-media">Custom</div><div class="report-col report-ctrl">&nbsp;</div></div><div class="report-entry clickable" ng-class="k === icons.selected ? \'bcg-success\' : \'\'" ng-repeat="(k,v) in [\'temperature.png\',\'luminosity.png\']"><div class="report-col report-media"><img class=report-img ng-src="{{cfg.img.icons + v}}" alt={{v}}></div><div class="report-col report-body"><i class="fas fa-long-arrow-alt-right"></i></div><div class="report-col report-media"><img class="report-img img-opacity-50" ng-src={{cfg.img.icons}}cancel.png ng-if=!icons.all.custom[k] alt=img></div><div class="report-col report-ctrl"><button type=button title="{{_t(\'lb_update\')}}" class="btn btn-default"><i class="fas fa-pencil-alt text-primary"></i></button> <button type=button title="{{_t(\'lb_remove\')}}" class="btn btn-default"><i class="fas fa-ban text-danger"></i></button></div></div></div></div></div><div class=clearfix></div><div class="widget-zwave-footer clearfix"><div class="widget-zwave-50 form-inline"><div class=input-group><input class=form-control placeholder="Add tag"> <span class="input-group-addon clickable" title="{{_t(\'Addd\')}}"><i class="fas fa-plus text-success"></i></span></div></div><div class=widget-zwave-50><strong>Tags:</strong> tag1, tag2, tag3, tag4</div></div></div></div><div class=clearfix></div><fieldset><div class="form-group form-inline zwave-hidden-{{formInput.elements[e.id].permanently_hidden}}" ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><h3><img class=report-img-s ng-src={{e.iconPath}} alt=img> <span ng-bind=formInput.elements[e.id].metrics.title></span></h3><div class="form-group form-inline"><input name=title_{{$index}} id=title_{{$index}} class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}}> <span class=mobile-block><input type=checkbox name=permanently_hidden_{{$index}} id=permanently_hidden_{{$index}} ng-model=formInput.elements[e.id].permanently_hidden ng-checked=formInput.elements[e.id].permanently_hidden> <label for=permanently_hidden_{{$index}}>{{_t(\'lb_deactivate\')}}</label></span></div></div><div class="form-group form-inline"><a class="btn btn-primary" href=/expert/#/configuration/configuration/{{zWaveDevice.id}} title="{{_t(\'hardware_konfiguration\')}}" ng-if="zWaveDevice.cfg.length > 0"><i class="fas fa-wrench"></i> <span class=btn-name ng-bind="_t(\'hardware_konfiguration\')"></span></a></div></fieldset></div><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" ng-if=!nohistory bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}"><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div><div class=device-logo ng-include="\'app/views/zwave/zwave_nav.html\'"></div></div>'),e.put("app/views/zwave/zwave_manage_id.html",'<div ng-controller=ZwaveManageIdController><bb-loader></bb-loader><div ng-show=formInput.show><h1>(#{{zWaveDevice.id}}) {{formInput.deviceName}}</h1><form name=form_network_config id=form_network_config class="form form-page" ng-submit=updateAllDevices(formInput) novalidate><fieldset><label ng-bind="_t(\'rename_device\')"></label> <input name=device_name id=device_name class=form-control value={{formInput.deviceName}} ng-model=formInput.deviceName></fieldset><div ng-if="devices.length > 0"><fieldset><div class="form-group form-inline"><div class=input-group><input name=appstore_token id=appstore_token class=form-control placeholder="{{_t(\'lb_add_room\')}}" ng-model=formInput.newRoom> <span class="input-group-addon clickable" title="{{_t(\'add_new\')}}" ng-click=addRoom(formInput.newRoom)><i class="fas fa-plus text-success"></i></span></div></div><div class="form-group form-inline"><label class=display-block ng-bind="_t(\'devices_to_room\')"></label><div class=btn-group><button type=button class="btn btn-default" ng-click="expandNavi(\'devidDropDown\', $event)">{{rooms[formInput.room].title|cutText:true:20}} <i class="fas fa-caret-down"></i></button><div class="app-dropdown app-dropdown-left" ng-if=naviExpanded.devidDropDown><ul><li class=clickable ng-click="formInput.room = v.id" ng-repeat="(_, v) in rooms | orderBy:\'title\'"><a><img class=navi-img ng-src={{v.img_src}} alt=img> {{v.title|cutText:true:20}} <i class="fas fa-check menu-arrow" ng-if="formInput.room == v.id"></i></a></li></ul></div></div></div></fieldset><fieldset><div class="form-group form-inline zwave-hidden-{{formInput.elements[e.id].permanently_hidden}}" ng-repeat="e in devices| orderBy:\'title\':false track by e.id" ng-init="dev[e.id] = e"><ng-form name=subForm><h3><img class=report-img-s ng-src={{e.iconPath}} alt=img> <span ng-bind=formInput.elements[e.id].metrics.title></span></h3><div class="form-group form-inline is-inline"><input name=title id=title class=form-control ng-model=formInput.elements[e.id].metrics.title value={{formInput.elements[e.id].metrics.title}} ng-blur="titleBlur = true" ng-required=true size=40> <span class=mobile-block><input type=checkbox name=permanently_hidden_{{$index}} id=permanently_hidden_{{$index}} ng-model=formInput.elements[e.id].permanently_hidden ng-checked=formInput.elements[e.id].permanently_hidden> <label for=permanently_hidden_{{$index}}>{{_t(\'lb_deactivate\')}}</label></span><bb-validator input-name=subForm.title.$error.required trans=\'_t("field_required")\' has-blur=titleBlur></bb-validator></div><div class=text-info><i class="fas fa-info-circle text-info"></i> Id: {{e.id}}</div></ng-form></div><div class="form-group form-inline"><a class="btn btn-primary" href=/expert/#/configuration/configuration/{{zWaveDevice.id}} title="{{_t(\'hardware_konfiguration\')}}" ng-if="zWaveDevice.cfg.length > 0"><i class="fas fa-wrench"></i> <span class=btn-name ng-bind="_t(\'hardware_konfiguration\')"></span></a></div></fieldset></div><fieldset class=submit-entry><button type=button class="btn btn-default" title="{{_t(\'lb_cancel\')}}" ng-if=!nohistory bb-go-back><i class="fas fa-reply"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button> <button type=submit class="btn btn-submit" title="{{_t(\'lb_save\')}}" ng-disabled=form_network_config.$invalid><i class="fas fa-check"></i> <span class=btn-name>{{_t(\'lb_save\')}}</span></button></fieldset></form></div><div class=device-logo ng-include="\'app/views/zwave/zwave_nav.html\'"></div></div>'),e.put("app/views/zwave/zwave_manage.html",'<div ng-controller=ZwaveManageController><bb-loader></bb-loader><div ng-include="\'app/views/zwave/navi.html\'"></div><div class="app-row app-row-report app-row-zwave clearfix"><div id=row_zwave_{{v.id}} class=report-entry ng-repeat="v in devices.zw | orderBy:\'id\'"><div class="report-col report-body zwave-devices"><div class=btn-group><span class="network-zwave-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}}) </span><a href="" class=network-zwave-title ng-click="expandNavi(\'accZwaveManage_\' + v.id, $event)" ng-if="_.size(v.elements) > 0"><i class=fa ng-class="naviExpanded[\'accZwaveManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}}) </a><span class="label label-success" ng-if="v.securityType === \'security-1\'"><i class="fas fa-shield-alt"></i> </span><span class="label label-success" ng-if="v.securityType === \'security-2\'"><i class="fas fa-shield-alt"></i> <i class="fas fa-shield-alt"></i> S2</span><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accZwaveManage_\' + v.id]"><ul><li class=zwave-hidden-{{e.permanently_hidden}} ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:40}} <span class=zwave-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-ctrl" ng-if=elementAccess(cfg.role_access.network)><div class=btn-group><a class="btn btn-default" href=#zwave/devices/{{v.id}} title="{{_t(\'lb_configuration\')}}"><i class="fas fa-cog text-primary"></i> </a><a class="btn btn-default" href=#zwave/exclude/{{v.id}} title="{{_t(\'lb_remove\')}}"><i class="fas fa-trash text-danger"></i></a></div></div></div></div><div class=device-logo ng-include="\'app/views/zwave/zwave_nav.html\'"></div></div>'),e.put("app/views/zwave/zwave_nav.html","<a href=#devices><img class=apps-image ng-src=app/img/logo-zwave.svg alt=Logo></a>"),e.put("app/views/zwave/zwave_network.html",'<div ng-controller=ZwaveManageController><bb-loader></bb-loader><div ng-include="\'app/views/zwave/navi.html\'"></div><div class="app-row app-row-report app-row-zwave clearfix"><div id=row_zwave_network_{{v.id}} class=report-entry ng-repeat="v in devices.zw | orderBy:\'title\':false" ng-class="v.isFailed ? \'bcg-danger\': \'\'" ng-if="_.size(v.messages) > 0"><div class="report-col report-body zwave-network"><span class="network-zwave-title noelements" ng-if="_.size(v.elements) < 1">{{v.title}} (#{{v.id}})</span><div class=btn-group ng-if="_.size(v.elements) > 0"><a href="" class=network-zwave-title ng-click="expandNavi(\'accZwaveManage_\' + v.id, $event)"><i class=fa ng-class="naviExpanded[\'accZwaveManage_\' + v.id] ? \'fa-chevron-up\' : \'fa-chevron-down\'"></i> {{v.title}} (#{{v.id}})</a><div class="app-dropdown app-dropdown-left" ng-if="naviExpanded[\'accZwaveManage_\' + v.id]"><ul><li class="clickable zwave-hidden-{{e.permanently_hidden}}" ng-init="elUrl = (e.permanently_hidden ? \'\': \'#/element/\' + e.id)" ng-repeat="e in v.elements| orderBy:\'metrics.title\':false"><a ng-href={{elUrl}} title={{e.metrics.title}}><img class=report-img-s ng-src={{e.iconPath}} alt=img> {{e.metrics.title|cutText:true:20}} <span class=zwave-raquo>&raquo;</span></a></li></ul></div></div></div><div class="report-col report-ctrl"><div ng-repeat="m in v.messages|unique:true"><div class=text-danger ng-if="m.type !== \'config\'">{{m.error}}</div><button class="btn btn-default" ng-if="!v.interviewDone  && !v.isFailed" ng-click="devices.find = v;handleModal(\'zwaveNetworkModal\', $event)"><i class="fas fa-sync text-primary"></i> <span class=btn-name>{{_t(\'configure_device\')}}</span></button></div></div></div></div><div class=device-logo ng-include="\'app/views/zwave/zwave_nav.html\'"></div><div id=zwaveNetworkModal class=appmodal ng-controller=ZwaveInterviewController ng-if="modalArr.zwaveNetworkModal && !_.isEmpty(devices.find)"><div class=appmodal-in><div class=appmodal-header><span class=appmodal-close ng-click=cancelConfiguration($event)><i class="fas fa-times"></i></span><h3>{{devices.find.title|cutText:true:25}} (#{{devices.find.id}})</h3></div><div class=appmodal-body><div class="alert alert-warning" ng-hide="zwaveInterview.progress > 99"><i class="fas fa-spinner fa-spin"></i> <strong>{{_t(\'configuring_device\')}}</strong></div><div class=progress><div class=progress-bar style="min-height:40px;min-width: 2em; width: {{zwaveInterview.progress}}%;" ng-class="zwaveInterview.progress < 100 ? \'progress-bar-striped active\' : \'progress-bar-success\'">{{zwaveInterview.progress}}%</div></div></div><div class=appmodal-footer><button type=button class="btn btn-default" ng-click=cancelConfiguration($event)><i class="fas fa-times text-danger"></i> <span class=btn-name>{{_t(\'lb_cancel\')}}</span></button></div></div></div></div>'),e.put("app/views/zwave/zwave_products.html",'<div ng-controller=ZwaveVendorController><bb-loader></bb-loader><div class=row><div class=col-sm-6><h3><a ng-href=#/zwave/vendors class="btn btn-default"><i class="fas fa-arrow-left"></i> </a><strong>{{zwaveVendors.products.pageTitle}}</strong> | {{_t(\'products\')}} <span class="badge text-primary">{{zwaveVendors.products.cnt}}</span> | {{_t(\'frequency\')}} <span class=badge>{{zwaveVendors.frequencyName}}</span> <em ng-class="zwaveProducts.cnt == 0 ? \'text-danger\': \'\' "></em></h3></div><div class=col-sm-6 ng-include="\'app/views/zwave/zwave_vendors_ctrl.html\'"></div></div><div class="alert alert-warning" ng-if=zwaveVendors.products.noSearch><i class="fas fa-exclamation-circle"></i>&nbsp;{{_t(\'no_search_results\',{__term__: "\\"" + zwaveVendors.products.noSearch + "\\""})}}</div><div class=list-panel ng-repeat="v in zwaveVendors.products.collection | orderBy:\'name\' track by $index"><figure class="img wh-64x64 clickable"><a ng-href=#zwave/inclusion/{{v.id}}><img class=product-img ng-src="{{cfg.img.zwavedevices + v.product_image}}" err-src="{{cfg.online_device_icon_url + v.remote_image}}" err-src2={{cfg.img.placeholder}} alt=img></a></figure><div class=body><div><a ng-href=#zwave/inclusion/{{v.id}}>{{v.name}}</a><p class=s-hide><small>{{v.id}}</small></p></div></div><div class=control><a ng-href=#zwave/inclusion/{{v.id}} class="btn btn-default" title="{{_t(\'lb_include_device\')}}"><i class="fas fa-plug text-primary"></i></a></div></div><div class="fieldset submit-entry_" ng-show="_.size(zwaveVendors.products.collection) > 10"><a ng-href=#/zwave/vendors class="btn btn-default"><i class="fas fa-arrow-left"></i></a></div></div>'),e.put("app/views/zwave/zwave_vendors_autodetect.html",'<div class="tabs-wrap form-inline device-autodetect"><div class="btn-group btn-group-justified"><a href=#zwave/inclusion class="btn btn-default btn-lg btn-block" title="{{_t(\'lb_zwave_autodetect\')}}"><i class="fas fa-plug text-success"></i> <span class=btn-name>{{_t(\'lb_zwave_autodetect\')}}</span> </a><a class="btn btn-default btn-lg btn-block" href=#smartstart title="{{_t(\'scan_qrcode\')}}"><i class="fas fa-qrcode text-success"></i> <span class=btn-name ng-bind="_t(\'scan_qrcode\')"></span></a></div></div>'),e.put("app/views/zwave/zwave_vendors_ctrl.html",'<div class="page-control form-inline" bind-class-on-scroll offset={{cfg.scroll_offset}} scroll-class=fix-me-top><form id=form_search_vendor class=input-group ng-submit="setFilter({q: autocomplete.term})" autocomplete=off novalidate><input id=input_search focus={{zwaveVendors.filter.q}} class=form-control placeholder="{{_t(\'lb_search\')}}" ng-model=autocomplete.term bb-key-event=searchMe() data-toggle=dropdown> <span class="input-group-addon clickable" ng-click="setFilter({q: autocomplete.term})"><i class="fas fa-search" ng-class="{\'text-success\':autocomplete.term}"></i></span><div class="app-dropdown autocomplete" ng-if=autocompleteExpanded.searchProducts><ul><li class=dropdown-entry title={{v.title}} ng-repeat="v in autocomplete.results | orderBy:\'name\' track by $index"><span class=dropdown-col ng-click="setFilter({q: autocomplete.term})"><img class=report-img-s ng-src="{{cfg.img.zwavedevices + v.product_image}}" err-src={{cfg.img.placeholder}} alt=img> <span class=aoutocomplete-title>{{v.name|cutText:true:30}}</span>&nbsp; <em class=item-cnt>({{v.brandname}})</em> </span><span class="dropdown-col dropdown-ctrl" title="{{_t(\'lb_cfg_view\')}}"><a ng-href=#zwave/inclusion/{{v.id}}><i class="fas fa-plug text-primary"></i></a></span></li></ul></div></form></div>'),e.put("app/views/zwave/zwave_vendors.html",'<div ng-controller=ZwaveVendorController><bb-loader></bb-loader><div class="text-center device-autodetect" ng-include="\'app/views/zwave/zwave_vendors_autodetect.html\'"></div><bb-alert alert=zwaveVendors.alert></bb-alert><div ng-include="\'app/views/zwave/zwave_vendors_ctrl.html\'" ng-if="zwaveVendors.view === \'default\'"></div><div class="vendors flexgallery" ng-if="zwaveVendors.view === \'default\'"><div ng-click="setFilter({brandid: v.Name})" ng-repeat="(k,v) in zwaveVendors.all| orderBy:\'Name\' track by $index" ng-hide="!v.Name || !zwaveVendors.cnt[v.Name]" ng-if="v.Frequency.indexOf(zwaveVendors.frequencyName) > -1 || v.Frequency.indexOf(\'Europe\') > -1"><figure><img title={{v.Name}} alt={{v.Name|cutText:true:20}} ng-src="{{cfg.img.zwavevendors + v.Image}}" err-src="{{cfg.online_vendor_icon_url + v.Image}}" ng-show=v.Image> <span ng-hide=v.Image>{{v.Name|cutText:true:20}}</span></figure></div></div><div class="alert alert-warning" ng-if="zwaveVendors.view === \'update\'"><i class="fas fa-database"></i> {{_t(\'doyou_want_update_db\')}} <button class="btn btn-success" ng-click=updateVendorDatabase()>{{_t(\'yes\')}}</button> <button class="btn btn-default" ng-click=disableDatabaseUpdate()>{{_t(\'no\')}}</button></div><div class=device-logo ng-include="\'app/views/zwave/zwave_nav.html\'"></div></div>')}]),angular.module("qAllSettled",[]).config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){var t=e;return t.allSettled=function(e){var a=angular.isArray(e)?e.slice(0):{};return angular.forEach(e,function(e,t){a[t]=e?e.then(function(e){return{state:"fulfilled",value:e}},function(e){return{state:"rejected",reason:e}}):{state:"rejected",reason:"N/A"}}),t.all(a)},t}])}]),angular.module("httpLatency",[],["$httpProvider","cfg",function(e,n){function t(t,a){return console.log(n),function(e){return e.then(function(e){return a(function(){return e},n.latency_timeout)},function(e){return t.reject(e)})}}t.$inject=["$q","$timeout"],0<n.latency_timeout&&e.responseInterceptors.push(t)}]),!function(e,t,a){function n(t,e){return(e="string"==typeof e||e instanceof String?new RegExp(e):e)instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(function(e){return n(t,e)}):e&&Array.isArray(e.or)?e.or.some(function(e){return n(t,e)}):!(!e||!e.not)&&!n(t,e.not)}function i(a,e){return(e="string"==typeof e||e instanceof String?new RegExp(e):e)instanceof RegExp?e.exec(a):e&&Array.isArray(e)?e.reduce(function(e,t){return e||i(a,t)},null):null}a&&a.module("reTree",[]).factory("reTree",[function(){return{test:n,exec:i}}]),t&&(t.reTree={test:n,exec:i}),e&&(e.exports={test:n,exec:i})}("undefined"==typeof module?null:module,"undefined"==typeof window?null:window,"undefined"==typeof angular?null:angular),angular.module("ng.deviceDetector",["reTree"]).constant("BROWSERS",{CHROME:"chrome",FIREFOX:"firefox",SAFARI:"safari",OPERA:"opera",IE:"ie",MS_EDGE:"ms-edge",PS4:"ps4",VITA:"vita",ZWAYMOBILEAPPANDROID:"ZWayMobileAppAndroid",ZWAYMOBILEAPPIOS:"ZWayMobileAppiOS",UNKNOWN:"unknown"}).constant("DEVICES",{ANDROID:"android",I_PAD:"ipad",IPHONE:"iphone",I_POD:"ipod",BLACKBERRY:"blackberry",FIREFOX_OS:"firefox-os",CHROME_BOOK:"chrome-book",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",ZWAYMOBILEAPPANDROID:"ZWayMobileAppAndroid",ZWAYMOBILEAPPIOS:"ZWayMobileAppiOS",UNKNOWN:"unknown"}).constant("OS",{WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",LINUX:"linux",UNIX:"unix",FIREFOX_OS:"firefox-os",CHROME_OS:"chrome-os",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",ZWAYMOBILEAPPANDROID:"ZWayMobileAppAndroid",ZWAYMOBILEAPPIOS:"ZWayMobileAppiOS",UNKNOWN:"unknown"}).constant("OS_VERSIONS",{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",UNKNOWN:"unknown"}).service("detectUtils",["deviceDetector","DEVICES","BROWSERS","OS",function(e,t,a,n){this.isMobile=function(){return"unknown"!==e.device},this.isAndroid=function(){return e.device===t.ANDROID||e.OS===n.ANDROID},this.isIOS=function(){return e.os===n.IOS||e.device===t.I_POD||e.device===t.IPHONE}}]).factory("deviceDetector",["$window","DEVICES","BROWSERS","OS","OS_VERSIONS","reTree",function(e,a,n,i,s,o){var l={ZWAYMOBILEAPPANDROID:/\bZ-Way App Android\b.*/,ZWAYMOBILEAPPIOS:/\bZ-Way App iOS\b.*/,WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:/Windows Phone/}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/Windows Phone/}]},ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},r={ZWAYMOBILEAPPANDROID:/\bZ-Way App Android\b.*/,ZWAYMOBILEAPPIOS:/\bZ-Way App iOS\b.*/,CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/]},{not:{or:[/\bOPR\b/,/\bEdge\b/]}}]},FIREFOX:/\bFirefox\b/,SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdge\b/,/Windows Phone/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/]},MS_EDGE:{or:[/\bEdge\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},d={ZWAYMOBILEAPPANDROID:/\bZ-Way App Android\b.*/,ZWAYMOBILEAPPIOS:/\bZ-Way App iOS\b.*/,ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},I_PAD:/\biPad\b/,IPHONE:{and:[/\biPhone\b/,{not:/Windows Phone/}]},I_POD:/\biPod\b/,BLACKBERRY:/\bblackberry\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},c={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]}},u={CHROME:/\bChrome\/([\d\.]+)\b/,FIREFOX:/\bFirefox\/([\d\.]+)\b/,SAFARI:/\bVersion\/([\d\.]+)\b/,OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdge\/([\d\.]+)\b/},t=Object.keys(u).reduce(function(e,t){return e[n[t]]=u[t],e},{}),p=e.navigator.userAgent,m={raw:{userAgent:p,os:{},browser:{},device:{}}};return m.raw.os=Object.keys(i).reduce(function(e,t){return e[i[t]]=o.test(p,l[t]),e},{}),m.raw.browser=Object.keys(n).reduce(function(e,t){return e[n[t]]=o.test(p,r[t]),e},{}),m.raw.device=Object.keys(a).reduce(function(e,t){return e[a[t]]=o.test(p,d[t]),e},{}),m.raw.os_version=Object.keys(s).reduce(function(e,t){return e[s[t]]=o.test(p,c[t]),e},{}),m.os=[i.ZWAYMOBILEAPPANDROID,i.ZWAYMOBILEAPPIOS,i.WINDOWS,i.IOS,i.MAC,i.ANDROID,i.LINUX,i.UNIX,i.FIREFOX_OS,i.CHROME_OS,i.WINDOWS_PHONE,i.PS4,i.VITA].reduce(function(e,t){return e===i.UNKNOWN&&m.raw.os[t]?t:e},i.UNKNOWN),m.browser=[n.ZWAYMOBILEAPPANDROID,n.ZWAYMOBILEAPPIOS,n.CHROME,n.FIREFOX,n.SAFARI,n.OPERA,n.IE,n.MS_EDGE,n.PS4,n.VITA].reduce(function(e,t){return e===n.UNKNOWN&&m.raw.browser[t]?t:e},n.UNKNOWN),m.device=[a.ZWAYMOBILEAPPANDROID,a.ZWAYMOBILEAPPIOS,a.ANDROID,a.I_PAD,a.IPHONE,a.I_POD,a.BLACKBERRY,a.FIREFOX_OS,a.CHROME_BOOK,a.WINDOWS_PHONE,a.PS4,a.VITA].reduce(function(e,t){return e===a.UNKNOWN&&m.raw.device[t]?t:e},a.UNKNOWN),m.os_version=[s.WINDOWS_3_11,s.WINDOWS_95,s.WINDOWS_ME,s.WINDOWS_98,s.WINDOWS_CE,s.WINDOWS_2000,s.WINDOWS_XP,s.WINDOWS_SERVER_2003,s.WINDOWS_VISTA,s.WINDOWS_7,s.WINDOWS_8_1,s.WINDOWS_8,s.WINDOWS_10,s.WINDOWS_PHONE_7_5,s.WINDOWS_PHONE_8_1,s.WINDOWS_PHONE_10,s.WINDOWS_NT_4_0].reduce(function(e,t){return e===s.UNKNOWN&&m.raw.os_version[t]?t:e},s.UNKNOWN),m.browser_version="0",m.browser!==n.UNKNOWN&&(e=o.exec(p,t[m.browser]))&&(m.browser_version=e[1]),m.isMobile=function(){return[a.ANDROID,a.I_PAD,a.IPHONE,a.I_POD,a.BLACKBERRY,a.FIREFOX_OS,a.CHROME_BOOK,a.WINDOWS_PHONE,a.VITA,a.ZWAYMOBILEAPPANDROID,a.ZWAYMOBILEAPPIOS].some(function(e){return m.device==e})},m.isTablet=function(){return[a.I_PAD,a.FIREFOX_OS,a.CHROME_BOOK].some(function(e){return m.device==e})},m.isDesktop=function(){return[a.PS4,a.UNKNOWN].some(function(e){return m.device==e})},m}]).directive("deviceDetector",["deviceDetector",function(a){return{restrict:"A",link:function(e,t){t.addClass("os-"+a.os),t.addClass("browser-"+a.browser),t.addClass("device-"+a.device)}}}]),angular.module("myAppFactory",[])),myAppService=(myAppFactory.factory("myCache",["$cacheFactory",function(e){return e("myData")}]),myAppFactory.factory("_",function(){return window._}),myAppFactory.factory("dataFactory",["$http","$filter","$q","myCache","$interval","dataService","cfg","_",function(o,n,l,r,e,t,d,c){var i=0,u=0,p=0,m=0,a=0,g=d.lang,f=t.getZWAYSession(),t=t.getUser();t&&(g=t.lang);return{pingServer:function(e){return o({method:"get",timeout:d.pending_timeout_limit,cancel:l.defer(),url:e,headers:{isZWAY:!0}}).then(function(e){return e},function(e){return l.reject(e)})},logInApi:function(e){return function(e){for(var t,a=location.pathname.replace(/\/$/,"").split("/"),n=[],i=0,s=a.length;i<s;i++)t=a.slice(0,i+1).join("/"),n.push(t),n.push(t+"/");!function(e,t){var a=new Date(0).toUTCString();document.cookie=e+"=; expires="+a;for(var n=0,i=t.length;n<i;n++)document.cookie=e+"=; path="+t[n]+"; expires="+a}(e,n)}("ZWAYSession"),o({method:"post",headers:{ZWAYSessionCookieIgnore:"true"},data:e,url:d.server_url+d.api.login}).then(function(e){return e},function(e){return l.reject(e)})},sessionApi:function(){return o({method:"get",url:d.server_url+d.api.session}).then(function(e){return e},function(e){return l.reject(e)})},getApiLocal:function(t){var e=r.get(t);{var a;if(e)return(a=l.defer()).resolve(e),a.promise}return o({method:"get",url:d.local_data_url+t}).then(function(e){return"object"===_typeof(e.data)?(r.put(t,e),e):l.reject(e)},function(e){return l.reject(e)})},runJs:function(e){return o({method:"get",url:d.server_url+d.zway_jsrun_url+e,headers:{"Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},getApi:function(e,t,a,n){var i=e+(t||""),s=r.get(i);return a||!s?o({method:"get",url:d.server_url+d.api[e]+(t||""),headers:{"Accept-Language":g,ZWAYSession:f,isZWAY:!0}}).then(function(e){return angular.isDefined(e.data)&&"object"===_typeof(e.data)?(r.put(i,e),e):l.reject(e)},function(e){return c.isObject(n)&&angular.extend(d.route.alert,n),l.reject(e)}):((a=l.defer()).resolve(s),a.promise)},getApiNoToken:function(e){return o({method:"get",url:d.server_url+d.api[e],headers:{"Accept-Language":g,ZWAYSessionCookieIgnore:"true",isZWAY:!0}}).then(function(e){return angular.isDefined(e.data)&&"object"===_typeof(e.data)?e:l.reject(e)},function(e){return l.reject(e)})},deleteApi:function(e,t,a){return o({method:"delete",url:d.server_url+d.api[e]+"/"+t+(a||""),headers:{"Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},deleteApiFormdata:function(e,t,a){return o({method:"delete",url:d.server_url+d.api[e]+(a||""),data:$.param(t),headers:{"Content-Type":"application/x-www-form-urlencoded","Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},deleteApiJSON:function(e,t,a){return o({method:"delete",url:d.server_url+d.api[e]+(a||""),data:t,headers:{"Content-Type":"application/json","Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},postApi:function(e,t,a){return o({method:"post",data:t||{},url:d.server_url+d.api[e]+(a||""),headers:{"Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},putApi:function(e,t,a,n){return o({method:"put",data:a,url:d.server_url+d.api[e]+(t?"/"+t:"")+(n||""),headers:{"Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},putApiWithHeaders:function(e,t,a,n,i){return o({method:"put",data:a,url:d.server_url+d.api[e]+(t?"/"+t:"")+(i||""),headers:n}).then(function(e){return e},function(e){return l.reject(e)})},putApiFormdata:function(e,t,a){return o({method:"put",data:$.param(t),url:d.server_url+d.api[e]+(a||""),headers:{"Content-Type":"application/x-www-form-urlencoded","Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},storeApi:function(e,t,a,n){return o({method:t?"put":"post",data:a,url:d.server_url+d.api[e]+(t?"/"+t:"")+(n||""),headers:{"Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},runApiCmd:function(e){return o({method:"get",url:d.server_url+d.api_url+"devices/"+e,headers:{"Accept-Language":g,ZWAYSession:f}}).then(function(e){return 200==e.data.code?e:l.reject(e)},function(e){return l.reject(e)})},getRemoteData:function(e,t){var a="cache_"+e,n=r.get(a);return t||!n?o({method:"get",timeout:d.pending_remote_limit,isRemote:!0,url:e}).then(function(e){return"object"===_typeof(e.data)?(r.put(a,e),e):l.reject(e)},function(e){return l.reject(e)}):((t=l.defer()).resolve(n),t.promise)},refreshApi:function(e,t,a){!a&&void 0===a||(i=a);if(c.findWhere(o.pendingRequests,{failWait:e}))return l.reject("Pending");"notifications"===e&&(i*=1e3);return o({method:"get",url:d.server_url+d.api[e]+"?since="+i+(t||""),failWait:e,timeout:d.pending_timeout_limit,headers:{"Accept-Language":g,ZWAYSession:f,isZWAY:!0}}).then(function(e){var t;return"object"===_typeof(e.data)?(t=(a=e.data.data.updateTime||e.data.updateTime||0)+-1*d.route.time.timeZoneOffset*3600,d.route.time.timestamp=t,d.route.time.string=n("setTimeFromBox")(t),d.route.time.timeUpdating=!0,e):l.reject(e)},function(e){return l.reject(e)})},runExpertCmd:function(e){return o({method:"post",url:d.server_url+d.zwaveapi_run_url+e,data:{}}).then(function(e){return e},function(e){return l.reject(e)})},xmlToJson:function(e,t){var a="cache_"+e,n=r.get(a);return t||!n?o({timeout:d.pending_remote_limit,suppressFtalError:!0,method:"get",url:e}).then(function(e){var t=(new X2JS).xml_str2json(e.data);return t?(r.put(a,t),t):l.reject(e)},function(e){return l.reject(e)}):((t=l.defer()).resolve(n),t.promise)},uploadApiFile:function(e,t){e=d.server_url+e;return o.post(e,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0,ZWAYSession:f}}).then(function(e){return"object"===_typeof(e.data)?e:l.reject(e)},function(e){return l.reject(e)})},putCfgXml:function(e){return o({method:"POST",url:d.server_url+d.cfg_xml_url,data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e},function(e){return l.reject(e)})},refreshZwaveApiData:function(){var e="refresh_zwaveapidata";if(c.findWhere(o.pendingRequests,{failWait:e}))return l.reject("Pending");return o({method:"get",failWait:e,url:d.server_url+d.zwave_api_url+"Data/"+u}).then(function(e){return"object"===_typeof(e.data)?(u=e.data.updateTime,e):l.reject(e)},function(e){return l.reject(e)})},refreshZigbeeApiData:function(){var e="refresh_zigbeeapidata";if(c.findWhere(o.pendingRequests,{failWait:e}))return l.reject("Pending");return o({method:"get",failWait:e,url:d.server_url+d.zigbee_api_url+"Data/"+p}).then(function(e){return"object"===_typeof(e.data)?(p=e.data.updateTime,e):l.reject(e)},function(e){return l.reject(e)})},refreshZMatterApiData:function(){var e="refresh_zmatterapidata";if(c.findWhere(o.pendingRequests,{failWait:e}))return l.reject("Pending");return o({method:"get",failWait:e,url:d.server_url+d.zmatter_api_url+"Data/"+m}).then(function(e){return"object"===_typeof(e.data)?(m=e.data.updateTime,e):l.reject(e)},function(e){return l.reject(e)})},getSystemCmd:function(e){return o({method:"get",url:d.server_url+d.zwave_api_url+e,headers:{"Accept-Language":g,ZWAYSession:f}}).then(function(e){return"object"===_typeof(e.data)?e:l.reject(e)},function(e){return l.reject(e)})},getLanguageFile:function(e){var t=e+".json",e=r.get(t);{var a;if(e)return(a=l.defer()).resolve(e),a.promise}return o({method:"get",url:d.lang_dir+t}).then(function(e){return"object"===_typeof(e.data)?(r.put(t,e),e):l.reject(e)},function(e){return l.reject(e)})},loadZwaveApiData:function(e){var t=l.defer(),a="cache_zwaveapidata",n=r.get(a);return e||!n?o({method:"get",url:d.server_url+d.zwave_api_url+"Data/0",headers:{ZWAYSession:f}}).then(function(e){return"object"===_typeof(e.data)?(r.put(a,e.data),e.data):l.reject(e)},function(e){return 403!==e.status&&angular.extend(d.route.alert,{message:d.route.t.error_zwave_network,info:d.route.t.how_to_resolve_zwave_errors,hide:!1,permanent:!0}),l.reject(e)}):(t.resolve(n),t.promise)},loadZigbeeApiData:function(e){var t=l.defer(),a="cache_zigbeeapidata",n=r.get(a);return e||!n?o({method:"get",url:d.server_url+d.zigbee_api_url+"Data/0",headers:{ZWAYSession:f}}).then(function(e){return"object"===_typeof(e.data)?(r.put(a,e.data),e.data):l.reject(e)},function(e){return 403!==e.status&&angular.extend(d.route.alert,{message:d.route.t.error_zigbee_network,info:d.route.t.how_to_resolve_zigbee_errors,hide:!1,permanent:!0}),l.reject(e)}):(t.resolve(n),t.promise)},loadZMatterApiData:function(e){var t=l.defer(),a="cache_zmatterapidata",n=r.get(a);return e||!n?o({method:"get",url:d.server_url+d.zmatter_api_url+"Data/0",headers:{ZWAYSession:f}}).then(function(e){return"object"===_typeof(e.data)?(r.put(a,e.data),e.data):l.reject(e)},function(e){return 403!==e.status&&angular.extend(d.route.alert,{message:d.route.t.error_zmatter_network,info:d.route.t.how_to_resolve_zmatter_errors,hide:!1,permanent:!0}),l.reject(e)}):(t.resolve(n),t.promise)},joinedZwaveData:function(e){Math.round(+new Date/1e3);var t="cache_zwaveapidata",s=r.get(t)||e,a={};return o({method:"post",url:d.server_url+d.zwave_api_url+"Data/"+u,data:{}}).then(function(e){return"object"===_typeof(e.data)&&s?(e.data.updateTime,angular.forEach(e.data,function(e,t){if(angular.isString(t)){var a,n=s,i=t.split(".");for(a in i.slice(0,-1))n=n[i[a]];n[i.slice(-1)]=e}}),a={joined:s,update:e.data},e.data=a,u=n("hasNode")(e,"data.updateTime")||n("hasNode")(e,"updateTime")||Math.round(+new Date/1e3),r.put(t,s),e):l.reject(e)},function(e){return l.reject(e)})},joinedZigbeeData:function(e){Math.round(+new Date/1e3);var t="cache_zigbeeapidata",s=r.get(t)||e,a={};return o({method:"post",url:d.server_url+d.zigbee_api_url+"Data/"+p,data:{}}).then(function(e){return"object"===_typeof(e.data)&&s?(e.data.updateTime,angular.forEach(e.data,function(e,t){if(angular.isString(t)){var a,n=s,i=t.split(".");for(a in i.slice(0,-1))n=n[i[a]];n[i.slice(-1)]=e}}),a={joined:s,update:e.data},e.data=a,p=n("hasNode")(e,"data.updateTime")||n("hasNode")(e,"updateTime")||Math.round(+new Date/1e3),r.put(t,s),e):l.reject(e)},function(e){return l.reject(e)})},joinedZMatterData:function(e){Math.round(+new Date/1e3);var t="cache_zmatterapidata",s=r.get(t)||e,a={};return o({method:"post",url:d.server_url+d.zmatter_api_url+"Data/"+m,data:{}}).then(function(e){return"object"===_typeof(e.data)&&s?(e.data.updateTime,angular.forEach(e.data,function(e,t){if(angular.isString(t)){var a,n=s,i=t.split(".");for(a in i.slice(0,-1))n=n[i[a]];n[i.slice(-1)]=e}}),a={joined:s,update:e.data},e.data=a,m=n("hasNode")(e,"data.updateTime")||n("hasNode")(e,"updateTime")||Math.round(+new Date/1e3),r.put(t,s),e):l.reject(e)},function(e){return l.reject(e)})},runZwaveCmd:function(e){if(c.findWhere(o.pendingRequests,{failWait:e}))return l.reject("Pending");return o({method:"get",url:d.server_url+d.zwave_api_url+"Run/"+e,failWait:e}).then(function(e){return e},function(e){return l.reject(e)})},runZigbeeCmd:function(e){if(c.findWhere(o.pendingRequests,{failWait:e}))return l.reject("Pending");return o({method:"get",url:d.server_url+d.zigbee_api_url+"Run/"+e,failWait:e}).then(function(e){return e},function(e){return l.reject(e)})},runZMatterCmd:function(e){if(c.findWhere(o.pendingRequests,{failWait:e}))return l.reject("Pending");return o({method:"get",url:d.server_url+d.zmatter_api_url+"Run/"+e,failWait:e}).then(function(e){return e},function(e){return l.reject(e)})},loadEnoceanApiData:function(e){var t="cache_enocean_data",a=r.get(t);return e||!a?o({method:"get",url:d.server_url+d.enocean_data_url+0}).then(function(e){return"object"===_typeof(e)?(r.put(t,e),e):l.reject(e)},function(e){return l.reject(e)}):((e=l.defer()).resolve(a),e.promise)},refreshEnoceanApiData:function(){return o({method:"get",url:d.server_url+d.enocean_data_url+a}).then(function(e){return"object"===_typeof(e.data)?(a=n("hasNode")(e.data,"data.updateTime")||n("hasNode")(e.data,"updateTime")||Math.round(+new Date/1e3),e):l.reject(e)},function(e){return l.reject(e)})},runEnoceanCmd:function(e){return o({method:"get",url:d.server_url+d.enocean_run_url+e}).then(function(e){return e},function(e){return l.reject(e)})},getLicense:function(e){return o({method:"post",url:d.license_url,data:$.param(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return 1<e.data.license.length?e.data.license:l.reject(e)},function(e){return l.reject(e)})},zmeCapabilities:function(e){return o({method:"POST",url:d.server_url+d.license_load_url,data:$.param({license:e.toString()}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e},function(e){return l.reject(e)})},postReport:function(e){return o({method:"POST",url:d.post_report_url,data:$.param(e),timeout:d.pending_remote_limit,isRemote:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e},function(e){return l.reject(e)})},postToRemote:function(e,t){return o({method:"POST",url:e,data:$.param(t),timeout:d.pending_remote_limit,isRemote:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e},function(e){return l.reject(e)})},getOnlineModules:function(e,t){var a="cache_"+d.online_module_url,n=r.get(a);if(!t&&n)return(t=l.defer()).resolve(n),t.promise;l.defer();return o({method:"post",url:d.online_module_url,data:$.param(e),isRemote:!0,timeout:d.pending_remote_limit,headers:{"Content-Type":"application/x-www-form-urlencoded","Accept-Language":g}}).then(function(e){return"object"===_typeof(e.data)?(r.put(a,e),e):l.reject(e)},function(e){return l.reject(e)})},installOnlineModule:function(e,t){return o({method:"POST",url:d.server_url+d.api[t],data:$.param(e),headers:{"Content-Type":"application/x-www-form-urlencoded","Accept-Language":g,ZWAYSession:f}}).then(function(e){return e},function(e){return l.reject(e)})},restoreFromBck:function(e){var t=d.server_url+d.api.restore;return o.post(t,e,{transformRequest:angular.identity,headers:{"Content-Type":void 0,ZWAYSession:f}}).then(function(e){return"object"===_typeof(e.data)?e:l.reject(e)},function(e){return l.reject(e)})},getHelp:function(e){return o({method:"get",url:d.help_data_url+e}).then(function(e){return e},function(e){return l.reject(e)})},getAppBuiltInfo:function(){return o({method:"get",url:d.api.app_built_info}).then(function(e){return"object"===_typeof(e.data)?e:l.reject(e)},function(e){return l.reject(e)})},runCmdExact:function(e,t){e=e+"/command/exact?level="+t;this.runApiCmd(e).then(function(e){},function(e){})}}}]),angular.module("myAppService",[])),postRenderAlpaca=(myAppService.service("dataService",["$filter","$log","$cookies","$window","$location","cfg","cfgicons","_",function(l,a,t,e,n,r,s,m){function o(e){if(e.metrics.isFailed)return r.img.icons+"caution.png";var t=r.img.icons+"placeholder.png",a=l("hasNode")(e,"metrics.icon"),n=i(s.element.icon[a],e.customIcons||{});if("switchControl"===e.deviceType)return(n=i(s.element.deviceType.switchControl,e.customIcons||{})).default;if(/^https?:\/\//.test(a))return a;if(/\.(png|gif|jpe?g)$/.test(a))return-1<a.indexOf("/")?a:r.img.icons+a;if(n)switch(a){case"lock":case"door":case"window_tilt":t="open"===e.metrics.level||"on"===e.metrics.level?n.open:n.closed;break;case"window":t="number"==typeof e.metrics.level?0===e.metrics.level?n.down:99<=e.metrics.level?n.up:n.half:"open"===e.metrics.level||"on"===e.metrics.level?n.open:n.closed;break;case"switch":case"siren":t="on"===e.metrics.level?n.on:n.off;break;case"thermostat":t="off"===e.metrics.level?n.off:n.on;break;case"motion":case"alarm":case"alarm_co":case"alarm_coo":case"alarm_flood":case"alarm_burglar":case"tamper":t="on"===e.metrics.level?n.on:n.off;break;case"security":t="on"===e.metrics.level?n.on:"off"==e.metrics.level?n.off:"alarmed"==e.metrics.level?n.alarmed:n.pending;break;case"alarm_smoke":t="on"===e.metrics.level?n.on:n.off;break;case"blinds":t=0===e.metrics.level?n.down:99<=e.metrics.level?n.up:n.half;break;case"fan":case"multilevel":t=0===e.metrics.level?n.off:99<=e.metrics.level?n.on:n.half;break;case"gesture":t=n[e.metrics.state]||n.press;break;case"climatecontrol":t=n[e.metrics.state]||n.default;break;case"valve":t="on"===e.metrics.level?n.on:n.off;break;default:t=n.default}return t}function i(e,n){var i={};return n=n.level||n,e?(angular.forEach(e.level||e,function(e,t){var a=/^https?:\/\//.test(e)?"":r.img.icons;i[t]=n[t]?r.img.custom_icons+n[t]:a+e}),i):!m.isEmpty(n.default)&&(i.default=r.img.custom_icons+n.default,i)}function d(e,t,a){var n,i=e,s=(angular.isObject(t)?angular.isDefined(t[e])&&(i=""!==t[e]?t[e]:e):i=r.route.t[e]||e,i),o=a;for(n in o)s=s.split(n).join(o[n]);return s}this.resetAlert=function(){r.route.alert.message&&!r.route.alert.permanent&&angular.extend(r.route.alert,{type:"system",message:!1,info:!1,permanent:!1,hide:!1,icon:"fa-exclamation-triangle text-danger"})},this.isAccessAllowed=function(e){var t;e.requireLogin&&((t=this.getUser())?e.roles&&angular.isArray(e.roles)&&-1===e.roles.indexOf(t.role)&&n.path("/error403"):n.path("/"))},this.getLangLine=d,this.showNotifier=function(e){var t=m.defaults(e,{position:"top-right",message:!1,type:"success",wait:5});e.message&&(alertify.set("notifier","position","top-right"),alertify.notify(t.message,t.type,t.wait))},this.logError=function(e,t){a.error("---------- "+(t=t||"ERROR:")+" ----------",e)},this.isIeEdge=function(){return!!document.documentMode},this.isMobile=function(e){return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))},this.goBack=function(){window.history.back()},this.getUrlSegment=function(e,t){return t=void 0!==t?t:1,e?e.split("/")[t]:""},this.getUser=function(){return!(!t.user||!t.user||"undefined"===t.user)&&angular.fromJson(t.user)},this.setUser=function(e){return e?(e.authTokens&&delete e.authTokens,e.hide_single_device_events&&delete e.hide_single_device_events,t.user=angular.toJson(e),e):(delete t.user,!1)},this.unsetUser=function(){this.setUser(null),this.setZWAYSession(null)},this.getZWAYSession=function(){return t.ZWAYSession},this.setZWAYSession=function(e){if(!e)return delete t.ZWAYSession,!1;t.ZWAYSession=e},this.checkZWAYSession=function(e){return t.ZWAYSession==e},this.getLastLogin=function(){return!(!t.lastLogin||!t.lastLogin||"undefined"===t.lastLogin)&&t.lastLogin},this.setLastLogin=function(e){t.lastLogin=e},this.logOut=function(){this.setUser(null),this.setZWAYSession(null);var a=!1;angular.forEach(r.logout_redirect,function(e,t){-1!=n.host().indexOf(t)&&(a=e)}),a?e.location.href=a:(e.location.href="#/?logout",e.location.reload())},this.autocomplete=function(e,t){var a=[],n=t.term,i=t.searchInKeys.split(","),s=t.returnKeys.split(","),o=t.strLength,l=t.resultLength,n=n.toLowerCase();if(!(n.length<o)){for(var r=0;r<e.length&&a.length<l;r++){for(var d=e[r],c=!1,u=new RegExp(n,"ig"),p=0;p<i.length;p++)d[i[p]]&&u.test(d[i[p]])&&(c=!0);c&&a.push(m.pick(d,s))}return a}},this.uploadFileNewName=function(e){var t=e.split(".").slice(0,-1).join(".");return l("stringToSlug")(t)+"."+l("fileExtension")(e)},this.hasCommandClass=function(e,a){var n=!1;return angular.forEach(e.instances,function(e,t){e.commandClasses[a]&&(n=e.commandClasses[a])}),n},this.compareVersion=function(e,t,a){function n(e){return(e=(e=(""+e).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?e.split("."):[-8]}function i(e){return e?isNaN(e)?r[e]||-7:parseInt(e,10):0}var s,o,l=0,r={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1};for(e=n(e),t=n(t),o=Math.max(e.length,t.length),s=0;s<o;s++)if(e[s]!==t[s]){if(e[s]=i(e[s]),t[s]=i(t[s]),e[s]<t[s]){l=-1;break}if(e[s]>t[s]){l=1;break}}if(!a)return l;switch(a){case">":case"gt":return 0<l;case">=":case"ge":return 0<=l;case"<=":case"le":return l<=0;case"===":case"=":case"eq":return 0===l;case"<>":case"!==":case"ne":return 0!==l;case"":case"<":case"lt":return l<0;default:return null}},this.assignElementIcon=o,this.getDevicesData=function(e,t,a,n){var s=r.user;return m.chain(e).flatten().uniq(!1,function(e){return e.id}).reject(function(e){return"battery"!==e.deviceType||n?a?void 0:t?!0===e.permanently_hidden:!0===e.permanently_hidden||!1===e.visibility:"battery"===e.deviceType}).filter(function(e){var t=Math.round((new Date).getTime()/1e3)-86400,t=e.creationTime>t,a=!1,n=!1,i=-1<r.knob_255.indexOf(e.probeType)?{min:0,max:255,step:1}:"thermostat"===e.deviceType?"F"===e.metrics.scaleTitle?{min:41,max:104,step:1}:{min:5,max:40,step:.5}:{min:0,max:99,step:1};return void 0!==e.metrics.max&&(i.max=e.metrics.max),void 0!==e.metrics.min&&(i.min=e.metrics.min),void 0!==e.metrics.step&&(i.step=e.metrics.step),-1===r.element_history_blacklist.indexOf(e.deviceType)&&(n=!(a=e.hasHistory&&-1<r.element_history.indexOf(e.deviceType))),angular.extend(e,{onDashboard:!(!s.dashboard||-1===s.dashboard.indexOf(e.id))},{creatorId:m.isString(e.creatorId)?e.creatorId.replace(/[^0-9]/g,""):e.creatorId},{minMax:i},{hasHistory:a},{showNotification:n},{progress:!1},{isNew:t},{iconPath:o(e)},{title:e.metrics.title},{updateCmd:"switchControl"===e.deviceType?"on":"update"}),e.metrics.color&&angular.extend(e.metrics,{rgbColors:"rgb("+e.metrics.color.r+","+e.metrics.color.g+","+e.metrics.color.b+")"}),e.metrics.level&&angular.extend(e.metrics,{level:l("numberFixedLen")(e.metrics.level)}),e.metrics.scaleTitle&&angular.extend(e.metrics,{scaleTitle:d(e.metrics.scaleTitle)}),e})},this.getSingleElementIcons=function(e,t){var a={default:{default:"placeholder.png"},custom:{}},n=l("hasNode")(e,"metrics.icon");function i(e){return e.level||e}return e&&0<m.size(e.customIcons)&&(a.custom=e.customIcons.level||e.customIcons),n&&""!==n?/^https?:\/\//.test(n)?t?a.default.default=n:a={}:/\.(png|gif|jpe?g)$/.test(n)?!(-1<n.indexOf("/"))||t?a.default.default=n:a={}:s.element.icon[n]&&(a.default=i(s.element.icon[n])):e&&s.element.deviceType[e.deviceType]&&(a.default=i(s.element.deviceType[e.deviceType])),a},this.getRooms=function(e){return m.chain(e).flatten().filter(function(e){return e.title=0===e.id?d(e.title):e.title,e.title_char=e.title.substring(0,1).toUpperCase(),e.img_src="storage/img/placeholder-img.png",0===e.id?e.img_src="storage/img/rooms/unassigned.png":"default"===e.img_type&&e.default_img?e.img_src="storage/img/rooms/"+e.default_img:"user"===e.img_type&&e.user_img&&(e.img_src=r.server_url+r.api_url+"load/image/"+e.user_img),e})},this.getLocalSkins=function(e){return m.chain(e).flatten().filter(function(e){var t="default"!==e.name?r.skin.path+e.name+"/":r.img.skin_screenshot;return e.icon=e.icon?t+"screenshot.png":"storage/img/placeholder-img.png",e})},this.getZwaveDevices=function(e){return m.chain(e).flatten().map(function(e){return{id:e.Product_Code,name:e.Name,certification_id:e.Certification_ID,wake:e.WakeUp_Description,inc:e.Inclusion_Description,exc:e.Exclusion_Description,brandname:e.BrandName,brandid:e.BrandName,product_image:e.Product_Image.split("/").pop(),remote_image:e.Product_Image,product_image_base64:e.Product_Image_Base64,prep:e.Preperation_Description,secure:"1"===e.Secure,zwplus:"1"===e.ZWPLus,frequency:e.Frequency,reset:e.Reset_Description}})},this.getZwaveProducts=function(e,t){return t=(-1<r.zwaveproducts_langs.indexOf(t)?t:r.lang).toUpperCase(),m.chain(e).flatten().map(function(e){return{id:e.certification_ID,name:e.Name,productcode:e.product_code,wake:e["wake_"+t]||e.wake_EN,inc:e["inc_"+t]||e.inc_EN,exc:e["exc_"+t]||e.exc_EN,brandname:e.brandname,brandid:e.brandid,brand_image:!!e.brandname_image&&r.img.zwavevendors+e.brandname_image,product_image:!!e.certification_ID&&r.img.zwavedevices+e.certification_ID+".png",prep:e["prep_"+t]||e.prep_EN,inclusion_type:"secure"===e.inc_type?e.inc_type:"unsecure",zwplus:e.zwplus,frequencyid:e.frequencyid,frequency:e.frequency,ignore_ui:e.ignore_ui,reset:e["ResetDescription_"+t]||e.ResetDescription_EN}})},this.getChartData=function(e,t,a){if(!angular.isObject(e,t))return null;var n=Math.round(+new Date/1e3)-86400,i={labels:[],datasets:[{fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,data:[]}]},s=0,o=1;switch(a){case 48:o=2;break;case 96:o=4;break;case 144:o=6;break;case 288:o=12;break;case 1440:o=48}return angular.forEach(e,function(e,t){s++;var a=l("date")(1e3*e.id,"H:mm");e.id>n&&(s%o==0?i.labels.push(a):i.labels.push(""),i.datasets[0].data.push(e.l))}),0<i.datasets[0].data.length?i:null},this.getModuleFormData=function(e,t){return t=t,{options:function e(t,a){var n=[];for(var i in t)t.hasOwnProperty(i)&&("object"==_typeof(t[i])?n=n.concat(e(t[i],a)):~a.indexOf(i)&&!angular.isArray(t[i])&&"string"==typeof t[i]&&0===t[i].indexOf("function")&&(t[i]=new Function("return "+t[i])()));return t}((e=e).options,["click","onFieldChange"]),schema:e.schema,data:t,postRender:postRenderAlpaca}},this.getModuleConfigInputs=function(e,t,a){return getModuleConfigInputs(e,t,a)},this.setArrayValue=function(e,t,a){var n,i,s;return a?(a=t,-1===(n=e).indexOf(a)&&n.push(a),n):(i=t,s=[],angular.forEach(e,function(e,t){e!=i&&s.push(e)}),s)},this.getEventLevel=function(e,t){var a=t||[];return angular.forEach(e,function(e,t){a.push({key:e.level,val:e.level})}),l("unique")(a,"key")},this.setEnoProfile=function(e){var n={};return angular.forEach(e,function(e,t){var a=parseInt(e._rorg,16)+"_"+parseInt(e._func,16)+"_"+parseInt(e._type,16);n[a]=e,n[a].id=a,n[a].rorgInt=parseInt(e._rorg,16),n[a].funcInt=parseInt(e._func,16),n[a].typeInt=parseInt(e._type,16)}),n},this.compareVersions=function(e,t){var a="equal";if(!e||!t)return"error";e=e.toString().split("."),t=t.toString().split(".");for(var n=0;n<e.length;n++)if(parseInt(e[n],10)<parseInt(t[n],10)||parseInt(e[n],10)<=parseInt(t[n],10)&&!e[n+1]&&t[n+1]&&0<parseInt(t[n+1],10)){a="notequal";break}return a},this.setIcon=i}]),myAppService.service("expertService",["$filter",function(D){function T(e,t){return angular.isObject(t)&&angular.isDefined(t[e])&&""!==t[e]?t[e]:e}function M(e,t){var a=null;if(e)if(angular.isArray(e))for(var n=0,i=e.length;n<i;n++){if("__text"in e[n]&&e[n]["_xml:lang"]==t)return a=e[n].__text;if("__text"in e[n]&&"en"==e[n]["_xml:lang"])return a=e[n].__text}else"__text"in e&&(a=e.__text);return a}function m(e,a,n,i,s){var o,e=D("hasNode")(e,"config.devices.deviceconfiguration");return e?(o=[],angular.forEach(e,function(e,t){e._id==a&&e._instance==n&&e._commandclass==i&&e._command==s&&(2<(e=JSON.parse(e._parameter)).length?o[e[0]]=e[1]:2==e.length?o=e:o[0]=e[0])}),o):[]}this.getLangLine=T,this.configGetNav=function(e){return i=[],s=(n=e).controller.data.nodeId.value,angular.forEach(n.devices,function(e,t){var a;255==t||t==s||e.data.isVirtual.value||(e=n.devices[t],(a={}).id=t,a.name=D("deviceName")(t,e),i.push(a))}),i;var n,i,s},this.configGetZddxLang=M,this.getCfgXmlParam=m,this.configGetCommands=function(e,t){return n=e,i=t,s=[],angular.forEach(n,function(e,t){var a={};repr_array(method_defaultValues(i,n[t]));a.data={method:t,params:n[t],values:method_defaultValues(i,n[t])},a.method=t,a.params=n[t],a.values=repr_array(method_defaultValues(i,n[t])),s.push(a)}),s;var n,i,s},this.configGetInterviewCommands=function(e,t){var a,n=e,i=t,s=[];for(a in n.instances)for(var o in n.instances[a].commandClasses){var l={};l.iId=a,l.ccId=o,l.ccName=n.instances[a].commandClasses[o].name,l.interviewDone=n.instances[a].commandClasses[o].data.interviewDone.value,l.cmdData=n.instances[a].commandClasses[o].data,l.cmdDataIn=n.instances[a].data,l.updateTime=i,s.push(l),0}return s},this.configConfigCont=function(e,t,a,n,i,s){var x,k,C=e,I=t,e=a,t=n,S=i,A=s;return!(!1 in C.instances[0].commandClasses)&&e&&e.ZWaveDevice.hasOwnProperty("configParams")?(x=[],e=e.ZWaveDevice.configParams.configParam,k=m(t,I,"0","70","Set"),angular.forEach(e,function(e,t){if(angular.isObject(e)){have_conf_params=!0;var a,n,i,s,o=e,l=o._number,r=(o._size,M(D("hasNode")(o,"name.lang"),S)||T("configuration_parameter",A)+" "+l),d=M(D("hasNode")(o,"description.lang"),S),c=o._size,u=null,e=o._type,p=null,m=null,g=(angular.isDefined(C.instances[0].commandClasses[112])&&null!=C.instances[0].commandClasses[112].data[l]&&""!==C.instances[0].commandClasses[112].data[l].val.value&&(m=C.instances[0].commandClasses[112].data[l].val.value,g=m),null),f=(void 0!==o._default&&(p=g=parseInt(o._default,16)),a=void 0!==k[l]?k[l]:null!==m?m:g,!0),v="";switch(angular.isDefined(C.instances[0].commandClasses[112])&&angular.isDefined(C.instances[0].commandClasses[112].data[l])&&(n=C.instances[0].commandClasses[112].data[l].updateTime,i=C.instances[0].commandClasses[112].data[l].invalidateTime,v=D("isTodayFromUnix")(n),f=i<n),e){case"constant":case"rangemapped":var h=[];angular.forEach(o.value,function(e,t){var a=parseInt(e._from,16),n=parseInt(e._to,16),i=null,e=(angular.isDefined(e.description)&&(i=M(D("hasNode")(e,"description.lang"),S)),angular.isDefined(e.lang)&&(i=M(D("hasNode")(e,"lang"),S)),a);null!==g&&a<=g&&g<=n&&(u=i,e=g),h.push({label:i,type:{fix:{value:e}}})}),s={nodeId:I,label:"N "+l+" - "+r,type:{enumof:h},name:"input_"+I+"_"+l,description:d,updateTime:v,isUpdated:f,defaultValue:u,showDefaultValue:p,configCconfigValue:a,configZwaveValue:m,confNum:l,confSize:c};break;case"range":var h=[],b=o.value;b?(angular.forEach(b,function(e,t){t="description"==t?(a=parseInt(b._from,16),parseInt(b._to,16)):(a=parseInt(e._from,16),parseInt(e._to,16));var a,n="";angular.isDefined(e.description)&&(n=M(D("hasNode")(e,"description.lang"),S)),angular.isDefined(e.lang)&&(n=M(D("hasNode")(e,"lang"),S)),null!==g&&(u=g),a!=t?""!=n&&h.push({label:n,type:{range:{min:a,max:t}}}):""!=n&&h.push({label:n,type:{fix:{value:a}}})}),1<h.length?s={nodeId:I,label:"N "+l+" - "+r,type:{enumof:h},hideRadio:!1,name:"input_"+I+"_"+l,description:d,updateTime:v,isUpdated:f,defaultValue:u,showDefaultValue:p,configCconfigValue:a,configZwaveValue:m,confNum:l,confSize:c}:1==h.length&&(s={nodeId:I,label:"N "+l+" - "+r,type:{enumof:h},name:"input_"+I+"_"+l,hideRadio:!0,description:d,updateTime:v,isUpdated:f,defaultValue:u,showDefaultValue:p,configCconfigValue:a,configZwaveValue:m,confNum:l,confSize:c})):s={nodeId:I,label:"N "+l+" - "+r,type:{noval:null},name:"input_"+I+"_"+l,description:d,updateTime:v,isUpdated:f,defaultValue:null,showDefaultValue:p,configCconfigValue:a,configZwaveValue:m,confNum:l,confSize:c};break;case"bitset":var h=[],_=new Object;if(null!==g)for(var w=0;1<<w&g&&(_[w]="Bit "+w+" set"),1<<w++<g;);if(angular.forEach(o.value,function(e,t){var a=parseInt(e._from,16),n=parseInt(e._to,16);if(null!==g)if(a==n)1<<a&g&&(_[a]="");else{_[a]=g>>a&(1<<n-a+1)-1;for(var i=a+1;i<=n;i++)delete _[i]}a==n?h.push({label:"",name:"input_"+I+"_"+l,type:{bitcheck:{bit:a}}}):h.push({label:"",name:"input_"+I+"_"+l,type:{bitrange:{bit_from:a,bit_to:n}}})}),null!==g){for(var y in u="",_)u+=_[y]+", ";u.length&&(u=u.substr(0,u.length-2))}s={nodeId:I,label:"N "+l+" - "+r,type:{bitset:h},name:"input_"+I+"_"+l,description:d,updateTime:v,isUpdated:f,defaultValue:u,showDefaultValue:p,configCconfigValue:a,configZwaveValue:m,confNum:l,confSize:c};break;default:return}x.push(s),0}}),x):null},this.configSwitchAllCont=function(e,t,a,n){var i,s,o=!1;return 39 in e.instances[0].commandClasses&&(n=m(n,t,"0","27","Set"),s=e.instances[0].commandClasses[39].data.mode.updateTime,e=e.instances[0].commandClasses[39].data.mode.invalidateTime,i=D("isTodayFromUnix")(s),e=e<s,s=getMethodSpec(a,t,0,39,"Set"),a=void 0!==n?n[0]:1,o={params:s,values:{0:a},name:"switchall_"+t+"_0",updateTime:i,isUpdated:e,defaultValue:0,showDefaultValue:0,configCconfigValue:a,confNum:0,confSize:0,cmd:"devices["+t+"].instances[0].commandClasses[0x27]"}),o},this.configProtectionCont=function(e,t,a,n){var i,s,o=!1;return 117 in e.instances[0].commandClasses&&(n=m(n,t,"0","75","Set"),s=e.instances[0].commandClasses[117].data.state.updateTime,e=e.instances[0].commandClasses[117].data.state.invalidateTime,i=D("isTodayFromUnix")(s),e=e<s,s=getMethodSpec(a,t,0,117,"Set"),a=void 0!==n?n[0]:0,o={params:s,values:{0:a},name:"protection_"+t+"_0",updateTime:i,isUpdated:e,defaultValue:0,showDefaultValue:0,configCconfigValue:a,confNum:0,confSize:0,cmd:"devices["+t+"].instances[0].commandClasses[0x75]"}),o},this.configWakeupCont=function(e,t,a,n){var i,s,o,l,r,d,c,u,p=!1;return 132 in e.instances[0].commandClasses&&(n=m(n,t,"0","84","Set"),s=1==e.instances[0].commandClasses[132].data.version.value?0:e.instances[0].commandClasses[132].data.min.value,o=1==e.instances[0].commandClasses[132].data.version.value?16777215:e.instances[0].commandClasses[132].data.max.value,l=e.instances[0].commandClasses[132].data.interval.value,r=1==e.instances[0].commandClasses[132].data.version.value?86400:e.instances[0].commandClasses[132].data.default.value,d=e.instances[0].commandClasses[132].data.nodeId.value,u=e.instances[0].commandClasses[132].data.updateTime,e=e.instances[0].commandClasses[132].data.invalidateTime,c=D("isTodayFromUnix")(u),e=e<u,""!==s&&""!==o&&((u=getMethodSpec(a,t,0,132,"Set"))[0].type.range.min=parseInt(s,10),u[0].type.range.max=parseInt(o,10),a=0,angular.isArray(n)&&0<n.length?(i=n[0]||0,a=n[1]||0):i=""!=l&&0!=l&&""!=d?parseInt(l,10):parseInt(r,10),p={params:u,values:{0:i},name:"wakeup_"+t+"_0",updateTime:c,isUpdated:e,defaultValue:r,showDefaultValue:r,configCconfigValue:i,configCconfigNodeValue:a,confNum:0,confSize:0,cmd:"devices["+t+"].instances[0].commandClasses[0x84]"})),p},this.buildCfgXml=function(e,t,a,n){var i,s=a,o=n,a=!1,n=[],l=("84"==o?(i=JSON.parse(e[0].parameter),r=JSON.parse(e[1].parameter),i={id:s,instance:e[0].instance,commandclass:o,command:e[0].command,parameter:"["+i+","+r+"]"},n.push(i)):n=e,n),r=(angular.isObject(t)&&D("hasNode")(t,"config.devices.deviceconfiguration")&&(a=t.config.devices.deviceconfiguration,angular.forEach(a,function(e,t){var a={};e._id==s&&e._commandclass==o||(a.id=e._id,a.instance=e._instance,a.commandclass=e._commandclass,a.command=e._command,a.parameter=e._parameter,a.group=e._group,l.push(a))})),l),d=[133,142],c="<config><devices>\n";return angular.forEach(r,function(e,t){-1<d.indexOf(parseInt(e.commandclass,10))?c+='<deviceconfiguration id="'+e.id+'" instance="'+e.instance+'" commandclass="'+e.commandclass+'" command="'+e.command+'" group="'+e.group+'" parameter="'+e.parameter+'"/>\n':c+='<deviceconfiguration id="'+e.id+'" instance="'+e.instance+'" commandclass="'+e.commandclass+'" command="'+e.command+'" parameter="'+e.parameter+'"/>\n'}),c+="</devices></config>\n"}}]),myAppService.service("mobileDetector",["cfg",function(e){var t=["ZWayMobileAppiOS","IOSWRAPPER"],a=["PoppApp_Z_Way","ZWayMobileAppAndroid"];this.isMobile=function(){return this.isIOS()||this.isAndroid()},this.isAndroid=function(){return a.includes(e.route.os)},this.isIOS=function(){return t.includes(e.route.os)}}]),myApp.directive("bbTest",["_",function(n){return{restrict:"E",scope:{val:"="},template:'<pre ng-if="show">{{show|json}}</pre>',link:function(a,e,t){a.show=!1,a.$watchCollection("val",function(e,t){n.isEqual(e,t)||(a.show=e,console.log("OLD",t),console.log("NEW",e),console.log("I see a data change!",a.val))})}}}]),myApp.directive("bbGoBack",["$window",function(n){return{restrict:"A",link:function(e,t,a){t.bind("click",function(){n.history.back()})}}}]),myApp.directive("bbLoader",function(){return{restrict:"E",replace:!0,template:'<div id="loading" ng-show="loading" ng-class="loading.status"><div class="loading-in"><i class="fas fa-lg" ng-class="loading.icon"></i> <span ng-bind-html="loading.message|toTrusted"></span></div></div>'}}),myApp.directive("bbRowSpinner",function(){return{restrict:"E",replace:!0,scope:{label:"=",spinner:"=",icon:"=",core:"=",labelClass:"@"},template:'<span title="{{label}}"><span class="btn-spin"><i ng-class="spinner ? \'fa fa-spinner fa-spin\' : (icon ? ((core ? core : \'fa\') + \' \' + icon) : \'\')"></i></span> <span class="btn-label" ng-class="labelClass" ng-if="label">{{label}}</span></span>'}}),myApp.directive("bbAlert",function(){return{restrict:"E",replace:!0,scope:{alert:"="},template:'<div class="alert" ng-if="alert.message" ng-class="alert.status"><i class="fas fa-lg" ng-class="alert.icon"></i> <span ng-bind-html="alert.message|toTrusted"></span></div>'}}),myApp.directive("bbAlertText",function(){return{restrict:"E",replace:!0,scope:{alert:"="},template:'<span class="alert" ng-if="alert.message" ng-class="alert.status"><i class="fas fa-lg" ng-class="alert.icon"></i> <span ng-bind-html="alert.message|toTrusted"></span></span>'}}),myApp.directive("bbHelp",["$sce","dataFactory","cfg",function(t,i,e){var s={};return{restrict:"E",replace:!0,template:'<span class="clickable" ng-click="showHelp();handleModal(\'helpModal\', $event)"><i class="fas fa-question-circle fa-lg text-info"></i><div id="helpModal" class="appmodal" ng-if="modalArr.helpModal"><div class="appmodal-in"><div class="appmodal-header"><h3>{{cfg.app_name}}</h3><span class="appmodal-close" ng-click="handleModal(\'helpModal\', $event)"><i class="fas fa-times"></i></span></div><div class="appmodal-body" ng-bind-html="getSafeHtml(helpData)"></div></div></div></span>',link:function(a,e,n){a.file=n.file,a.helpData=null,a.show=!1,a.showHelp=function(){var e=n.lang,t=a.file+"."+e+".html";i.getHelp(t).then(function(e){a.helpData=e.data,a.show=!0},function(e){t=a.file+".en.html",i.getHelp(t).then(function(e){a.helpData=e.data},function(e){alertify.alertError(a._t("error_load_data"))})})},a.getSafeHtml=function(e){return s[e]||(s[e]=t.trustAsHtml(e))}}}}]),myApp.directive("bbHelpText",function(){return{restrict:"E",replace:!0,scope:{trans:"=",icon:"="},template:'<span class="help-text"><i class="fas text-info" ng-class="icon ? icon : \' fa-info-circle\'"></i> {{trans}}</span>'}}),myApp.directive("bbValidator",["$window",function(e){return{restrict:"E",replace:!0,scope:{inputName:"=",trans:"=",hasBlur:"="},template:'<div class="valid-error text-danger" ng-if="inputName && !inputName.$pristine && hasBlur">*{{trans}}</div>'}}]),myApp.directive("focus",["$timeout",function(a){return{scope:{trigger:"@focus"},link:function(e,t){e.$watch("trigger",function(e){e&&a(function(){t[0].focus()})})}}}]),myApp.directive("errSrc",function(){return{link:function(e,t,a){t.bind("error",function(){a.src!=a.errSrc?a.$set("src",a.errSrc):a.errSrc2&&a.src!=a.errSrc2?a.$set("src",a.errSrc2):a.errSrc3&&a.src!=a.errSrc2&&a.src!=a.errSrc3&&a.errSrc2!=a.errSrc3&&a.$set("src",a.errSrc3)}),a.$observe("ngSrc",function(e){!e&&a.errSrc?a.$set("src",a.errSrc):!e&&a.errSrc2?a.$set("src",a.errSrc2):!e&&a.errSrc3&&a.$set("src",a.errSrc3)})}}}),myApp.directive("bindClassOnScroll",["$window",function(a){return{restrict:"A",scope:{offset:"@",scrollClass:"@"},link:function(e,t){angular.element(a).bind("scroll",function(){this.pageYOffset>=parseInt(e.offset)?t.addClass(e.scrollClass):t.removeClass(e.scrollClass)})}}}]),myApp.directive("bbCompareTo",function(){return{require:"ngModel",link:function(e,t,a,n){var i=t.inheritedData("$formController")[a.bbCompareTo];n.$parsers.push(function(e){if(e===i.$viewValue)return n.$setValidity("compareto",!0),e;n.$setValidity("compareto",!1)}),i.$parsers.push(function(e){return n.$setValidity("compareto",e===n.$viewValue),e})}}}),myApp.directive("bbInteger",function(){return{require:"ngModel",link:function(e,t,a,n){n.$parsers.unshift(function(e){return parseInt(e,10)})}}}),myApp.directive("knob",function(){return{restrict:"A",link:function(e,t,a){$(t).val(25).knob()}}}),myApp.directive("myknob",["$timeout","dataFactory",function(i,s,e){return{restrict:"A",replace:!0,scope:{knobId:"=",knobData:"=",knobStep:"=",knobMin:"=",knobMax:"=",knobOptions:"&"},link:function(a,n){var e=a.knobOptions()||{};e.step=a.knobStep||1,void 0!==a.knobMin&&(e.min=a.knobMin),void 0!==a.knobMax&&(e.max=a.knobMax),e.release=function(t){i(function(){var e;parseFloat(a.knobData)!=t&&(a.knobData=t,-1==a.knobId.indexOf("#")&&(e=(e=a.knobId)+"/command/exact?level="+t,s.runApiCmd(e).then(function(e){},function(e){})),a.$apply())})},a.$watch("knobData",function(e,t){(e=parseFloat(e))!=(t=parseFloat(t))&&$(n).val(e).change()}),$(n).val(a.knobData).knob(e)}}}]),myApp.directive("ngConfirmClick",[function(){return{priority:-1,restrict:"A",link:function(e,t,a){t.bind("click",function(e){var t=a.ngConfirmClick;t&&!confirm(t)&&(e.stopImmediatePropagation(),e.preventDefault())})}}}]),myApp.directive("fileModel",["$parse",function(i){return{restrict:"A",link:function(e,t,a){var n=i(a.fileModel).assign;t.bind("change",function(){e.$apply(function(){n(e,t[0].files[0])})})}}}]),myApp.directive("bbKeyEvent",function(){return function(t,e,a){e.bind("keyup",function(e){13!==e.which&&(t.$apply(function(){t.$eval(a.bbKeyEvent)}),e.preventDefault())})}}),myApp.directive("enterSubmit",function(){return{restrict:"A",link:function(t,e,a){e.bind("keydown",function(e){13!==(e.keyCode||e.which)||e.shiftKey||(t.$apply(function(){t.$eval(a.enterSubmit)}),e.preventDefault())})}}}),myApp.directive("bbDskNavigate",function(){return{restrict:"A",link:function(e,t,a){setTimeout(function(){t.find("input").on("keyup",function(e){switch(e.key){case"ArrowRight":$(this).closest("span").next().find("input").focus();break;case"ArrowLeft":$(this).closest("span").prev().find("input").focus();break;default:5===$(this).val().length&&$(this).closest("span").next().find("input").focus()}})},0)}}}),myApp.directive("bbAccordion",function(){return{restrict:"A",link:function(e,n,t){n.on("click",function(e){var t="false"===n.attr("aria-expanded"),a=n.closest(".accordion-wrap");return a.closest("[data-collapse-all]").children().each(function(){$(this).removeClass("active"),$(this).find(".accordion-toggle:first").find("button:first").attr("aria-expanded",!1),$(this).find(".accordion:first").attr("hidden",!0)}),!t&&a.closest("[data-collapse-all]").length||(n.attr("aria-expanded",function(e,t){return"true"!=t}),a.toggleClass("active"),n.parent().next().attr("hidden",function(e,t){return!t})),!1})}}}),myApp.directive("bbTableAccordion",function(){return{restrict:"A",link:function(e,t,a){t.on("click",function(e){return t.attr("aria-expanded",function(e,t){return"true"!=t}),t.closest("tr").attr("data-expanded",function(e,t){return"true"!=t}),t.closest("tbody").find("tr").not(t.closest("tr")).attr("data-expanded",!1),t.closest("tbody").find(".td-accordion-toggle button").not(t).attr("aria-expanded",!1),!1})}}}),myApp.directive("bbTab",function(){return{restrict:"A",link:function(e,n,t){n.on("click",function(e){var t=n.attr("data-href"),a=n.closest(".tab-wrap");a.find('[role="tab"]').removeAttr("aria-selected"),a.find('[role="tabpanel"]').attr("hidden",!0),n.attr("aria-selected",!0),$(t).removeAttr("hidden").focus(),e.preventDefault()})}}}),myApp.directive("bbRemoveAttr",function(){return{restrict:"A",link:function(e,t,a){a.bbRemoveAttr&&t.removeAttr(a.bbRemoveAttr)}}}),myApp.directive("bbChildElem",["$timeout",function(e){return{restrict:"A",link:function(e,t,a){}}}]),myApp.directive("convertToFloat",function(){return{require:"ngModel",link:function(e,t,a,n){n.$parsers.push(function(e){return parseFloat(e)})}}}),myApp.directive("touchstart",["$parse",function(i){return{restrict:"A",link:function(t,e,a){var n=i(a.touchstart);e.bind("touchstart",function(e){t.$apply(function(){n(t,{$event:e})})}),e.bind("mousedown",function(e){t.$apply(function(){n(t,{$event:e})})})}}}]),myApp.directive("touchend",["$parse",function(i){return{restrict:"A",link:function(t,e,a){var n=i(a.touchend);e.bind("touchend",function(e){t.$apply(function(){n(t,{$event:e})})}),e.bind("mouseup",function(e){t.$apply(function(){n(t,{$event:e})})})}}}]),myApp.directive("tokenButton",function(){return{restrict:"E",scope:{titleText:"=",type:"@",profile:"="},template:'\n\t\t<div  title="{{titleText}}">\n\t\t<button ng-if=\'status === "boot"\' class="btn full-width" ng-class="profile.role === 1 ? \'btn-danger\': \'btn-default\'" ng-click="getToken()">\n                {{titleText}}\n            </button>\n    </div>\n    <bb-help-text ng-if=\'status === "boot" && profile.role === 1\' trans="help(\'boot\')"></bb-help-text>\n    <bb-help-text ng-if=\'status === "boot" && !remote && type === "global"\'  trans="help(\'boot_remote\')"></bb-help-text>\n    <button ng-if=\'status === "loading"\' class="btn full-width" ng-class="profile.role === 1 ? \'btn-danger\': \'btn-default\'" disabled>\n                <i class="fas fa-spinner fa-spin"></i>\n    </button> \n    <button ng-if=\'status === "success"\' title="{{result}}" class="btn btn-success full-width" ng-click="copy($event)">\n                <div style="width: calc(100% - 1.2rem);text-overflow: ellipsis;overflow: hidden;float: left;" class="select-all" > \n                {{result}} </div> <i class="fal fa-copy" style="float: right; line-height: 140%"></i>\n    </button>\n    <bb-help-text ng-if=\'status === "success"\' trans="help(\'success\')"></bb-help-text>\n    <button ng-if=\'status === "error"\' title="{{result}}" class="btn btn-danger full-width" disabled style="margin-bottom: 1rem">\n                <i class="fas fa-exclamation-triangle" style="float: left; line-height: 140%"></i>\n                <div style="width: calc(100% - 1.6rem);text-overflow: ellipsis;overflow: hidden;float: right">{{result}}</div>\n    </button>\n\t\t',controller:["$scope","dataService","dataFactory","cfg","$location","$http",function(n,i,e,t,a,s){var o;n.status="boot",n.help=function(e){return i.getLangLine(e+"_help_text",n.languages)},n.copy=function(e){alertify.set("notifier","position","top-right");var t,a,e=angular.element(e.currentTarget).find("div")[0];try{t=e,(a=document.createRange()).selectNodeContents(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),alertify.notify(i.getLangLine("copy_to_clipboard_success",n.languages),"success",5)}catch(e){alertify.notify(i.getLangLine("copy_to_clipboard_error",n.languages),"error",5)}},n.getToken=function(){n.status="loading",e.getApi("localToken",n.profile.id,!0).then(function(e){return e.data.data}).then(function(e){if(o=e.token,"global"!==n.type)return"";if(e.remoteId)return s.defaults.headers.common.Authorization="Bearer /"+e.token,s({method:"HEAD",url:"https://find.z-wave.me/zboxweb?act=session_login&zboxid="+e.remoteId}).then(function(e){e=e.headers("X-ZBW-SESSID");if(e)return e;throw new Error(i.getLangLine("serverNotAvailable",n.languages))});throw new Error(i.getLangLine("remoteAccessDisabled",n.languages))}).then(function(e){n.result=[e,o].join("/"),n.status="success"}).catch(function(e){n.result=e.message||(angular.isObject(e.data)?e.data.error:e.data),n.status="error"})}}]}}),myApp.directive("expertCommandInput",["$filter",function(y){return{restrict:"E",replace:!0,template:'<div class="form-group" ng-bind-html="input | toTrusted"></div>',scope:{collection:"=",devices:"=",getNodeDevices:"=",values:"=",isDropdown:"=",defaultValue:"=",showDefaultValue:"=",currValue:"=",currNodeValue:"=",name:"=",divId:"="},link:function(e,t,a){var n,s,o,i,l,r,d,c,u,p,m,g,f,v,h,b,_,w="";e.collection&&(n=e.collection.label,l=e.collection.type,r=e.collection.name||e.name,i=e.collection.hideRadio,e.isDropdown?(h=n,_=l,f=e.defaultValue,v=r,b=e.currValue,s="",o=void 0!==b?b:f,b=y("stringToSlug")(v||h),s=s+"<label>"+h+'</label><br /><select name="select_'+b+'" class="form-control">',angular.forEach(_.enumof,function(e,t){var a,n,i=e.label,e=e.type;"fix"in e?a=e.fix.value:"range"in e&&(a=e.range.min),a&&(n=e.fix.value==o?" selected":""),s+='<option value="'+a+'"'+n+"> "+i+"</option>",0}),w=s+='</select">',e.input=w):l&&(w="range"in l?(f=n,v=e.values,h=l.range.min,b=l.range.max,_=r,"<label>"+f+'</label> <input class="form-control" name="'+y("stringToSlug")(_||f)+'" type="text" class="form-control" value="'+v+'" title=" min: '+h+", max: "+b+'" />'):"node"in l?(c=n,u=e.getNodeDevices(),p=e.currNodeValue,m=r,g="",m=y("stringToSlug")(m||c),g=(g+='<label class="label-node">'+c+"</label> ")+'<select name="select_'+m+'" class="form-control"><option value="1">Z-Way</option>',angular.forEach(u,function(e,t){var a=e.id==p?" selected":"";g+='<option value="'+e.id+'"'+a+">"+e.name+"</option>"}),g+="</select>"):"enumof"in l?function(e,t,r,a,d,n){var c,u,p,m="";if(t)return c=y("stringToSlug")(a||e),m+="<label>"+e+"</label><br />",u=1,p=void 0!==n?n:r,angular.forEach(t.enumof,function(e,t){var a,n=e.label,i=e.type,s=y("hasNode")(e,"type.fix.value"),o=1==u?' checked="checked"':"",l=1==u?" commads-is-current":"";"fix"in i?(r&&(l=isNaN(parseInt(r,10))&&e.label==r?" commads-is-current":""),isNaN(parseInt(p,10))||(o=s==p?' checked="checked"':""),m+='<input name="radio_'+c+'" class="commands-data-chbx" type="radio" value="'+i.fix.value+'"'+o+' /> <span class="commands-label'+l+'">'+n+"</span><br />"):"range"in i?(e=i.range.min,s=i.range.max,i=' disabled="true"',a=p||e,r?e<=r&&r<=s&&(i="",l=" commads-is-current"):l="",p?e<=p&&p<=s&&(o=' checked="checked"',i=""):o="",d&&(i=""),m+=d?'<input type="text" name="radio_txt_'+c+'" class="form-control" value="'+a+'" title=" min: '+e+", max: "+s+'" /><br />':'<div><input name="radio_'+c+'" class="commands-data-chbx" type="radio" value=""'+o+' /> <span class="commands-label'+l+'">'+n+'</span> <input type="text" name="radio_txt_'+c+'" class="form-control commands-data-txt-chbx" value="'+a+'" title=" min: '+e+", max: "+s+'"'+i+" /></div>"):m="",u++}),m}(n,l,e.defaultValue,r,i,e.currValue):"bitset"in l?(e.defaultValue,e.currValue,""):"constant"in l?(c=n,m=l,e.defaultValue,u=r,e.currValue,d="",u=y("stringToSlug")(u||c),d+="<label>"+c+"</label><br />",0<m.constant.length&&(d+='<select name="select_'+u+'" class="form-control">',angular.forEach(m.constant,function(e,t){d+='<option value="'+e.type.constant.value+'"> '+e.label+"</option>"}),d+='</select">'),d+="<em>Constant type</em>"):"string"in l?(i=n,l=e.values,r=r,e.currValue,"<label>"+i+'</label> <input class="form-control" name="'+y("stringToSlug")(r||i)+'" type="text" class="form-control" value="'+l+'" />'):(r="",r+="<label>"+n+"</label><br />"),e.input=w))}}}]),myApp.directive("configDefaultValue",function(){return{restrict:"E",replace:!0,template:'<span class="default-value-format"> {{input}}</span>',scope:{collection:"=",defaultValue:"=",showDefaultValue:"="},link:function(e,t,a){e.input=e.showDefaultValue;var n,i="";e.collection&&(e.collection.label,n=e.collection.type,e.collection.name,e.collection.hideRadio,n&&("range"in n||"node"in n||("enumof"in n?i=function(e,n,i){var s=i;if(e)return angular.forEach(e.enumof,function(e,t){var a=e.label||i,e=e.type;"fix"in e?e.fix.value==i&&(s=a):"range"in e&&(a=e.range.min,e.range.max,(n||a)==i&&(s=i))}),s}(n,e.defaultValue,e.showDefaultValue):"constant"in n||"string"in n||(i=e.showDefaultValue)),e.input=i))}}}),myApp.directive("configValueTitle",function(){return{restrict:"A",template:'<span title="{{showValue}}">{{input}}</span>',scope:{collection:"=",showValue:"="},link:function(e,t,a){e.input=e.showValue;var n,i="";!e.collection||(n=e.collection.type)&&("range"in n||"node"in n||("enumof"in n?i=function(e,n){var i=n;if(e)return angular.forEach(e.enumof,function(e,t){var a=e.label||n,e=e.type;"fix"in e?e.fix.value==n&&(i=a):"range"in e&&(a=e.range.min,e.range.max,(n||a)==n&&(i=n))}),i}(n,e.showValue):"constant"in n||"string"in n||(i=e.showValue)),e.input=i)}}}),myApp.directive("dirPaginate",["$compile","$parse","$timeout","paginationService",function(s,o,e,l){return{priority:5e3,terminal:!0,compile:function(e,t){t.$set("ngRepeat",t.dirPaginate);var t=t.dirPaginate.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),a=/\|\s*itemsPerPage:\s*\S+\s*/;if(null===t[2].match(a))throw"pagination directive: the 'itemsPerPage' filter must be set.";var t=t[2].replace(a,""),n=o(t),i=s(e,null,5e3);return l.paginationDirectiveInitialized=!0,function(e,t,a){a=a.currentPage?o(a.currentPage):(e.__currentPage=1,o("__currentPage"));l.setCurrentPageParser(a,e),e.$watchCollection(function(){return n(e)},function(e){e&&l.setCollectionLength(e.length)}),i(e)}}}}]).filter("itemsPerPage",["paginationService",function(i){return function(e,t){t=t||9999999999;var a=(i.getCurrentPage()-1)*t,n=a+t;return i.setItemsPerPage(t),e.slice(a,n)}}]).service("paginationService",function(){var t,a,n,i;this.paginationDirectiveInitialized=!1,this.setCurrentPageParser=function(e,t){n=e,i=t},this.setCurrentPage=function(e){n.assign(i,e)},this.getCurrentPage=function(){return n(i)},this.setItemsPerPage=function(e){t=e},this.getItemsPerPage=function(){return t},this.setCollectionLength=function(e){a=e},this.getCollectionLength=function(){return a}}).directive("dirPaginationControls",["paginationService",function(i){function s(e,t,a,n){for(var i,s,o,l,r=[],d=Math.ceil(t/a),t=Math.ceil(n/2),c=e<=t?"start":d-t<e?"end":"middle",u=n<d,p=1;p<=d&&p<=n;){i=p,s=e,o=n,m=d,l=void 0,l=Math.ceil(o/2);var m=i===o?m:1!==i&&o<m?m-l<s?m-o+i:l<s?s-l+i:i:i;u&&(2===p&&("middle"===c||"end"===c)||p===n-1&&("middle"===c||"start"===c))?r.push("..."):r.push(m),p++}return r}return{restrict:"AE",templateUrl:"app/views/dir-pagination.html",scope:{},link:function(t,e,a){if(t.maxSize||(t.maxSize=9),t.directionLinks=!angular.isDefined(a.directionLinks)||t.$parent.$eval(a.directionLinks),t.boundaryLinks=!!angular.isDefined(a.boundaryLinks)&&t.$parent.$eval(a.boundaryLinks),!1===i.paginationDirectiveInitialized)throw"pagination directive: the pagination controls cannot be used without the corresponding pagination directive.";var n=Math.max(t.maxSize,5);t.pages=[],t.pagination={last:1,current:1},t.$watch(function(){return i.getCollectionLength()*i.getItemsPerPage()},function(e){0<e&&(t.pages=s(1,i.getCollectionLength(),i.getItemsPerPage(),n),t.pagination.last=t.pages[t.pages.length-1],t.pagination.last<t.pagination.current&&t.setCurrent(t.pagination.last))}),t.$watch(function(){return i.getCurrentPage()},function(e){t.pages=s(e,i.getCollectionLength(),i.getItemsPerPage(),n)}),t.setCurrent=function(e){/^\d+$/.test(e)&&0<e&&e<=t.pagination.last&&(i.setCurrentPage(e),t.pages=s(e,i.getCollectionLength(),i.getItemsPerPage(),n),t.pagination.current=e)}}}}]),myApp.directive("tcChartjs",["TcChartjsFactory",function(e){return new e}]).directive("tcChartjsLine",["TcChartjsFactory",function(e){return new e("line")}]).directive("tcChartjsBar",["TcChartjsFactory",function(e){return new e("bar")}]).directive("tcChartjsRadar",["TcChartjsFactory",function(e){return new e("radar")}]).directive("tcChartjsPolararea",["TcChartjsFactory",function(e){return new e("polararea")}]).directive("tcChartjsPie",["TcChartjsFactory",function(e){return new e("pie")}]).directive("tcChartjsDoughnut",["TcChartjsFactory",function(e){return new e("doughnut")}]).factory("TcChartjsFactory",function(){return function(i){return{restrict:"A",scope:{data:"=chartData",options:"=chartOptions",id:"@",type:"@chartType"},link:function(t,e){var e=e[0].getContext("2d"),a=new Chart(e);function n(e){switch(e=e.toLowerCase()){case"line":return"Line";case"bar":return"Bar";case"radar":return"Radar";case"polararea":return"PolarArea";case"pie":return"Pie";case"doughnut":return"Doughnut";default:return""}}t.$watch("data",function(e){e&&(i?a[n(i)](t.data,t.options):a[n(t.type)](t.data,t.options))},!0)}}}}),myApp.directive("rangeSlider",["$document","$filter","$log",function(b,_,w){function y(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(e){return["x","y"]}}function x(e){return e<0?0:100<e?100:e}function k(e){return!isNaN(parseFloat(e))&&isFinite(e)}var e=window.PointerEvent?1:window.MSPointerEvent?2:"ontouchend"in document?3:4,C=".rangeSlider",I=!1,S="horizontal",A=0,D=0,T=!0,M=!1,z=(1==e?"pointerdown":2==e?"MSPointerDown":3==e?"touchstart":"mousedown")+C,E=(1==e?"pointermove":2==e?"MSPointerMove":3==e?"touchmove":"mousemove")+C,P=(1==e?"pointerup":2==e?"MSPointerUp":3==e?"touchend":"mouseup")+C;return e<4?angular.element("html").addClass("ngrs-touch"):angular.element("html").addClass("ngrs-no-touch"),{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value ngrs-value-min" ng-show="showValues">{{filteredModelMin}}</div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues">{{filteredModelMax}}</div>',"</div>"].join(""),scope:{disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@"},link:function(u,e,t,a){var p=angular.element(e),n=[e.find(".ngrs-handle-min"),e.find(".ngrs-handle-max")],i=e.find(".ngrs-join"),s="left",o="right",m=0,g=0;function l(e){"min"===e?(angular.element(n[0]).css("display","none"),angular.element(n[1]).css("display","block")):"max"===e?(angular.element(n[0]).css("display","block"),angular.element(n[1]).css("display","none")):(angular.element(n[0]).css("display","block"),angular.element(n[1]).css("display","block"))}function r(e){e?p.addClass("disabled"):p.removeClass("disabled")}function d(){u.min>u.max&&v("min must be less than or equal to max"),angular.isDefined(u.min)&&angular.isDefined(u.max)&&(k(u.min)||v("min must be a number"),k(u.max)||v("max must be a number"),g=u.max-u.min,u.min,u.max,c())}function c(){var e,t;u.modelMin>u.modelMax&&(h("modelMin must be less than or equal to modelMax"),u.modelMin=u.modelMax),!angular.isDefined(u.modelMin)&&"min"!==u.pinHandle||!angular.isDefined(u.modelMax)&&"max"!==u.pinHandle||(k(u.modelMin)||("min"!==u.pinHandle&&h("modelMin must be a number"),u.modelMin=u.min),k(u.modelMax)||("max"!==u.pinHandle&&h("modelMax must be a number"),u.modelMax=u.max),e=x((u.modelMin-u.min)/g*100),t=x((u.modelMax-u.min)/g*100),u.modelMin=Math.max(u.min,u.modelMin),u.modelMax=Math.min(u.max,u.modelMax),u.filter?(u.filteredModelMin=_(u.filter)(u.modelMin,u.filterOptions),u.filteredModelMax=_(u.filter)(u.modelMax,u.filterOptions)):(u.filteredModelMin=u.modelMin,u.filteredModelMax=u.modelMax),u.min===u.max&&u.modelMin==u.modelMax?(angular.element(n[0]).css(s,"0%"),angular.element(n[1]).css(s,"100%"),angular.element(i).css(s,"0%").css(o,"0%")):(angular.element(n[0]).css(s,e+"%"),angular.element(n[1]).css(s,t+"%"),angular.element(i).css(s,e+"%").css(o,100-t+"%"),95<e&&angular.element(n[0]).css("z-index",3)))}function f(d){var c=n[d];c.bind(z+"X",function(e){var t=(0===d?"ngrs-handle-min":"ngrs-handle-max")+"-down",a=c.add(b).add("body"),s=((0===d?u.modelMin:u.modelMax)-u.min)/g*100,o=y(e),l=o,r=!1;angular.isFunction(u.onHandleDown)&&u.onHandleDown(),angular.element("body").bind("selectstart"+C,function(){return!1}),u.disabled||(c.addClass("ngrs-down"),p.addClass("ngrs-focus "+t),angular.element("body").addClass("ngrs-touching"),b.bind(E,function(e){e.preventDefault();var t,a,e=y(e),n=u.step/g*100,i=((0===d?u.modelMax:u.modelMin)-u.min)/g*100;"x"!==e[0]&&(e[0]-=o[0],e[1]-=o[1],t=[l[0]!==e[0],l[1]!==e[1]],a=s+100*e[m]/(m?p.height():p.width()),a=x(a),u.preventEqualMinMax&&(0===n&&(n=1/g*100),0===d?i-=n:1===d&&(i+=n)),0===d?a=i<a?i:a:1===d&&(a=a<i?i:a),95<(a=0<u.step&&a<100&&0<a?Math.round(a/n)*n:a)&&0===d?c.css("z-index",3):c.css("z-index",""),t[m]&&a!=r&&(0===d?u.modelMin=parseFloat(a*g/100+u.min).toFixed(u.decimalPlaces):1===d&&(u.modelMax=parseFloat(a*g/100+u.min).toFixed(u.decimalPlaces)),u.$apply(),r=a),l=e)}).bind(P,function(){angular.isFunction(u.onHandleUp)&&u.onHandleUp(),console.log("slider",C),a.off(C),angular.element("body").removeClass("ngrs-touching"),c.removeClass("ngrs-down"),p.removeClass("ngrs-focus "+t)}))})}function v(e){throw u.disabled=!0,new Error("RangeSlider: "+e)}function h(e){w.warn(e)}u.filteredModelMin=u.modelMin,u.filteredModelMax=u.modelMax,t.$observe("disabled",function(e){angular.isDefined(e)||(u.disabled=I),u.$watch("disabled",r)}),t.$observe("orientation",function(e){angular.isDefined(e)||(u.orientation=S);for(var t=u.orientation.split(" "),a=0,n=t.length;a<n;a++)t[a]="ngrs-"+t[a];e=t.join(" "),p.addClass(e),"vertical"!==u.orientation&&"vertical left"!==u.orientation&&"vertical right"!==u.orientation||(s="top",o="bottom",m=1)}),t.$observe("step",function(e){angular.isDefined(e)||(u.step=A)}),t.$observe("decimalPlaces",function(e){angular.isDefined(e)||(u.decimalPlaces=D)}),t.$observe("showValues",function(e){angular.isDefined(e)?u.showValues="false"!==e:u.showValues=T}),t.$observe("pinHandle",function(e){angular.isDefined(e)?u.pinHandle="min"===e||"max"===e?e:null:u.pinHandle=null,u.$watch("pinHandle",l)}),t.$observe("preventEqualMinMax",function(e){angular.isDefined(e)?u.preventEqualMinMax="false"!==e:u.preventEqualMinMax=M}),u.$watch("min",d),u.$watch("max",d),u.$watch("modelMin",c),u.$watch("modelMax",c),u.$on("$destroy",function(){p.off(C),angular.element("body").off(C),b.off(C);for(var e=0,t=n.length;e<t;e++)n[e].off(C),n[e].off(C+"X")}),p.bind("selectstart"+C,function(e){return!1}).bind("click",function(e){e.stopPropagation()}),f(0),f(1)}}}]),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},angular.module("pr.longpress",[]).directive("onLongPress",["$parse","$timeout",function(u,p){return{restrict:"A",link:function(a,e,n){function t(e){var t;r&&(t=u(n.onLongPress),(e.originalEvent||e).touches&&(o=(e.originalEvent||e).touches[0].screenY,l=(e.originalEvent||e).touches[0].screenX),p.cancel(s),a.longPressSent=!1,s=p(function(){a.longPressSent=!0,a.$apply(function(){t(a,{$event:e})})},d))}function i(e){var t;r&&(t=u(n.onTouchEnd),p.cancel(s),a.longPressSent=!1,n.onTouchEnd&&a.$apply(function(){t(a,{$event:e})}))}var s,o,l,r=null==n.longPressMobile||"true"===n.longPressMobile,d=!isNaN(n.longPressDuration)&&parseInt(n.longPressDuration)||600,c=!n.preventOnscrolling||"true"===n.preventOnscrolling;e.bind("touchstart",t),e.bind("touchend",i),e.bind("mousedown",t),e.bind("mouseup",i),e.bind("click",function(e){!a.longPressSent||n.preventClick&&"true"!==n.preventClick||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}),e.bind("pointerdown",t),e.bind("pointerup",i),c&&e.bind("touchmove",function(e){var t;r&&(t=(e.originalEvent||e).touches[0].screenY,e=(e.originalEvent||e).touches[0].screenX,(void 0!==o&&void 0!==l&&15<Math.abs(t-o)||15<Math.abs(e-l))&&p.cancel(s))})}}}]),myApp.directive("context",[function(){return{restrict:"A",scope:"@&",compile:function(e,t,a){return{post:function(e,t,a,n){var i=$("#"+a.context),s=(i.css({display:"none"}),a.openon||"contextmenu");$(t).bind(s,function(e){var t=this.getBoundingClientRect();e.preventDefault(),i.css({position:"fixed",display:"block",left:("mouseover"===s?t.right:e.clientX)+"px",top:("mouseover"===s?t.top:e.clientY)+"px"}),e.timeStamp,$("#"+a.context+"Modal").css({display:"block"})}),$("#"+a.context+"Modal").bind("click",function(e){$(this).css({display:"none"}),i.css({display:"none"})})}}}}}]),myApp.directive("zWaveShortcut",["dataService",function(n){return{restrict:"E",template:'<div class="form-group" ng-if="visible">\n          <label>{{_t(\'lb_add_widget\')}}:</label>\n          <div class="btn-block">\n            <button type="button" style="margin-right: 1em" ng-repeat="action in actions" class="btn btn-primary" title="{{_t(action.translateKey)}}" \n            ng-click="handleModal(\'shortcutModal\', $event) || startCreate(action)"\n            >{{_t(action.translateKey)}}</button>\n          </div>\n          <div id="shortcutModal" class="appmodal" ng-if="modalArr.shortcutModal">\n            <div class="appmodal-in">\n              <div class="appmodal-header">\n                <span class="appmodal-close" ng-click="handleModal(\'shortcutModal\', $event)"><i class="fas fa-times"></i></span>\n                  <h3>{{_t(\'info_add_widget\')}}</h3>\n                  </div>\n                  <div class="appmodal-body">\n                  <div class="form-group">\n                  <label>\n                  {{_t(\'shortcutName\')}}\n                  <input class="form-control" type="text" ng-model="shortcut.name">\n                    </label>\n                    </div>\n                  <div class="form-group">\n                  <label>\n                  <input type="checkbox" ng-model="shortcut.authorisation" checked>\n                    {{_t(\'authorisationNeeded\')}}\n                  </label>\n                    </div>\n                    \n                  <div class="btn-block text-right">\n                  <button class="btn btn-default" type="button" ng-click="handleModal(\'shortcutModal\', $event)">\n                  {{_t(\'lb_cancel\')}}\n                  </button>\n                  <button class="btn btn-primary" type="button" ng-click="handleModal(\'shortcutModal\', $event) || createShortcut()"> {{_t(\'lb_create\')}}</button>\n                </div>\n              </div>\n            </div>\n           </div>\n          <bb-help-text trans="_t(\'info_add_widget\')"></bb-help-text>\n        </div>',link:function(a){a.visible=["toggleButton","switchBinary","switchMultilevel","doorlock"].includes(a.elementId.input.deviceType);a.startCreate=function(e){var t=angular.copy(a.elementId.input);t.metrics.level=e.command,a.shortcut.id=t.id,a.shortcut.command=e.command,a.shortcut.name=encodeURIComponent(a._t(e.translateKey)+" "+t.metrics.title),a.shortcut.authorisation=!1,a.shortcut.iconPath=n.assignElementIcon(t),a.shortcut.name=a._t(e.translateKey)+t.metrics.title},a.shortcut={},a.actions={toggleButton:[{command:"on",translateKey:"lb_on"}],switchBinary:[{command:"on",translateKey:"lb_on"},{command:"off",translateKey:"lb_off"}],switchMultilevel:[{command:"on",translateKey:"lb_on"},{command:"off",translateKey:"lb_off"}],doorlock:[{command:"open",translateKey:"lb_open"},{command:"close",translateKey:"lb_close"}]}[a.elementId.input.deviceType],a.createShortcut=function(){var e=document.createElement("a");e.href="/create-shortcut?name="+a.shortcut.name+"&url=/ZAutomation/api/v1/devices/"+a.shortcut.id+"/command/"+a.shortcut.command+"&icon="+window.location.pathname+a.shortcut.iconPath+"&authenticate="+a.shortcut.authorisation,e.click()}}}}]),myApp.directive("zWaveControllerModeSwitcher",["dataFactory","$interval",function(n,i){return{restrict:"E",template:'<div class="btn-group">\n                <button \n                ng-disabled="loading" \n                class="btn btn-lg" \n                ng-click="changeMode(\'classic\')" \n                ng-class="mode === \'classic\' ? \'active btn-success\': \'btn-default\'" title="{{_t(\'reload\')}}">\n                    <bb-row-spinner\n                            spinner="loading"\n                            label="_t(\'btn_lr_classic\')"\n                            icon="\'fa-spider-web\'"\n                            core="\'far\'"\n                            label-class="btn-name"/>\n                </i><span class="btn-name"> {{_t(\'reload\')}}</span>\n                </button>\n                <button \n                ng-disabled="loading || !enableLongMode" \n                class="btn btn-lg" \n                ng-class="mode === \'longRange\' ? \'active btn-success\': \'btn-default\'"\n                ng-click="changeMode(\'longRange\')" \n                title="{{_t(\'reload\')}}">\n                    <bb-row-spinner\n                            spinner="loading"\n                            label="_t(\'btn_lr_long_range\')"\n                            icon="\'fa-asterisk\'"\n                            label-class="btn-name"\n                            core="\'fas\'"/>\n                    <span class="btn-name"> {{_t(\'reload\')}}</span>\n                </button>\n              </div>',scope:!0,link:function(t){function e(){n.runExpertCmd("controller.data.longRange").then(function(e){e&&e.data&&(t.enableLongMode=e.data.enabled.value,t.mode=e.data.inclusion.value?"longRange":"classic")})}t._t=t.$parent._t,t.loading=!1,t.mode=null,t.enableLongMode=!0,t.$on("$destroy",function(){i.cancel(a)}),e();var a=i(e,2e3);t.changeMode=function(e){e!==t.mode&&(t.loading=!0,n.runExpertCmd("controller.data.longRange.inclusion="+("longRange"===e?"true":"false")).then(function(){t.mode=e}).finally(function(){t.loading=!1}))}}}}]),myApp.filter("appSliderSlice",function(){return function(e,t){var a=t.start,n=t.start+t.show;return(a<0||a>t.max)&&(a=0,n=t.show),e.slice(a,n)}}),myApp.filter("toTrusted",["$sce",function(t){return function(e){return null==e?"":t.trustAsHtml(e)}}]),myApp.filter("stripTags",function(){return function(e){return String(e).replace(/<[^>]+>/gm,"")}}),myApp.filter("cutText",function(){return function(e,t,a,n){return e?!(a=parseInt(a,10))||e.length<=a?e:(e=e.substr(0,a),(e=t&&-1!=(a=e.lastIndexOf(" "))?e.substr(0,a):e)+(n||" ")):""}}),myApp.filter("toInt",function(){return function(e,t){return t=void 0!==t?t:10,null===e||""===e||isNaN(e)?0:parseInt(e,t)}}),myApp.filter("toString",function(){return function(e){return e.toString()}}),myApp.filter("toBool",function(){return function(e){return"true"===String(e).toLowerCase()}}),myApp.filter("typeOf",function(){return function(e){return{}.toString.call(e).split(" ")[1].slice(0,-1).toLowerCase()}}),myApp.filter("decToHexString",function(){return function(e,t,a){return(a||"")+(e+Math.pow(16,t)).toString(16).slice(-t).toUpperCase()}}),myApp.filter("dec2hex",function(){return function(e){var t="0000";return 0<=e&&e<=15?t="000"+e.toString(16):16<=e&&e<=255?t="00"+e.toString(16):256<=e&&e<=4095?t="0"+e.toString(16):4096<=e&&e<=65535&&(t=e.toString(16)),t}}),myApp.filter("fileExtension",function(){return function(e){var e=e.split(/[\\/]/).pop(),t=e.lastIndexOf(".");return""===e||t<1?"":e.slice(t+1).toLowerCase()}}),myApp.filter("fileSizeString",function(){return function(e){for(var t=-1;t++,1024<(e/=1024););return Math.max(e,.1).toFixed(1)+[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"][t]}}),myApp.filter("numberFixedLen",function(){return function(e){var t;return 0==e?0:e?!(1<(t=e.toString().split(".")).length&&1<t[1].length)||(t=parseFloat(e),isNaN(t))?e:1<Math.abs(t)?t.toFixed(1):t.toPrecision(3):void 0}}),myApp.filter("hasNode",function(){return function(e,t){if(!e||!t)return null;var a,n=e||{};for(a in t=t.split(".")){if(null===n||void 0===n[t[a]])return null;n=n[t[a]]}return n}}),myApp.filter("zeroFill",function(){return function(e,t){return t=t||10,(Array(t).join("0")+e).slice(-t)}}),myApp.filter("getEventIcon",["cfg",function(n){return function(e,t){var a=n.img.icons+"placeholder.png";switch(e){case"device-temperature":a=n.img.icons+"event-device-temperature.png";break;case"device-electric":a=n.img.icons+"event-device-electric.png";break;case"device-power":a=n.img.icons+"event-device-power.png";break;case"device-status":a=n.img.icons+"event-device-status.png";break;case"device-OnOff":a=!angular.isObject(t)||"on"==t.l?n.img.icons+"event-device-on.png":n.img.icons+"event-device-off.png";break;case"device-luminiscence":a=n.img.icons+"event-device-luminiscence.png";break;case"device":a=n.img.icons+"event-device.png";break;case"module":a=n.img.icons+"event-module.png"}return a}}]),myApp.filter("getBatteryIcon",["cfg",function(a){return function(e){var t=a.img.icons+"battery.png";return t=isNaN(e)?t:95<(e=parseInt(e))?a.img.icons+"battery-100.png":70<=e&&e<=95?a.img.icons+"battery-80.png":50<=e&&e<70?a.img.icons+"battery-50.png":20<e&&e<50?a.img.icons+"battery-30.png":5<=e&&e<=20?a.img.icons+"battery-20.png":a.img.icons+"battery-0.png"}}]),myApp.filter("getElCategoryIcon",function(){return function(e){var t={text:"fa-file-alt",camera:"fa-video",switchRGBW:"fa-star-half",switchControl:"fa-toggle-off",switchBinary:"fa-toggle-on",sensorMultiline:"fa-list-ul",switchMultilevel:"fa-lightbulb",thermostat:"fa-thermometer-half",thermostatMode:"fa-thermometer-half",toggleButton:"fa-dot-circle",sensorDiscrete:"fa-dot-circle",doorlock:"fa-lock",sensorMultilevel:"fa-sun",sensorBinary:"fa-fire"};return t[e]||"fa-caret-right"}}),myApp.filter("getAppCategoryIcon",function(){return function(e){var t={basic_gateway_modules:"fa-cube",legacy_products_workaround:"fa-wrench",support_external_ui:"fa-object-group",support_external_dev:"fa-cubes",automation_basic:"fa-sync",device_enhancements:"fa-plus-square",developers_stuff:"fa-file-code",complex_applications:"fa-link",surveillance:"fa-video",security:"fa-shield-alt",peripherals:"fa-bolt",logging:"fa-list-ul",devices:"fa-lightbulb",scheduling:"fa-calendar-plus",environment:"fa-puzzle-piece",notifications:"fa-calendar",tagging:"fa-tags"};return t[e]||"fa-caret-right"}}),myApp.filter("getAwakeIcon",function(){return function(e){switch(e){case"awake":return"fa-certificate color-orange";case"sleep":return"fa-moon text-primary";default:return""}}}),myApp.filter("getMaxLevel",function(){return function(e,t){return t=t||100,Math.min(e,t)}}),myApp.filter("isTodayFromUnix",function(){return function(e){var t,a,n,i,s;return isNaN(e)?"?":(t=(e=new Date(1e3*e)).getDate()<10?"0"+e.getDate():e.getDate(),a=(a=e.getMonth()+1)<10?"0"+a:a,n=e.getFullYear(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),e.getSeconds()<10?e.getSeconds():e.getSeconds(),e.toDateString()==(new Date).toDateString()?i+":"+s:t+"."+a+"."+n)}}),myApp.filter("setTimeFromBox",function(){return function(e){return(e=e?new Date(1e3*e):new Date).toISOString().substring(11,e.toISOString().indexOf("."))}}),myApp.filter("unixStartOfDay",function(){return function(e,t){var a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate())/1e3+7200;if(e&&t)switch(e){case"+":n+=t;break;case"-":n-=t}return n}}),myApp.filter("isToday",["$filter",function(s){return function(e,t,a,n,i){t&&(e*=1e3);var t=new Date(e),e=new Date(e);return t.setTime(t.getTime()+1e3*(t.getTimezoneOffset()-60*i)*60),e.setTime(t.getTime()+1e3*(t.getTimezoneOffset()-60*i)*60),t.toDateString()===(new Date).toDateString()?s("date")(t,"HH:mm"):(i=new Date,t=i,i=(i=e).valueOf(),t=((t=t.valueOf())-i)/1e3/86400,(e=(t=Math.round(t-.5))+1)<2?n:e+1+" "+a)}}]),myApp.filter("eventDate",["$filter",function(a){return function(e,t){e=new Date(e);return e.setTime(e.getTime()+1e3*(e.getTimezoneOffset()-60*t)*60),e.toDateString()===(new Date).toDateString()?a("date")(e,"HH:mm"):a("date")(e,"dd.MM. - HH:mm")}}]),myApp.filter("dateTimeFromTimestamp",function(){return function(e){var e=new Date(e),t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear(),i=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();e.getSeconds(),e.getSeconds();return t+"."+a+"."+n+" - "+i+":"+s}}),myApp.filter("mysqlToUnixTs",function(){return function(e){e=e.replace(/^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9]) (?:([0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$/,"$1 $2 $3 $4 $5 $6").split(" ");return Math.floor(new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTime()/1e3)}}),myApp.filter("unique",function(){return function(e,t){var n,i;return!1!==t&&(t||angular.isUndefined(t))&&angular.isArray(e)&&(n=[],i=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e},angular.forEach(e,function(e){for(var t=!1,a=0;a<n.length;a++)if(angular.equals(i(n[a]),i(e))){t=!0;break}t||n.push(e)}),e=n),e}}),myApp.filter("uri",["$location",function(a){return{segment:function(e){var t=a.path().split("/");return t[e]||!1},total_segments:function(){var e=a.path().split("/"),t=0;return angular.forEach(e,function(e){e.length&&t++}),t}}}]),myApp.filter("deviceName",function(){return function(e,t){e=1==e?"Z-Way":"Device _"+e;return e=void 0!==t&&""!=t.data.givenName.value?t.data.givenName.value:e}}),myApp.filter("stringToSlug",function(){return function(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="/_,:;",a=0,n=t.length;a<n;a++)e=e.replace(new RegExp(t.charAt(a),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}}),myApp.filter("setConfigValue",function(){return function(e){return isNaN(parseInt(e))?"'"+e+"'":e}}),myApp.filter("setRgbColors",function(){return function(e){return e?"rgb("+e.r+","+e.g+","+e.b+")":"rgb(0,0,0)"}}),function postRenderAlpaca(renderedForm){var $alpaca=$("#alpaca_data");$alpaca&&$alpaca.data("modulePostrender")&&$alpaca.data("modulePostrender")&&(eval($alpaca.data("modulePostrender")),"function"==typeof modulePostRender&&$(document).ready(modulePostRender(renderedForm))),$("#btn_module_submit").click(function(){var e=postRenderAlpacaData(renderedForm),t=config_data.cfg.server_url+config_data.cfg.api.instances+(0<e.instanceId?"/"+e.instanceId:""),a=0<e.instanceId?"PUT":"POST",n=$(this).data("sid"),i=$(this).data("lang"),s=$(this).data("fromapp"),o=$(this).data("fromroute");return delete e.instanceId,$.ajax({type:a,cache:!1,url:t,contentType:"application/json; charset=utf-8",dataType:"json",headers:{"Accept-Language":i,ZWAYSession:n},data:JSON.stringify(e),beforeSend:function(){$("#alpaca-spinner").show()},success:function(e){$("#alpaca-spinner").fadeOut(),o?window.location.replace("#"+o):s?window.location.replace("#module/post/"+s):"PUT"==a?window.location.replace("#apps/instance"):window.location.replace("#apps/local")},error:function(e,t,a){$("#alpaca-spinner").fadeOut(),e.status&&400==e.status?alert(e.responseText):alert("Something went wrong")}}),!1})});function postRenderAlpacaData(e){var a=["instanceId","moduleId","active","title","description"],e={params:e.getValue()},t=$("#form_module").serializeArray(),n={};return $.each(t,function(e,t){-1<a.indexOf(t.name)&&(n[t.name]=t.value)}),n.active=n.active||!1,$.extend(n,e)}var myAppController=angular.module("myAppController",[]);myAppController.controller("BaseController",["$scope","$rootScope","$cookies","$filter","$location","$route","$window","$interval","$timeout","$http","$q","cfg","cfgicons","dataFactory","dataService","deviceDetector","myCache","_",function(i,e,t,a,n,s,o,l,r,d,c,u,p,m,g,f,v,h){i.nightMode=!1,i.color=null,i.$location=n,i.deviceDetector=f,angular.extend(u.route,{os:f.os}),i.cfg=u,i.css="app/css/main.css",i.timeZoneInterval=null,i.languages={},i.loading=!1,i.alert={message:!1,status:"is-hidden",icon:!1},i.authCtrl={processed:!1},i.user=g.getUser(),i.hostName=n.host(),i.hostProtocol=n.protocol(),i.ZWAYSession=g.getZWAYSession(),i.lastLogin=g.getLastLogin(),i.rss={unread:0,read:[],all:[],find:{},alert:{message:!1,status:"is-hidden",icon:!1}},i.connection={online:!1,local:!1,remote:!1},i.swipeDir=!1,i.swipe=function(e){i.$broadcast("swipe",e)},i.deviceDetector.isMobile()&&$(document).contextmenu(function(){return!1}),i.extendUser=function(){m.getApi("profiles","/"+i.user.id).then(function(e){angular.extend(i.user,e.data.data),angular.extend(u.user,e.data.data)},function(e){})},i.user&&i.extendUser(),i.setSkin=function(){t.skin&&"default"!==t.skin?(u.skin.active=t.skin,u.img.icons=u.skin.path+t.skin+"/img/icons/",u.img.logo=u.skin.path+t.skin+"/img/logo/",$("link[id='main_css']").attr("href",u.skin.path+t.skin+"/main.css"),i.css=u.skin.path+t.skin+"/main.css"):m.getApi("skins_active").then(function(e){"default"!==e.data.data.name&&(u.skin.active=e.data.data.name,u.img.icons=u.skin.path+e.data.data.name+"/img/icons/",u.img.logo=u.skin.path+e.data.data.name+"/img/logo/",$("link[id='main_css']").attr("href",u.skin.path+e.data.data.name+"/main.css"),i.css=u.skin.path+e.data.data.name+"/main.css")}),i.user.night_mode="true"==i.user.night_mode},i.setSkin(),i.setNightMode=function(e){i.user.night_mode=e,m.putApi("profiles",i.user.id,i.user)},i.$watch("user.night_mode",function(e,t){i.color=e?"#24262D":"#E9E9E9"}),i.routeMatch=function(e){return!(!s.current||!s.current.regexp)&&s.current.regexp.test(e)},i.elementAccess=function(e,t){return!!i.user&&(!t&&(!angular.isArray(e)||-1!==e.indexOf(i.user.role)))},i.loadRssInfo=function(){var e=v.get("rssinfo");e?angular.extend(i.rss,e):m.getApi("configget_url",null,!0).then(function(t){m.xmlToJson(u.api_remote.rss_feed+"?boxtype="+i.getCustomCfgArr("boxtype")).then(function(e){var a=0,n=t.data.rss?t.data.rss.read:[],e=h.isArray(e.rss.channel.item)&&e.rss.channel.item?e.rss.channel.item:e.rss.channel.item?[e.rss.channel.item]:[];h.filter(e,function(e,t){-1===n.indexOf(e.id)&&a++}),v.put("rssinfo",{read:n,unread:a}),angular.extend(i.rss,{read:n,unread:a})})})},i.elementAccess(i.cfg.role_access.admin)&&i.loadRssInfo(),i.setTimeStamp=function(){i.user&&m.pingServer(u.server_url+u.api.time).then(function(e){l.cancel(i.timeZoneInterval),i.connection.online=!0;-1<u.find_hosts.indexOf(n.host())?i.connection.remote=!0:i.connection.local=!0,angular.extend(u.route.time,{string:a("setTimeFromBox")(e.data.data.localTimeUT)},{timestamp:e.data.data.localTimeUT},{timeZoneOffset:e.data.data.localTimeZoneOffset});i.timeZoneInterval=l(function(){var e=u.route.time.string;u.route.time.timestamp+=u.interval<1e3?1:u.interval/1e3,u.route.time.string=a("setTimeFromBox")(u.route.time.timestamp),"network"===u.route.alert.type?(i.connection.online=!1,u.route.time.string=e,i.reloadAfterError()):i.connection.online=!0},i.cfg.interval)},function(e){console.log("Error connection",e),0===e.status&&(e={type:"network",message:i._t("connection_refused"),info:i._t("connection_refused_info"),permanent:!0,hide:!0},i.routeMatch("/boxupdate")&&(e.message=i._t("jamesbox_connection_refused"),e.info=i._t("jamesbox_connection_refused_info",{__reload_begintag__:"<div>",__reload_endtag__:"</div>",__attention_begintag__:'<div class="alert alert-warning"><i class="fas fa-exclamation-circle"></i>',__attention_endtag__:"<div>"}),e.icon="fa-spinner fa-spin text-success"),angular.extend(u.route.alert,e))})},i.reloadAfterError=function(){i.user&&m.sessionApi().then(function(e){var t={type:"warning",message:i._t("reloading_page"),info:!1,icon:"fa-spinner fa-spin text-success",permanent:!1,hide:!0},e=e.data.data;e&&(g.checkZWAYSession(e.sid)?angular.extend(u.route.alert,{type:"system",message:!1,info:!1,permanent:!1,hide:!1,icon:"fa-exclamation-triangle text-danger"}):(angular.extend(u.route.alert,t),g.setZWAYSession(e.sid),g.setUser(e),g.getUser()&&r(function(){o.location.reload()},5e3)))},function(e){})},e.$on("$routeChangeStart",function(e,t,a){angular.forEach(d.pendingRequests,function(e){e.cancel=c.defer(),e.timeout=e.cancel.promise}),i.expand={},g.resetAlert(),g.isAccessAllowed(t),a||i.setTimeStamp(),angular.copy({},i.naviExpanded),angular.copy({},i.autocompleteExpanded),angular.copy({},i.expand)}),i.setPollInterval=function(){i.user?i.cfg.interval=1e3<=a("toInt")(i.user.interval)?a("toInt")(i.user.interval):i.cfg.interval:i.cfg.interval=i.cfg.interval},i.setPollInterval(),i.isInArray=function(e,t){return-1<e.indexOf(t)},i.lang_list=u.lang_list,i.getLang=function(){i.user?i.lang=i.user.lang:i.lang=(angular.isDefined(t.lang)?t:u).lang},i.getLang(),t.lang=i.lang,i.loadLang=function(e){e=-1<u.lang_list.indexOf(e)?e:u.lang;m.getLanguageFile(e).then(function(e){angular.extend(i.languages,e.data),i.setAlertifyDefaults()},function(e){})},i._t=function(e,t){return g.getLangLine(e,i.languages,t)},i.$watch("lang",function(){i.loadLang(i.lang)}),i.orderBy=function(e){i.predicate=e,i.reverse=!i.reverse},i.getBodyId=function(){return n.path().split("/")[1]||"login"},i.isMobile=g.isMobile(navigator.userAgent||navigator.vendor||window.opera),i.isActive=function(e){return e===i.getBodyId()?"active":""},i.reloadData=function(e){e&&v.removeAll(),s.reload()},i.redirectToRoute=function(e){e&&n.path(e)},i.getAppLogo=function(){var e=u.img.logo+"app-logo-default.png";return e=u.custom_cfg[u.app_type]?u.img.logo+u.custom_cfg[u.app_type].logo||e:e},i.getHiddenApps=function(){var e=[];return e=u.custom_cfg[u.app_type]?u.custom_cfg[u.app_type].hidden_apps||[]:e},i.getCustomCfgArr=function(e){return u.custom_cfg[u.app_type]&&u.custom_cfg[u.app_type][e]||[]},i.toExpert=function(e,t){alertify.confirm(t,function(){o.open(e,"_blank")}).set("labels",{ok:i._t("goahead")})},i.naviExpanded={},i.expandNavi=function(e,t,a){t.stopPropagation();t=!i.naviExpanded[e];i.naviExpanded={},t&&(i.naviExpanded[e]="boolean"==typeof a?a:t)},i.elSearchHolder=function(e){e.stopPropagation()},i.autocompleteExpanded={},i.expandAutocomplete=function(e){i.autocompleteExpanded={},e&&(i.autocompleteExpanded[e]=!0)},window.onclick=function(e){i.autocompleteExpanded&&(angular.copy({},i.autocompleteExpanded),i.$apply()),(i.naviExpanded&&!i.naviExpanded.elCategories||0==$("#elCategories").has($(e.target)).length)&&(angular.copy({},i.naviExpanded),i.$apply())},i.modalArr={},i.isModal=!1,i.handleModal=function(e,t,a){i.modalArr[e]="boolean"==typeof a?a:!i.modalArr[e],t&&t.stopPropagation(),i.isModal=i.modalArr[e]},i.expand={},i.expandElement=function(a){a?(1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&angular.forEach(i.expand,function(e,t){t!=a&&(i.expand[t]=!1)}),i.expand[a]=!i.expand[a]):i.expand=[]},i.rowSpinner=[],i.toggleRowSpinner=function(e){e?i.rowSpinner[e]=!i.rowSpinner[e]:i.rowSpinner=[]},i.setAlertifyDefaults=function(){alertify.defaults.glossary.title=u.app_name,alertify.defaults.glossary.ok="OK",alertify.defaults.glossary.cancel=i._t("lb_cancel")},i.setAlertifyDefaults(),alertify.alertError||alertify.dialog("alertError",function(){return{build:function(){var e='<span class="fas fa-exclamation-triangle fa-lg text-danger" style="vertical-align:middle;"></span> '+u.app_name+" - ERROR";this.setHeader(e)}}},!0,"alert"),alertify.alertWarning||alertify.dialog("alertWarning",function(){return{build:function(){var e='<span class="fas fa-exclamation-circle fa-lg text-warning" style="vertical-align:middle;"></span> '+u.app_name+" - WARNING";this.setHeader(e)}}},!0,"alert"),i.openSideNav=function(e){i.deviceDetector.isMobile()&&0==$(".appmodal").length&&-1==n.path().indexOf("rooms")&&-1==n.path().indexOf("events")&&i.expandNavi("mainNav",e,!0)},i.closeSideNav=function(e){(1==n.path().indexOf("rooms")||1==n.path().indexOf("events")&&"click"==e.type&&i.deviceDetector.isMobile())&&i.expandNavi("mainNav",e,!1),(1!=n.path().indexOf("rooms")||1!=n.path().indexOf("events")&&i.deviceDetector.isMobile())&&i.expandNavi("mainNav",e,!1)}}]),myAppController.controller("GlobalDevicesController",["$rootScope","$scope","$timeout","$cookies","$filter","$interval","dataService","dataFactory","$q","$routeParams","cfg",function(e,o,i,a,l,t,r,n,s,d,c){o.dataHolder={mode:"default",firstLogin:!1,cnt:{devices:0,collection:0,hidden:0,rooms:{}},devices:{updateTime:!1,switchButton:[],noDashboard:!1,noDevices:!1,noSearch:!1,show:!0,all:[],byId:{},collection:[],deviceType:{},find:{},tags:[],get filter(){var e=angular.fromJson(a.filterElements);return e&&e[o.getBodyId()]?e[o.getBodyId()]:{}},set filter(e){var t=angular.fromJson(a.filterElements);t?t[o.getBodyId()]=e:t=_defineProperty({},o.getBodyId(),e),a.filterElements=angular.toJson(t),u()},rooms:{},get orderBy(){var e=o.getBodyId();return a[e]||"order_"+e},set orderBy(e){a[o.getBodyId()]=e},showHidden:!!a.showHiddenEl&&l("toBool")(a.showHiddenEl),notificationsSince:1e3*l("unixStartOfDay")("-",518400)},dragdrop:{get action(){return o.getBodyId()},data:[]}},o.list=[],o.apiDataInterval=null,o.initialLoadFinish=!1,o.autocomplete={source:[],term:"",searchInKeys:"id,title",returnKeys:"id,title,iconPath",strLength:2,resultLength:1e3},e.$on("$routeChangeStart",function(e,t,a){t.$$route&&"/elements"===t.$$route.originalPath&&u(),o.dataHolder.mode="default"}),o.cmdTimeouts=[],o.room={},o.$on("$destroy",function(){c.route.time.timeUpdating=!1,t.cancel(o.apiDataInterval)}),o.allSettled=function(e){o.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:o._t("loading")};e=[n.getApi("locations",null,e),n.getApi("devices",null,e)];s.allSettled(e).then(function(e){var t=e[0],e=e[1];o.loading=!1,"rejected"===e.state?(o.loading=!1,angular.extend(c.route.alert,{message:o._t("error_load_data")}),o.dataHolder.devices.show=!1):("fulfilled"===t.state&&(o.dataHolder.devices.rooms=r.getRooms(t.value.data.data).indexBy("id").value(),"rooms"===o.getBodyId()&&void 0!==(t=_.find(t.value.data.data,function(e){return e.id===d.id}))&&(o.room=r.getRooms([t]).value()[0])),"fulfilled"===e.state&&(o.dataHolder.devices.updateTime=e.value.data.data.updateTime,o.dataHolder.cnt.hidden=_.chain(r.getDevicesData(e.value.data.data.devices,!0)).flatten().where({visibility:!1}).size().value(),t=r.getDevicesData(e.value.data.data.devices,o.dataHolder.devices.showHidden),_.filter(t.value(),function(e){0<e.tags.length&&angular.forEach(e.tags,function(e){-1===o.dataHolder.devices.tags.indexOf(e)&&o.dataHolder.devices.tags.push(e)})}),o.dataHolder.devices.deviceType=t.countBy(function(e){return e.deviceType}).value(),o.dataHolder.cnt.devices=t.size().value(),o.dataHolder.cnt.rooms=_.countBy(t.value(),function(e){return e.location}),"rooms"===o.getBodyId()&&d.id&&delete o.dataHolder.cnt.rooms[d.id],o.dataHolder.devices.all=t.value(),_.isEmpty(o.dataHolder.devices.all)?o.dataHolder.devices.noDevices=!0:u(),o.initialLoadFinish=!0))})},r.getUser()&&o.allSettled(),o.reloadDevicesFromServer=o.allSettled;var u=function(){var t,a,e,n,i,s;"edit"!==o.dataHolder.mode&&(e="tag"in(t=o.dataHolder.devices).filter?t.all.filter(function(e){return e.tags.includes(t.filter.tag)}):"q"in t.filter?(o.autocomplete.term=t.filter.q,a=_.indexBy(r.autocomplete(t.all,o.autocomplete),"id"),_.filter(t.all,function(e){if(a[e.id])return e})):"list"in t.filter?(n={},i=Object.keys(t.filter.list[0])[0],_.each(t.filter.list,function(e){n[e[i]]=!0}),_.filter(t.all,function(e){return n[e[i]]},n)):_.where(t.all,t.filter),t.noSearch=!1,t.noDashboard=!1,t.noDevices=!1,_.isEmpty(e)?o.routeMatch("/dashboard")?t.noDashboard=!0:t.filter.q?t.noSearch=!0:t.noDevices=!0:"edit"===o.dataHolder.mode&&(s="order."+o.dataHolder.dragdrop.action,e=_.sortBy(e,function(e){return l("hasNode")(e,s)||0})),o.dataHolder.devices.collection=e,o.dataHolder.cnt.collection=_.size(e))};o.refreshDevices=function(){o.apiDataInterval||(o.apiDataInterval=t(function(){"network"!==c.route.alert.type&&n.refreshApi("devices",!1,o.dataHolder.devices.updateTime).then(function(e){e&&(o.dataHolder.devices.updateTime=e.data.data.updateTime,0<e.data.data.devices.length&&angular.forEach(e.data.data.devices,function(e,t){o.updateDevice(e)}),!0===e.data.data.structureChanged&&o.allSettled(!0))}),u()},o.cfg.interval))},o.updateDevice=function(t){var e,a,n=_.findIndex(o.dataHolder.devices.all,{id:t.id});(e=o.dataHolder.devices.all[n])&&(t.metrics.level&&(t.metrics.level=l("numberFixedLen")(t.metrics.level)),o.cmdTimeouts[t.id]&&(i.cancel(o.cmdTimeouts[t.id]),delete o.cmdTimeouts[t.id],o.cmdTimeouts.splice(o.cmdTimeouts.indexOf(t.id),1)),angular.extend(o.dataHolder.devices.all[n],{isFailed:t.metrics.isFailed},{metrics:t.metrics},{progress:!1},{iconPath:r.assignElementIcon(t)},{updateTime:t.updateTime}),a={},angular.copy(e,a),Object.keys(t).forEach(function(e){a[e]=t[e]}),angular.copy(a,e))}}]),myAppController.controller("JbUpdateController",["$scope","$q","$location","cfg","dataFactory","_",function(a,t,n,i,s,o){a.jamesbox={showConfirm:!1,showUpdate:!1,rule_id:"",uuid:"",version:"",versionNew:"",interval:null},a.allSettled=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")};var e=[s.loadZwaveApiData()];t.allSettled(e).then(function(e){e=e[0];a.loading=!1,"rejected"===e.state&&angular.extend(i.route.alert,{message:a._t("error_load_data")}),"fulfilled"===e.state&&e.value&&(a.jamesbox.uuid=e.value.controller.data.uuid.value,a.jamesbox.version=e.value.controller.data.softwareRevisionVersion.value,a.jamesBoxRequest())})},a.allSettled(),a.jamesBoxRequest=function(){a.loading=!1,s.postToRemote(i.api_remote.jamesbox_request,a.jamesbox).then(function(e){o.isEmpty(e.data)?alertify.success(a._t("no_update_available"),"",0,function(){console.log("hello"),n.path("/dashboard")}):(a.jamesbox.versionNew=e.data.firmware_version,a.jamesbox.rule_id=e.data.rule_id,a.jamesbox.showConfirm=!0)},function(e){})},a.firmwareUpdate=function(){var e={uuid:a.jamesbox.uuid,rule_id:a.jamesbox.rule_id};a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("jamesbox_confirm")},s.postToRemote(i.api_remote.jamesbox_update,e).then(function(e){a.loading=!1,a.jamesbox.showConfirm=!1,a.jamesbox.showUpdate=!0},function(e){var t=a._t("error_update_data");409===e.status&&(t=a._t("jamesbox_update_exists")),alertify.alertError(a._t(t)),a.loading=!1})},a.cancelUpdate=function(){var e={uuid:a.jamesbox.uuid,rule_id:a.jamesbox.rule_id};a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("jamesbox_remove_confirm")},s.postToRemote(i.api_remote.jamesbox_cancel_update,e).then(function(e){a.loading=!1,n.path("/dashboard")},function(e){a.loading=!1;var t=a._t("error_update_data");alertify.alertError(a._t(t)).set("onok",function(e){alertify.dismissAll(),n.path("/dashboard")})})},a.systemReboot=function(){s.getApi("system_reboot").then(function(e){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("rebooting")}},function(e){var t=a._t("jamesbox_update_manuel_restart");alertify.alertError(a._t(t)),a.loading=!1})}}]),myAppController.controller("ElementBaseController",["$scope","$q","$interval","$cookies","$filter","$routeParams","$timeout","$location","$rootElement","cfg","dataFactory","dataService","myCache",function(r,e,t,a,n,i,s,o,l,d,c,u,p){r.getDeviceById=function(e){e=_.where(r.dataHolder.devices.collection,{id:e});e[0]&&angular.extend(r.dataHolder.devices.byId,e[0])},r.initialLoadInterval=t(function(){r.initialLoadFinish&&(r.refreshDevices(),t.cancel(r.initialLoadInterval))},1e3),r.searchMe=function(){r.autocomplete.results=u.autocomplete(r.dataHolder.devices.all,r.autocomplete),_.isEmpty(r.autocomplete.results)?r.expandAutocomplete():r.expandAutocomplete("searchElements"),r.dataHolder.devices.filter.q&&r.autocomplete.term.length<1&&r.setFilter()},r.changeMode=function(e){"default"===e&&(r.dataHolder.dragdrop.data=[]),"elements"===r.dataHolder.dragdrop.action&&r.setFilter(!1),"edit"===e&&(r.dataHolder.devices.collection=n("orderBy")(r.dataHolder.devices.collection,d.orderby.elements[r.dataHolder.devices.orderBy])),r.dataHolder.mode=e},r.setFilter=function(e){r.autocomplete.results=[],r.dataHolder.devices.noSearch=!1,r.expandAutocomplete();var t=""==_.values(e);r.dataHolder.devices.filter=!e||t?{}:e,r.allSettled()},r.setListFilter=function(e){var t,a=[];r.autocomplete.results=[],r.dataHolder.devices.noSearch=!1,r.expandAutocomplete(),r.dataHolder.devices.filter.list&&(t=_.findIndex(r.dataHolder.devices.filter.list,e),a=r.dataHolder.devices.filter.list,-1<t)?a.splice(t,1):a.push(e),0<a.length?r.dataHolder.devices.filter={list:a}:r.dataHolder.devices.filter={},r.allSettled()},r.showHiddenEl=function(e){angular.extend(r.dataHolder.devices,{filter:{}}),a.filterElements=angular.toJson({}),e=n("toBool")(e),angular.extend(r.dataHolder.devices,{showHidden:e}),a.showHiddenEl=e,r.reloadData()},r.setOrderBy=function(e){r.dataHolder.devices.orderBy=e},r.elementOnLongPress=function(){},r.elementOnTouchEnd=function(){},r.highlightElementToogle=function(e){e=angular.element(e);e.hasClass("dd-on-start")?e.removeClass("dd-on-start"):e.addClass("dd-on-start")},r.dragDropStart=function(e,t,a,n){n.element.addClass("dd-on-start")},r.dragDropSort=function(e,t,a,n,i){angular.element(".card-element-dragdrop").removeClass("dd-on-start"),r.dataHolder.dragdrop.data=[],angular.forEach(t,function(e,t){r.dataHolder.dragdrop.data.push(e.id)})},r.dragDropStop=function(e,t){angular.element(".card-element-dragdrop").removeClass("dd-on-start")},r.dragDropSave=function(){c.putApi("reorder",!1,r.dataHolder.dragdrop).then(function(e){r.dataHolder.dragdrop.data=[],r.dataHolder.mode="default",r.setOrderBy("order_"+r.getBodyId()),r.allSettled(!0)},function(e){alertify.alertError(r._t("error_update_data")),r.dataHolder.dragdrop.data=[]})},r.runCmd=function(e,n){var t;n&&(t=_.findIndex(r.dataHolder.devices.all,{id:n}),angular.extend(r.dataHolder.devices.all[t],{progress:!0})),c.runApiCmd(e).then(function(e){var t,a;n&&(t=_.findIndex(r.dataHolder.devices.all,{id:n}),r.dataHolder.devices.all[t]&&(a=s(function(){angular.extend(r.dataHolder.devices.all[t],{progress:!1}),r.cmdTimeouts[n]&&(delete r.cmdTimeouts[n],r.cmdTimeouts.splice(r.cmdTimeouts.indexOf(n),1))},d.pending_cmd_limit),r.cmdTimeouts[n]=a))},function(e){alertify.alertError(r._t("error_update_data")),r.loading=!1,n&&angular.extend(r.dataHolder.devices.all[t],{progress:!1})})},r.getRgbState=function(e){var t=e.substr(0,e.indexOf("-")),e=(_.findIndex(r.dataHolder.devices.all,{id:e}),_.findIndex(r.dataHolder.devices.all,{id:t+"-0-38"})),a=_.findIndex(r.dataHolder.devices.all,{id:t+"-0-51-0"}),t=_.findIndex(r.dataHolder.devices.all,{id:t+"-0-51-1"});return!(a<0||t<0)&&(r.dataHolder.devices.all[e]&&r.dataHolder.devices.all[e].metrics&&r.dataHolder.devices.all[e].metrics.level&&"off"!=r.dataHolder.devices.all[e].metrics.level?r.dataHolder.devices.all[a]&&r.dataHolder.devices.all[a].metrics&&r.dataHolder.devices.all[a].metrics.level&&"off"!=r.dataHolder.devices.all[a].metrics.level||r.dataHolder.devices.all[t]&&r.dataHolder.devices.all[t].metrics&&r.dataHolder.devices.all[t].metrics.level&&"off"!=r.dataHolder.devices.all[t].metrics.level?"w":"rgb":"off")},r.runRgbCmd=function(e,t){var a=t.substr(0,t.indexOf("-"));switch(dimmerId=a+"-0-38",softId=a+"-0-51-0",coldId=a+"-0-51-1",softIndex=_.findIndex(r.dataHolder.devices.all,{id:softId}),coldIndex=_.findIndex(r.dataHolder.devices.all,{id:coldId}),e){case"off":r.runCmd(dimmerId+"/command/off",dimmerId);break;case"rgb":r.runCmd(softId+"/command/off",softId),r.runCmd(coldId+"/command/off",coldId),r.runCmd(t+"/command/on",t),r.runCmd(dimmerId+"/command/on",dimmerId);break;case"w":r.runCmd(t+"/command/off",t),oldSoft=void 0!==r.dataHolder.devices.all[softIndex].metrics.oldLevel?r.dataHolder.devices.all[softIndex].metrics.oldLevel:99,oldCold=void 0!==r.dataHolder.devices.all[coldIndex].metrics.oldLevel?r.dataHolder.devices.all[coldIndex].metrics.oldLevel:99,oldSoft||oldCold||(oldSoft=99,oldCold=99),r.runCmd(softId+"/command/exact?level="+oldSoft,softId),r.runCmd(coldId+"/command/exact?level="+oldCold,coldId),r.runCmd(dimmerId+"/command/on",dimmerId)}},r.resetDevices=function(e){angular.extend(r.dataHolder.devices,e)},r.deleteHistory=function(e,t,a){alertify.confirm(t,function(){c.deleteApi("history_delete","?id="+e.id).then(function(e){u.showNotifier({message:r._t("delete_successful")}),r.handleModal("modalHistory",a),r.reloadData()},function(e){e=n("hasNode")(e,"data.error")?r._t(e.data.error.key):r._t("error_delete_data");r.loading=!1,alertify.alertError(e)})}).setting("labels",{ok:r._t("ok")})},r.setVisibility=function(e,t){r.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:r._t("updating")},c.putApi("devices",e.id,{visibility:t}).then(function(e){r.loading=!1,r.reloadData()},function(e){alertify.alertError(r._t("error_update_data")),r.loading=!1})},r.setExactCmd=function(e,t,a){var n,i=parseFloat(e.metrics.level),s=parseInt(e.minMax.min,10),o=parseInt(e.minMax.max,10),l=parseFloat(e.minMax.step);switch(t){case"-":n=i-l;break;case"+":n=i+l;break;default:n=parseInt(t,10)}s=e.id+"/command/exact?level="+(n=o<(n=n<s?s:n)?o:n);e.metrics.level=n,r.runCmd(s)},r.itemOnLongPress=function(e){r.longPressTimeout=s(function(){o.path("element/"+e)},1e3)},r.itemOnTouchEnd=function(){s.cancel(r.longPressTimeout)},r.handlePower=function(e){0===e.metrics.level?c.runCmdExact(e.id,e.minMax.max):c.runCmdExact(e.id,e.minMax.min)},r.adaptiveFontSize=function(e){var t;if("string"==typeof e&&0<e.length)return 300<(t=document.querySelector(".widget-entry-in").offsetWidth)?{"font-size":(30<(t=Math.min(30,Math.round((t-134)/e.length/.7)))?30:t)+"px"}:{}}}]),myAppController.controller("ElementDashboardController",["$scope","$routeParams",function(e,t){e.dataHolder.devices.filter={onDashboard:!0},e.elementDashboard={firstLogin:t.firstlogin||!1,firstFile:"app/views/welcome/first_login.html"}}]),myAppController.controller("ElementRoomController",["$scope","$q","$routeParams","$timeout","$location","cfg",function(s,e,t,o,l,r){t=parseInt(t.id);s.dataHolder.devices.filter={location:t},s.room=s.dataHolder.devices.rooms[t]||{},r.route.pageClass="page-room",s.swipeTimer=null,s.$on("$destroy",function(){r.route.pageClass=!1}),s.roomBarOnLongPress=function(e){s.longPressTimeout=o(function(){l.path("config-rooms/"+e)},1e3)},s.roomBarOnTouchEnd=function(){o.cancel(s.longPressTimeout)},s.$on("swipe",function(e,t){s.swipeMe(t)}),s.swipeMe=function(e){var t,a,n,i;"default"===s.dataHolder.mode&&s.deviceDetector.isMobile()&&(s.swipeTimer&&o.cancel(s.swipeTimer),o(function(){r.route.swipeDir=!1},1e3),"left"==(r.route.swipeDir=e)&&0==$(".appmodal").length&&(t=s.dataHolder.devices.filter.location,-1<(n=(a=Object.keys(s.dataHolder.devices.rooms)).indexOf(t.toString()))&&(i=0,n<a.length-1&&(i=a[n+1]),l.path("rooms/"+i))),"right"==e&&0==$(".appmodal").length&&(t=s.dataHolder.devices.filter.location,-1<(n=(a=Object.keys(s.dataHolder.devices.rooms)).indexOf(t.toString()))&&(i=(i=0)<n?a[n-1]:a[a.length-1],l.path("rooms/"+i))))}}]),myAppController.controller("ElementChartController",["$scope","$sce","dataFactory","$interval",function(t,a,e,n){t.widgetChart={find:{},alert:{message:!1,status:"is-hidden",icon:!1},hasURL:!1,intchartUrl:"",url:{},time:0,chartOptions:{}},t.reloadUrl=function(){e.getApi("devices","/"+t.dataHolder.devices.find.id,!0).then(function(e){e=e.data.data;t.widgetChart.time<e.metrics.intchartTime&&(t.widgetChart.find=e,t.widgetChart.intchartUrl=e.metrics.intchartUrl+"&"+(new Date).getTime(),t.widgetChart.time=e.metrics.intchartTime,t.widgetChart.url=a.trustAsResourceUrl(t.widgetChart.intchartUrl))})},t.loadDeviceUrl=function(){t.widgetChart.alert={message:t._t("loading"),status:"alert-warning",icon:"fa-spinner fa-spin"},e.getApi("devices","/"+t.dataHolder.devices.find.id,!0).then(function(e){e=e.data.data;e&&(t.widgetChart.find=e).metrics.intchartUrl?(t.widgetChart.hasURL=!0,t.widgetChart.intchartUrl=e.metrics.intchartUrl,t.widgetChart.time=e.metrics.intchartTime,t.widgetChart.url=a.trustAsResourceUrl(t.widgetChart.intchartUrl),t.refreshInterval=n(t.reloadUrl,t.cfg.interval),t.widgetChart.alert={message:!1}):t.widgetChart.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}},function(e){t.widgetChart.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},t.loadDeviceUrl()}]),myAppController.controller("ElementHistoryController",["$scope","$window","$timeout","dataFactory","dataService","_",function(t,e,a,n,i,s){t.widgetHistory={find:{},alert:{message:!1,status:"is-hidden",icon:!1},chartData:{},chartOptions:{pointDot:!1,responsive:!0},history_steps:24,history_steps_list:[{key:t._t("interval_14400"),value:6},{key:t._t("interval_7200"),value:12},{key:t._t("interval_3600"),value:24},{key:t._t("interval_1800"),value:48},{key:t._t("interval_900"),value:96},{key:t._t("interval_600"),value:144},{key:t._t("interval_300"),value:288},{key:t._t("interval_60"),value:1440}]};function o(){var e=s.isEmpty(t.dataHolder.devices.byId)?t.dataHolder.devices.find:t.dataHolder.devices.byId;if(e)return t.widgetHistory.find=e,t.widgetHistory.alert={message:t._t("loading"),status:"alert-warning",icon:"fa-spinner fa-spin"},n.getApi("history_get","?id="+e.id+"&show="+t.widgetHistory.history_steps,!0).then(function(e){if(e.data.history)return t.widgetHistory.alert={},t.widgetHistory.chartData=i.getChartData(e.data.history,t.cfg.chart_colors,t.widgetHistory.history_steps);t.widgetHistory.alert={message:t._t("no_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}},function(e){t.widgetHistory.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}});t.widgetHistory.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}}var l,r;function d(){l.width=e.innerWidth,l.height=e.innerHeight,r||(r=!0,o().then(function(){r=!1}))}t.reloadChart=function(e){t.widgetHistory.history_steps=parseInt(e,10),o()},l=document.getElementById("history_chart"),e.addEventListener("resize",d,!1),r=!1,d()}]),myAppController.controller("ElementEventController",["$scope","$filter","$cookies","cfg","dataFactory","dataService","_",function(n,i,a,s,o,l,r){n.widgetEvent={find:{},alert:{message:!1,status:"is-hidden",icon:!1},collection:[]},n.loadDeviceEvents=function(){var a,e,t=r.where(n.dataHolder.devices.collection,{id:n.dataHolder.devices.find.id});r.isEmpty(t)?n.widgetEvent.alert={message:n._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}:(e=l.getSingleElementIcons(t[0],!0),a=l.setIcon(e.default,e.custom),n.widgetEvent.find=t[0],e="?since="+n.dataHolder.devices.notificationsSince,o.getApi("notifications",e,!0).then(function(e){n.widgetEvent.collection=r.chain(e.data.data.notifications).flatten().where({source:n.widgetEvent.find.id}).filter(function(e){var t;return e.iconPath=e.message.customIcon?s.img.custom_icons+e.message.customIcon:i("getEventIcon")(e.type,e.message),t=i("hasNode")(e,"message.l"),a[t]&&(e.iconPath=a[t]),e}).value(),r.isEmpty(n.widgetEvent.collection)&&(n.widgetEvent.alert={message:n._t("no_events"),status:"alert-warning",icon:"fa-exclamation-circle"})},function(e){n.widgetEvent.alert={message:n._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}}))},n.loadDeviceEvents(),n.redirectToEvents=function(e){var t={since:i("unixStartOfDay")("-",518400),to:i("unixStartOfDay")("-",432e3),day:7};a.events_timeFilter=angular.toJson(t),n.redirectToRoute(e)}}]),myAppController.controller("ElementSwitchMultilevelController",["$scope",function(t){t.widgetSwitchMultilevel={find:{},alert:{message:!1,status:"is-hidden",icon:!1}},t.knobopt={width:160},t.loadDeviceId=function(){var e=_.where(t.dataHolder.devices.collection,{id:t.dataHolder.devices.find.id});e?t.widgetSwitchMultilevel.find=angular.copy(e[0]):t.widgetSwitchMultilevel.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}},t.loadDeviceId()}]),myAppController.controller("ElementThermostatController",["$scope",function(t){t.widgetThermostat={find:{},alert:{message:!1,status:"is-hidden",icon:!1}},t.knobopt={width:160},t.loadDeviceId=function(){var e=_.where(t.dataHolder.devices.collection,{id:t.dataHolder.devices.find.id});e?t.widgetThermostat.find=angular.copy(e[0]):t.widgetSwitchMultilevel.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}},t.loadDeviceId()}]),myAppController.controller("ElementSwitchRGBWController",["$scope","dataFactory","$interval","cfg",function(o,l,t,e){function r(e,t,a){e="rgb(0, 0, 0)"==(e="rgb("+e+", "+t+", "+a+")")?o.widgetSwitchRGBW.selectedColor:e;o.widgetSwitchRGBW.previewColor=e}function d(e,t,a){return"#"+((1<<24)+(parseInt(e,10)<<16)+(parseInt(t,10)<<8)+parseInt(a,10)).toString(16).slice(1)}o.widgetSwitchRGBW={find:{},all:[],alert:{message:!1,status:"is-hidden",icon:!1},process:!1,previewColor:"rgb(255, 255, 255)",selectedColor:"rgb(255, 255, 255)",colorHex:"",minMax:{max:99,min:0,step:1},color:{r:"text-danger",g:"text-success",b:"text-info"},sliderInterval:null},o.knobopt={width:160},o.loadRgbWheel=function(s){o.input=s;var n=document.getElementById("wheel_picker"),i=n.getContext("2d"),e=new Image,t=(e.onload=function(){i.drawImage(e,0,0,e.width,e.height,0,0,n.width,n.height)},e.src="app/img/colorwheel.png",s.metrics.color||(s.metrics.color={r:0,g:0,b:0}),"rgb("+s.metrics.color.r+", "+s.metrics.color.g+", "+s.metrics.color.b+")");o.widgetSwitchRGBW.selectedColor=t,o.widgetSwitchRGBW.previewColor=t,$("#wheel_picker").mousemove(function(e){var t=$(n).offset(),a=Math.floor(e.pageX-t.left),e=Math.floor(e.pageY-t.top),t=i.getImageData(a,e,1,1).data;r(t[0],t[1],t[2]),$("#rVal").val("R: "+t[0]),$("#gVal").val("G: "+t[1]),$("#bVal").val("B: "+t[2]),$("#rgbVal").val(t[0]+","+t[1]+","+t[2])}),$("#wheel_picker").click(function(e){var t=$("#rgbVal").val().split(","),a=s.id+"/command/exact?red="+t[0]+"&green="+t[1]+"&blue="+t[2],n="rgb("+t[0]+","+t[1]+","+t[2]+")",i={r:t[0],g:t[1],b:t[2]};o.widgetSwitchRGBW.process=!0,l.runApiCmd(a).then(function(e){var t=_.findIndex(o.dataHolder.devices.collection,{id:s.id});angular.extend(o.dataHolder.devices.collection[t].metrics.color,i),angular.extend(s.metrics.color,i),o.widgetSwitchRGBW.colorHex=d(i.r,i.g,i.b),o.widgetSwitchRGBW.process=!1,o.widgetSwitchRGBW.selectedColor=n},function(e){o.widgetSwitchRGBW.process=!1,o.widgetSwitchRGBW.alert={message:o._t("error_update_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})})},o.colorHexChange=function(e){var t=o.widgetSwitchRGBW.colorHex;void 0!==t&&0<t.lenght&&(t=function(e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}(t),r((o.widgetSwitchRGBW.find.metrics.color=t).r,t.g,t.b))},o.sliderOnHandleDown=function(e){sliderInterval=t(function(){void 0!==e.metrics.color&&r(e.metrics.color.r,e.metrics.color.g,e.metrics.color.b)},500)},o.sliderOnHandleUpRGB=function(e){o.setRGBColor(e),t.cancel(sliderInterval)},o.sliderOnHandleUp=function(e){var t=parseFloat(e.metrics.level),a=e.id+"/command/exact?level="+t;e.metrics.level=t,o.runCmd(a)},o.loadDeviceId=function(){var a,e=_.where(o.dataHolder.devices.all,{id:o.dataHolder.devices.find.id});_.isEmpty(e)?o.widgetSwitchRGBW.alert={message:o._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}:(angular.extend(o.widgetSwitchRGBW.find,e[0]),"ZWayVDev_"!==o.widgetSwitchRGBW.find.id.substr(0,"ZWayVDev_".length)||o.elementAccess([2,3,4])?(e=o.widgetSwitchRGBW.find.metrics.color||{r:0,g:0,b:0},o.widgetSwitchRGBW.colorHex=d(e.r,e.g,e.b),o.loadRgbWheel(o.widgetSwitchRGBW.find)):(e=(a=o.widgetSwitchRGBW.find.id.substr(0,o.widgetSwitchRGBW.find.id.indexOf("-"))).substr(a.lastIndexOf("_")+1),l.runExpertCmd("devices["+e+"]").then(function(e){e.data.data&&void 0!==o.cfg.rgb_blacklist[e.data.data.manufacturerId.value]&&-1<o.cfg.rgb_blacklist[e.data.data.manufacturerId.value].indexOf(e.data.data.manufacturerProductId.value)?(e=o.widgetSwitchRGBW.find.metrics.color||{r:0,g:0,b:0},o.widgetSwitchRGBW.colorHex=d(e.r,e.g,e.b),o.loadRgbWheel(o.widgetSwitchRGBW.find)):l.getApi("devices","",!0).then(function(e){var e=e.data.data,e=_.filter(e.devices,function(e){if(-1<e.id.indexOf(a))return e}),e=(o.widgetSwitchRGBW.all=e,_.find(o.widgetSwitchRGBW.all,function(e){return"switchRGBW"==e.deviceType})),t=e.metrics.color;o.widgetSwitchRGBW.colorHex=d(t.r,t.g,t.b),o.loadRgbWheel(e)},function(e){console.log(e)})},function(e){o.widgetSwitchRGBW.alert={message:o._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})))},o.loadDeviceId(),o.setRGBColor=function(a){var e=a.id+"/command/exact?red="+a.metrics.color.r+"&green="+a.metrics.color.g+"&blue="+a.metrics.color.b,n="rgb("+a.metrics.color.r+","+a.metrics.color.g+","+a.metrics.color.b+")",i=a.metrics.color;o.widgetSwitchRGBW.process=!0,l.runApiCmd(e).then(function(e){var t=_.findIndex(o.dataHolder.devices.collection,{id:a.id});angular.extend(o.dataHolder.devices.collection[t].metrics.color,i),angular.extend(o.widgetSwitchRGBW.find.metrics.color,i),o.widgetSwitchRGBW.colorHex=d(a.metrics.color.r,a.metrics.color.g,a.metrics.color.b),o.widgetSwitchRGBW.process=!1,o.widgetSwitchRGBW.selectedColor=n},function(e){o.widgetSwitchRGBW.process=!1,o.widgetSwitchRGBW.alert={message:o._t("error_update_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})}}]),myAppController.controller("ElementSensorMultilineController",["$scope","$timeout","dataFactory","dataService",function(a,n,e,i){a.widgetSensorMultiline={find:{},alert:{message:!1,status:"is-hidden",icon:!1}},a.loadDeviceId=function(){e.getApi("devices","/"+a.dataHolder.devices.find.id,!0).then(function(e){var t=[];t[0]=e.data.data,a.widgetSensorMultiline.find=i.getDevicesData(t).value()[0],_.isEmpty(e.data.data.metrics.sensors)?a.widgetSensorMultiline.alert={message:a._t("no_data"),status:"alert-warning",icon:"fa-exclamation-circle"}:a.widgetSensorMultiline.find.metrics.sensors=i.getDevicesData(e.data.data.metrics.sensors).value()},function(e){a.widgetSensorMultiline.alert={message:a._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},a.loadDeviceId(),a.runMultilineCmd=function(e,t){a.runCmd(e,t),a.loadDeviceId(),n(function(){a.loadDeviceId()},2e3)}}]),myAppController.controller("ElementCameraController",["$scope","$interval",function(a,t){a.widgetCamera={find:{},alert:{message:!1,status:"is-hidden",icon:!1}},a.url=void 0,a.refreshInterval=void 0,a.setUrl=function(){var e,t=a.widgetCamera.find.metrics.url;!0===a.widgetCamera.find.metrics.autoRefresh&&(e=(new Date).getTime(),t=-1===t.indexOf("?")?t+"?"+e:t+"&"+e),a.url=t},a.loadDeviceId=function(){var e=_.where(a.dataHolder.devices.collection,{id:a.dataHolder.devices.find.id});_.isEmpty(e)?a.widgetCamera.alert={message:a._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}:(a.widgetCamera.find=e[0],a.setUrl(),!0===a.widgetCamera.find.metrics.autoRefresh&&(a.refreshInterval=t(a.setUrl,15e3)))},a.loadDeviceId()}]),myAppController.controller("ElementTextController",["$scope",function(t){t.widgetText={find:{},alert:{message:!1,status:"is-hidden",icon:!1}},t.loadDeviceId=function(){var e=_.where(t.dataHolder.devices.collection,{id:t.dataHolder.devices.find.id});_.isEmpty(e)?t.widgetText.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}:t.widgetText.find=e[0]},t.loadDeviceId()}]),myAppController.controller("ElementOpenWeatherController",["$scope",function(t){t.widgetOpenWeather={find:{},alert:{message:!1,status:"is-hidden",icon:!1}},t.loadDeviceId=function(){var e=_.where(t.dataHolder.devices.collection,{id:t.dataHolder.devices.find.id});_.isEmpty(e)?t.widgetOpenWeather.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}:t.widgetOpenWeather.find=e[0]},t.loadDeviceId()}]),myAppController.controller("ElementClimateControlController",["$scope","$filter","dataFactory",function(t,e,a){t.widgetClimateControl={find:{},rooms:{},alert:{message:!1,status:"is-hidden",icon:!1},devicesId:_.indexBy(t.dataHolder.devices.all,"id")},t.loadDeviceId=function(){a.getApi("devices","/"+t.dataHolder.devices.find.id,!0).then(function(e){e=e.data.data;_.isEmpty(e)?t.widgetSensorMultiline.alert={message:t._t("no_data"),status:"alert-warning",icon:"fa-exclamation-circle"}:(t.widgetClimateControl.find=e,t.widgetClimateControl.rooms=_.chain(e.metrics.rooms).flatten().filter(function(e){return angular.extend(e,{roomTitle:t.dataHolder.devices.rooms[e.room]?t.dataHolder.devices.rooms[e.room].title:"room deleted"},{roomIcon:t.dataHolder.devices.rooms[e.room]?t.dataHolder.devices.rooms[e.room].img_src:null},{sensorLevel:t.widgetClimateControl.devicesId[e.mainSensor]?t.widgetClimateControl.devicesId[e.mainSensor].metrics.level:null},{scaleTitle:t.widgetClimateControl.devicesId[e.mainSensor]?t.widgetClimateControl.devicesId[e.mainSensor].metrics.scaleTitle:null}),e}).value())},function(e){t.widgetClimateControl.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},t.loadDeviceId(),t.changeClimateControlMode=function(e){t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("updating")},a.runApiCmd(e.cmd).then(function(e){t.widgetClimateControl.alert={message:!1},t.loadDeviceId()},function(e){t.widgetClimateControl.alert={message:t._t("error_update_data"),status:"alert-danger",icon:"fa-exclamation-triangle"},t.loading=!1})}}]),myAppController.controller("ElementSecurityControlController",["$scope","$filter","dataFactory",function(t,e,a){t.widgetSecurityControl={find:{},alert:{message:!1,status:"is-hidden",icon:!1}},t.device=t.dataHolder.devices.all.find(function(e){return e.id===t.dataHolder.devices.find.id}),t.loadDeviceId=function(){a.getApi("devices","/"+t.dataHolder.devices.find.id,!0).then(function(e){e=e.data.data;_.isEmpty(e.metrics.lastTriggerList)&&(t.widgetSecurityControl.alert={message:t._t("no_data"),status:"alert-warning",icon:"fa-exclamation-circle"}),t.widgetSecurityControl.find=e},function(e){t.widgetSecurityControl.alert={message:t._t("error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},t.loadDeviceId()}]),myAppController.controller("ElementIdController",["$scope","$q","$routeParams","$filter","$location","$timeout","cfg","notifications_cfg","dataFactory","dataService","myCache",function(d,t,a,c,n,i,u,e,s,p,o){function m(e,i){d.notifications.device=[],e.forEach(function(e){var t,a,n=e[e.dev_filter];n.dev_select===i.id&&(e={id:i.id,channel:e.channel||"",deviceType:i.deviceType,msg:n.dev_message},_.isObject(n.dev_matchValue)&&d.notifications.cfg[i.deviceType].operator?(t=n.dev_matchValue.dev_matchValueOperation,a=n.dev_matchValue.dev_matchValueOperand,t&&a?(e.operator=t,e.level=parseInt(a,10)):e.operator="all"):e.level=n.dev_matchValue||"all",d.notifications.device.push(e))})}d.elementId={show:!1,appType:{},input:{},locations:[],instances:{},modules:{},referenced:[]},d.tagList=[],d.search={text:""},d.suggestions=[],d.notifications={input:[],cfg:e,channels:[],device:[]},d.allSettled=function(){d.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:d._t("loading")};var e=[s.getApi("devices","/"+a.id,!0),s.getApi("locations"),s.getApi("devices")];e.push(s.getApi("notification_channels",!1,!0)),e.push(s.getApi("notification_filtering",!1,!0)),1===d.user.role&&(e.push(s.getApi("instances",!1,!0)),e.push(s.getApi("modules",!1,!0)),e.push(s.getApi("devices","/"+a.id+"/referenced",!0))),t.allSettled(e).then(function(e){var t=e[0],a=e[1],n=e[2],i=e[3],s=e[4],o=e[5],l=e[6],e=e[7];if(d.loading=!1,"rejected"===t.state)angular.extend(u.route.alert,{message:d._t("error_load_data")});else{if("fulfilled"===a.state&&(d.elementId.locations=Object.values(p.getRooms(a.value.data.data).indexBy("id").value())),"fulfilled"===n.state&&(a=n.value.data.data.devices,angular.forEach(a,function(e,t){e.tags&&angular.forEach(e.tags,function(e,t){-1===d.tagList.indexOf(e)&&d.tagList.push(e)})})),"fulfilled"===i.state&&(d.notifications.channels=i.value.data.data),"fulfilled"===s.state&&(d.notifications.input=s.value.data.data,m(d.notifications.input,d.elementId.input)),o&&"fulfilled"===o.state&&(d.elementId.instances=o.value.data.data),l&&"fulfilled"===l.state&&(d.elementId.modules=l.value.data.data),"fulfilled"===t.state){n=[];if(n[0]=t.value.data.data,!p.getDevicesData(n,!0).value()[0])return void angular.extend(u.route.alert,{message:d._t("error_load_data")});var a=p.getDevicesData(n,!0).value()[0],r=(d.elementId.input=a,1===d.user.role&&(i=_.findWhere(d.elementId.instances,{id:c("toInt")(a.creatorId)}),r=_.findWhere(d.elementId.modules,{moduleName:i?i.moduleId:null}),d.elementId.appType.instance=i||null,d.elementId.appType.modul=r||null,(i=a.id.match(/ZWayVDev_([^_]+)_([0-9]+)-.*/))?d.elementId.appType.zwave=i[2]:(i=a.id.match(/ZEnoVDev_([^_]+)_x([0-9a-f]+)_.*/))&&(d.elementId.appType.enocean=i[2])),c("orderBy"));angular.extend(d.elementId.input,{iconPath:p.assignElementIcon(d.elementId.input),hide_events:!(!d.user.hide_single_device_events||-1===d.user.hide_single_device_events.indexOf(d.elementId.input.id)),tags:r(d.elementId.input.tags,"toString()")}),m(d.notifications.input,d.elementId.input),d.elementId.show=!0}e&&"fulfilled"===e.state&&(d.elementId.referenced=e.value.data.data),console.log(d.elementId.referenced)}})},d.allSettled(),d.searchMe=function(){if(d.suggestions=[],2<=d.search.text.length){var e,t=d.tagList,a=d.search.text,n=d.elementId.input.tags;for(e in t)!new RegExp(a,"ig").test(t[e])||_.isArray(n)&&-1!==n.indexOf(t[e])||(d.suggestions.push(t[e]),0)}},d.addTag=function(e){var t;e=e||d.search.text,d.suggestions=[],!e||-1<d.elementId.input.tags.indexOf(e)||(t=c("orderBy"),d.elementId.input.tags.push(e),d.elementId.input.tags=t(d.elementId.input.tags,"toString()"),d.search.text="")},d.removeTag=function(e){d.elementId.input.tags.splice(e,1),d.suggestions=[]},d.store=function(t){var e;t.id&&(d.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:d._t("updating")},e={id:t.id,location:parseInt(t.location,10),tags:t.tags,metrics:t.metrics,visibility:t.visibility,permanently_hidden:t.permanently_hidden},s.putApi("devices",t.id,e).then(function(e){e=e.data.data;e&&d.updateDevice(e),d.user.dashboard=p.setArrayValue(d.user.dashboard,t.id,t.onDashboard),d.user.hide_single_device_events=p.setArrayValue(d.user.hide_single_device_events,t.id,t.hide_events),d.updateProfile(d.user,t.id),d.updateNotification(d.notifications)},function(e){alertify.alertError(d._t("error_update_data")),d.loading=!1}))},d.updateProfile=function(e,t){s.putApi("profiles",e.id,e).then(function(e){d.loading=!1,angular.extend(d.user,e.data.data),angular.extend(u.user,e.data.data),o.remove("devices"),o.remove("devices/"+t),o.remove("locations"),d.reloadDevicesFromServer(),p.goBack()},function(e){alertify.alertError(d._t("error_update_data")),d.loading=!1})},d.updateNotification=function(e){var t=e.device,a=e.input.filter(function(e){return e[e.dev_filter].dev_select!=d.elementId.input.id});t.forEach(function(e){var t={channel:e.channel,dev_filter:"dev_"+e.deviceType};switch(t["dev_"+e.deviceType]={dev_select:e.id,dev_message:e.msg},e.deviceType){case"toggleButton":break;case"switchBinary":case"sensorBinary":case"doorlock":t["dev_"+e.deviceType].dev_matchValue=e.level;break;case"switchControl":case"switchMultilevel":case"sensorMultilevel":case"sensorMultiline":case"thermostat":"all"==e.operator?t["dev_"+e.deviceType].dev_matchValue={}:t["dev_"+e.deviceType].dev_matchValue={dev_matchValueOperation:e.operator,dev_matchValueOperand:e.level};break;default:console.log("Error: unknown deviceType "+e.deviceType+" for notification for device "+e.id)}a.push(t)}),s.putApi("notification_filtering",void 0,a).then(function(e){d.loading=!1},function(e){d.loading=!1,alertify.alertError(d._t("error_update_data"))})},d.deleteElement=function(t,e){alertify.confirm(e,function(){d.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:d._t("deleting")};var e={id:t.id,permanently_hidden:!0};s.putApi("devices",t.id,e).then(function(e){d.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:d._t("reloading_page")},i(function(){d.loading=!1,o.removeAll(),n.path("/elements")},2e3)},function(e){alertify.alertError(d._t("error_delete_data")),d.loading=!1})}).setting("labels",{ok:d._t("ok")})},d.removeNotification=function(e){d.notifications.device.splice(e,1)},d.addNotification=function(){var e=_.clone(d.notifications.cfg[d.elementId.input.deviceType].default);e.id=d.elementId.input.id,d.notifications.device.push(e)}}]),myAppController.controller("ElementApiInfoController",["$scope","$timeout","$filter","$location","cfg","dataFactory","dataService",function($scope,$timeout,$filter,$location,cfg,dataFactory,dataService){function hljsInit(data){document.querySelectorAll(".syntax-highight.hljs").forEach(function(block){block.innerHTML=JSON.stringify(eval(data),void 0,2),hljs.initHighlighting.called=!1,hljs.initHighlighting()})}$scope.getUrl=function(){return $location.protocol()+"://"+$location.host()+":"+$location.port()},$scope.runCmd=function(e,t){dataFactory.runApiCmd(e+"/command/"+t)},$scope.getData=function(e){dataFactory.runApiCmd(e).then(function(e){hljsInit(e.data)},function(e){hljsInit(response.data)})}}]),myAppController.controller("ElementIconController",["$scope","$timeout","$filter","cfg","dataFactory","dataService",function(n,e,t,a,i,s){n.icons={selected:!1,uploadedFileName:!1,all:{},uploaded:{},info:{maxSize:t("fileSizeString")(a.upload.icon.size),extensions:a.upload.icon.extension.toString()}},n.loadCfgIcons=function(){n.icons.all=s.getSingleElementIcons(n.elementId.input)},n.loadCfgIcons(),n.loadUploadedIcons=function(){i.getApi("icons",null,!0).then(function(e){n.icons.uploaded=e.data.data},function(e){angular.extend(a.route.alert,{message:n._t("error_load_data")}),n.loading=!1})},n.loadUploadedIcons(),n.setSelectedIcon=function(e){e&&(n.icons.selected=e)},n.setCustomIcon=function(e){e&&(n.icons.all.custom[n.icons.selected]=e)},n.removeCustomIcon=function(e){e&&delete n.icons.all.custom[e]},n.updateWithCustomIcon=function(){var e,t={customicons:(t=n.icons.all.default,a=n.icons.all.custom,e={},_.isEmpty(a)?e:t.default?a:(e.level=a,e))},a=n.elementId.input.id;n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},i.putApi("customicon",a,t,"?icon").then(function(e){n.icons.selected=!1,n.loading=!1,s.showNotifier({message:n._t("success_updated")})},function(e){n.loading=!1,alertify.alertError(n._t("error_update_data"))})},n.cancelUpdate=function(){n.loadCfgIcons(),n.icons.selected=!1}}]),myAppController.controller("EventController",["$scope","$routeParams","$interval","$q","$filter","$cookies","dataFactory","dataService","myCache","paginationService","cfg","_",function(i,s,t,a,n,o,l,r,d,c,u,p){function m(e){e.message||(e.message="No Message"),e.icon=e.message.customIcon?u.img.custom_icons+e.message.customIcon:n("getEventIcon")(e.type,e.message),null!==e.message.l&&void 0!==e.message.l?e.messageView="<span><span>"+e.message.dev+" : <strong>"+e.message.l+"</strong></span>":e.messageView="<span>"+("string"==typeof e.message?e.message:JSON.stringify(e.message))+"</span>";var t=n("hasNode")(e.message,"l"),a=(e.lvl=t||JSON.stringify({dev:e.message.dev,l:e.message.l,location:e.message.location}),p.where(i.dataHolder.devices.collection,{id:e.source}));return a&&(a=r.getSingleElementIcons(a[0],!0),(a=r.setIcon(a.default,a.custom))[t]&&(e.icon=a[t])),e}i.page={title:!1},i.events={state:""},i.filter={},i.collection=[],i.eventLevels=[],i.dayCount=[{key:1,val:i._t("lb_today")},{key:2,val:i._t("lb_yesterday")},{key:3,val:"3 "+i._t("lb_days")},{key:4,val:"4 "+i._t("lb_days")},{key:5,val:"5 "+i._t("lb_days")},{key:6,val:"6 "+i._t("lb_days")},{key:7,val:"7 "+i._t("lb_days")}],i.currSource=!1,i.eventSources=[],i.currLevel=!1,i.timeFilterDefault={since:n("unixStartOfDay")(),to:n("unixStartOfDay")("+",86400),day:1},i.timeFilter=i.timeFilterDefault,i.devices={cnt:{deviceEvents:{}},find:{id:!1,title:!1,data:{}},data:{},show:!1},i.rooms={all:{}},i.currentPage=1,i.pageSize=u.page_results_events,i.pagesSum=0,i.reset=function(){i.collection=angular.copy([])},i.apiDataInterval=null,i.$on("$destroy",function(){i.currSource=!1,i.currLevel=!1,u.route.time.timeUpdating=!1,t.cancel(i.apiDataInterval)}),i.allSettled=function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")},i.timeFilter=angular.isDefined(o.events_timeFilter)?angular.fromJson(o.events_timeFilter):i.timeFilter;var e="?since="+1e3*i.timeFilter.since,e=[l.getApi("locations"),l.getApi("devices",null,!0),l.getApi("notifications",e,!0)];a.allSettled(e).then(function(e){var t,a=e[0],n=e[1],e=e[2];i.loading=!1,"rejected"===e.state?(i.loading=!1,angular.extend(u.route.alert,{message:i._t("error_load_data")})):("fulfilled"===a.state&&p.filter(r.getRooms(a.value.data.data).value(),function(e){0!=e.id&&(i.rooms.all[e.id]=e.title)}),"fulfilled"===n.state&&(a=r.getDevicesData(n.value.data.data.devices,!1),t=["battery","text","camera"],a=a.reject(function(e){return-1<t.indexOf(e.deviceType)||!0===e.permanently_hidden}).indexBy("id").value(),p.isEmpty(a)||angular.extend(i.devices,{data:a,show:!0}),angular.isDefined(s.param)&&angular.isDefined(s.val)&&"source"===s.param&&!p.isEmpty(a)&&a[s.val]&&(angular.extend(i.devices.find,{id:s.val},{title:a[s.val].metrics.title}),angular.extend(i.page,{title:a[s.val].metrics.title}))),"fulfilled"===e.state&&(n=e.value.data.data.notifications,i.collection=[],i.iconSource="",i.eventLevels=r.getEventLevel(n,[{key:null,val:"all"}]),angular.isDefined(s.param)&&angular.isDefined(s.val)?("source"===s.param&&""!==s.val&&(i.currSource=s.val),"level"===s.param&&""!==s.val&&(i.currLevel=s.val),i.filter=s,angular.forEach(n,function(e,t){i.filter&&angular.isDefined(e[i.filter.param])&&e[i.filter.param]==i.filter.val&&(e=m(e),i.collection.push(e))})):angular.isDefined(s.param)&&"source_type"==s.param?(i.filter=s,angular.forEach(n,function(e,t){e.source==i.filter.source&&e.type==i.filter.type&&(e=m(e),i.collection.push(e))})):(i.filter={},angular.forEach(n,function(e,t){e=m(e);i.collection.push(e)})),i.devices.cnt.deviceEvents=p.countBy(n,function(e){return e.source}),i.refreshData(),i.pagesSum=Math.ceil(i.collection.length/i.pageSize)))})},i.allSettled(),i.changeTime=function(e){switch(e){case 1:i.timeFilter={since:n("unixStartOfDay")(),to:n("unixStartOfDay")("+",86400),day:e};break;case 2:i.timeFilter={since:n("unixStartOfDay")("-",86400),to:n("unixStartOfDay")(),day:e};break;case 3:i.timeFilter={since:n("unixStartOfDay")("-",172800),to:n("unixStartOfDay")("-",86400),day:e};break;case 4:i.timeFilter={since:n("unixStartOfDay")("-",259200),to:n("unixStartOfDay")("-",172800),day:e};break;case 5:i.timeFilter={since:n("unixStartOfDay")("-",345600),to:n("unixStartOfDay")("-",259200),day:e};break;case 6:i.timeFilter={since:n("unixStartOfDay")("-",432e3),to:n("unixStartOfDay")("-",345600),day:e};break;case 7:i.timeFilter={since:n("unixStartOfDay")("-",518400),to:n("unixStartOfDay")("-",432e3),day:e}}o.events_timeFilter=angular.toJson(i.timeFilter),t.cancel(i.apiDataInterval),i.allSettled()},i.refreshData=function(){i.apiDataInterval=t(function(){"network"!==u.route.alert.type&&l.refreshApi("notifications").then(function(e){e&&angular.forEach(e.data.data.notifications,function(e,t){var a;!p.isEmpty(i.filter)&&e[i.filter.param]!==i.filter.val||(a=p.findIndex(i.collection,{timestamp:e.timestamp}),e=m(e),-1<a?angular.extend(i.collection[a],e):i.collection.push(e))})})},i.cfg.interval)},i.$watch("currentPage",function(e){c.setCurrentPage(e)}),i.setCurrentPage=function(e){i.currentPage=e},i.deleteEvent=function(e,t,a){alertify.confirm(a,function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("deleting")},l.deleteApi("notifications",e,t).then(function(e){d.remove("notifications"),i.loading=!1,i.allSettled()},function(e){i.loading=!1,alertify.alertError(i._t("error_delete_data"))})}).setting("labels",{ok:i._t("ok")})},i.hideSourceEvents=function(e){i.user.hide_single_device_events=r.setArrayValue(i.user.hide_single_device_events,e,!0),e=i.user,i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("updating")},l.putApi("profiles",e.id,e).then(function(e){i.loading={status:"loading-fade",icon:"fa-check text-success",message:i._t("success_updated")},angular.extend(i.user,e.data.data),angular.extend(u.user,e.data.data),d.remove("notifications"),i.input=[],i.allSettled()},function(e){alertify.alertError(i._t("error_update_data")),i.loading=!1})},i.swipeMe=function(e){var t=i.collection.length,a=u.page_results_events;t<=a||(t=Math.ceil(t/a),a=1,a="right"===e?(i.currentPage--,1<i.currentPage?i.currentPage:1):(i.currentPage++,i.currentPage>t?1:i.currentPage),i.currentPage=a)},i.goToPage=function(e){i.currentPage=e}}]),myAppController.controller("AutomationsController",["$scope","$q","$timeout","$location","$filter","dataFactory","cfg",function(n,t,e,a,i,s,o){n.automations={modules:{},instances:{}},n.moduleMediaUrl=n.cfg.server_url+n.cfg.api_url+"load/modulemedia/",n.allSettled=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=[s.getApi("modules"),s.getApi("instances")];t.allSettled(e).then(function(e){n.loading=!1;var a,t=e[0],e=e[1];"rejected"===t.state||"rejected"===e.state?angular.extend(o.route.alert,{message:n._t("error_load_data")}):("fulfilled"===e.state&&(e=e.value.data.data,n.automations.instances=_.chain(e).flatten().filter(function(e){return-1!=o.automations.indexOf(e.moduleId)}).value()),"fulfilled"===t.state&&(e=t.value.data.data,a=n.automations.instances,n.automations.modules=_.chain(e).flatten().filter(function(t){if(-1!=o.automations.indexOf(t.moduleName)){switch(t.moduleName){case"HazardNotification":t.title=n._t("hazard_notification"),t.image="app/img/automation/hazard.png",t.href="#hazard";break;case"Heating":t.title=n._t("heating"),t.image="app/img/automation/heating.png",t.href="#heating";break;case"Rules":t.title=n._t("title_rules"),t.image="app/img/automation/rules.png",t.href="#rules";break;case"Scenes":t.title=n._t("title_scenes"),t.image="app/img/automation/scenes.png",t.href="#scenes";break;case"Schedules":t.title=n._t("title_schedules"),t.image="app/img/automation/schedules.png",t.href="#schedules";break;case"Security":t.title=n._t("title_security"),t.image="app/img/automation/security.png",t.href="#security"}var e=_.find(a,function(e){return e.moduleId==t.moduleName});return t.hasInstance=!!e,t.preventInstall=!(!t.singleton||!t.hasInstance),t.iconPath=n.moduleMediaUrl+t.id+"/"+t.icon,t}}).value().slice().sort(function(e,t){return o.automations.indexOf(e.moduleName)-o.automations.indexOf(t.moduleName)})))})},n.allSettled()}]),myAppController.controller("AutomationSceneController",["$scope","$routeParams","$location","$timeout","cfg","dataFactory","dataService","_","myCache",function(n,e,t,a,i,s,o,l,r){n.scenes={state:"",enableTest:[]},n.oldScenes=[];function d(){s.getApi("instances",null,!0).then(function(e){n.scenes.all=l.chain(e.data.data).flatten().where({moduleId:"Scenes"}).filter(function(e){var t,a=0;for(t in e.params.devices)e.params.devices[t].length&&a++;for(t in e.params.notifications)a++;return a&&n.scenes.enableTest.push(e.id),e}).value(),l.size(n.scenes.all)||(-1<i.route.previous.indexOf(o.getUrlSegment(t.path()))?t.path("/automations"):t.path("/"+o.getUrlSegment(t.path())+"/0"))},function(e){angular.extend(i.route.alert,{message:n._t("error_load_data")})})}s.getApi("instances","/LightScene",!0).then(function(e){n.oldScenes=l.filter(e.data.data,function(e){return!e.params.moduleAPITransformed})}),d(),n.convertScene=function(){s.postApi("modules_transform",{source:"LightScene",target:"Scenes"}).then(function(e){console.log(e),e.data&&e.data.data&&(e=e.data.data.map(function(e){return e.title}),o.showNotifier({message:n._t("successfully_transformed")+"<br>"+e.join(",<br>")})),n.oldScenes=[]},function(e){o.showNotifier({message:n._t("error_transformed"),type:"error"}),n.oldScenes=[]}).finally(d)},n.runSceneTest=function(e){n.toggleRowSpinner(e.id),a(n.toggleRowSpinner,1e3);e="/Scenes_"+e.id+"/command/on";s.getApi("devices",e,!0).then(function(e){a(n.toggleRowSpinner,2e3)},function(e){a(n.toggleRowSpinner,2e3)})},n.activateScene=function(e,t){e.active=t,e.id&&s.putApi("instances",e.id,e).then(function(e){},function(e){alertify.alertError(n._t("error_update_data"))})},n.cloneScene=function(e){e.id=0,e.title=e.title+" - copy",s.postApi("instances",e).then(function(e){t.path("/scenes/"+e.data.data.id)},function(e){alertify.alertError(n._t("error_update_data"))})},n.deleteScene=function(e,t){alertify.confirm(t,function(){s.deleteApi("instances",e.id).then(function(e){n.reloadData()},function(e){alertify.alertError(n._t("error_delete_data"))})}).setting("labels",{ok:n._t("ok")})}}]),myAppController.controller("AutomationSceneIdController",["$scope","$routeParams","$location","$route","$filter","$timeout","cfg","dataFactory","dataService","_","myCache",function(n,i,a,e,s,t,o,l,r,d,c){n.scene={show:!0,rooms:[],devicesInRoom:[],availableDevices:[],assignedDevices:[],assignedNotifications:[],cfg:{switchBinary:{level:["off","on"],default:{level:"on",sendAction:!1}},switchMultilevel:{level:["on","off","lvl"],min:0,max:99,default:{level:"on",exact:0,sendAction:!1}},switchRGBW:{level:["on","off"],min:0,max:255,default:{deviceId:"",deviceType:"switchRGBW",level:"on",sendAction:!1,reverseLevel:null}},thermostat:{min:0,max:99,default:{level:0,sendAction:!1}},doorlock:{level:["close","open"],default:{level:"open",sendAction:!1}},toggleButton:{default:{}},notification:{default:{target:"",targetName:"",message:""}}},input:{instanceId:i.id,moduleId:"Scenes",active:!0,title:"Scene",params:{customIcon:{table:[{icon:!1}]},devices:[],notifications:[]}},upload:{fileName:!1,maxSize:s("fileSizeString")(o.upload.icon.size),extensions:o.upload.icon.extension.toString()},icons:{}},n.notifications={channels:[]},n.loadInstance=function(e){l.getApi("instances","/"+e,!0).then(function(e){var e=e.data.data,t=n.scene.assignedDevices,a=n.scene.assignedNotifications;angular.extend(n.scene.input,{title:e.title,active:e.active,params:e.params}),e.params.devices=e.params.devices.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"switchMultilevel"!=e.deviceType||isNaN(e.level)?e.level:"lvl",exact:"switchMultilevel"==e.deviceType?isNaN(e.level)?0:e.level:void 0,sendAction:e.sendAction}}),angular.forEach(e.params.devices,function(e){-1===t.indexOf(e.deviceId)&&n.scene.assignedDevices.push(e.deviceId)}),angular.forEach(e.params.notifications,function(e){var t=d.findWhere(n.notifications.channels,{id:e.target});e.targetName=t?t.name:e.target,-1===a.indexOf(e.target)&&n.scene.assignedNotifications.push(e.target)})},function(e){angular.extend(o.route.alert,{message:n._t("error_load_data")})})},0<i.id&&n.loadInstance(i.id),n.loadRooms=function(){l.getApi("locations").then(function(e){n.scene.rooms=r.getRooms(e.data.data).indexBy("id").value(),n.loadDevices(n.scene.rooms)})},n.loadRooms(),n.loadDevices=function(a){l.getApi("devices").then(function(e){var t=d.keys(n.scene.cfg),e=r.getDevicesData(e.data.data.devices);n.scene.availableDevices=e.map(function(e){return{deviceId:e.id,deviceName:e.metrics.title,deviceType:e.deviceType,probeType:e.probeType,location:e.location,locationName:a[e.location].title,iconPath:e.iconPath}}).filter(function(e){return-1<t.indexOf(e.deviceType)}).indexBy("deviceId").value(),d.size(n.scene.availableDevices)?n.scene.devicesInRoom=d.countBy(n.scene.availableDevices,function(e){return e.location}):n.scene.show=!1},function(e){})},n.loadNotificationChannels=function(e){l.getApi("notification_channels","/all").then(function(e){n.notifications.channels=e.data.data,n.scene.input.params.notifications&&n.scene.input.params.notifications.forEach(function(e){var t=d.findWhere(n.notifications.channels,{id:e.target});t&&(e.targetName=t.name)})},function(e){})},n.loadNotificationChannels(),n.loadUploadedIcons=function(){l.getApi("icons",null,!0).then(function(e){n.scene.icons=e.data.data},function(e){angular.extend(o.route.alert,{message:n._t("error_load_data")}),n.loading=!1})},n.loadUploadedIcons(),n.uploadCustomIcon=function(e,t){var a=s("fileExtension")(e[0].name);e[0].newName=r.uploadFileNewName("scene_"+i.id+"."+a),-1===t.extension.indexOf(s("fileExtension")(e[0].name))?alertify.alertError(n._t("upload_format_unsupported",{__extension__:s("fileExtension")(e[0].name)})+" "+n._t("upload_allowed_formats",{__extensions__:t.extension.toString()})):e[0].size>t.size?alertify.alertError(n._t("upload_allowed_size",{__size__:s("fileSizeString")(t.size)})+" "+n._t("upload_size_is",{__size__:s("fileSizeString")(e[0].size)})):(n.scene.upload.fileName=e[0].name,(a=new FormData).append("files_files",e[0]),l.uploadApiFile(o.api.icons_upload,a).then(function(e){n.scene.input.params.customIcon.table[0].icon=e.data.data,n.loadUploadedIcons()},function(e){alertify.alertError(n._t("error_upload"))}))},n.setCustomIcon=function(e){e&&(n.scene.input.params.customIcon.table[0].icon=e)},n.removeCustomIcon=function(e){e&&(n.scene.input.params.customIcon.table[0].icon=!1)},n.assignDevice=function(e){var t=n.scene.cfg[e.deviceType],t={deviceId:e.deviceId,deviceType:e.deviceType,exact:t.default.exact,level:t.default.level,sendAction:t.default.sendAction};n.scene.input.params.devices.push(t),n.scene.assignedDevices.push(e.deviceId)},n.unassignDevice=function(e,t){t=n.scene.assignedDevices.indexOf(t);n.scene.input.params.devices.splice(e,1),-1<t&&n.scene.assignedDevices.splice(t,1)},n.assignNotification=function(e){var t;(e.target&&-1===n.scene.assignedNotifications.indexOf(e.target)||e.target_custom&&-1===n.scene.assignedNotifications.indexOf(e.target_custom))&&(t=d.findWhere(n.notifications.channels,{id:e.target}),t={target:e.target,targetName:t?t.name:e.target,message:e.message},n.scene.input.params.notifications.push(t),n.scene.assignedNotifications.push(t.target),n.scene.cfg.notification.default.target="",n.scene.cfg.notification.default.message="")},n.unassignNotification=function(e,t){t=n.scene.assignedNotifications.indexOf(t);-1<e&&(n.scene.input.params.notifications.splice(e,1),n.scene.assignedNotifications.splice(t,1))},n.storeScene=function(e,t){e.params.devices=e.params.devices.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"lvl"==e.level?e.exact:e.level,sendAction:e.sendAction}}),n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")},l.storeApi("instances",parseInt(e.instanceId,10),e).then(function(e){n.loading=!1,t&&a.path("/"+r.getUrlSegment(a.path()))},function(e){n.loading=!1,alertify.alertError(n._t("error_update_data"))})}}]),myAppController.controller("AutomationRuleController",["$scope","$routeParams","$location","$timeout","$q","cfg","dataFactory","dataService","_","myCache",function(s,e,t,a,o,n,l,r,i,d){s.rules={state:"",enableTest:[]},s.oldLogics=[];var c=[],u=[],p={source:"IfThen",target:"Rules"},m={source:"LogicalRules",target:"Rules"};s.loadRules=function(){l.getApi("instances",null,!0).then(function(e){s.rules.all=i.chain(e.data.data).flatten().where({moduleId:"Rules"}).filter(function(e){var t,a=0;for(t in e.params.devices)e.params.devices[t].length&&a++;return a&&s.rules.enableTest.push(e.id),e}).value(),i.size(s.rules.all)||s.oldLogics.length||(-1<n.route.previous.indexOf(r.getUrlSegment(t.path()))?t.path("/automations"):t.path("/"+r.getUrlSegment(t.path())+"/0"))},function(e){angular.extend(n.route.alert,{message:s._t("error_load_data")})})},s.loadOldLogics=function(){var e=[l.getApi("instances","/IfThen",!0),l.getApi("instances","/LogicalRules",!0)];o.allSettled(e).then(function(e){var t=e[0],e=e[1];"fulfilled"===t.state&&(u=i.filter(t.value.data.data,function(e){return!e.params.moduleAPITransformed})),"fulfilled"===e.state&&(c=i.filter(e.value.data.data,function(e){return!e.params.moduleAPITransformed})),"rejected"===t.state&&"rejected"===e.state||(s.oldLogics=s.oldLogics.concat(u,c))})},s.convertLogics=function(){var e=[],n=!!c.length,i=!!u.length;n&&e.push(l.postApi("modules_transform",m)),i&&e.push(l.postApi("modules_transform",p)),e.length&&o.allSettled(e).then(function(e){var t=i&&n?e[1]:i&&!n?e[0]:void 0,e=i&&n||!i&&n?e[0]:void 0,a=[];t&&"rejected"===t.state&&e&&"rejected"===e.state?(r.showNotifier({message:s._t("error_transformed"),type:"error"}),s.oldLogics=[],s.loadRules()):(t&&"fulfilled"===t.state&&(a=a.concat(t.value.data.data.map(function(e){return e.title}))),(a=e&&"fulfilled"===e.state?a.concat(e.value.data.data.map(function(e){return e.title})):a).length&&(r.showNotifier({message:s._t("successfully_transformed")+"<br>"+a.join(",<br>")}),s.loadRules()),s.oldLogics=[])})},s.loadOldLogics(),s.loadRules(),s.runRuleTest=function(e){s.toggleRowSpinner(e.id),a(s.toggleRowSpinner,1e3);e="/Scenes_"+e.id+"/command/on";l.getApi("devices",e).then(function(e){a(s.toggleRowSpinner,2e3)},function(e){a(s.toggleRowSpinner,2e3)})},s.activateRule=function(e,t){e.active=t,e.id&&l.putApi("instances",e.id,e).then(function(e){},function(e){alertify.alertError(s._t("error_update_data"))})},s.cloneRule=function(e){e.id=0,e.title=e.title+" - copy",l.postApi("instances",e).then(function(e){t.path("/rules/"+e.data.data.id)},function(e){alertify.alertError(s._t("error_update_data"))})},s.deleteRule=function(e,t){alertify.confirm(t,function(){l.deleteApi("instances",e.id).then(function(e){s.reloadData()},function(e){alertify.alertError(s._t("error_delete_data"))})}).setting("labels",{ok:s._t("ok")})}}]),myAppController.controller("AutomationRuleIdController",["$scope","$routeParams","$location","$route","$filter","cfg","dataFactory","dataService","_","myCache",function(o,e,a,t,n,i,l,r,d,s){o.rule={show:!0,tab:"if",namespaces:[],rooms:[],options:{switchBinary:{level:["on","off"],default:{deviceId:"",deviceType:"switchBinary",level:"on",sendAction:!1,reverseLevel:"off"}},sensorBinary:{level:["on","off"],default:{deviceId:"",deviceType:"sensorBinary",level:"on",sendAction:!1,reverseLevel:null}},doorlock:{level:["open","close"],default:{deviceId:"",deviceType:"doorlock",level:"open",sendAction:!1,reverseLevel:"close"}},switchRGBW:{level:["on","off"],min:0,max:255,default:{deviceId:"",deviceType:"switchRGBW",level:"on",sendAction:!1,reverseLevel:null}},switchControl:{level:["on","off","upstart","upstop","downstart","downstop"],default:{deviceId:"",deviceType:"switchControl",level:"on",sendAction:!1,reverseLevel:null}},sensorDiscrete:{default:{deviceId:"",deviceType:"sensorDiscrete",level:"",sendAction:!1,reverseLevel:null}},sensorMultilevel:{operator:["=","!=",">",">=","<","<="],default:{deviceId:"",deviceType:"sensorMultilevel",level:0,operator:"=",sendAction:!1,reverseLevel:null}},switchMultilevel:{level:["on","off","lvl"],operator:["=","!=",">",">=","<","<="],min:0,max:99,default:{deviceId:"",deviceType:"switchMultilevel",level:"on",exact:0,operator:"=",sendAction:!1,reverseLevel:"off"}},thermostat:{level:["on","off","lvl"],operator:["=","!=",">",">=","<","<="],min:0,max:99,default:{deviceId:"",deviceType:"thermostat",level:"on",exact:0,operator:"=",sendAction:!1,reverseLevel:null}},toggleButton:{default:{deviceId:"",deviceType:"toggleButton",level:"on",sendAction:!1,reverseLevel:null}},time:{operator:["<=",">="],default:{type:"time",operator:">=",level:"00:00"}},nested:{logicalOperator:["and",",or"],default:{type:"nested",logicalOperator:"and",tests:[]}},compare:{binaryOperators:["=","!="],multilevelOperators:["=","!=",">",">=","<","<="],default:{type:"compare",operator:"=",operators:[],devices:[]}},notification:{default:{target:"",targetName:"",message:""}}},source:{deviceTypes:["toggleButton","switchControl","switchBinary","switchMultilevel","sensorBinary","sensorMultilevel","sensorDiscrete"],selected:{device:""},devicesInRoom:[],devices:[]},target:{deviceTypes:["doorlock","switchBinary","switchMultilevel","thermostat","switchRGBW","switchControl","toggleButton","notification"],devicesInRoom:[],availableDevices:[],assignedDevices:[]},else:{deviceTypes:["doorlock","switchBinary","switchMultilevel"]},advanced:{tab:"if",target:{devicesInRoom:[],availableDevices:[],assignedDevices:[],eventSourceDevices:[],eventSourceTypes:["toggleButton","notification"]},tests:{devicesInRoom:[],availableDevices:[],assignedDevices:[],types:["switchBinary","sensorBinary","doorlock","switchRGBW","switchControl","sensorDiscrete","sensorMultilevel","switchMultilevel","thermostat","toggleButton","time","nested"]}},input:{id:e.id,moduleId:"Rules",active:!0,title:"",params:{simple:{triggerEvent:{},triggerDelay:0,targetElements:[],sendNotifications:[],reverseDelay:0},advanced:{active:!1,triggerScenes:[],triggerDelay:0,logicalOperator:"and",tests:[],targetElements:[],sendNotifications:[],reverseDelay:0,triggerOnDevicesChange:!0},reverse:!1}}},o.notifications={channels:[]},o.orig={options:{}},o.orig.options=angular.copy(o.rule.options),o.resetOptions=function(){o.rule.options=angular.copy(o.orig.options)},o.loadInstance=function(e){l.getApi("instances","/"+e,!0).then(function(e){e=e.data.data;o.rule.target.assignedDevices;e.params.simple.targetElements=e.params.simple.targetElements.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"switchMultilevel"!=e.deviceType||isNaN(e.level)?e.level:"lvl",exact:"switchMultilevel"==e.deviceType?isNaN(e.level)?0:e.level:void 0,sendAction:e.sendAction,reverseLevel:e.reverseLevel}}),e.params.advanced.targetElements=e.params.advanced.targetElements.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"switchMultilevel"!=e.deviceType||isNaN(e.level)?e.level:"lvl",exact:"switchMultilevel"==e.deviceType?isNaN(e.level)?0:e.level:void 0,reverseLevel:e.reverseLevel,sendAction:e.sendAction}}),angular.extend(o.rule.input,e),angular.forEach(e.params.simple.targetElements,function(e,t){o.rule.target.assignedDevices.push(e.deviceId)}),angular.forEach(e.params.simple.sendNotifications,function(e,t){var a=d.findWhere(o.notifications.channels,{id:e.target});e.targetName=a?a.name:e.target,o.rule.target.assignedDevices.push(e.target)}),angular.forEach(e.params.advanced.tests,function(e,t){"nested"==e.type?d.filter(e.tests,function(e){e.deviceId&&-1===o.rule.advanced.tests.assignedDevices.indexOf(e.deviceId)&&o.rule.advanced.tests.assignedDevices.push(e.deviceId)}):e.deviceId&&-1===o.rule.advanced.tests.assignedDevices.indexOf(e.deviceId)&&o.rule.advanced.tests.assignedDevices.push(e.deviceId)}),angular.forEach(e.params.advanced.targetElements,function(e,t){o.rule.advanced.target.assignedDevices.push(e.deviceId)}),angular.forEach(e.params.advanced.sendNotifications,function(e,t){o.rule.advanced.target.assignedDevices.push(e.target)})},function(e){angular.extend(i.route.alert,{message:o._t("error_load_data")})})},0<e.id&&o.loadInstance(e.id),o.loadRooms=function(){l.getApi("locations").then(function(e){o.rule.rooms=r.getRooms(e.data.data).indexBy("id").value(),o.loadDevices(o.rule.rooms)})},o.loadRooms(),o.loadDevices=function(s){l.getApi("devices").then(function(e){var t=o.rule.source.deviceTypes,a=o.rule.target.deviceTypes,n=o.rule.advanced.tests.types,i=o.rule.advanced.target.eventSourceTypes,e=r.getDevicesData(e.data.data.devices,!1,!1,!0).map(function(e){return{deviceId:e.id,deviceName:e.metrics.title,deviceType:e.deviceType,probeType:e.probeType,level:d.isNaN(e.metrics.level)?e.metrics.level:parseInt(e.metrics.level),location:e.location,locationName:s[e.location].title,iconPath:e.iconPath}});o.rule.namespaces=e.indexBy("deviceId").value(),o.rule.source.devices=e.filter(function(e){return-1<t.indexOf(e.deviceType)}).indexBy("deviceId").value(),o.rule.source.devicesInRoom=d.countBy(o.rule.source.devices,function(e){return e.location}),o.rule.target.availableDevices=e.filter(function(e){return-1<a.indexOf(e.deviceType)}).reject(function(e){if(o.rule.source.selected.device==e.id)return!0}).indexBy("deviceId").value(),d.size(o.rule.target.availableDevices)&&d.size(o.rule.source.devices)?(o.rule.target.devicesInRoom=d.countBy(o.rule.target.availableDevices,function(e){return e.location}),o.rule.advanced.tests.availableDevices=e.filter(function(e){return-1<n.indexOf(e.deviceType)}).indexBy("deviceId").value(),o.rule.advanced.tests.devicesInRoom=d.countBy(o.rule.advanced.tests.availableDevices,function(e){return e.location}),o.rule.advanced.target.eventSourceDevices=e.filter(function(e){return-1<i.indexOf(e.deviceType)}).indexBy("deviceId").value()):o.rule.show=!1},function(e){})},o.loadNotificationChannels=function(e){l.getApi("notification_channels","/all").then(function(e){o.notifications.channels=e.data.data,o.rule.input.params.notifications&&o.rule.input.params.notifications.forEach(function(e){var t=d.findWhere(o.notifications.channels,{id:e.target});t&&(e.targetName=t.name)})},function(e){})},o.loadNotificationChannels(),o.$watch("rule.input.params.simple.triggerEvent",function(e,t){e!==t&&o.loadRooms()}),o.assignSourceDevice=function(e){var t=o.rule.options[e.deviceType].default;t&&(t.deviceId=e.deviceId,o.rule.input.params.simple.triggerEvent=t)},o.unassignSourceDevice=function(){o.rule.input.params.simple.triggerEvent={}},o.assignTargetDevice=function(e){var t,a=o.rule.options[e.deviceType].default;!a||-1<o.rule.target.assignedDevices.indexOf(e.deviceId)||(o.rule.target.assignedDevices.push(e.deviceId),"notification"===e.deviceType?(t={target:e.deviceId,message:""},o.rule.input.params.simple.sendNotifications.push(t)):(t={deviceId:e.deviceId,deviceType:e.deviceType,exact:a.exact,level:a.level,sendAction:a.sendAction,reverseLevel:a.reverseLevel},o.rule.input.params.simple.targetElements.push(t)),o.resetOptions())},o.unassignTargetDevice=function(e,t){t=o.rule.target.assignedDevices.indexOf(t);-1<e&&(o.rule.input.params.simple.targetElements.splice(e,1),o.rule.target.assignedDevices.splice(t,1))},o.assignTargetNotification=function(e){var t;e.target&&-1===o.rule.target.assignedDevices.indexOf(e.target)&&(t=d.findWhere(o.notifications.channels,{id:e.target}),t={target:e.target,targetName:t?t.name:e.target,message:e.message},o.rule.input.params.simple.sendNotifications.push(t),o.rule.target.assignedDevices.push(t.target),o.resetOptions())},o.unassignTargetNotification=function(e,t){t=o.rule.target.assignedDevices.indexOf(t);-1<e&&(o.rule.input.params.simple.sendNotifications.splice(e,1),o.rule.target.assignedDevices.splice(t,1))},o.setReverseLevel=function(e,t,a){var n=o.rule.input.params[t].targetElements[a];switch(e){case"switchBinary":n.reverseLevel="on"==n.level?"off":"on";break;case"doorlock":n.reverseLevel="open"==n.level?"close":"open";break;case"switchMultilevel":-1<["off","on"].indexOf(n.level)?n.reverseLevel="on"==n.level?"off":"on":n.reverseLevel=o.rule.namespaces[n.deviceId].reverseLevel}},o.getReverseLevel=function(e){var t="";switch(e.deviceType){case"switchBinary":t="on"==e.level?"off":"on";break;case"doorlock":t="open"==e.level?"close":"open";break;case"switchMultilevel":t=-1<["off","on"].indexOf(e.level)?"on"==e.level?"off":"on":e.exact}return t},o.assignAdvancedTestDevice=function(e){var t,a=o.rule.options[e.deviceType].default;!a||-1<o.rule.advanced.tests.assignedDevices.indexOf(e.deviceId)||(t=d.size(o.rule.input.params.advanced.tests),a={deviceId:e.deviceId,type:e.deviceType,level:a.level,operator:a.operator,sendAction:a.sendAction},o.rule.advanced.tests.assignedDevices.push(e.deviceId),o.rule.input.params.advanced.tests.push(a),o.resetOptions(),o.expandElement("test_"+t))},o.assignAdvancedTestCondition=function(e){o.resetOptions();var t=o.rule.options[e].default,a=d.size(o.rule.input.params.advanced.tests);switch(e){case"time":var n={type:t.type,operator:t.operator,level:t.level};break;case"nested":n={type:t.type,logicalOperator:t.logicalOperator,tests:t.tests};break;case"compare":n={type:t.type,operator:t.operator,operators:t.operators,devices:[]};break;default:return}o.rule.input.params.advanced.tests.push(n),o.expandElement("test_"+a)},o.unassignAdvancedTest=function(e,a){var t=o.rule.input.params.advanced.tests[e];"nested"==t.type?(angular.forEach(t.tests,function(e,t){e.deviceId&&(o.rule.advanced.tests.assignedDevices.indexOf(e.deviceId),o.rule.advanced.tests.assignedDevices.splice(a,1))}),o.rule.input.params.advanced.tests.splice(e,1)):(o.rule.input.params.advanced.tests.splice(e,1),a&&(o.rule.advanced.tests.assignedDevices.indexOf(a),o.rule.advanced.tests.assignedDevices.splice(a,1)))},o.assignAdvancedTestCompareDevice=function(e,t){var a=o.rule.options[e.deviceType].default;if(a&&!(-1<o.rule.advanced.tests.assignedDevices.indexOf(e.deviceId))){if(0==d.size(o.rule.input.params.advanced.tests[t].devices))o.rule.input.params.advanced.tests[t].devices.push({deviceId:e.deviceId,type:e.deviceType});else{if(1!=d.size(o.rule.input.params.advanced.tests[t].devices))return;if(!(o.rule.input.params.advanced.tests[t].devices[0].type==e.deviceType||-1!=o.rule.input.params.advanced.tests[t].devices[0].type.indexOf("Binary")&&-1!=e.deviceType.indexOf("Binary")||-1!=o.rule.input.params.advanced.tests[t].devices[0].type.indexOf("Multilevel")&&-1!=e.deviceType.indexOf("Multilevel")||"thermostat"==o.rule.input.params.advanced.tests[t].devices[0].type&&-1!=e.deviceType.indexOf("Multilevel")||-1!=o.rule.input.params.advanced.tests[t].devices[0].type.indexOf("Multilevel")&&"thermostat"==e.deviceType))return;o.rule.input.params.advanced.tests[t].devices.push({deviceId:e.deviceId,type:e.deviceType}),"sensorBinary"==e.deviceType?o.rule.input.params.advanced.tests[t].operators=o.rule.options.compare.binaryOperators:o.rule.input.params.advanced.tests[t].operators=o.rule.options.compare.multilevelOperators}o.rule.advanced.tests.assignedDevices.push(e.deviceId),o.resetOptions(),o.expandElement("test_compare_"+t+"1")}},o.assignAdvancedTestNestedDevice=function(e,t){var a,n=o.rule.options[e.deviceType].default;!n||-1<o.rule.advanced.tests.assignedDevices.indexOf(e.deviceId)||(a=d.size(o.rule.input.params.advanced.tests[t].tests),n={deviceId:e.deviceId,type:e.deviceType,level:n.level,operator:n.operator,exact:n.exact,sendAction:n.sendAction},o.rule.advanced.tests.assignedDevices.push(e.deviceId),o.rule.input.params.advanced.tests[t].tests.push(n),o.resetOptions(),o.expandElement("test_nested_"+t+a))},o.assignAdvancedTestNestedCondition=function(e,t){o.resetOptions();var a,n=o.rule.options[e].default,i=d.size(o.rule.input.params.advanced.tests[t].tests);switch(e){case"time":var s={type:n.type,operator:n.operator,level:n.level};break;case"compare":s=(_defineProperty(a={type:n.type,operator:n.operator},"operator",n.operators),_defineProperty(a,"devices",[]),a);break;default:return}o.rule.input.params.advanced.tests[t].tests.push(s),o.expandElement("test_nested_"+t+i)},o.filterDeviceListCompare=function(e,t){if(0==d.size(o.rule.input.params.advanced.tests[t].devices))switch(e){case"sensorMultilevel":case"sensorBinary":case"switchMultilevel":case"switchBinary":case"thermostat":return!1;default:return!0}else if(1==d.size(o.rule.input.params.advanced.tests[t].devices)&&(o.rule.input.params.advanced.tests[t].devices[0].type==e||-1!=o.rule.input.params.advanced.tests[t].devices[0].type.indexOf("Binary")&&-1!=e.indexOf("Binary")||-1!=o.rule.input.params.advanced.tests[t].devices[0].type.indexOf("Multilevel")&&-1!=e.indexOf("Multilevel")||"thermostat"==o.rule.input.params.advanced.tests[t].devices[0].type&&-1!=e.indexOf("Multilevel")||-1!=o.rule.input.params.advanced.tests[t].devices[0].type.indexOf("Multilevel")&&"thermostat"==e))return!1;return!0},o.unassignAdvancedTestCompare=function(e,t,a){o.rule.input.params.advanced.tests[a].devices.splice(e,1),t&&(o.rule.advanced.tests.assignedDevices.indexOf(t),o.rule.advanced.tests.assignedDevices.splice(t,1))},o.unassignAdvancedTestNested=function(e,t,a){o.rule.input.params.advanced.tests[a].tests.splice(e,1),t&&(o.rule.advanced.tests.assignedDevices.indexOf(t),o.rule.advanced.tests.assignedDevices.splice(t,1))},o.assignAdvancedTargetDevice=function(e){var t,a=o.rule.options[e.deviceType].default;!a||-1<o.rule.advanced.target.assignedDevices.indexOf(e.deviceId)||(o.rule.advanced.target.assignedDevices.push(e.deviceId),"notification"===e.deviceType?(t={target:e.deviceId,message:""},o.rule.input.params.advanced.sendNotifications.push(t)):(t={deviceId:e.deviceId,deviceType:e.deviceType,level:a.level,sendAction:a.sendAction,reverseLevel:a.reverseLevel},o.rule.input.params.advanced.targetElements.push(t)),o.resetOptions())},o.unassignAdvancedTargetDevice=function(e,t){t=o.rule.target.assignedDevices.indexOf(t);-1<e&&(o.rule.input.params.advanced.targetElements.splice(e,1),o.rule.advanced.target.assignedDevices.splice(t,1))},o.assignAdvancedTargetNotification=function(e){var t;e.target&&-1===o.rule.advanced.target.assignedDevices.indexOf(e.target)&&(t=d.findWhere(o.notifications.channels,{id:e.target}),t={target:e.target,targetName:t?t.name:e.target,message:e.message},o.rule.input.params.advanced.sendNotifications.push(t),o.rule.advanced.target.assignedDevices.push(t.target),o.resetOptions())},o.unassignAdvancedTargetNotification=function(e,t){t=o.rule.advanced.target.assignedDevices.indexOf(t);-1<e&&(o.rule.input.params.advanced.sendNotifications.splice(e,1),o.rule.advanced.target.assignedDevices.splice(t,1))},o.assignAdvancedEventSource=function(e){o.rule.input.params.advanced.triggerScenes.push(e)},o.unassignAdvancedEventSource=function(e){e=o.rule.input.params.advanced.triggerScenes.indexOf(e);-1<e&&o.rule.input.params.advanced.triggerScenes.splice(e,1)},o.storeRule=function(e,t){e.params.advanced.targetElements=e.params.advanced.targetElements.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"lvl"==e.level?e.exact:e.level,sendAction:e.sendAction,reverseLevel:e.reverseLevel}}),e.params.simple.targetElements=e.params.simple.targetElements.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"lvl"==e.level?e.exact:e.level,sendAction:e.sendAction,reverseLevel:e.reverseLevel}}),o.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:o._t("loading")},l.storeApi("instances",parseInt(e.id,10),e).then(function(e){o.loading=!1,t&&a.path("/"+r.getUrlSegment(a.path()))},function(e){o.loading=!1,alertify.alertError(o._t("error_update_data"))})}}]),myAppController.controller("AutomationScheduleController",["$scope","$routeParams","$location","$timeout","cfg","dataFactory","dataService","_","myCache",function(a,e,t,n,i,s,o,l,r){a.schedules={state:"",enableTest:[]},a.oldSchedules=[],a.convertSchedules=function(){s.postApi("modules_transform",{source:"ScheduledScene",target:"Schedules"}).then(function(e){e.data&&e.data.data&&(e=e.data.data.map(function(e){return e.title}),o.showNotifier({message:a._t("successfully_transformed")+"<br>"+e.join(",<br>")}),a.loadSchedules()),a.oldSchedules=[]},function(e){o.showNotifier({message:a._t("error_transformed"),type:"error"}),a.oldSchedules=[],a.loadSchedules()})},a.loadSchedules=function(){s.getApi("instances",null,!0).then(function(e){a.schedules.all=l.chain(e.data.data).flatten().where({moduleId:"Schedules"}).filter(function(e){var t=0;for(k in e.params.devices)e.params.devices[k].length&&t++;for(k in e.params.notifications)t++;return t&&a.schedules.enableTest.push(e.id),e}).value(),l.size(a.schedules.all)||a.oldSchedules.length||(-1<i.route.previous.indexOf(o.getUrlSegment(t.path()))?t.path("/automations"):t.path("/"+o.getUrlSegment(t.path())+"/0"))},function(e){angular.extend(i.route.alert,{message:a._t("error_load_data")})})},a.loadOldSchedules=function(){s.getApi("instances","/ScheduledScene",!0).then(function(e){a.oldSchedules=l.filter(e.data.data,function(e){return!e.params.moduleAPITransformed})},function(e){})},a.loadOldSchedules(),a.loadSchedules(),a.runScheduleTest=function(e){a.toggleRowSpinner(e.id),n(a.toggleRowSpinner,1e3);e='controller.emit("scheduledScene.run.'+e.id+'")';s.runJs(e).then(function(e){n(a.toggleRowSpinner,2e3)},function(e){n(a.toggleRowSpinner,2e3)})},a.activateSchedule=function(e,t){e.active=t,e.id&&s.putApi("instances",e.id,e).then(function(e){},function(e){alertify.alertError(a._t("error_update_data"))})},a.cloneSchedule=function(e){e.id=0,e.title=e.title+" - copy",s.postApi("instances",e).then(function(e){t.path("/schedules/"+e.data.data.id)},function(e){alertify.alertError(a._t("error_update_data"))})},a.deleteSchedule=function(e,t){alertify.confirm(t,function(){s.deleteApi("instances",e.id).then(function(e){a.reloadData()},function(e){alertify.alertError(a._t("error_delete_data"))})}).setting("labels",{ok:a._t("ok")})}}]),myAppController.controller("AutomationScheduleIdController",["$scope","$routeParams","$location","$route","cfg","dataFactory","dataService","_","myCache",function(n,e,a,t,i,s,o,l,r){n.schedule={show:!0,days:[1,2,3,4,5,6,0],rooms:[],devicesInRoom:[],availableDevices:[],assignedDevices:[],assignedNotifications:[],cfg:{switchBinary:{level:["off","on"],default:{device:"",level:"on",sendAction:!1}},switchMultilevel:{level:["off","on","lvl"],min:0,max:99,default:{device:"",level:"on",exact:0,sendAction:!1}},switchRGBW:{level:["on","off"],min:0,max:255,default:{deviceId:"",deviceType:"switchRGBW",level:"on",sendAction:!1,reverseLevel:null}},thermostat:{min:0,max:99,default:{device:"",level:0,sendAction:!1}},doorlock:{level:["close","open"],default:{device:"",level:"open",sendAction:!1}},toggleButton:{default:{}},notification:{default:{target:"",targetName:"",message:""}}},input:{instanceId:e.id,moduleId:"Schedules",active:!0,title:"",params:{weekdays:[],times:["00:00"],devices:[],notifications:[]}}},n.notifications={channels:[]},n.orig={model:{}},n.orig.model=angular.copy(n.schedule.model),n.resetModel=function(){n.schedule.model=angular.copy(n.orig.model)},n.loadInstance=function(e){s.getApi("instances","/"+e,!0).then(function(e){var e=e.data.data,t=n.schedule.assignedDevices,a=n.schedule.assignedNotifications;angular.extend(n.schedule.input,{title:e.title,active:e.active,params:e.params}),e.params.devices=e.params.devices.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"switchMultilevel"!=e.deviceType||isNaN(e.level)?e.level:"lvl",exact:"switchMultilevel"==e.deviceType?isNaN(e.level)?0:e.level:void 0,sendAction:e.sendAction}}),angular.forEach(e.params.devices,function(e){-1===t.indexOf(e.deviceId)&&n.schedule.assignedDevices.push(e.deviceId)}),e.params.notifications||(e.params.notifications=[]),angular.forEach(e.params.notifications,function(e){var t;-1===a.indexOf(e.target)&&(t=l.findWhere(n.notifications.channels,{id:e.target}),e.targetName=t?t.name:e.target,n.schedule.assignedNotifications.push(e.target))})},function(e){angular.extend(i.route.alert,{message:n._t("error_load_data")})})},0<e.id&&n.loadInstance(e.id),n.loadRooms=function(){s.getApi("locations").then(function(e){n.schedule.rooms=o.getRooms(e.data.data).indexBy("id").value(),n.loadDevices(n.schedule.rooms)})},n.loadRooms(),n.loadDevices=function(a){s.getApi("devices").then(function(e){var t=l.keys(n.schedule.cfg),e=o.getDevicesData(e.data.data.devices);n.schedule.availableDevices=e.map(function(e){return{deviceId:e.id,deviceName:e.metrics.title,deviceType:e.deviceType,probeType:e.probeType,location:e.location,locationName:a[e.location].title,iconPath:e.iconPath}}).filter(function(e){return-1<t.indexOf(e.deviceType)}).indexBy("deviceId").value(),l.size(n.schedule.availableDevices)?n.schedule.devicesInRoom=l.countBy(n.schedule.availableDevices,function(e){return e.location}):n.schedule.show=!1},function(e){})},n.loadNotificationChannels=function(e){s.getApi("notification_channels","/all").then(function(e){n.notifications.channels=e.data.data,n.schedule.input.params.notifications&&n.schedule.input.params.notifications.forEach(function(e){var t=l.findWhere(n.notifications.channels,{id:e.target});t&&(e.targetName=t.name)})},function(e){})},n.loadNotificationChannels(),n.toggleWeekday=function(e){e=e.toString();var t=n.schedule.input.params.weekdays.indexOf(e);-1<t?n.schedule.input.params.weekdays.splice(t,1):n.schedule.input.params.weekdays.push(e)},n.addTime=function(e){-1===n.schedule.input.params.times.indexOf(e)&&n.schedule.input.params.times.push(e)},n.assignDevice=function(e){var t=n.schedule.cfg[e.deviceType],t={deviceId:e.deviceId,deviceType:e.deviceType,level:t.default.level,exact:t.default.exact,sendAction:t.default.sendAction};n.schedule.input.params.devices.push(t),n.schedule.assignedDevices.push(e.deviceId)},n.unassignDevice=function(e,t){t=n.schedule.assignedDevices.indexOf(t);n.schedule.input.params.devices.splice(e,1),-1<t&&n.schedule.assignedDevices.splice(t,1)},n.assignNotification=function(e){var t;e.target&&-1===n.schedule.assignedNotifications.indexOf(e.target)&&(t=l.findWhere(n.notifications.channels,{id:e.target}),t={target:e.target,targetName:t?t.name:e.target,message:e.message},n.schedule.input.params.notifications.push(t),n.schedule.assignedNotifications.push(t.target),n.schedule.cfg.notification.default.target="",n.schedule.cfg.notification.default.message="")},n.unassignNotification=function(e,t){t=n.schedule.assignedNotifications.indexOf(t);-1<e&&(n.schedule.input.params.notifications.splice(e,1),n.schedule.assignedNotifications.splice(t,1))},n.storeSchedule=function(e,t){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")},e.params.devices=e.params.devices.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"lvl"==e.level?e.exact:e.level,sendAction:e.sendAction}}),s.storeApi("instances",parseInt(e.instanceId,10),e).then(function(e){n.loading=!1,t&&a.path("/"+o.getUrlSegment(a.path()))},function(e){n.loading=!1,alertify.alertError(n._t("error_update_data"))})}}]),myAppController.controller("SecurityController",["$scope","$routeParams","$location","$timeout","cfg","dataFactory","dataService","_",function(t,e,a,n,i,s,o,l){t.security={moduleId:"Security",state:"",enableTest:[]},t.loadSecurityModule=function(){s.getApi("instances",null,!0).then(function(e){e=l.findWhere(e.data.data,{moduleId:t.security.moduleId});!e||e.id<1?a.path("/security/0"):a.path("/security/"+e.id)},function(e){angular.extend(i.route.alert,{message:t._t("error_load_data")})})},t.loadSecurityModule()}]),myAppController.controller("SecurityIdController",["$scope","$routeParams","$location","$timeout","$filter","cfg","dataFactory","dataService","_",function(o,t,n,i,s,a,l,r,d){function c(e,n,i,s){return d.filter(e,function(e){var t=u(e.arm),a=u(e.disarm);return t<n&&n<a&&e[s]||n<t&&t<i&&e[s]?e:void 0})}function u(e){e=e.split(":");return 60*Number(e[0])*60+60*Number(e[1])}o.security={routeId:0,tab:1,days:[1,2,3,4,5,6,0],intervals:[0,5,15,30,60],devicesInRoom:{input:[],alarms:[],armConfirm:[],controls:[],notification:[],armFailureAction:[],inputArming:[],entranceDetected:[]},devicesAvailable:!0,alert:{message:"",status:"alert-warning",icon:"fa-exclamation-circle"},devices:{input:[],alarms:[],armConfirm:[],controls:[],notification:[],armFailureAction:[],inputArming:[],entranceDetected:[]},cfg:{options:{switchMultilevel:{level:["on","off","lvl"],min:0,max:99},switchRGBW:{min:0,max:255},thermostat:{min:0,max:99}},input:{deviceType:["sensorBinary","switchBinary"],status:["on","off"],default:{devices:"",conditions:"on",armCondition:"on",sensorAtTheEntrance:"off"}},silentAlarms:{deviceType:["toggleButton","switchBinary","switchMultilevel"],default:{devices:""}},entranceDetected:{deviceType:["toggleButton","switchBinary","switchMultilevel"],default:{devices:""}},inputArming:{deviceType:["sensorBinary","switchBinary"],default:{devices:"",conditions:"on"}},alarms:{deviceType:["toggleButton","switchBinary","switchMultilevel"],default:{devices:""}},armConfirm:{deviceType:["toggleButton","switchBinary","switchMultilevel"],default:{devices:""}},disarmConfirm:{deviceType:["toggleButton","switchBinary","switchMultilevel"],default:{devices:""}},clean:{deviceType:["toggleButton","switchBinary","switchMultilevel"],default:{devices:""}},armFailureAction:{deviceType:["toggleButton","switchBinary","switchMultilevel"],default:{devices:""}},controls:{deviceType:["switchBinary","switchMultilevel","toggleButton","switchControl"],status:["on","off","not_used"],default:{devices:"",armCondition:"not_used",disarmCondition:"not_used",clearCondition:"not_used"}},notification:{probeType:"notification_push"},mobileSchedule_entry:{0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,arm:"00:00",disarm:"00:00"}},input:{instanceId:t.id,moduleId:"Security",active:!1,title:"Security",params:{times:{aktive:!0,start:10,interval:1,silent:0,table:[],delaySensorAtTheEntrance:30},input:{table:[]},inputArming:{table:[]},entranceDetected:{table:[],notification:{}},silentAlarms:{table:[],notification:{}},armFailureAction:{table:[],notification:{}},alarms:{table:[],notification:{}},armConfirm:{table:[],notification:{}},disarmConfirm:{table:[],notification:{}},clean:{table:[],notification:{}},controls:{table:[]},schedules:{0:[],1:[],2:[],3:[],4:[],5:[],6:[]}}},securityModal:{title:"",scheduleId:"",delete:!1,timeline:null,scheduleIndex:null,arm:null,disarm:null},mobileSchedule:[]},o.notifications={channels:[]},o.getTemplate=function(e){return["sensorBinary","switchBinary","switchControl"].includes(e)?"on-of-never-template.html":["sensorMultilevel","switchMultilevel","sensorDiscrete"].includes(e)?"switch-template.html":["toggleButton"].includes(e)?"toggle-template.html":void 0},o.binarySwitchFilter=function(t,a){var n=["armCondition","disarmCondition","clearCondition"].filter(function(e){return a!==e}).map(function(e){return t[e]});return function(e){return"not_used"===e||!n.includes(e)}},o.scheduleOptions={startTime:"00:00",endTime:"24:00",widthTime:300,timeLineY:30,verticalScrollbar:20,timeLineBorder:2,rows:{0:{title:"day_short_0",schedule:[]},1:{title:"day_short_1",schedule:[]},2:{title:"day_short_2",schedule:[]},3:{title:"day_short_3",schedule:[]},4:{title:"day_short_4",schedule:[]},5:{title:"day_short_5",schedule:[]},6:{title:"day_short_6",schedule:[]}},change:function(e,t){o.updateData()},init_data:function(e,t){},click:function(e,t){},append:function(e,t){},time_click:function(e,t,a,n){this.addScheduleData({timeline:parseInt(a),start:this.calcStringTime(t),end:start+3600,text:o._t("lb_arm")}),o.updateData()},append_on_click:function(e,t,a){t=this.calcStringTime(t),a=(a=this.calcStringTime(a))===t?a+3600:a;this.addScheduleData({timeline:parseInt(e),start:t,end:a,text:o._t("lb_arm")}),o.updateData()},bar_Click:function(e,t,a){o.security.securityModal.scheduleId="#"+$(this).attr("id"),o.security.securityModal.timeline=t.timeline,o.security.securityModal.arm=t.start,o.security.securityModal.disarm=t.end,o.security.securityModal.scheduleIndex=a,o.security.securityModal.title=this.formatTime(t.start)+" - "+this.formatTime(t.end),o.handleModal("securityModal")},connect:function(e){e.text=o._t("lb_arm"),this.addScheduleData(e),o.updateData()},confirm:function(){return o._t("connect_schedules")},delete_bar:function(){o.updateData()}},o.jQuerySchedule={},o.orig={options:{}},o.orig.options=angular.copy(o.security.cfg),o.resetOptions=function(){o.security.cfg=angular.copy(o.orig.options)},o.loadInstance=function(t){l.getApi("instances","/"+t,!0).then(function(e){o.security.routeId=t;e=e.data.data;angular.extend(o.security.input,{title:e.title,active:e.active}),Object.assign(o.security.input.params,e.params),d.each(["silentAlarms","alarms","armConfirm","disarmConfirm","clean","armFailureAction","inputArming","entranceDetected"],function(a){o.security.input.params[a].table=o.security.input.params[a].table.map(function(e){"silentAlarms"===a?a="alarms":"disarmConfirm"!==a&&"clean"!==a||(a="armConfirm");var t=o.getDevice(e.devices,a);return t?{devices:e.devices,zwaveId:t.zwaveId,deviceName:t.deviceName,deviceNameShort:t.deviceNameShort,level:d.isNumber(e.level)?"lvl":e.level,exact:d.isNumber(e.level)?parseInt(e.level):null,deviceType:t.deviceType,probeType:t.probeType,location:t.location,locationName:t.locationName,iconPath:t.iconPath,conditions:e.conditions}:{devices:e.devices,deviceName:o._t("device_removed")+": "+e.devices,conditions:e.conditions,armCondition:e.armCondition,inputArming:e.inputArming,sensorAtTheEntrance:"on"===e.armCondition?"off":"on",iconPath:"storage/img/icons/placeholder.png"}})}),o.security.input.params.input.table=o.security.input.params.input.table.map(function(e){var t=o.getDevice(e.devices,"input");return t?{devices:e.devices,zwaveId:t.zwaveId,deviceName:t.deviceName,deviceNameShort:t.deviceNameShort,conditions:e.conditions,armCondition:e.armCondition,inputArming:e.inputArming,sensorAtTheEntrance:"on"===e.armCondition?"off":"on",deviceType:t.deviceType,probeType:t.probeType,location:t.location,locationName:t.locationName,iconPath:t.iconPath}:{devices:e.devices,deviceName:o._t("device_removed")+": "+e.devices,conditions:e.conditions,armCondition:e.armCondition,inputArming:e.inputArming,sensorAtTheEntrance:"on"===e.armCondition?"off":"on",iconPath:"storage/img/icons/placeholder.png"}}),o.security.input.params.controls.table=o.security.input.params.controls.table.map(function(t){var a,e=o.getDevice(t.devices,"controls");return e?("toggleButton"===e.deviceType&&["armCondition","disarmCondition","clearCondition"].map(function(e){"on"===t[e]&&(a=e)}),{devices:t.devices,zwaveId:e.zwaveId,deviceName:e.deviceName,deviceNameShort:e.deviceNameShort,armCondition:t.armCondition,inputArming:t.inputArming,disarmCondition:t.disarmCondition,clearCondition:t.clearCondition,deviceType:e.deviceType,probeType:e.probeType,location:e.location,locationName:e.locationName,iconPath:e.iconPath,toggleButton:a}):{devices:t.devices,deviceName:o._t("device_removed")+": "+t.devices,conditions:t.conditions,armCondition:t.armCondition,inputArming:t.inputArming,sensorAtTheEntrance:"on"===t.armCondition?"off":"on",iconPath:"storage/img/icons/placeholder.png"}}),o.transformFromInstToMobile()},function(e){angular.extend(a.route.alert,{message:o._t("error_load_data")})})},o.loadNotificationChannels=function(e){l.getApi("notification_channels","/all").then(function(e){o.notifications.channels=e.data.data},function(e){})},o.loadNotificationChannels(),o.loadRooms=function(){l.getApi("locations").then(function(e){o.security.rooms=r.getRooms(e.data.data).indexBy("id").value(),o.loadDevices(o.security.rooms)})},o.loadRooms(),o.loadDevices=function(n){l.getApi("devices","",!0).then(function(e){e=r.getDevicesData(e.data.data.devices);d.filter(e.value(),function(t){function e(e){return!!(e=e.match(/ZWayVDev_([^_]+)_([0-9]+)-/))&&e[2]}var a={deviceId:t.id,zwaveId:e(t.id),deviceName:t.metrics.title,deviceNameShort:s("cutText")(t.metrics.title,!0,30)+(e(t.id)?"#"+e(t.id):""),level:d.isNumber(t.metrics.level)?"lvl":t.metrics.level,exact:d.isNumber(t.metrics.level)?parseInt(t.metrics.level):null,deviceType:t.deviceType,probeType:t.probeType,location:t.location,locationName:n[t.location].title,iconPath:t.iconPath};["input","alarms","inputArming","entranceDetected","armFailureAction","armConfirm","controls"].map(function(e){-1!==o.security.cfg[e].deviceType.indexOf(t.deviceType)&&o.security.devices[e].push(a)}),t.probeType&&-1<o.security.cfg.notification.probeType.indexOf(t.probeType)&&o.security.devices.notification.push(a)}),["input","alarms","inputArming","armFailureAction","entranceDetected","armConfirm","controls","notification"].map(function(e){o.security.devicesInRoom[e]=d.countBy(o.security.devices[e],function(e){return e.location})}),d.size(o.security.devices.input)||(o.security.devicesAvailable=!1,o.security.alert.message=o._t("no_device_installed")),d.each(["silentAlarms","alarms","armConfirm","disarmConfirm","clean","armFailureAction","inputArming","entranceDetected"],function(a){o.security.input.params[a].table=o.security.input.params[a].table.map(function(e){"silentAlarms"===a?a="alarms":"disarmConfirm"!==a&&"clean"!==a||(a="armConfirm");var t=o.getDevice(e.devices,a);if(t)return{devices:e.devices,zwaveId:t.zwaveId,deviceName:t.deviceName,deviceNameShort:t.deviceNameShort,level:d.isNumber(e.level)?"lvl":e.level,exact:d.isNumber(e.level)?parseInt(e.level):null,deviceType:t.deviceType,probeType:t.probeType,location:t.location,locationName:t.locationName,iconPath:t.iconPath,inputArming:e.inputArming}})}),o.security.input.params.input.table=o.security.input.params.input.table.map(function(e){var t=o.getDevice(e.devices,"input");if(t)return{devices:e.devices,zwaveId:t.zwaveId,deviceName:t.deviceName,deviceNameShort:t.deviceNameShort,conditions:e.level,deviceType:t.deviceType,probeType:t.probeType,location:t.location,locationName:t.locationName,iconPath:t.iconPath}}),o.security.input.params.controls.table=o.security.input.params.controls.table.map(function(e){var t=o.getDevice(e.devices,"controls");if(t)return{devices:e.devices,zwaveId:t.zwaveId,deviceName:t.deviceName,deviceNameShort:t.deviceNameShort,armCondition:e.armCondition,disarmCondition:e.disarmCondition,clearCondition:e.clearCondition,deviceType:t.deviceType,probeType:t.probeType,location:t.location,locationName:t.locationName,iconPath:t.iconPath}}),0<t.id&&o.loadInstance(t.id)},function(e){})},o.getModelIndex=function(e,t){return d.findIndex(s("hasNode")(o.security.input.params,t),{devices:e})},o.deleteBar=function(e,t){var a=o.jQuerySchedule.formatTime(e.arm),n=o.jQuerySchedule.formatTime(e.disarm),a=d.findIndex(o.security.input.params.schedules[e.timeline],{arm:a,disarm:n});-1!==a&&(o.security.input.params.schedules[e.timeline].splice(a,1),o.updateSchedule(),e.delete=!0,o.handleModal("securityModal",t),o.transformFromInstToMobile())},o.getDevice=function(e,t){return d.findWhere(o.security.devices[t],{deviceId:e})},o.assignDevice=function(e,t){var a,n,i=o.security.cfg[t].default;-1<d.findIndex(o.security.input.params[t].table,{devices:e})||(n=o.getDevice(e,a="silentAlarms"===t?"alarms":"disarmConfirm"===t||"clean"===t?"armConfirm":t))&&("controls"===a&&["sensorMultilevel","switchMultilevel","sensorDiscrete"].includes(n.deviceType)&&(i={devices:"",armCondition:"",disarmCondition:"",clearCondition:""}),"off"===n.level&&(n.level="on"),Object.assign(i,{devices:e,level:n.level,exact:n.exact,sendAction:!1,deviceName:n.deviceName,deviceType:n.deviceType,probeType:n.probeType,location:n.location,locationName:n.locationName,iconPath:n.iconPath}),"input"===t&&(o.security.input.active=!0),o.security.input.params[t].table.push(i),o.resetOptions())},o.unassignDevice=function(e,t){e=d.findIndex(o.security.input.params[t].table,{devices:e});-1<e&&o.security.input.params[t].table.splice(e,1),"input"===t&&d.size(o.security.input.params.input.table)<1&&(o.security.input.active=!1)},o.updateSchedule=function(){var e,a;d.isEmpty(o.jQuerySchedule)||(e=Object.keys(o.security.input.params.schedules),a={},angular.copy(o.scheduleOptions.rows,a),e.forEach(function(t){o.security.input.params.schedules[t].forEach(function(e){e={start:e.arm,end:e.disarm,text:o._t("lb_arm")};a[t].schedule.push(e)})}),o.jQuerySchedule.update(a))},o.renderSchedule=function(e){var t,a;d.isEmpty(o.jQuerySchedule)?(t=angular.element(e),a={},angular.copy(o.scheduleOptions,a),angular.forEach(o.security.input.params.schedules,function(e,t){d.size(e)&&angular.forEach(e,function(e){a.rows[t].schedule.push({start:e.arm,end:e.disarm,text:o._t("lb_arm")})})}),t.empty(),i(function(){t.timeSchedule(a);var e=angular.element(".title");angular.forEach(e,function(e){var t=angular.element(e).data("title");angular.element(e).html(o._t(t))}),o.jQuerySchedule=t},10)):i(function(){o.jQuerySchedule.resizeWindow()},0)},o.updateData=function(){angular.forEach(o.jQuerySchedule.getScheduleData(),function(e,t){e=d.sortBy(e.schedule,"start");o.security.input.params.schedules[t]=e.map(function(e){return{arm:e.start,disarm:e.end}})}),o.transformFromInstToMobile()},o.timeChanged=function(e,t,a){for(var n=u(o.security.mobileSchedule[e].arm),i=u(o.security.mobileSchedule[e].disarm),s=0;s<=6;s++)o.security.mobileSchedule[e][s]&&0<c(o.security.mobileSchedule,n,i,s).length&&(o.security.mobileSchedule[e][a]=t,alertify.alertWarning(o._t("data_overlaps")),s=6)},o.toggleTime=function(e,t,a){var n;o.security.mobileSchedule[a][t]=!o.security.mobileSchedule[a][t],o.security.mobileSchedule[a][t]&&(n=u(e.arm),e=u(e.disarm),0<c(o.security.mobileSchedule,n,e,t).length&&(o.security.mobileSchedule[a][t]=!1,alertify.alertWarning(o._t("data_overlaps"))))},o.transformFromMobileToInst=function(){o.security.input.params.schedules={},d.each(o.security.mobileSchedule,function(e){for(var t,a=0;a<=6;a++)o.security.input.params.schedules[a]||(o.security.input.params.schedules[a]=[]),e[a]&&(t={arm:e.arm,disarm:e.disarm},o.security.input.params.schedules[a].push(t))})},o.transformFromInstToMobile=function(){o.security.mobileSchedule=[],d.each(o.security.input.params.schedules,function(e,n){0<e.length&&d.each(e,function(e){var t,a=d.findIndex(o.security.mobileSchedule,{arm:e.arm,disarm:e.disarm});-1===a?(t={},angular.copy(o.security.cfg.mobileSchedule_entry,t),t[n]=!0,t.arm=e.arm,t.disarm=e.disarm,o.security.mobileSchedule.push(t)):o.security.mobileSchedule[a][n]=!0})})},o.$watch("security.mobileSchedule",function(e){o.transformFromMobileToInst(),o.updateSchedule()},!0),o.assignTimeSchedule=function(){o.security.mobileSchedule.push(angular.copy(o.security.cfg.mobileSchedule_entry,{}))},o.unassignTimeSchedule=function(e){-1<e&&o.security.mobileSchedule.splice(e,1)},o.storeInstance=function(t,a){o.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:o._t("loading")},d.each(["silentAlarms","alarms","armConfirm","disarmConfirm","clean","armFailureAction","entranceDetected"],function(e){t.params[e].table=t.params[e].table.map(function(e){return{devices:e.devices,level:"lvl"===e.level?e.exact:e.level,sendAction:e.sendAction}})}),t.params.input.table=t.params.input.table.map(function(e){return{devices:e.devices,conditions:e.conditions,armCondition:e.armCondition,sensorAtTheEntrance:"on"===e.armCondition?"off":"on"}}),t.params.controls.table=t.params.controls.table.map(function(t){return"toggleButton"===t.deviceType&&(["armCondition","disarmCondition","clearCondition"].map(function(e){t[e]="not_used"}),t[t.toggleButton]="on"),{devices:t.devices,armCondition:t.armCondition,disarmCondition:t.disarmCondition,clearCondition:t.clearCondition}}),t.params.inputArming.table=t.params.inputArming.table.map(function(e){return{devices:e.devices,conditions:e.conditions}}),l.storeApi("instances",parseInt(t.instanceId,10),t).then(function(e){o.security.devices={input:[],alarms:[],armConfirm:[],controls:[],notification:[],armFailureAction:[],inputArming:[],entranceDetected:[]},o.loading=!1,a&&n.path("/automations")},function(e){o.loading=!1,alertify.alertError(o._t("error_update_data"))})}}]),myAppController.controller("HazardNotificationController",["$scope","$routeParams","$location","$timeout","cfg","dataFactory","dataService","_","myCache",function(a,e,n,t,i,s,o,l,r){a.hazardProtections={moduleId:"HazardNotification",state:"",enableTest:[]},n.path("/hazard/0"),a.loadHazardModule=function(){s.getApi("instances",null,!0).then(function(e){n.path("/hazard/0")},function(e){angular.extend(i.route.alert,{message:a._t("error_load_data")})})},a.loadInstances=function(){s.getApi("instances",null,!0).then(function(e){if(a.hazardProtections.all=l.chain(e.data.data).flatten().where({moduleId:a.hazardProtections.moduleId}).value(),!l.size(a.hazardProtections.all))return-1<i.route.previous.indexOf(o.getUrlSegment(n.path()))?void n.path("/automations"):void n.path("/"+o.getUrlSegment(n.path())+"/0");a.hazardProtections.state="success"},function(e){alertify.alertError(a._t("error_load_data"))})},a.activateInstance=function(e,t){e.active=t,e.id&&s.putApi("instances",e.id,e).then(function(e){},function(e){alertify.alertError(a._t("error_update_data"))})},a.cloneInstance=function(e,t){e.id=0,e.title=e.title+" - copy",s.postApi("instances",e).then(function(e){n.path(n.path()+"/"+e.data.data.id)},function(e){alertify.alertError(a._t("error_update_data"))})},a.deleteInstance=function(e,t){alertify.confirm(t,function(){s.deleteApi("instances",e.id).then(function(e){a.reloadData()},function(e){alertify.alertError(a._t("error_delete_data"))})})}}]),myAppController.controller("HazardNotificationIdController",["$scope","$routeParams","$location","$timeout","$interval","$filter","cfg","dataFactory","dataService","_","myCache",function(r,e,d,t,c,a,n,u,i,s,o){r.hazardProtection={moduleId:"HazardNotification",active:!0,sensorsAvailable:!0,alert:{message:"",status:"alert-warning",icon:"fa-exclamation-circle"},tab:"fire",hazardsTypes:["fire","leakage"],sensors:["smoke","alarm_smoke","alarmSensor_smoke","co","alarm_co","alarmSensor_co","coo","alarm_coo","alarmSensor_coo","flood","alarm_flood","alarmSensor_flood","general_purpose"],devices:["switchBinary","switchMultilevel","switchRGBW","toggleButton"],interval:[60,120,300,600,900,1800,3600],firedOn:["on","off","alarm","revert"],sensorTyp:"",availableSensors:{},availableDevices:{},availableNotifiers:{},devicesInRoom:[],rooms:[],cfg:{switchBinary:{level:["on","off"],default:{level:"on",sendAction:!1}},switchMultilevel:{level:["on","off","lvl"],min:0,max:99,default:{level:"on",exact:0,sendAction:!1}},switchRGBW:{level:["on","off"],min:0,max:255,default:{deviceId:"",deviceType:"switchRGBW",level:"on",sendAction:!1,reverseLevel:null}},toggleButton:{default:{}},notification:{default:{target:"",message:"",firedOn:"alarm"}}},fire:{sensors:["smoke","alarm_smoke","alarmSensor_smoke","co","alarm_co","alarmSensor_co","coo","alarm_coo","alarmSensor_coo","general_purpose"],message:r._t("default_fire_message"),instance:!1,assignedDevices:[],assignedNotifiers:[],input:{instanceId:e.id,id:null,moduleId:"HazardNotification",active:!1,title:"",params:{sensors:[],triggerEvent:[],sendNotifications:[],notificationsInterval:0,hazardType:"fire"}}},leakage:{sensors:["flood","alarm_flood","alarmSensor_flood","general_purpose"],message:r._t("default_leakage_message"),instance:!1,assignedDevices:[],assignedNotifiers:[],input:{instanceId:e.id,id:null,moduleId:"HazardNotification",active:!1,title:"",params:{sensors:[],triggerEvent:[],sendNotifications:[],notificationsInterval:0,hazardType:"leakage"}}}},r.notifications={channels:[]},r.orig={options:{}},r.orig.options=angular.copy(r.hazardProtection.cfg),r.resetOptions=function(){r.hazardProtection.cfg=angular.copy(r.orig.options)},r.loadInstances=function(){u.getApi("instances",null,!0).then(function(e){s.filter(e.data.data,function(e){return e.moduleId==r.hazardProtection.moduleId}).forEach(function(a){r.hazardProtection[a.params.hazardType]&&(r.hazardProtection[a.params.hazardType].instance=!0,a.params.triggerEvent=a.params.triggerEvent.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"switchMultilevel"!=e.deviceType||isNaN(e.level)?e.level:"lvl",exact:"switchMultilevel"==e.deviceType?isNaN(e.level)?0:e.level:void 0,sendAction:e.sendAction}}),angular.extend(r.hazardProtection[a.params.hazardType].input,{title:a.title,active:a.active,params:a.params,id:a.id}),angular.forEach(a.params.triggerEvent,function(e,t){e.deviceId&&r.hazardProtection[a.params.hazardType].assignedDevices.push(e.deviceId)}),angular.forEach(a.params.sendNotifications,function(e,t){s.findWhere(r.notifications.channels,{id:e.target});r.hazardProtection[a.params.hazardType].assignedNotifiers.push(e.notifier)}))})},function(e){angular.extend(n.route.alert,{message:r._t("error_load_data")})})},r.loadInstances(),r.loadNotificationChannels=function(e){u.getApi("notification_channels","/all").then(function(e){r.notifications.channels=e.data.data},function(e){})},r.loadNotificationChannels(),r.loadRooms=function(){u.getApi("locations").then(function(e){r.hazardProtection.rooms=i.getRooms(e.data.data).indexBy("id").value(),r.loadDevices(r.hazardProtection.rooms)})},r.loadRooms(),r.loadDevices=function(a){u.getApi("devices").then(function(e){e=i.getDevicesData(e.data.data.devices);s.filter(e.value(),function(e){var t={deviceId:e.id,deviceName:e.metrics.title,deviceType:e.deviceType,probeType:e.probeType,location:e.location,locationName:a[e.location].title,iconPath:e.iconPath};-1<r.hazardProtection.sensors.indexOf(e.probeType)&&(r.hazardProtection.availableSensors[e.id]=t),-1<r.hazardProtection.devices.indexOf(e.deviceType)&&(r.hazardProtection.availableDevices[e.id]=t)}),r.loadPreset(),s.size(r.hazardProtection.availableSensors)?r.hazardProtection.devicesInRoom=s.countBy(r.hazardProtection.availableDevices,function(e){return e.location}):(r.hazardProtection.sensorsAvailable=!1,r.hazardProtection.alert.message=r._t("no_device_installed"))},function(e){})},r.loadPreset=function(){r.hazardProtection.hazardsTypes.forEach(function(t){var e;r.hazardProtection[t].instance||(s.size(r.hazardProtection.availableSensors)&&angular.forEach(r.hazardProtection.availableSensors,function(e){-1!==r.hazardProtection[t].sensors.indexOf(e.probeType)&&(r.assignSensor(e.deviceId,t),r.hazardProtection[t].input.active=!0)}),e={},angular.copy(r.hazardProtection.cfg.notification.default,e),e.target="",e.message=r._t(r.hazardProtection[t].message),r.hazardProtection[t].input.params.sendNotifications.push(e),r.expandElement("hazardProtection_"+t+"_0"))})},r.assignSensor=function(e,t){r.hazardProtection[t]&&-1===r.hazardProtection[t].input.params.sensors.indexOf(e)&&(r.hazardProtection[t].input.params.sensors.push(e),r.hazardProtection[t].input.active=!0)},r.unassignSensor=function(e,t){r.hazardProtection[t]&&(-1<(e=r.hazardProtection[t].input.params.sensors.indexOf(e))&&r.hazardProtection[t].input.params.sensors.splice(e,1),s.size(r.hazardProtection[t].input.params.sensors)<1&&(r.hazardProtection[t].input.active=!1))},r.assignDevice=function(e,t){var a=r.hazardProtection.cfg[e.deviceType],a={deviceId:e.deviceId,deviceType:e.deviceType,exact:a.default.exact,level:a.default.level,sendAction:a.default.sendAction};r.hazardProtection[t].input.params.triggerEvent.push(a),r.hazardProtection[t].assignedDevices.push(e.deviceId)},r.unassignDevice=function(e,t,a){t=r.hazardProtection[a].assignedDevices.indexOf(t);r.hazardProtection[a].input.params.triggerEvent.splice(e,1),-1<t&&r.hazardProtection[a].assignedDevices.splice(t,1)},r.assignNotification=function(e,t){r.hazardProtection[t]&&(s.findWhere(r.notifications.channels,{id:e.target}),e={target:e.target,message:e.message},r.hazardProtection[t].input.params.sendNotifications.push(e),r.resetOptions())},r.unassignNotification=function(e,t,a){r.hazardProtection[a]&&(t=r.hazardProtection[a].assignedNotifiers.indexOf(t),-1<e&&(r.hazardProtection[a].input.params.sendNotifications.splice(e,1),r.hazardProtection[a].assignedNotifiers.splice(t,1)))},r.activateInstances=function(){r.hazardProtection.active?(r.hazardProtection.fire.input.active=!1,r.hazardProtection.leakage.input.active=!1,r.hazardProtection.active=!1):(r.hazardProtection.fire.input.active=!0,r.hazardProtection.leakage.input.active=!0,r.hazardProtection.active=!0)},r.storeInstances=function(e,t,a){var n=!0,i=!0,s=!1,o=!1,l=(e.instanceId=null!==e.id?e.id:e.instanceId,t.instanceId=null!==t.id?t.id:t.instanceId,e.params.triggerEvent=e.params.triggerEvent.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"lvl"==e.level?e.exact:e.level,sendAction:e.sendAction}}),t.params.triggerEvent=t.params.triggerEvent.map(function(e){return{deviceId:e.deviceId,deviceType:e.deviceType,level:"lvl"==e.level?e.exact:e.level,sendAction:e.sendAction}}),r.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:r._t("loading")},u.storeApi("instances",parseInt(e.instanceId,10),e).then(function(e){s=!(n=!1)},function(e){s=!0}),u.storeApi("instances",parseInt(t.instanceId,10),t).then(function(e){o=!(i=!1)},function(e){o=!0}),c(function(){o&&s&&(r.loading=!1,c.cancel(l),i||n?alertify.alertError(r._t("error_update_data")):a&&d.path("/automations"))},1e3))}}]),myAppController.controller("HeatingController",["$scope","$routeParams","$location","$timeout","$interval","cfg","dataFactory","dataService","_","myCache",function(t,e,a,n,i,s,o,l,r,d){t.heating={moduleId:"Heating",state:"",enableTest:[]},t.loadHeatingModule=function(){o.getApi("instances",null,!0).then(function(e){e=r.findWhere(e.data.data,{moduleId:t.heating.moduleId});!e||e.id<1?a.path("/heating/0"):a.path("/heating/"+e.id)},function(e){angular.extend(s.route.alert,{message:t._t("error_load_data")})})},t.loadHeatingModule()}]),myAppController.controller("HeatingIdController",["$scope","$routeParams","$location","$timeout","$filter","cfg","dataFactory","dataService","_","myCache",function(r,e,a,t,i,n,s,o,l,d){function c(e,a){var t=Object.keys(r.heating.input.params.roomSettings[a].schedule),n={};angular.copy(r.scheduleOptions.rows,n),t.forEach(function(t){r.heating.input.params.roomSettings[a].schedule[t].forEach(function(e){e={start:e.stime,end:e.etime,text:e.temp+" C",data:{temp:e.temp}};n[t].schedule.push(e)})}),e.update(n)}function u(e,t,a){e=e||{temp:[],label:[]};for(var n=t.min;n<=t.max;n+=t.step)e.temp.push(n.toString()),e.label.push(n.toString()+" "+a);return e}function p(e){return!!(e=e.match(/ZWayVDev_([^_]+)_([0-9]+)-/))&&e[2]}function m(e,n,i,s){return l.filter(e,function(e){var t=g(e.stime),a=g(e.etime);return t<n&&n<a&&e[s]||n<t&&t<i&&e[s]?e:void 0})}function g(e){e=e.split(":");return 60*Number(e[0])*60+60*Number(e[1])}r.heating={rooms:{},devices:{all:[],SensorsByRoom:{},ThermostateByRoom:{}},roomsAvailable:!0,alert:{message:"",status:"alert-warning",icon:"fa-exclamation-circle"},routeId:0,input:{instanceId:e.id,moduleId:"Heating",active:!1,title:"",params:{resetTime:2,roomSettings:{}}},cfg:{energySave:{min:5,max:35,step:.5,temp:{}},comfort:{min:5,max:35,step:.5,temp:{}},frostProtection:{min:5,max:35,step:.5,temp:{}},fallback:{F:"frost_protection_temp",E:"energy_save_temp",C:"comfort_temp"},default:{comfortTemp:21,energySaveTemp:18,frostProtectionTemp:5,fallbackTemp:"",sensorId:null,state:null,schedule:{}},mobileSchedule_entry:{0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,stime:"00:00",etime:"00:00",temp:null}},tempModal:{title:"",scheduleId:"",delete:!1,timeline:null,scheduleIndex:null,stime:null,etime:null,temp:{min:14,max:27,step:.5,value:0}},mobileSchedule:{}},r.scheduleOptions={startTime:"00:00",endTime:"24:00",widthTime:300,timeLineY:30,verticalScrollbar:20,timeLineBorder:2,widthTimeX:8,rows:{0:{title:"day_short_0",schedule:[]},1:{title:"day_short_1",schedule:[]},2:{title:"day_short_2",schedule:[]},3:{title:"day_short_3",schedule:[]},4:{title:"day_short_4",schedule:[]},5:{title:"day_short_5",schedule:[]},6:{title:"day_short_6",schedule:[]}},change:function(e,t){r.updateData()},init_data:function(e,t){},click:function(e,t){},append:function(e,t){},time_click:function(e,t,a,n){var i=$(this).attr("id").split("-")[1],i=r.heating.input.params.roomSettings[i].comfortTemp,t=this.calcStringTime(t),t={data:{temp:i},start:t,end:t+3600,text:i+" C",timeline:parseInt(a)};this.addScheduleData(t),r.updateData()},append_on_click:function(e,t,a){var t=this.calcStringTime(t),a=this.calcStringTime(a),n=$(this).attr("id").split("-")[1],n=r.heating.input.params.roomSettings[n].comfortTemp,a=a==t?a+3600:a,e={timeline:parseInt(e),start:t,end:a,text:n+" C",data:{temp:n}};this.addScheduleData(e),r.updateData()},bar_Click:function(e,t,a){r.heating.tempModal.scheduleId="#"+$(this).attr("id"),r.heating.tempModal.timeline=t.timeline,r.heating.tempModal.stime=t.start,r.heating.tempModal.etime=t.end,r.heating.tempModal.scheduleIndex=a,r.heating.tempModal.title=this.formatTime(t.start)+" - "+this.formatTime(t.end),r.heating.tempModal.temp.value=t.data.temp,r.handleModal("temperatureModal")},connect:function(e){var t=$(this).attr("id").split("-")[1],t=r.heating.input.params.roomSettings[t].comfortTemp;e.data.temp=t,e.text=t+" C",this.addScheduleData(e),r.updateData()},confirm:function(){return r._t("connect_schedules")},delete_bar:function(){r.updateData()}},r.jQuery_schedules={},r.mobileView=r.deviceDetector.isMobile()||"ZWayMobileAppAndroid"===r.cfg.route.os||"ZWayMobileAppiOS"===r.cfg.route.os,r.changeView=function(){r.mobileView&&angular.element.find("[aria-expanded='true']").map(function(e){e=e.dataset.id;r.renderSchedule("#schedule-"+e,e)}),r.mobileView=!r.mobileView},r.renderSchedule=function(a,e){var n,i;r.jQuery_schedules[a]?t(function(){r.jQuery_schedules[a].resizeWindow()},0):(n={},angular.copy(r.scheduleOptions,n),(i=r.heating.input.params.roomSettings[e])&&i.schedule&&Object.keys(i.schedule).forEach(function(t){i.schedule[t].forEach(function(e){e={start:e.stime,end:e.etime,text:e.temp+" C",data:{temp:e.temp}};n.rows[t].schedule.push(e)})}),t(function(){var e=angular.element(a).timeSchedule(n),t=angular.element(".title");angular.forEach(t,function(e){var t=angular.element(e).data("title");angular.element(e).html(r._t(t))}),r.jQuery_schedules[a]=e},0))},r.deleteBar=function(e,t){var a,n,i;r.jQuery_schedules[e.scheduleId]&&(n=r.jQuery_schedules[e.scheduleId],a=e.scheduleId.split("-")[1],i=n.formatTime(e.stime),n=n.formatTime(e.etime),-1!==(i=l.findIndex(r.heating.input.params.roomSettings[a].schedule[e.timeline],{stime:i,etime:n,temp:e.temp.value}))&&(r.heating.input.params.roomSettings[a].schedule[e.timeline].splice(i,1),r.updateSchedule(e.scheduleId,a),e.delete=!0,r.handleModal("temperatureModal",t),r.transformFromInstToMobile()))},r.updateSchedule=function(e,t){r.jQuery_schedules[e]&&c(r.jQuery_schedules[e],t)},r.updateAllSchedules=function(){l.each(r.jQuery_schedules,function(e,t){c(e,t.split("-")[1])})},r.init=function(){var e={temp:[6],label:[r._t("frostProtection")]};r.heating.cfg.energySave.temp=u(e,r.heating.cfg.energySave,"C"),r.heating.cfg.frostProtection.temp=u(e,r.heating.cfg.frostProtection,"C"),r.heating.cfg.comfort.temp=u(!1,r.heating.cfg.comfort,"C")},r.init(),r.loadRooms=function(){s.getApi("locations").then(function(e){e=e.data.data.filter(function(e){return 0!==e.id});r.heating.rooms=o.getRooms(e).indexBy("id").value(),angular.forEach(r.heating.rooms,function(e){angular.extend(r.heating.rooms[e.id],{copyOption:null})}),l.size(r.heating.rooms)||(r.heating.roomsAvailable=!1,r.heating.alert.message=r._t("no_rooms")),r.loadDevices(r.heating.rooms)})},r.loadRooms(),r.loadInstance=function(t){s.getApi("instances","/"+t,!0).then(function(e){r.heating.routeId=t;e=e.data.data;angular.extend(r.heating.input,{title:e.title,active:e.active,params:e.params}),r.transformFromInstToMobile()},function(e){angular.extend(n.route.alert,{message:r._t("error_load_data")})})},0<e.id&&r.loadInstance(e.id),r.hasSchedules=function(e){var t=!1;if(r.heating.input.params.roomSettings&&r.heating.input.params.roomSettings[e]){var a,n=r.heating.input.params.roomSettings[e].schedule;for(a in n)if(0<n[a].length){t=!0;break}}return t},r.copySchedule=function(e,t,a){alertify.confirm(a,function(){angular.extend(r.heating.input.params.roomSettings[t],r.heating.input.params.roomSettings[e]),r.updateSchedule("#schedule-"+t,t)}).setting("labels",{ok:r._t("ok")})},r.$watch("modalArr",function(e,t){var a,n;!e.hasOwnProperty("temperatureModal")||e.temperatureModal||r.heating.tempModal.delete||(r.updateData(),e=r.heating.tempModal.scheduleId.split("-")[1],r.heating.input.params.roomSettings[e]&&(a=r.jQuery_schedules[r.heating.tempModal.scheduleId],-1!=(n=l.findIndex(r.heating.input.params.roomSettings[e].schedule[r.heating.tempModal.timeline],{stime:a.formatTime(r.heating.tempModal.stime),etime:a.formatTime(r.heating.tempModal.etime)}))&&(r.heating.input.params.roomSettings[e].schedule[r.heating.tempModal.timeline][n].temp=parseFloat(r.heating.tempModal.temp.value),c(a,e))))},!0),r.loadDevices=function(n){s.getApi("devices").then(function(e){var e=o.getDevicesData(e.data.data.devices),a=Object.keys(n);l.filter(e.value(),function(e){var t;-1!=a.indexOf(e.location.toString())&&("sensorMultilevel"==e.deviceType&&"temperature"==e.probeType||"thermostat"==e.deviceType)&&(t={deviceId:e.id,zwaveId:p(e.id),deviceName:e.metrics.title,deviceNameShort:i("cutText")(e.metrics.title,!0,30)+(p(e.id)?"#"+p(e.id):""),deviceType:e.deviceType,probeType:e.probeType,location:e.location,locationName:n[e.location].title,iconPath:e.iconPath,level:e.metrics.level,scale:e.metrics.scale||""},r.heating.devices.all.push(t),"thermostat"!==e.deviceType&&(r.heating.devices.SensorsByRoom[e.location]||(r.heating.devices.SensorsByRoom[e.location]=[]),r.heating.devices.SensorsByRoom[e.location].push(t)),"thermostat"==e.deviceType&&(r.heating.devices.ThermostateByRoom[e.location]||(r.heating.devices.ThermostateByRoom[e.location]=[]),r.heating.devices.ThermostateByRoom[e.location].push(t)))}),0<l.size(r.heating.devices.ThermostateByRoom)&&(r.heating.input.active=!0),r.loadPreset()},function(e){})},r.loadPreset=function(){angular.forEach(r.heating.rooms,function(e){var t;r.heating.input.params.roomSettings[e.id]||(r.heating.input.params.roomSettings[e.id]={},t={},angular.copy(r.heating.cfg.default,t),r.heating.input.params.roomSettings[e.id]=t),""!=r.heating.input.params.roomSettings[e.id].comfortTemp&&null!=r.heating.input.params.roomSettings[e.id].comfortTemp||(r.heating.input.params.roomSettings[e.id].comfortTemp=r.heating.cfg.default.comfortTemp),r.heating.devices.SensorsByRoom[e.id]&&1==r.heating.devices.SensorsByRoom[e.id].length&&null==r.heating.input.params.roomSettings[e.id].sensorId&&(r.heating.input.params.roomSettings[e.id].sensorId=r.heating.devices.SensorsByRoom[e.id][0].deviceId)})},r.timeChanged=function(e,t,a,n,i){if(i)for(var s=g(r.heating.mobileSchedule[e][t].stime),o=g(r.heating.mobileSchedule[e][t].etime),l=0;l<=6;l++)r.heating.mobileSchedule[e][t][l]&&0<m(r.heating.mobileSchedule[e],s,o,l).length&&(r.heating.mobileSchedule[e][t][n]=a,alertify.alertWarning(r._t("data_overlaps")),l=6)},r.toggleTime=function(e,t,a,n){var i;r.heating.mobileSchedule[a][n][t]=!r.heating.mobileSchedule[a][n][t],r.heating.mobileSchedule[a][n][t]&&(i=g(e.stime),e=g(e.etime),0<m(r.heating.mobileSchedule[a],i,e,t).length&&(r.heating.mobileSchedule[a][n][t]=!1,alertify.alertWarning(r._t("data_overlaps"))))},r.setTemp=function(e,t,a){var n,i=parseFloat(e.value),s=parseInt(e.min,10),o=parseInt(e.max,10),l=parseFloat(e.step);switch(t){case"-":n=i-l;break;case"+":n=i+l;break;default:n=parseInt(t,10)}e.value=n=o<(n=n<s?s:n)?o:n},r.updateData=function(){var e=Object.keys(r.jQuery_schedules);angular.forEach(e,function(e){var t=r.jQuery_schedules[e],a=e.split("-")[1],e=t.getScheduleData();angular.forEach(e,function(e,t){e=l.sortBy(e.schedule,"start").map(function(e){return{stime:e.start,etime:e.end,temp:e.data.temp}});r.heating.input.params.roomSettings[a].hasOwnProperty("schedule")||(r.heating.input.params.roomSettings[a].schedule={}),r.heating.input.params.roomSettings[a].schedule[t]=e})}),r.transformFromInstToMobile()},r.storeInstance=function(t){r.updateData(),r.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:r._t("loading")},s.storeApi("instances",parseInt(r.heating.input.instanceId,10),r.heating.input).then(function(e){r.loading=!1,t&&a.path("/automations")},function(e){r.loading=!1,alertify.alertError(r._t("error_update_data"))})},r.transformFromMobileToInst=function(){l.each(r.heating.mobileSchedule,function(e,n){r.heating.input.params.roomSettings[n].schedule={},l.each(e,function(e){for(var t,a=0;a<=6;a++)r.heating.input.params.roomSettings[n].schedule[a]||(r.heating.input.params.roomSettings[n].schedule[a]=[]),e[a]&&(t={stime:e.stime,etime:e.etime,temp:e.temp},r.heating.input.params.roomSettings[n].schedule[a].push(t))})})},r.transformFromInstToMobile=function(){l.each(r.heating.input.params.roomSettings,function(e,i){e=e.schedule;r.heating.mobileSchedule[i]=[],l.each(e,function(e,n){0<e.length&&l.each(e,function(e){var t,a=l.findIndex(r.heating.mobileSchedule[i],{stime:e.stime,etime:e.etime,temp:e.temp});-1==a?(t={},angular.copy(r.heating.cfg.mobileSchedule_entry,t),t[n]=!0,t.stime=e.stime,t.etime=e.etime,t.temp=e.temp,r.heating.mobileSchedule[i].push(t)):r.heating.mobileSchedule[i][a][n]=!0})})})},r.$watch("heating.mobileSchedule",function(e,t){r.transformFromMobileToInst(),r.updateAllSchedules()},!0),r.assignTimeSchedule=function(e){var t={};angular.copy(r.heating.cfg.mobileSchedule_entry,t),r.heating.mobileSchedule[e]||(r.heating.mobileSchedule[e]=[]),t.temp=r.heating.input.params.roomSettings[e].comfortTemp,r.heating.mobileSchedule[e].push(t)},r.unassignTimeSchedule=function(e,t){-1<t&&r.heating.mobileSchedule[e]&&r.heating.mobileSchedule[e].splice(t,1)}}]),myAppController.controller("AppBaseController",["$scope","$rootScope","$filter","$cookies","$q","$route","$http","$timeout","cfg","dataFactory","dataService","_",function(l,e,r,t,a,n,i,s,d,c,u,p){angular.copy({appsCategories:!1},l.expand),l.dataHolder={modules:{hasUpgrade:{},cnt:{apps:0,collection:0,appsCat:0,appsCatFeatured:0,featured:0},all:[],collection:[],noSearch:!1,featured:[],categories:{},ids:{},singleton:{},filter:{},cameraIds:[],wifiplugIds:[],imgs:[],cats:[],currentCategory:{id:!1,name:""},orderBy:t.orderByAppsLocal||"titleASC",autocomplete:{source:[],term:"",searchInKeys:"id,title,description,author",returnKeys:"id,title,author,icon,moduleName,hasInstance",strLength:2,resultLength:10}},onlineModules:{connect:{status:!1,icon:"fa-globe fa-spin"},alert:{message:!1,status:"is-hidden",icon:!1},cnt:{apps:0,collection:0,appsCat:0,appsCatFeatured:0,featured:0,featuredStatus:0,upgraded:0},noSearch:!1,ratingRange:p.range(1,6),collection:[],all:{},featured:[],ids:{},filter:{},hideInstalled:!!t.hideInstalledApps&&r("toBool")(t.hideInstalledApps),orderBy:t.orderByAppsOnline||"creationTimeDESC",autocomplete:{source:[],term:"",searchInKeys:"id,title,description,author",returnKeys:"id,title,author,installed,rating,icon",strLength:2,resultLength:10}},tokens:{all:{}},instances:{expanded:"true"==t.instancesExpanded,expandable:!1,all:{},groups:{},cnt:{modules:0},noSearch:!1,filter:{},orderBy:t.orderByAppsInstances||"creationTimeDESC",autocomplete:{source:[],term:"",searchInKeys:"id,title,description,moduleId",returnKeys:"id,title,active,moduleId",strLength:2,resultLength:10}}},l.slider={cfg:{start:0,end:3,max:0,show:3}},l.moduleMediaUrl=l.cfg.server_url+l.cfg.api_url+"load/modulemedia/",l.onlineMediaUrl=l.cfg.online_module_img_url,l.loadTokens=function(){c.getApi("tokens").then(function(e){angular.extend(l.dataHolder.tokens.all,e.data.data.tokens),l.allSettled(l.dataHolder.tokens.all)},function(e){l.allSettled(l.dataHolder.tokens.all)})},l.loadTokens(),l.loadOnlineModules=function(e){c.getOnlineModules({token:p.values(e)}).then(function(e){l.dataHolder.onlineModules.alert=!1,l.dataHolder.onlineModules.connect={status:!0,icon:"fa-globe"};var t,e=e.data.data,s=(l.dataHolder.onlineModules.cnt.featured=0,l.slider.cfg.max=0,l.dataHolder.onlineModules.cnt.upgraded=0,[]),e=p.chain(e).flatten().filter(function(e){d.replace_online_cat[e.category]&&(e.category=d.replace_online_cat[e.category]);var t=!1;if(l.dataHolder.onlineModules.ids[e.modulename]={version:e.version,file:e.file,patchnotes:e.patchnotes},-1<l.getHiddenApps().indexOf(e.modulename)&&(t=1!==l.user.role||!l.user.expert_view),l.dataHolder.modules.ids[e.modulename]){if(e.status="installed",e.statusSort=3,l.dataHolder.modules.ids[e.modulename].version!==e.version)if(l.dataHolder.modules.ids[e.modulename].version||e.version)if(!l.dataHolder.modules.ids[e.modulename].version&&e.version)e.status="upgrade",e.statusSort=1;else for(var a=l.dataHolder.modules.ids[e.modulename].version.toString().split("."),n=e.version.toString().split("."),i=0;i<a.length;i++){if(parseInt(a[i],10)<parseInt(n[i],10)||parseInt(a[i],10)<=parseInt(n[i],10)&&!a[i+1]&&n[i+1]&&0<parseInt(n[i+1],10)){e.status="upgrade",e.statusSort=1,l.dataHolder.onlineModules.cnt.upgraded++;break}if(parseInt(a[i],10)>parseInt(n[i],10))break}else e.status="error";t=l.dataHolder.onlineModules.hideInstalled}else e.statusSort=2,e.status="download";return l.dataHolder.onlineModules.ids[e.modulename].status=e.status,angular.extend(e,{isHidden:t}),1==e.featured?(e.featured=!0,l.dataHolder.onlineModules.cnt.featured+=1,l.slider.cfg.max+=1):e.featured=!1,e.featured&&s.push(e),e.installedSort=r("zeroFill")(e.installed),angular.extend(e,{toolTipDescription:r("stripTags")(e.description)}),l.dataHolder.modules.categories[e.category]&&l.dataHolder.modules.categories[e.category].onlineModules.push(e),e}).reject(function(e){return!0===e.isHidden});l.dataHolder.onlineModules.cnt.appsCat=e.countBy(function(e){return e.category}).value(),l.dataHolder.onlineModules.cnt.appsCatFeatured=e.countBy(function(e){if(e.featured)return e.category}).value(),l.dataHolder.onlineModules.all=e.value(),l.dataHolder.onlineModules.cnt.apps=e.size().value(),l.dataHolder.onlineModules.featured=p.sortBy(s,function(e){return e.statusSort}),l.dataHolder.onlineModules.cnt.featuredStatus=p.countBy(s,function(e){return e.status}),"q"in l.dataHolder.onlineModules.filter?(l.dataHolder.onlineModules.autocomplete.term=l.dataHolder.onlineModules.filter.q,t=p.indexBy(u.autocomplete(l.dataHolder.onlineModules.all,l.dataHolder.onlineModules.autocomplete),"id"),p.isEmpty(t)&&(l.dataHolder.onlineModules.noSearch=!0),l.dataHolder.onlineModules.collection=p.filter(l.dataHolder.onlineModules.all,function(e){if(t[e.id])return e})):l.dataHolder.onlineModules.collection=e.where(l.dataHolder.onlineModules.filter).value(),l.dataHolder.onlineModules.cnt.collection=p.size(l.dataHolder.onlineModules.collection),l.loading=!1},function(e){0===e.status?(l.dataHolder.onlineModules.connect={status:!1,icon:"fa-exclamation-triangle text-danger"},angular.extend(d.route.alert,{message:l._t("no_internet_connection",{__sec__:d.pending_remote_limit/1e3}),icon:"fa-wifi text-danger"})):angular.extend(d.route.alert,{message:l._t("error_load_data")})}).finally(function(){l.loading=!1})},l.allSettled=function(o){l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("loading")};var e=[c.getApi("modules_categories"),c.getApi("modules",null,!0),c.getApi("instances",null,!0)];a.allSettled(e).then(function(e){l.routeMatch("/apps/online")||(l.loading=!1);var t,a,n,i=e[0],s=e[1],e=e[2];"rejected"===s.state&&l.routeMatch("/apps/local")||"rejected"===e.state&&l.routeMatch("/apps/instance")?angular.extend(d.route.alert,{message:l._t("error_load_data")}):("fulfilled"===i.state&&(i=i.value.data.data)&&(l.dataHolder.modules.categories=i[l.lang]?p.indexBy(i[l.lang],"id"):p.indexBy(i[l.cfg.lang],"id"),angular.forEach(l.dataHolder.modules.categories,function(e,t){angular.extend(l.dataHolder.modules.categories[t],{onlineModules:[]})})),"fulfilled"===e.state&&(i=e.value.data.data,l.dataHolder.instances.cnt.modules=p.countBy(i,function(e){return e.moduleId}),p.chain(i).flatten().reject(function(e){return"system"==e.category}).filter(function(e){l.dataHolder.instances.groups[e.moduleId]||(l.dataHolder.instances.groups[e.moduleId]={id:e.id,moduleId:e.moduleId,title:e.title,instances:[]})}),l.dataHolder.instances.all=p.chain(i).flatten().reject(function(e){return"system"==e.category||-1<l.getHiddenApps().indexOf(e.moduleId)&&(1!==l.user.role||!l.user.expert_view)}).filter(function(e){return l.dataHolder.instances.groups[e.moduleId]&&-1===p.findIndex(l.dataHolder.instances.groups[e.moduleId].instances,{id:e.id})&&l.dataHolder.instances.groups[e.moduleId].instances.push(e),e}).value(),"q"in l.dataHolder.instances.filter&&(l.dataHolder.instances.autocomplete.term=l.dataHolder.instances.filter.q,t=l.dataHolder.instances.groups,l.dataHolder.instances.groups={},a=p.indexBy(u.autocomplete(l.dataHolder.instances.all,l.dataHolder.instances.autocomplete),"id"),p.isEmpty(a)&&(l.dataHolder.instances.noSearch=!0),p.filter(l.dataHolder.instances.all,function(e){if(a[e.id])return l.dataHolder.instances.groups[e.moduleId]=t[e.moduleId],e})),l.instancesExpandable()),"fulfilled"===s.state&&(e=s.value.data.data,l.dataHolder.instances.all,l.dataHolder.modules.cnt.featured=0,l.dataHolder.modules.cnt.advanced=0,e=p.chain(e).flatten().filter(function(e){e.title=e.defaults.title,e.description=e.defaults.description,e.hasInstance=l.dataHolder.instances.cnt.modules[e.id]||0,e.preventInstall=!(!e.singleton||!e.hasInstance);var t=!(l.dataHolder.modules.ids[e.id]={version:e.version,icon:l.moduleMediaUrl+e.id+"/"+e.icon,singleton:e.singleton,title:e.title});if(-1<l.getHiddenApps().indexOf(e.moduleName)&&(t=1!==l.user.role||!l.user.expert_view),"surveillance"===e.category&&(l.dataHolder.modules.cameraIds.push(e.id),t=!0),"wifiplug"===e.category&&(l.dataHolder.modules.wifiplugIds.push(e.id),t=!0),!(t="system"===e.category?!0:t))return"userModules"===e.location.split("/")[0]?angular.extend(e,{custom:!0}):angular.extend(e,{custom:!1}),e.category&&-1===l.dataHolder.modules.cats.indexOf(e.category)&&l.dataHolder.modules.cats.push(e.category),-1<l.getCustomCfgArr("featured_apps").indexOf(e.moduleName)?(angular.extend(e,{featured:!0}),l.dataHolder.modules.cnt.featured+=1):angular.extend(e,{featured:!1}),-1<l.getCustomCfgArr("advanced_apps").indexOf(e.moduleName)?(angular.extend(e,{advanced:!0}),l.dataHolder.modules.cnt.advanced+=1):angular.extend(e,{advanced:!1}),angular.extend(e,{toolTipDescription:r("stripTags")(e.defaults.description)}),e.featured&&l.dataHolder.modules.featured.push(e),[]}),l.dataHolder.modules.cnt.appsCat=e.countBy(function(e){return e.category}).value(),l.dataHolder.modules.cnt.appsCatFeatured=e.countBy(function(e){if(e.featured)return e.category}).value(),l.dataHolder.modules.cnt.appsCatAdvanced=e.countBy(function(e){if(e.advanced)return e.category}).value(),l.dataHolder.modules.cnt.apps=e.size().value(),l.dataHolder.modules.all=e.value(),"q"in l.dataHolder.modules.filter?(l.dataHolder.modules.autocomplete.term=l.dataHolder.modules.filter.q,n=p.indexBy(u.autocomplete(l.dataHolder.modules.all,l.dataHolder.modules.autocomplete),"id"),p.isEmpty(n)&&(l.dataHolder.modules.noSearch=!0),l.dataHolder.modules.collection=p.filter(l.dataHolder.modules.all,function(e){if(n[e.id])return e})):"status"in l.dataHolder.modules.filter?l.dataHolder.modules.collection=e.value():l.dataHolder.modules.collection=e.where(l.dataHolder.modules.filter).value(),l.dataHolder.modules.cnt.collection=p.size(l.dataHolder.modules.collection)),l.loadOnlineModules(o))})},l.instancesExpandable=function(){l.dataHolder.instances.expandable=null!=p.find(l.dataHolder.instances.cnt.modules,function(e){return 2<=e})},l.updateModule=function(t,e){var a=t.patchnotes?'<div class="app-confirm-content">'+r("stripTags")(t.patchnotes)+"</div>":"";alertify.confirm(a+e,function(){l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("downloading")};var e={moduleUrl:l.cfg.online_module_download_url+t.file};c.installOnlineModule(e,"online_update").then(function(e){l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("reloading_page")},u.showNotifier({message:l._t(e.data.data.key)}),s(function(){l.loading=!1,l.reloadData()},2e3)},function(e){l.loading=!1;e=r("hasNode")(e,"data.error")?l._t(e.data.error.key):l._t("error_no_module_download");alertify.alertError(e)})}).setting("labels",{ok:l._t("ok")})}}]),myAppController.controller("AppLocalController",["$scope","$filter","$cookies","$timeout","$route","$routeParams","$location","dataFactory","dataService","myCache","_",function(a,n,i,t,s,e,o,l,r,d,c){a.dataHolder.modules.filter=i.filterAppsLocal?angular.fromJson(i.filterAppsLocal):{},a.hasLongPress="",a.searchMe=function(){a.dataHolder.modules.autocomplete.results=r.autocomplete(a.dataHolder.modules.all,a.dataHolder.modules.autocomplete),c.isEmpty(a.dataHolder.modules.autocomplete.results)?a.expandAutocomplete():a.expandAutocomplete("searchLocalApps"),a.dataHolder.modules.filter.q&&a.dataHolder.modules.autocomplete.term.length<1&&a.setFilter()},a.setOrderBy=function(e){angular.extend(a.dataHolder.modules,{orderBy:e}),i.orderByAppsLocal=e,a.reloadData()},a.setFilter=function(e){a.dataHolder.modules.autocomplete.results=[],a.dataHolder.modules.noSearch=!1,a.expandAutocomplete();var t=""==c.values(e);!e||t?(angular.extend(a.dataHolder.modules,{filter:{}}),i.filterAppsLocal=angular.toJson({})):(angular.extend(a.dataHolder.modules,{filter:e}),i.filterAppsLocal=angular.toJson(e)),a.loadTokens()},a.deleteModule=function(e,t){alertify.confirm(t,function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("deleting")},l.deleteApi("online_delete",e.id).then(function(e){a.loading=!1,r.showNotifier({message:a._t("delete_successful")}),d.removeAll(),s.reload()},function(e){e=n("hasNode")(e,"data.error")?a._t(e.data.error.key):a._t("error_delete_data");a.loading=!1,alertify.alertError(e)})}).setting("labels",{ok:a._t("ok")})},a.resetModule=function(e,t){alertify.confirm(t,function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("deleting")},l.postApi("online_reset",e,"/"+e.id).then(function(e){a.loading=!1,r.showNotifier({message:a._t("delete_successful")}),d.removeAll(),s.reload()},function(e){e=n("hasNode")(e,"data.error")?a._t(e.data.error.key):a._t("error_delete_data");a.loading=!1,alertify.alertError(e)})}).setting("labels",{ok:a._t("ok")})},a.onLongPress=function(e){a.hasLongPress="",e&&(a.longPressTimeout=t(function(){a.hasLongPress=e},1e3))},a.onTouchEnd=function(e){t.cancel(a.longPressTimeout)}}]),myAppController.controller("AppLocalDetailController",["$scope","$routeParams","$location","dataFactory","dataService","cfg","_",function(i,e,t,s,a,o,l){i.module=[],i.categoryName="",i.isOnline=null,i.hasInstance=[],i.moduleMediaUrl=i.cfg.server_url+i.cfg.api_url+"load/modulemedia/",i.loadCategories=function(t){s.getApi("modules_categories").then(function(e){var e=e.data.data;!e||(e=l.findWhere(e[i.lang]||e[i.cfg.lang],{id:t}))&&(i.categoryName=e.name)},function(e){})},i.loadModule=function(n){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")},s.getApi("modules","/"+n).then(function(e){var t,a;i.module=e.data.data,t=n,s.getRemoteData(i.cfg.online_module_url).then(function(e){i.isOnline=l.findWhere(e.data,{modulename:t})},function(e){}),a=n,s.getApi("instances",null,!0).then(function(e){l.filter(e.data.data,function(e){e.moduleId==a&&i.hasInstance.push(e)})},function(e){}),i.loadCategories(e.data.data.category),i.loading=!1},function(e){i.loading=!1,angular.extend(o.route.alert,{message:i._t("error_load_data")})})},i.loadModule(e.id)}]),myAppController.controller("AppOnlineController",["$scope","$filter","$cookies","$window","$location","$routeParams","$timeout","dataFactory","dataService","_",function(a,n,i,e,s,t,o,l,r,d){a.dataHolder.onlineModules.filter=i.filterAppsOnline?angular.fromJson(i.filterAppsOnline):{},a.$on("$routeChangeStart",function(e,t,a){"/apps/online/filter"!=t.$$route.originalPath&&"/apps/online"!=t.$$route.originalPath&&(i.filterAppsOnline=angular.toJson({}))}),a.searchMe=function(){a.dataHolder.onlineModules.autocomplete.results=r.autocomplete(a.dataHolder.onlineModules.all,a.dataHolder.onlineModules.autocomplete),d.isEmpty(a.dataHolder.onlineModules.autocomplete.results)?a.expandAutocomplete():a.expandAutocomplete("searchOnlineApps"),a.dataHolder.onlineModules.filter.q&&a.dataHolder.onlineModules.autocomplete.term.length<1&&a.setFilter()},t.category&&(t={category:t.category},angular.extend(a.dataHolder.onlineModules,{filter:t}),i.filterAppsOnline=angular.toJson(t)),a.setOrderBy=function(e){angular.extend(a.dataHolder.onlineModules,{orderBy:e}),i.orderByAppsOnline=e,a.reloadData()},a.hideInstalled=function(e){e=n("toBool")(e),angular.extend(a.dataHolder.onlineModules,{hideInstalled:e}),i.hideInstalledApps=e,a.reloadData()},a.setFilter=function(e){a.dataHolder.onlineModules.autocomplete.results=[],a.dataHolder.onlineModules.noSearch=!1,a.expandAutocomplete();var t=""==d.values(e);!e||t?(angular.extend(a.dataHolder.onlineModules,{filter:{}}),i.filterAppsOnline=angular.toJson({}),a.loadTokens()):(angular.extend(a.dataHolder.onlineModules,{filter:e}),i.filterAppsOnline=angular.toJson(e),a.loadTokens(),a.routeMatch("/apps/online/filter")||s.path("/apps/online/filter"))},a.installModule=function(t){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("downloading")};var e={moduleUrl:a.cfg.online_module_download_url+t.file};l.installOnlineModule(e,"online_install").then(function(e){l.postToRemote(a.cfg.online_module_installed_url,{id:t.id}),a.loading=!1,r.showNotifier({message:a._t(e.data.data.key)}),window.location="#/module/post/"+t.modulename},function(e){a.loading=!1;e=n("hasNode")(e,"data.error")?a._t(e.data.error.key):a._t("error_no_module_download");alertify.alertError(e)})},a.onLongPress=function(e){a.hasLongPress="",e&&(a.longPressTimeout=o(function(){a.hasLongPress=e},1e3))},a.onTouchEnd=function(e){o.cancel(a.longPressTimeout)}}]),myAppController.controller("AppOnlineDetailController",["$scope","$routeParams","$timeout","$location","$route","$filter","myCache","cfg","dataFactory","dataService","_",function(a,n,e,t,i,s,o,l,r,d,c){a.local={installed:!1,alert:!1},a.module=[],a.comments={all:{},model:{module_id:parseInt(n.id,10),content:"",name:"",remote_id:!1},show:!0},a.rating={range:c.range(1,6),model:{module_id:parseInt(n.id,10),remote_id:!1,score:0}},a.categoryName="",a.onlineMediaUrl=l.online_module_img_url,a.loadRemoteId=function(){r.getApi("remote_id").then(function(e){a.rating.model.remote_id=e.data.data.remote_id})},a.loadRemoteId(),a.loadCategories=function(t){r.getApi("modules_categories").then(function(e){var e=e.data.data;!e||(e=c.findWhere(e[a.lang]||e[l.lang],{id:t}))&&(a.categoryName=e.name)},function(e){})},a.loadLocalModules=function(t){r.getApi("modules").then(function(e){a.local.installed=c.findWhere(e.data.data,t)},function(e){})},a.loadModuleId=function(e){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")},r.postToRemote(l.online_moduleid_url,{id:e,lang:a.lang}).then(function(e){c.isEmpty(e.data.data)?a.local.alert={message:a._t("no_data"),status:"alert-warning",icon:"fa-exclamation-circle"}:(a.module=e.data.data,a.loadLocalModules({moduleName:a.module.modulename}),a.loadCategories(a.module.category))},function(e){0===e.status?a.local.alert={message:a._t("no_internet_connection",{__sec__:l.pending_remote_limit/1e3}),status:"alert-warning",icon:"fa-wifi"}:angular.extend(l.route.alert,{message:a._t("error_load_data")})}).finally(function(){a.loading=!1})},a.loadModuleId(n.id),a.loadComments=function(e){r.getRemoteData(l.online_module_comments_url+"/"+e,!0).then(function(e){a.comments.all=e.data.data,c.isEmpty(e.data.data)?a.comments.show=!1:a.comments.show=!0},function(e){a.loading=!1,alertify.alertError(a._t("error_load_comments"))})},a.loadComments(n.id),a.installModule=function(t){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("downloading")};var e={moduleUrl:l.online_module_download_url+t.file};r.installOnlineModule(e,"online_install").then(function(e){r.postToRemote(l.online_module_installed_url,{id:t.id}),d.showNotifier({message:a._t(e.data.data.key)}),window.location="#/module/post/"+t.modulename},function(e){a.loading=!1;e=s("hasNode")(e,"data.error")?a._t(e.data.error.key):a._t("error_no_module_download");alertify.alertError(e)})},a.addComment=function(e,t){e.$invalid||(a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("updating")},r.postToRemote(l.online_module_comment_create_url,t).then(function(e){a.loading=!1,d.showNotifier({message:a._t("comment_add_successful")}),a.expand.appcommentadd=!1,a.loadComments(n.id),t.content="",t.name=""},function(e){a.loading=!1,alertify.alertError(a._t("comment_add_failed"))}))},a.rateModule=function(e){a.rating.model.score=parseInt(e),a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("updating")},r.postToRemote(l.online_module_rating_create_url,a.rating.model).then(function(e){a.loading=!1,a.loadModuleId(n.id)},function(e){var t=a._t("error_update_data");a.loading=!1,409===e.status&&(t=a._t("already_rated")),alertify.alertError(t)})}}]),myAppController.controller("AppOnlineFeaturedController",["$scope","_",function(e,t){e.sliderImages={Alexa:"storage/img/slider/Alexa.png",IntChart:"storage/img/slider/IntChart.png",SecurityModule:"storage/img/slider/SecurityModule.png",ToggleDevices:"storage/img/slider/ToggleDevices.png",ClimateControl:"storage/img/slider/ClimateControl.png",NotificationPushover:"storage/img/slider/NotificationPushover.png",ImportRemoteHA:"storage/img/slider/ImportRemoteHA.png",CustomUserCode:"storage/img/slider/CustomUserCode.png",HTTPDevice:"storage/img/slider/HTTPDevice.png"},e.prevSlide=function(){--e.slider.cfg.start,--e.slider.cfg.end,e.slider.cfg.start<0&&(e.slider.cfg.start=0,e.slider.cfg.end=e.slider.cfg.show)},e.nextSlide=function(){e.slider.cfg.start+=1,e.slider.cfg.end+=1,e.slider.cfg.end>e.slider.cfg.max&&(e.slider.cfg.start=0,e.slider.cfg.end=e.slider.cfg.show)}}]),myAppController.controller("AppInstanceController",["$scope","$cookies","dataFactory","dataService","myCache","_",function(n,i,a,s,e,o){n.expandInstances=function(a){angular.forEach(n.expand,function(e,t){n.expand[t]=a}),i.instancesExpanded=a},n.searchMe=function(){n.dataHolder.instances.autocomplete.results=s.autocomplete(n.dataHolder.instances.all,n.dataHolder.instances.autocomplete),o.isEmpty(n.dataHolder.instances.autocomplete.results)?n.expandAutocomplete():n.expandAutocomplete("searchInstances"),n.dataHolder.instances.filter.q&&n.dataHolder.instances.autocomplete.term.length<1&&n.setFilter()},n.setFilter=function(e){n.dataHolder.instances.autocomplete.results=[],n.dataHolder.instances.noSearch=!1,n.expandAutocomplete();var t=""==o.values(e);!e||t?(angular.extend(n.dataHolder.instances,{filter:{}}),i.filterAppsInstances=angular.toJson({})):(angular.extend(n.dataHolder.instances,{filter:e}),i.filterAppsInstances=angular.toJson(e)),n.loadTokens()},n.setOrderBy=function(e){angular.extend(n.dataHolder.instances,{orderBy:e}),i.orderByAppsInstances=e,n.reloadData()},n.activateInstance=function(e,t){e.active=t,n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},e.id&&a.putApi("instances",e.id,e).then(function(e){n.loading=!1},function(e){alertify.alertError(n._t("error_update_data")),n.loading=!1})},n.deleteInstance=function(e,t){alertify.confirm(t,function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("deleting")},a.deleteApi("instances",e.id).then(function(e){n.loading=!1,s.showNotifier({message:n._t("delete_successful")}),n.reloadData()},function(e){n.loading=!1,alertify.alertError(n._t("error_delete_data"))})}).setting("labels",{ok:n._t("ok")})}}]),myAppController.controller("AppModuleAlpacaController",["$scope","$routeParams","$route","$filter","$location","$q","dataFactory","dataService","myCache","cfg",function(l,a,t,r,i,n,d,c,s,u){switch(l.showForm=!1,l.success=!1,l.alpacaData=!0,l.moduleMediaUrl=l.cfg.server_url+l.cfg.api_url+"load/modulemedia/",l.input={instanceId:0,active:!0,moduleId:null,title:null,description:null,moduleTitle:null,category:null},l.moduleId={submit:!0,fromapp:!(!a.fromapp||"false"===a.fromapp)&&a.fromapp,fromRoute:!1,find:{},categoryName:null,singletonActive:!1,modules:{},instances:{},dependency:{activate:{},add:{},download:{}}},l.fromRoute=function(e){switch(e){case"/apps/instance":case"/rules":case"/wifiplug/add":case"/wifiplug/manage":case"/camera/add":case"/camera/manage":l.moduleId.fromRoute=e}},l.fromRoute(u.route.previous),l.onLoad=function(){s.remove("instances")},l.onLoad(),l.loadCategories=function(t){d.getApi("modules_categories").then(function(e){var e=e.data.data;!e||(e=_.findWhere(e[l.lang]||e[l.cfg.lang],{id:t}))&&(l.moduleId.categoryName=e.name)},function(e){})},l.postModule=function(s){l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("loading")},d.getApi("instances",null,!0).then(function(i){d.getApi("modules","/"+s+"?lang="+l.lang,!0).then(function(e){var t=null,a=(angular.isString(e.data.data.postRender)&&0===e.data.data.postRender.indexOf("function")&&(t=e.data.data.postRender),c.getModuleFormData(e.data.data,e.data.data.defaults)),n=angular.isDefined(u.lang_codes[l.lang])?u.lang_codes[l.lang]:null;l.input={modulePostrender:t,instanceId:0,moduleId:s,active:!0,title:r("hasNode")(a,"data.title"),description:r("hasNode")(a,"data.description"),moduleTitle:r("hasNode")(a,"data.title"),icon:r("hasNode")(e,"data.data.icon"),moduleName:r("hasNode")(e,"data.data.moduleName"),category:e.data.data.category},angular.extend(l.moduleId,{find:e.data.data}),l.loadCategories(e.data.data.category),p(e.data.data.dependencies),l.showForm=!0,l.loading=!1,e.data.data.singleton&&_.findWhere(i.data.data,{moduleId:s})?l.moduleId.singletonActive=!0:r("hasNode")(a,"options.fields")&&r("hasNode")(a,"schema.properties")?($.alpaca.setDefaultLocale(n),$("#alpaca_data").alpaca(a)):l.alpacaData=!1},function(e){l.loading=!1,angular.extend(u.route.alert,{message:l._t("error_load_data")})})},function(e){angular.extend(u.route.alert,{message:l._t("error_load_data")}),l.loading=!1})},l.putModule=function(e){e<1||(l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("loading")},d.getApi("instances","/"+e,!0).then(function(e){var n=e.data.data;d.getApi("modules","/"+n.moduleId+"?lang="+l.lang,!0).then(function(e){var t,a;"hidden"!==e.data.data.state||l.user.expert_view?(t=null,angular.isString(e.data.data.postRender)&&0===e.data.data.postRender.indexOf("function")&&(t=e.data.data.postRender),a=c.getModuleFormData(e.data.data,n.params),l.input={modulePostrender:t,instanceId:n.id,moduleId:e.data.data.id,active:!!n.active,title:n.title,description:n.description,moduleTitle:n.title,icon:r("hasNode")(e,"data.data.icon"),moduleName:r("hasNode")(e,"data.data.moduleName"),category:e.data.data.category},l.showForm=!0,angular.extend(l.moduleId,{find:e.data.data}),l.loadCategories(e.data.data.category),p(e.data.data.dependencies),l.loading=!1,r("hasNode")(a,"options.fields")&&r("hasNode")(a,"schema.properties")?$("#alpaca_data").alpaca(a):l.alpacaData=!1):l.loading=!1},function(e){angular.extend(u.route.alert,{message:l._t("error_load_data")}),l.loading=!1})},function(e){angular.extend(u.route.alert,{message:l._t("error_load_data")}),l.loading=!1}))},l.cloneModule=function(o,e){l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("loading")},d.getApi("instances","/"+e,!0).then(function(i){var s=i.data.data;d.getApi("modules","/"+o+"?lang="+l.lang,!0).then(function(e){var t=null,a=(angular.isString(e.data.data.postRender)&&0===e.data.data.postRender.indexOf("function")&&(t=e.data.data.postRender),c.getModuleFormData(e.data.data,s.params)),n=angular.isDefined(u.lang_codes[l.lang])?u.lang_codes[l.lang]:null;l.input={modulePostrender:t,instanceId:0,moduleId:o,active:!0,title:r("hasNode")(a,"data.title"),description:r("hasNode")(a,"data.description"),moduleTitle:r("hasNode")(a,"data.title"),icon:r("hasNode")(e,"data.data.icon"),moduleName:r("hasNode")(e,"data.data.moduleName"),category:e.data.data.category},angular.extend(l.moduleId,{find:e.data.data}),l.loadCategories(e.data.data.category),p(e.data.data.dependencies),l.showForm=!0,l.loading=!1,e.data.data.singleton&&_.findWhere(i.data.data,{moduleId:o})?l.moduleId.singletonActive=!0:r("hasNode")(a,"options.fields")&&r("hasNode")(a,"schema.properties")?($.alpaca.setDefaultLocale(n),$("#alpaca_data").alpaca(a)):l.alpacaData=!1},function(e){l.loading=!1,angular.extend(u.route.alert,{message:l._t("error_load_data")})})},function(e){angular.extend(u.route.alert,{message:l._t("error_load_data")}),l.loading=!1})},a.action){case"put":l.putModule(a.id);break;case"post":l.postModule(a.id);break;case"clone":l.cloneModule(a.id,a.instanceId)}function p(a){var e;_.isArray(a)&&(l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("loading")},e=[d.getApi("modules",null,!0),d.getApi("instances",null,!0)],n.allSettled(e).then(function(e){var t=e[0],e=e[1];"rejected"!==t.state&&"rejected"!==e.state&&("fulfilled"===t.state&&(l.moduleId.modules=_.indexBy(t.value.data.data,"moduleName")),"fulfilled"===e.state&&(l.moduleId.instances=_.indexBy(e.value.data.data,"moduleId")),angular.forEach(a,function(e){l.moduleId.modules[e]?l.moduleId.instances[e]?!1===l.moduleId.instances[e].active&&(l.moduleId.submit=!1,l.moduleId.dependency.activate[e]=l.moduleId.instances[e]):(l.moduleId.submit=!1,l.moduleId.dependency.add[e]={modulename:e}):(l.moduleId.submit=!1,l.moduleId.dependency.download[e]={id:e,modulename:e,file:e+".tar.gz"})})),l.loading=!1}))}l.store=function(e){var a=["instanceId","moduleId","active","title","description"],n=[],e=(angular.forEach(e,function(e,t){-1<a.indexOf(t)&&(n[t]=e)}),{id:n.instanceId,moduleId:n.moduleId,active:!!n.active,title:n.title,description:n.description,params:{}});0<n.instanceId?d.putApi("instances",n.instanceId,e).then(function(e){s.remove("devices"),l.moduleId.fromapp?i.path("/module/post/"+l.moduleId.fromapp):i.path("/apps/instance")},function(e){alertify.alertError(l._t("error_update_data"))}):d.postApi("instances",e).then(function(e){s.remove("devices"),l.moduleId.fromapp?i.path("/module/post/"+l.moduleId.fromapp):i.path("/apps/instance")},function(e){alertify.alertError(l._t("error_update_data"))})},l.activateInstance=function(e){e.active=!0,l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("updating")},d.putApi("instances",e.id,e).then(function(e){l.loading=!1,t.reload()},function(e){alertify.alertError(l._t("error_update_data")),l.loading=!1})},l.installModule=function(t){l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("downloading")};var e={moduleUrl:l.cfg.online_module_download_url+t.file};d.installOnlineModule(e,"online_install").then(function(e){c.showNotifier({message:l._t(e.data.data.key)}),window.location="#/module/post/"+t.modulename+"/"+a.id},function(e){l.loading=!1;e=r("hasNode")(e,"data.error")?l._t(e.data.error.key):l._t("error_no_module_download");alertify.alertError(e)})}}]),myAppController.controller("SkinBaseController",["$scope","$q","$timeout","$window","cfg","dataFactory","dataService","_",function(a,t,n,i,s,o,l,r){a.skins={local:{all:{},find:{},active:s.skin.active,show:!0},online:{connect:{status:!1,icon:"fa-globe fa-spin"},alert:{message:!1,status:"is-hidden",icon:!1},all:{},find:{},ids:{},show:!0},installed:{all:{}}},a.allSettled=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")};var e=[o.getApi("skins",null,!0)];t.allSettled(e).then(function(e){e=e[0];a.loading=!1,"rejected"===e.state&&a.routeMatch("/customize/skinslocal")?(a.skins.local.show=!1,angular.extend(s.route.alert,{message:a._t("failed_to_load_skins")})):"fulfilled"===e.state&&(a.skins.local.all=l.getLocalSkins(e.value.data.data).indexBy("name").value(),a.loadOnlineSkins())})},a.allSettled(),a.loadOnlineSkins=function(){o.getRemoteData(s.online_skin_url).then(function(e){a.skins.online.alert=!1,a.skins.online.connect={status:!0,icon:"fa-globe"},e=e.data.data,a.skins.online.all=r.chain(e).flatten().filter(function(e){return e.status=r.isEmpty(a.skins.local.all)?"error":"download",a.skins.local.all[e.name]&&(e.status=l.compareVersions(a.skins.local.all[e.name].version,e.version)),e}).indexBy("name").value()},function(e){0===e.status?(a.skins.online.connect={status:!1,icon:"fa-exclamation-triangle text-danger"},angular.extend(s.route.alert,{message:a._t("no_internet_connection",{__sec__:s.pending_remote_limit/1e3}),icon:"fa-wifi text-danger"})):angular.extend(s.route.alert,{message:a._t("failed_to_load_skins")})}).finally(function(){a.loading=!1})},a.updateSkin=function(t){t&&(a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("downloading")},o.putApi("skins_update",t.name,t).then(function(e){l.showNotifier({message:a._t("skin_update_successful")}),n(function(){a.skins.local.active===t.name?(a.loading={status:"loading-spin",icon:"--",message:a._t("reloading_page")},alertify.dismissAll(),i.location.reload()):a.reloadData()},2e3)},function(e){e=e.data.error||"error_file_download";alertify.alertError(a._t(e))}).finally(function(){a.loading=!1}))}}]),myAppController.controller("SkinLocalController",["$scope","$window","$cookies","$timeout","dataFactory","dataService",function(a,n,i,s,o,l){a.activateSkin=function(t){o.putApi("skins",t.name,{active:!0}).then(function(e){l.showNotifier({message:a._t("skin_activate_successful")}),i.skin=t.name,s(function(){a.loading={status:"loading-spin",icon:"--",message:a._t("reloading_page")},alertify.dismissAll(),n.location.reload()},2e3),a.loading=!1},function(e){a.loading=!1,alertify.alertError(a._t("failed_to_activate_skin"))})},a.removeSkin=function(t,e){alertify.confirm(e,function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("deleting")},o.deleteApi("skins",t.name).then(function(e){delete a.skins.local.all[t.name],a.loading=!1,l.showNotifier({message:a._t("skin_delete_successful")})},function(e){a.loading=!1;e=e.data.error||"error_delete_data";alertify.alertError(a._t(e))})}).setting("labels",{ok:a._t("ok")})}}]),myAppController.controller("SkinOnlineController",["$scope","$timeout","dataFactory","dataService",function(a,e,n,i){a.downloadSkin=function(t){t.active=!1,a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("downloading")},n.postApi("skins_install",t).then(function(e){a.loading=!1,i.showNotifier({message:a._t("skin_installation_successful")}),a.skins.online.all[t.name]&&(a.skins.online.all[t.name].status="equal")},function(e){a.loading=!1;e=e.data.error||"error_file_download";alertify.alertError(a._t(e))})}}]),myAppController.controller("SkinToDefaultController",["$scope","$cookies","dataFactory","dataService",function(t,a,n,i){t.resetToDefault=function(){t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("loading")},n.getApi("skins_reset",null,!0).then(function(e){n.getApi("logout").then(function(e){delete a.skin,i.logOut()})},function(e){t.loading=!1,alertify.alertError(t._t("error_update_data"))})},t.resetToDefault()}]),myAppController.controller("LocalIconController",["$scope","$filter","$timeout","$q","cfg","dataFactory","dataService","_",function(i,a,e,t,s,o,l,r){function n(e){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("uploading")},alertify.dismissAll();var t=new FormData;e[0].name;i.icons.upload=e[0].name,t.append("files_files",e[0]),o.uploadApiFile(s.api.icons_upload,t).then(function(e){i.loading=!1,l.showNotifier({message:i._t("success_upload")}),i.allSettled()},function(e){i.icons.find={},alertify.alertError(i._t("error_upload")),i.loading=!1})}i.icons={show:!0,find:{},upload:!1,all:{},source:{cnt:{},title:{}},filter:{},used:{device:{}},info:{maxSize:a("fileSizeString")(s.upload.icon.size),extensions:s.upload.icon.extension.toString()},infoPacked:{maxSize:a("fileSizeString")(s.upload.icon_packed.size),extensions:s.upload.icon_packed.extension.toString()}},i.checkAll=!1,i.allSettled=function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")};var e=[o.getApi("icons",null,!0),o.getApi("devices",null,!0)];t.allSettled(e).then(function(e){var t,n,a=e[0],e=e[1];i.loading=!1,"rejected"===a.state||"rejected"===e.state?(i.icons.show=!1,angular.extend(s.route.alert,{message:i._t("error_load_data")})):("fulfilled"===a.state&&(a=a.value.data.data,t=r.chain(a).flatten().filter(function(e){return e.checked=!1,e.source_title=e.source_title||"Custom",i.icons.source.title[e.source]=e.source_title,e}),i.icons.source.cnt=t.countBy(function(e){return e.source}).value(),a=t.where(i.icons.filter).value(),!r.isEmpty(i.icons.filter)&&r.isEmpty(a)?(i.icons.filter={},i.icons.all=t.value()):i.icons.all=a),"fulfilled"===e.state&&(i.icons.used.device=(t=e.value.data.data.devices,n={},angular.forEach(t,function(a,e){a.customIcons&&angular.forEach(a.customIcons.level||a.customIcons,function(e,t){n[e]?n[e].indexOf(a.id)||n[e].push(a.id):n[e]=[a.id]})}),n)))})},i.allSettled(),i.setFilter=function(e){i.icons.filter=e||{},i.allSettled()},i.checkUploadedFile=function(t,e){t[0].newName=l.uploadFileNewName(t[0].name),-1===e.extension.indexOf(a("fileExtension")(t[0].name))?alertify.alertError(i._t("upload_format_unsupported",{__extension__:a("fileExtension")(t[0].name)})+" "+i._t("upload_allowed_formats",{__extensions__:e.extension.toString()})):t[0].size>e.size?alertify.alertError(i._t("upload_allowed_size",{__size__:a("fileSizeString")(e.size)})+" "+i._t("upload_size_is",{__size__:a("fileSizeString")(t[0].size)})):r.findWhere(i.icons.all,{file:t[0].name})?alertify.confirm(i._t("uploaded_file_exists",{__file__:t[0].name})).set("onok",function(e){n(t)}).setting("labels",{ok:i._t("ok")}):n(t)},i.toggleAll=function(e){for(var t in i.checkAll="boolean"==typeof e?e:!i.checkAll,i.icons.all)i.icons.all[t].checked=i.checkAll},i.deleteIcon=function(e,t){alertify.dismissAll(),alertify.confirm(t,function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("deleting")},o.deleteApi("icons",e.file).then(function(e){i.loading=!1,l.showNotifier({message:i._t("delete_successful")}),i.allSettled()},function(e){i.loading=!1,alertify.alertError(i._t("error_delete_data"))})}).setting("labels",{ok:i._t("ok")})},i.deleteChecked=function(e){var a=0,n=0;alertify.dismissAll(),alertify.confirm(e,function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("deleting")},angular.forEach(i.icons.all,function(e,t){e.checked&&(a++,o.deleteApi("icons",e.file).then(function(e){},function(e){n++}))}),i.loading=!1,0<n?alertify.alertError(i._t("cannot_delete_all_icons")):0==a?alertify.alertError(i._t("nothing_deleted")):(l.showNotifier({message:i._t("delete_successful")}),i.allSettled(),i.toggleAll(!1))}).setting("labels",{ok:i._t("ok")})}}]),myAppController.controller("OnlineIconController",["$scope","$filter","$timeout","$q","$location","cfg","dataFactory","dataService","_",function(n,e,t,a,i,s,o,l,r){n.iconsOnline={connect:{status:!1,icon:"fa-archive fa-bounce"},alert:{message:!1,status:"is-hidden",icon:!1},all:{},find:{},preview:{}},n.iconsLocalSource={},n.loadOnlineIcons=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")},o.getRemoteData(s.online_icon_url).then(function(e){n.iconsOnline.connect={status:!0,icon:"fa-archive"},r.size(e.data.data)<1?alertify.alertError(n._t("no_data")):(e=e.data.data,n.iconsOnline.all=r.chain(e).flatten().filter(function(t){return t.status="download",r.each(n.iconsLocalSource,function(e){e.id===t.id&&e.source===t.name&&(t.status="installed")}),t}).indexBy("name").value())},function(e){0===e.status?(n.iconsOnline.connect={status:!1,icon:"fa-exclamation-triangle text-danger"},angular.extend(s.route.alert,{message:n._t("no_internet_connection",{__sec__:s.pending_remote_limit/1e3}),icon:"fa-wifi text-danger"})):(n.iconsOnline.connect={status:!1,icon:"fa-exclamation-triangle text-danger"},angular.extend(s.route.alert,{message:n._t("error_load_data")}))}).finally(function(){n.loading=!1})},n.allSettled=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=[o.getApi("icons",null,!0)];a.allSettled(e).then(function(e){var e=e[0];"rejected"===e.state?angular.extend(s.route.alert,{message:n._t("error_load_data")}):"fulfilled"===e.state&&(e=e.value.data.data,n.iconsLocalSource=Object.keys(r.groupBy(e,function(e){return e.source})).map(function(e){return{id:(t=e).substring(t.lastIndexOf("_")+1,t.length),source:e.substring(0,e.lastIndexOf("_"))};var t}),n.loadOnlineIcons())})},n.allSettled(),n.handleOnlineIconModal=function(e,t,a){n.iconsOnline.find=e,n.handleModal(t,a),o.getRemoteData(s.online_icon_preview_url+"/"+e.name).then(function(e){r.size(e.data.data)<1?alertify.alertError(n._t("no_data")):n.iconsOnline.preview=e.data.data},function(e){angular.extend(s.route.alert,{message:n._t("error_load_data")}),n.loading=!1})},n.downloadIconSet=function(a){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("downloading")},o.postApi("icons_install",a).then(function(e){l.showNotifier({message:n._t("success_file_download")}),i.path("/customize/iconslocal")},function(e){n.loading=!1;var t=n._t("error_file_download");409==e.status&&(t=n._t("icon_from_url_already_exists",{__title__:a.title})),alertify.alertError(t)})}}]),myAppController.controller("DeviceController",["$scope","$location","dataFactory",function(a,t,n){a.loading=!1,a.zwave={installed:!1,active:!1,alert:{message:!1}},a.zigbee={installed:!1,active:!1,alert:{message:!1}},a.matter={installed:!1,active:!1,alert:{message:!1}},a.enocean={installed:!1,active:!1,alert:{message:!1}},a.mobileAppSupport={installed:!1,active:!1,instanceId:null,instance:null,module:{instanceId:"0",moduleId:"MobileAppSupport",active:!0}},a.loadperipheralsModules=function(){1===a.user.role?n.getApi("instances",!1,!0).then(function(e){var t=_.findWhere(e.data.data,{moduleId:"ZWave",active:!0}),t=(t&&(a.zwave.installed=!0,a.zwave.active=!!t.active),a.zwave.installed&&a.zwave.active||(a.zwave.alert={message:a._t("zwave_not_active"),status:"alert-warning",icon:"fa-exclamation-circle"}),_.findWhere(e.data.data,{moduleId:"Zigbee",active:!0})),t=(t&&(a.zigbee.installed=!0,a.zigbee.active=!!t.active),a.zigbee.installed&&a.zigbee.active||(a.zigbee.alert={message:a._t("zigbee_not_active"),status:"alert-warning",icon:"fa-exclamation-circle"}),_.findWhere(e.data.data,{moduleId:"ZMatter",active:!0})),t=(t&&(a.matter.installed=!0,a.matter.active=!!t.active),a.matter.installed&&a.matter.active||(a.matter.alert={message:a._t("matter_not_active"),status:"alert-warning",icon:"fa-exclamation-circle"}),_.findWhere(e.data.data,{moduleId:"EnOcean",active:!0})),t=(t&&(a.enocean.installed=!0,a.enocean.active=!!t.active),a.enocean.installed&&a.enocean.active||(a.enocean.alert={message:a._t("enocean_not_active"),status:"alert-warning",icon:"fa-exclamation-circle"}),_.findWhere(e.data.data,{moduleId:"MobileAppSupport",active:!0}));t&&(a.mobileAppSupport.instance=t,a.mobileAppSupport.installed=!0,a.mobileAppSupport.instanceId=t.id,a.mobileAppSupport.active=t.active)}):(a.mobileAppSupport.installed=!0,a.mobileAppSupport.active=!0)},a.loadperipheralsModules(),a.createInstance=function(e,t){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")},n.postApi("instances",e).then(function(e){a.loading=!1,"function"==typeof t&&t(e.data.data.id)},function(e){alertify.alertError(a._t("error_update_data")),alertify.dismissAll(),a.loading=!1})},a.updateInstance=function(e,t){e.id&&(a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")},n.putApi("instances",e.id,e).then(function(e){a.loading=!1,"function"==typeof t&&t()},function(e){a.loading=!1,alertify.alertError(a._t("error_update_data")),alertify.dismissAll()}))},a.handleMobileModal=function(t){1!==a.user.role||a.mobileAppSupport.installed?1===a.user.role&&a.mobileAppSupport.installed&&!a.mobileAppSupport.active?a.updateInstance(a.mobileAppSupport.instance,function(){a.mobileAppSupport.active=!0,a.handleModal("qrCodeModal",t)}):a.mobileAppSupport.installed&&a.mobileAppSupport.active&&a.handleModal("qrCodeModal",t):a.createInstance(a.mobileAppSupport.module,function(e){a.mobileAppSupport.active=!0,a.mobileAppSupport.installed=!0,a.mobileAppSupport.instanceId=e,a.handleModal("qrCodeModal",t)})},a.handleManage=function(){a.mobileAppSupport.installed?a.mobileAppSupport.installed&&t.path("module/put/"+a.mobileAppSupport.instanceId):a.createInstance(a.mobileAppSupport.module,function(e){a.mobileAppSupport.active=!0,a.mobileAppSupport.installed=!0,a.mobileAppSupport.instanceId=e,t.path("module/put/"+e)})}}]),myAppController.controller("SmartStartBaseController",["$scope","$timeout","cfg","dataFactory","dataService","_",function(a,e,t,n,i,s){a.dataHolder={video:{obj:null,mediaStream:null,supported:!1,alert:{}},canvas:{gCanvas:null,gCtx:null,width:640,height:480},manual_add:!1},a.checkWebcam=function(){var n=!1,t=!1;void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(a){var n=navigator.getUserMedia||navigator.mozGetUserMedia;return n?new Promise(function(e,t){n.call(navigator,a,e,t)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){var t=navigator.mediaDevices.enumerateDevices();t&&t.then?navigator.mediaDevices.enumerateDevices().then(e).catch(function(){e([])}):e([])}),!navigator.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(navigator.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.enumerateDevices&&(navigator.enumerateDevices=navigator.enumerateDevices.bind(navigator)),(navigator.getUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)&&(t=!0),"chrome"==a.deviceDetector.browser&&46<=a.deviceDetector.browser_version.split(".")[0]&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(t=!1),navigator.enumerateDevices?navigator.enumerateDevices(function(e){e.forEach(function(e){var t,a={};for(t in e)try{"function"!=typeof e[t]&&(a[t]=e[t])}catch(e){}"videoinput"===a.kind&&(n=!0)}),n&&t?a.dataHolder.video.supported=!0:a.dataHolder.video.alert={message:a._t("camera_not_supported"),status:"alert-warning",icon:"fa-exclamation-circle"}}):a.dataHolder.video.supported=!1},a.checkWebcam()}]),myAppController.controller("SmartStartDskController",["$scope","$timeout","$filter","cfg","dataFactory","dataService","mobileDetector","_",function(s,t,e,a,n,i,o,l){s.dsk={firmwareAlert:{},input:{dsk_1:"",dsk_2:"",dsk_3:"",dsk_4:"",dsk_5:"",dsk_6:"",dsk_7:"",dsk_8:""},list:[],response:""},s.isMobile=o.isMobile(),s.registerDisabled=!0;function r(){s.registerDisabled=Object.values(s.dsk.input).some(function(e){return 5!==e.length})}s.origInput=angular.copy(s.dsk.input),s.fixLength=function(e){var t=s.dsk.input["dsk_"+e].replace(/[\D\s]/g,"");s.dsk.input["dsk_"+e]=t.substring(0,5),r()},s.fillInput=function(e,t){e.preventDefault();var a=e.originalEvent.clipboardData.getData("text/plain").replace(/[^\d]/g,"");if(a){for(var n=0,i=t+1;n<a.length&&i<9;i++,n+=5)s.dsk.input["dsk_"+i]=a.substring(n,n+5);document.querySelector("#dsk_"+(i-1)).focus()}r()},s.checkSdkVersion=function(){n.loadZwaveApiData().then(function(e){i.compareVersion(e.controller.data.SDK.value,a.smart_start.required_min_sdk,">=")||angular.extend(a.route.alert,{message:s._t("smartstart_not_supported")})})},s.addDskProvisioningList=function(){var e={dsk:l.map(s.dsk.input,function(e){return e}).join("-")};s.dataHolder.state="registering",s.toggleRowSpinner(a.api.add_dsk),n.postApi("add_dsk",e).then(function(e){s.dsk.state="success-register",s.dsk.input=angular.copy(s.origInput),s.dsk.response=e.data[0]},function(e){s.dataHolder.state=null,s.dsk.state="error-register",409===e.status?s.dsk.response=s._t("already_exist"):alertify.alertError(s._t("error_update_data"))}).finally(function(){t(s.toggleRowSpinner,1e3).then(function(){"success-register"===s.dsk.state&&(window.location.href="#/smartstartlist")})})}}]),myAppController.controller("SmartStartListController",["$scope","$timeout","$filter","$q","$interval","cfg","$route","dataFactory","dataService","expertService","myCache",function(o,e,l,t,n,s,a,i,r,d,c){o.collection={alert:{},update:!1,all:[],find:{},findOrg:{},deviceTypes:{},deviceInfos:{},vendors:{},lastRegistered:null,hasNotIncludedDevices:!1},o.$on("$destroy",function(){n.cancel(u)});var u=n(function(){var e=i.getApi("get_dsk",null,!0);t.allSettled([e]).then(function(e){var a=e[0];"fulfilled"===a.state&&(a=a.value.data,o.collection.all.forEach(function(e){var t=_.findWhere(a,{ZW_QR:e.ZW_QR});t&&t.state!==e.state&&"included"===t.state&&(window.location="#/zwave/inclusion?inclusion=active",n.cancel(u))}))})},3e3);o.allSettled=function(){o.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:o._t("loading")};var e=[i.xmlToJson(s.server_url+s.translations_xml_path+"DeviceClasses.xml"),i.getApi("zwave_devices","?lang="+o.lang),i.getApi("get_dsk",null,!0),i.getApi("zwave_vendors"),i.getApi("locations")];t.allSettled(e).then(function(e){var t=e[0],a=e[1],n=e[2],i=e[3],e=e[4];o.loading=!1,"rejected"===t.state||("rejected"===a.state&&angular.extend(s.route.alert,{message:o._t("failed_to_load_data")}),"rejected"===n.state)?angular.extend(s.route.alert,{message:o._t("failed_to_load_data")}):("rejected"===i.state&&angular.extend(s.route.alert,{message:o._t("failed_to_load_data")}),"rejected"===e.state&&angular.extend(s.route.alert,{message:o._t("failed_to_load_data")}),"fulfilled"===t.state&&_.filter(t.value.DeviceClasses.Generic,function(e){o.collection.deviceTypes[e._id]=d.configGetZddxLang(l("hasNode")(e,"name.lang"),o.lang)}),"fulfilled"===a.state&&(t=a.value.data.data.zwave_devices,_.filter(t,function(e){var t=e.ConfigData.ProductId.split("."),t=(3<t.length&&t.pop(),t.join("."));o.collection.deviceInfos[t]={BrandName:e.BrandName,Name:e.Name,Brandname_Image:e.Brandname_Image.split("/").pop(),Product_Image:e.Product_Image.split("/").pop(),Product_Image_remote:e.Product_Image}})),"fulfilled"===i.state&&(o.collection.vendors=i.value.data.data.zwave_vendors),"fulfilled"===n.state&&(a=n.value.data,_.isEmpty(a)?o.collection.alert={message:o._t("empty_dsk_list"),icon:"fa-info-circle text-info"}:(o.collection.alert={},o.collection.all=_.filter(a,function(e){var t={pending:"not included"},a=e.deviceTypeGeneric,n=e.PId.split("."),n=parseInt(n[0])+"."+parseInt(n[1])+"."+parseInt(n[2]),i=_.findWhere(o.collection.vendors,{ManufacturerId:e.manufacturerId}),s=o.collection.deviceInfos[n]?o.collection.deviceInfos[n].Brandname_Image:i?i.Image:"",i=o.collection.deviceInfos[n]?o.collection.deviceInfos[n].BrandName:i?i.Name:"-";return(!o.collection.lastRegistered||o.collection.lastRegistered<e.timestamp)&&(o.collection.lastRegistered=e.timestamp),"included"!==e.state&&(o.hasNotIncludedDevices=!0),e.added={pId:n,state:t[e.state]||e.state,device_type:o.collection.deviceTypes[a]||"",dskArray:null==(t=e.DSK)?void 0:t.split("-"),s2pin:null!=(a=e.DSK)&&a.length?null==(t=e.DSK)?void 0:t.slice(0,5):"",timestamp:e.timestamp,registred_at:l("dateTimeFromTimestamp")(e.timestamp),added_at:e.addedAt?l("dateTimeFromTimestamp")(e.addedAt):"-",product_image:o.collection.deviceInfos[n]?o.collection.deviceInfos[n].Product_Image:"",product_image_remote:o.collection.deviceInfos[n]?o.collection.deviceInfos[n].Product_Image_remote:"",brand_name:i,brand_image:s,product:o.collection.deviceInfos[n]?o.collection.deviceInfos[n].Name:"-"},e}))),"fulfilled"===e.state&&(o.locations=r.getRooms(e.value.data.data).indexBy("id").value()))})},o.allSettled(),o.$watchCollection("collection.find.added.dskArray",function(e,t){e&&!_.isEqual(o.collection.findOrg.added.dskArray,e)&&(console.log("change"),o.collection.find.DSK=_.map(e,function(e){return e}).join("-"))}),o.updateDsk=function(e){e.DSK=_.map(e.added.dskArray,function(e){return e}).join("-"),i.postApi("update_dsk",_.omit(e,"added")).then(function(e){o.allSettled()},function(e){alertify.alertError(o._t("error_update_data"))})},o.removeDsk=function(a,e){alertify.confirm(e,function(){i.postApi("remove_dsk",null,a.id).then(function(e){var t=_.findIndex(o.collection.all,{id:a.id});-1<t&&(o.collection.all.splice(t,1),0===o.collection.all.length&&(o.collection.alert={message:o._t("empty_dsk_list"),icon:"fa-info-circle text-info"}))},function(e){alertify.alertError(o._t("error_delete_data"))})}).setting("labels",{ok:o._t("ok")})},o.closeModal=function(e,t,a){_.isEqual(e,o.collection.findOrg)?o.handleModal(t,a):alertify.confirm(o._t("discard_changes"),function(){o.collection.find={},o.collection.findOrg={},o.handleModal(t,a)})},o.setData=function(e){o.collection.findOrg=e,o.collection.find=angular.copy(e)},o.refreshDSKList=function(){o.allSettled()}}]),myAppController.controller("SmartStartQrController",["$scope","$timeout","$location","dataFactory",function(a,n,i,s){a.qrcode={input:{qrcode:""},state:"start",response:""};var e=!0;function o(){if(e)try{a.dataHolder.canvas.gCtx.drawImage(a.dataHolder.video.obj,0,0),qrcode.decode()}catch(e){console.log(e),setTimeout(o,500)}}a.$on("$destroy",function(){a.stopStream(),e=!1}),a.stopStream=function(){null!==a.dataHolder.video.mediaStream&&(a.dataHolder.video.mediaStream.stop(),a.dataHolder.video.mediaStream=null,a.dataHolder.video.obj=null)},a.callbackQrCode=function(e){var t=e.indexOf(":"),t=(-1!==t&&(e=e.substr(t+1)),{dsk:a.qrcode.input=e});s.postApi("add_dsk",t).then(function(e){a.qrcode.state="success-register",a.stopStream(),a.qrcode.response=e.data,n(function(){i.path("/smartstartlist")},1e3)},function(e){a.dataHolder.state=null,409==e.status?alertify.alertError(a._t("error_smartstart_already_exists")).set("onok",function(e){o()}):alertify.alertError(a._t("error_smartstart_add_dsk"))})},a.initQRCodeReader=function(){var e;a.dataHolder.video.supported&&(e=a.deviceDetector.isMobile()?{video:{facingMode:"environment"}}:{video:!0},navigator.mediaDevices.getUserMedia(e).then(function(e){qrcode.callback=a.callbackQrCode,a.dataHolder.video.obj=document.querySelector("video"),a.dataHolder.video.mediaStream=e,"srcObject"in a.dataHolder.video.obj?a.dataHolder.video.obj.srcObject=e:a.dataHolder.video.obj.src=window.URL.createObjectURL(e),a.dataHolder.video.mediaStream.stop=function(){this.getVideoTracks().forEach(function(e){e.stop()})},a.dataHolder.video.obj.onloadedmetadata=function(e){a.initCanvas(),a.dataHolder.video.obj.play()},setTimeout(o(),500)}).catch(function(e){a.dataHolder.video.supported=!1,console.log(e.name+": "+e.message)}))},a.$watch("dataHolder.video.supported",function(e,t){a.dataHolder.video.supported&&a.initQRCodeReader()}),a.initCanvas=function(){a.dataHolder.canvas.gCanvas=document.getElementById("qr-canvas"),a.dataHolder.canvas.gCanvas.style.width=a.dataHolder.video.obj.videoWidth+"px",a.dataHolder.canvas.gCanvas.style.height=a.dataHolder.video.obj.videoHeight+"px",a.dataHolder.canvas.gCanvas.width=a.dataHolder.video.obj.videoWidth,a.dataHolder.canvas.gCanvas.height=a.dataHolder.video.obj.videoHeight,a.dataHolder.canvas.gCtx=a.dataHolder.canvas.gCanvas.getContext("2d"),a.dataHolder.canvas.gCtx.clearRect(0,0,a.dataHolder.video.obj.videoWidth,a.dataHolder.video.obj.videoHeight)}}]),myAppController.controller("ZwaveInclusionController",["$scope","$q","$routeParams","$filter","$interval","$timeout","$route","$location","$http","dataFactory","dataService","cfg","_",function(u,t,a,i,s,p,e,n,o,l,r,d,m){u.zwaveInclusion={cancelModal:!1,cfg:{checkInterviewTimeout:3e3,checkInterviewRepeat:16,inexTimeout:18e4},device:{hasBattery:!1,secureInclusion:!0,find:{}},controller:{controllerState:0,lastExcludedDevice:null,secureInclusion:!1,lastIncludedDeviceId:0},zwaveApiData:{},exclusionProcess:{process:!1,done:!1},inclusionProcess:{process:!1,lastIncluded:0,done:!1},s2:{input:{dskPin:0,publicKey:null,publicKeyAuthenticationRequired:!1,keysGranted:{S0:"false",S2Unauthenticated:"false",S2Authenticated:"false",S2Access:"false"},keysRequested:{S0:"false",S2Unauthenticated:"false",S2Authenticated:"false",S2Access:"false"}},grantKeys:{interval:!1,show:!1,done:!1,countDown:240,anyChecked:!1},verifyDSK:{interval:!1,show:!1,done:!1,countDown:240},process:!1,interviewDone:!1,done:!1,alert:{}},automatedConfiguration:{process:!1,includedDevice:{initDone:!1,nodeId:0,nodeName:"",hasBattery:!1,commandClassesCnt:0,interviewDoneCnt:0,checkInterviewCnt:0,retryCCInterviews:!1,security:!1,securityInterview:!1,errorType:"",interviewNotDone:{}},progress:0,done:!1},manualConfiguration:{process:!1,done:!1}},u.interval={api:null,s2:null},u.$on("$destroy",function(){s.cancel(u.interval.api)});function c(e,t,a,n,i){angular.extend(u.zwaveInclusion["inclusion"==e?"inclusionProcess":"exclusionProcess"],{process:t,done:a}),n&&u.runZwaveCmd(n),i&&s.cancel(u.interval.api)}function g(a){p(function(){l.loadZwaveApiData(!0).then(function(e){e=i("hasNode")(e,"devices."+a+".instances.0.commandClasses.159");null!=e&&e.data.requestedKeys.value?(u.zwaveInclusion.s2.input.keysRequested.S0=e.data.requestedKeys.S0.value,u.zwaveInclusion.s2.input.keysRequested.S2Unauthenticated=e.data.requestedKeys.S2Unauthenticated.value,u.zwaveInclusion.s2.input.keysRequested.S2Authenticated=e.data.requestedKeys.S2Authenticated.value,u.zwaveInclusion.s2.input.keysRequested.S2Access=e.data.requestedKeys.S2Access.value,u.handleInclusionS2GrantKeys(u.zwaveInclusion.s2.input.keysRequested,!1),p(function(){var e=0,t=5;u.zwaveInclusion.s2.verifyDSK.interval2=s(function(){0<o.pendingRequests.length||(t<=e?(s.cancel(u.zwaveInclusion.s2.verifyDSK.interval2),u.zwaveInclusion.s2.alert={message:u._t("auth_failed"),status:"alert-danger",icon:"fa-exclamation-triangle"},alertify.confirm(u._t("s2_failed")).setting("labels",{ok:u._t("try_again_complete"),cancel:u._t("continue_nevertheless")}).set("onok",function(e){v(!1,!1,null,!1,!0),u.startStopProcess("exclusion",!0)}).set("oncancel",function(e){u.startConfiguration({nodeId:a})})):(l.loadZwaveApiData(!0).then(function(e){e=i("hasNode")(e,"devices."+a+".instances.0.commandClasses.159");e.data.publicKey.value.length&&(s.cancel(u.zwaveInclusion.s2.verifyDSK.interval2),u.zwaveInclusion.s2.input.publicKey=e.data.publicKey.value,u.zwaveInclusion.s2.input.publicKeyAuthenticationRequired=e.data.publicKeyAuthenticationRequired.value,u.zwaveInclusion.s2.input.dskPin=u.dskBlock(u.zwaveInclusion.s2.input.publicKey,-1),u.zwaveInclusion.s2.input.keysRequested.S2Authenticated||u.zwaveInclusion.s2.input.keysRequested.S2Access?(u.zwaveInclusion.s2.verifyDSK.show=!0,u.zwaveInclusion.s2.verifyDSK.interval=s(function(){u.zwaveInclusion.s2.verifyDSK.countDown--,u.zwaveInclusion.s2.verifyDSK.countDown<=0&&(s.cancel(u.zwaveInclusion.s2.verifyDSK.interval),u.handleInclusionVerifyDSK(!1,!0))},1e3)):u.handleInclusionVerifyDSK(!0,!1))},function(e){}),e++))},3e3)},1e4)):u.startConfiguration({nodeId:a})},function(e){})},5e3)}u.smartStartEnabled=!1,u.enableSmartStart=function(){timeout=1e3,u.toggleRowSpinner("zway.SmartStartEnable()"),l.runZwaveCmd("zway.SmartStartEnable()").then(function(e){u.smartStartEnabled=!0,p(u.toggleRowSpinner,timeout)},function(e){u.toggleRowSpinner(),alertify.alertError(u._t("error_update_data")+"\nzway.SmartStartEnable()")})},u.disableSmartStart=function(e){timeout=1e3,u.toggleRowSpinner("controller.RemoveNodeFromNetwork(0)"),l.runZwaveCmd("controller.RemoveNodeFromNetwork(0)").then(function(e){u.smartStartEnabled=!1,p(u.toggleRowSpinner,timeout)},function(e){u.toggleRowSpinner(),alertify.alertError(u._t("error_update_data")+"\ncontroller.RemoveNodeFromNetwork(0)")})},u.allSettled=function(){var e=[!(u.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:u._t("loading")}),l.loadZwaveApiData(!0)];a.id&&(e[0]=l.getApi("zwave_devices","?lang="+u.lang+"&id="+a.id)),t.allSettled(e).then(function(e){var t=e[0],e=e[1];"rejected"===e.state?(u.loading=!1,angular.extend(d.route.alert,{message:u._t("error_load_data")})):("fulfilled"===t.state&&(t=r.getZwaveDevices([t.value.data.data]).value(),f(t[0])),"fulfilled"===e.state&&e.value&&(t=e.value,u.zwaveInclusion.controller.controllerState=t.controller.data.controllerState.value,u.zwaveInclusion.controller.secureInclusion=0<t.controller.data.secureInclusion.value,-1<[1,2,3,4].indexOf(u.zwaveInclusion.controller.controllerState)&&angular.extend(u.zwaveInclusion.inclusionProcess,{process:!0,done:!1}),-1<[5,6,7,20].indexOf(u.zwaveInclusion.controller.controllerState)&&angular.extend(u.zwaveInclusion.exclusionProcess,{process:!0,done:!1})),u.loading=!1)})},u.allSettled(),u.refreshZwaveApiData=function(e){function t(){a++,l.refreshZwaveApiData().then(function(e){var t;e&&("controller.data.controllerState"in(e=e.data)&&(u.zwaveInclusion.controller.controllerState=e["controller.data.controllerState"].value),"controller.data.lastExcludedDevice"in e&&(u.zwaveInclusion.controller.lastExcludedDevice=e["controller.data.lastExcludedDevice"].value,null!==u.zwaveInclusion.controller.lastExcludedDevice&&(c("exclusion",!1,!0,!1,!0),r.showNotifier({message:u._t("lb_device_excluded")}),u.reloadData())),"controller.data.lastIncludedDevice"in e&&(null!=(t=e["controller.data.lastIncludedDevice"].value)&&(u.zwaveInclusion.controller.lastIncludedDeviceId=t,c("inclusion",!1,!0,!1,!0),v(!0,!1,{nodeId:t},!1,!0),u.verifyS2cc(t))),"controller.data.secureInclusion"in e&&(u.zwaveInclusion.controller.secureInclusion=0<e["controller.data.secureInclusion"].value))}),a===e&&(s.cancel(u.interval.api),u.loading=!1)}var a=0;t(),u.interval.api=s(t,u.cfg.interval)},u.startStopProcess=function(e,t){var a="",n="",i="";switch(e){case"inclusion":a=t?"controller.AddNodeToNetwork(1)":"controller.AddNodeToNetwork(0)",n="inclusionProcess",i=u._t("error_inclusion_time");break;case"exclusion":a=t?"controller.RemoveNodeFromNetwork(1)":"controller.RemoveNodeFromNetwork(0)",n="exclusionProcess",i=u._t("error_exclusion_time")}t?(c(e,t,!1,a),u.refreshZwaveApiData(),p(function(){u.zwaveInclusion[n].process&&!u.zwaveInclusion[n].done&&(c(e,!1,!1,a,!0),alertify.alertWarning(i),u.reloadData())},u.zwaveInclusion.cfg.inexTimeout)):(c(e,!1,!1,a,!0),u.reloadData())},u.startConfiguration=function(t){v(!0,!1,t,!1,!0),w(t.nodeId);u.interval.api=s(function(){if(u.zwaveInclusion.automatedConfiguration.includedDevice.checkInterviewCnt>u.zwaveInclusion.cfg.checkInterviewRepeat&&!u.zwaveInclusion.automatedConfiguration.done){s.cancel(u.interval.api);var e=u.zwaveInclusion.automatedConfiguration.includedDevice.hasBattery?'<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+u._t("error_interview_battery")+"</div>":"";switch(u.zwaveInclusion.automatedConfiguration.includedDevice.errorType){case"error_interview_secure_failed":alertify.alertError(u._t("error_interview_secure_failed")).set("onok",function(e){v(!1,!1,null,!1,!0),u.startStopProcess("exclusion",!0)});break;case"error_interview_again":alertify.confirm(u._t("configuration_complete_only")+" "+u.zwaveInclusion.automatedConfiguration.progress+"%"+e).setting("labels",{ok:u._t("try_again_complete")}).set("onok",function(e){u.forceInterview(u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone),u.startConfiguration({nodeId:u.zwaveInclusion.automatedConfiguration.includedDevice.nodeId,interviewDoneCnt:0,checkInterviewCnt:0,errorType:""})}).set("oncancel",function(e){u.zwaveInclusion.cancelModal=!0});break;case"error_interview_retry":alertify.confirm(u._t("configuration_complete_only")+" "+u.zwaveInclusion.automatedConfiguration.progress+"%"+e).setting("labels",{ok:u._t("retry_complete_inclusion")}).set("onok",function(e){u.forceInterview(u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone),u.startConfiguration({nodeId:u.zwaveInclusion.automatedConfiguration.includedDevice.nodeId,interviewDoneCnt:0,checkInterviewCnt:0,errorType:""})}).set("oncancel",function(e){u.zwaveInclusion.cancelModal=!0})}}else w(t.nodeId),u.zwaveInclusion.automatedConfiguration.includedDevice.checkInterviewCnt++},u.zwaveInclusion.cfg.checkInterviewTimeout)},u.startManualConfiguration=function(e){y(!0,!1),p(function(){y(!1,!0),n.path("/zwave/devices/"+e+"/nohistory")},5e3)},u.cancelManualConfiguration=function(e){v(u.zwaveInclusion.cancelModal=!1,!1,null,!1,!0),e?u.startStopProcess("exclusion",!0):u.startManualConfiguration(u.zwaveInclusion.automatedConfiguration.includedDevice.nodeId)},u.runZwaveCmd=function(e){l.runZwaveCmd(e).then(function(){})},u.forceInterview=function(e){angular.forEach(e,function(e,t){u.runZwaveCmd(e)})},u.setSecureInclusion=function(e){u.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:u._t("loading")},u.runZwaveCmd(e),u.refreshZwaveApiData(1)},u.dskBlock=function(e,t){return e?(256*e[t+1]+e[t+2]).toString().padStart(5,"0"):""},u.verifyS2cc=function(a){l.loadZwaveApiData(!0).then(function(e){var t,e=i("hasNode")(e,"devices."+a+".data.nodeInfoFrame.value");e&&-1<e.indexOf(159)?(t=0,u.interval.s2=s(function(){0<o.pendingRequests.length||(l.loadZwaveApiData(!0).then(function(e){e=i("hasNode")(e,"devices."+a+".instances.0.commandClasses.159");e&&(s.cancel(u.interval.s2),g(a)),3<=t&&(s.cancel(u.interval.s2),e?g(a):u.startConfiguration({nodeId:a}))},function(e){}),t++)},5e3)):u.startConfiguration({nodeId:a})},function(e){})},u.handleInclusionVerifyDSK=function(e,t){t&&(u.zwaveInclusion.s2.alert={message:u._t("timedout"),status:"alert-danger",icon:!1}),e&&(u.zwaveInclusion.s2.alert={message:u._t("wait_key_veriffication"),status:"alert-warning",icon:"fa-spinner fa-spin"}),u.zwaveInclusion.s2.verifyDSK.show=!1,u.zwaveInclusion.s2.verifyDSK.done=!0,s.cancel(u.zwaveInclusion.s2.verifyDSK.interval);var t=parseInt(u.zwaveInclusion.s2.input.dskPin,10),a=u.zwaveInclusion.controller.lastIncludedDeviceId.toString(10),n=[],t=i("zeroFill")(t,5),e=(e&&((n=u.zwaveInclusion.s2.input.publicKey)[0]=t>>8&255,n[1]=255&t),"devices["+a+"].SecurityS2.data.publicKeyVerified=["+n.join(",")+"];");u.runZwaveCmd(e),p(function(){var t,e;t=a,e=0,u.interval.s2=s(function(){0<o.pendingRequests.length||(l.loadZwaveApiData(!0).then(function(e){e=i("hasNode")(e,"devices."+t+".instances.0.commandClasses.159.data.interviewDone.value");e&&(u.zwaveInclusion.s2.alert={message:u._t("auth_successful"),status:"alert-success",icon:"fa-smile"},s.cancel(u.interval.s2),u.startConfiguration({nodeId:t})),u.zwaveInclusion.s2.interviewDone=e},function(e){}),42<=e&&(u.zwaveInclusion.s2.process=!1,u.zwaveInclusion.s2.done=!0,s.cancel(u.interval.s2),u.zwaveInclusion.s2.interviewDone?u.startConfiguration({nodeId:t}):(u.zwaveInclusion.s2.alert={message:u._t("auth_failed"),status:"alert-danger",icon:"fa-exclamation-triangle"},alertify.confirm(u._t("s2_failed")).setting("labels",{ok:u._t("try_again_complete"),cancel:u._t("continue_nevertheless")}).set("onok",function(e){v(!1,!1,null,!1,!0),u.startStopProcess("exclusion",!0)}).set("oncancel",function(e){u.startConfiguration({nodeId:t})}))),e++)},5e3)},1e4)},u.handleInclusionS2GrantKeys=function(e,t){u.zwaveInclusion.s2.grantKeys.done=!0;var a=u.zwaveInclusion.controller.lastIncludedDeviceId.toString(10),e="devices["+a+"].SecurityS2.data.grantedKeys.S0="+e.S0+"; devices["+a+"].SecurityS2.data.grantedKeys.S2Unauthenticated="+e.S2Unauthenticated+"; devices["+a+"].SecurityS2.data.grantedKeys.S2Authenticated="+e.S2Authenticated+"; devices["+a+"].SecurityS2.data.grantedKeys.S2Access="+e.S2Access+"; devices["+a+"].SecurityS2.data.grantedKeys=true";u.runZwaveCmd(e)};var f=function(e){u.zwaveInclusion.device.find=e,u.zwaveInclusion.device.secureInclusion=e.secure,"unsecure"===e.inclusion_type&&(u.zwaveInclusion.device.secureInclusion=!1)};function v(e,t,a,n,i){_.reset(),angular.extend(u.zwaveInclusion.automatedConfiguration,{process:e,done:t,forceInterview:!1,progress:0}),m.isObject(a)&&angular.extend(u.zwaveInclusion.automatedConfiguration.includedDevice,a),n&&u.runZwaveCmd(n),i&&s.cancel(u.interval.api),u.zwaveInclusion.s2.alert=!1}function h(e){u.breakTime=1e3*e;var t=s(function(){--e,u.breakTime=1e3*e,e<1&&s.cancel(t)},1e3);return function(){s.cancel(t),u.breakTime=null}}"active"===n.search().inclusion&&(delete n.$$search.inclusion,u.zwaveInclusion.inclusionProcess.process=!0,u.refreshZwaveApiData(),u.handleInclusionVerifyDSK(!1,!1)),u.breakTime=null;b=null;var b,_={start:function(){b=b||h(180)},stop:function(){b&&(b(),b=null)},reset:function(){b&&b(),b=h(180)}};function w(c){l.runZwaveCmd("devices["+c+"]").then(function(e){var t,a,n,i=e.data;if(m.isObject(i)&&(u.zwaveInclusion.automatedConfiguration.includedDevice.nodeName=i.data.givenName.value||"Device _"+c,i.data.nodeInfoFrame.value)){if(angular.isDefined(i.instances)&&angular.extend(u.zwaveInclusion.automatedConfiguration.includedDevice,{hasBattery:128 in i.instances[0].commandClasses}),!u.zwaveInclusion.automatedConfiguration.initDone){for(var s in u.zwaveInclusion.automatedConfiguration.includedDevice.commandClassesCnt=0,u.zwaveInclusion.automatedConfiguration.includedDevice.interviewDoneCnt=0,i.instances)Object.keys(i.instances[s].commandClasses).forEach(function(e){i.instances[s].commandClasses[e].data.supported.value&&u.zwaveInclusion.automatedConfiguration.includedDevice.commandClassesCnt++});u.zwaveInclusion.s2.interviewDone||u.zwaveInclusion.automatedConfiguration.includedDevice.commandClassesCnt--}for(var s in i.instances){if(Object.keys(i.instances[s].commandClasses).length<1)return;for(var o in i.instances[s].commandClasses)i.instances[s].commandClasses[o].data.supported.value&&(t=i.instances[s].commandClasses[o],a=s+"_"+i.instances[s].commandClasses[o].name,n="devices["+c+"].instances["+s+"].commandClasses["+o+"].Interview()","152"===o&&(u.zwaveInclusion.automatedConfiguration.includedDevice.security=!0),t.data.interviewDone.value?("152"===o&&(u.zwaveInclusion.automatedConfiguration.includedDevice.securityInterview=!0),delete u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone[a],u.zwaveInclusion.automatedConfiguration.includedDevice.interviewDoneCnt++):u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone[a]=n)}var l=u.zwaveInclusion.automatedConfiguration.includedDevice.commandClassesCnt,r=u.zwaveInclusion.automatedConfiguration.includedDevice.interviewDoneCnt,d=(r/l*100).toFixed();if(u.zwaveInclusion.automatedConfiguration.progress=d<101?d:99,u.zwaveInclusion.automatedConfiguration.includedDevice.security&&!u.zwaveInclusion.automatedConfiguration.includedDevice.securityInterview)angular.extend(u.zwaveInclusion.automatedConfiguration.includedDevice,{errorType:"error_interview_secure_failed"});else{if(!m.isEmpty(u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone))switch(u.zwaveInclusion.automatedConfiguration.includedDevice.checkInterviewCnt){case 10:case 13:u.zwaveInclusion.automatedConfiguration.includedDevice.retryCCInterviews=!0,13===u.zwaveInclusion.automatedConfiguration.includedDevice.checkInterviewCnt&&(angular.forEach(u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone,function(e,t){var a=t.split("_")[1];m.contains(["MultiChannelAssociation","AssociationGroupInformation","AssociationCommandConfiguration"],a)&&(delete u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone[t],angular.extend(u.zwaveInclusion.automatedConfiguration.includedDevice,{interviewDoneCnt:r++}))}),d=(r/l*100).toFixed()),u.forceInterview(u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone);break;case 42:angular.forEach(u.zwaveInclusion.automatedConfiguration.includedDevice.interviewNotDone,function(e,t){"Version"===t.split("_")[1]?angular.extend(u.zwaveInclusion.automatedConfiguration.includedDevice,{errorType:"error_interview_again"}):angular.extend(u.zwaveInclusion.automatedConfiguration.includedDevice,{errorType:"error_interview_retry"})}),u.zwaveInclusion.automatedConfiguration.includedDevice.retryCCInterviews=!1}100<=d&&(_.stop(),u.zwaveInclusion.automatedConfiguration.progress=100,v(u.zwaveInclusion.automatedConfiguration.initDone=!1,!0,null,!1,!0),u.runZwaveCmd("controller.data.secureInclusion=2"),p(function(){u.startManualConfiguration(c)},1e3))}}},function(e){})}function y(e,t){angular.extend(u.zwaveInclusion.manualConfiguration,{process:e,done:t})}_.reset()}]),myAppController.controller("ZwaveManageController",["$scope","$cookies","$filter","$location","$q","dataFactory","dataService","cfg","myCache",function(h,e,b,t,a,n,_,i,s){h.devices={zw:{},find:{},show:!0},h.allSettled=function(){h.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:h._t("loading")};var e=[n.loadZwaveApiData(!1),n.getApi("devices")];a.allSettled(e).then(function(e){var s,o,l,r,d,c,u,p,m,g,f,v,a,n,t=e[0],e=e[1];if(h.loading=!1,"rejected"===t.state)h.loading=!1,h.devices.show=!1,angular.extend(i.route.alert,{message:h._t("error_load_data")});else{if("fulfilled"===t.state){if(!t.value)return;h.devices.zw=Object.values((t=t.value,v={},s=t.controller.data.nodeId.value,angular.forEach(t.devices,function(e,t){var a,n,i;255==t||t==s||e.data.isVirtual.value||(a=!1,n="security-0",(i=_.hasCommandClass(e,152))&&(n="security-1",a=b("hasNode")(i,"data.interviewDone.value")),(i=_.hasCommandClass(e,159))&&(n="security-2",a=b("hasNode")(i,"data.interviewDone.value")),o=e.data.isFailed.value,l=128 in e.instances[0].commandClasses,d=parseInt(e.data.lastReceived.updateTime,10)||0,r=parseInt(e.data.lastSend.updateTime,10)||0,r=d<r?r:d,d=e.data.isListening.value,c=!d&&(e.data.sensor250.value||e.data.sensor1000.value),u=e.data.isAwake.value,p=132 in e.instances[0].commandClasses,f=g=m=0,!d&&p&&(m=parseInt(e.instances[0].commandClasses[132].data.lastSleep.value,10),g=parseInt(e.instances[0].commandClasses[132].data.lastWakeup.value,10),f=parseInt(e.instances[0].commandClasses[132].data.interval.value,10)),i=b("hasNode")(e,"instances.0.commandClasses.128.data.last.value"),v[t]={id:parseInt(t),title:e.data.givenName.value||"Device _"+t,hasBattery:l,batteryCharge:null===i?null:parseInt(i),securityType:n,securityInterview:a,isFailed:o,sleeping:function(e,t,a,n,i){var s;!e&&t&&(e="",(isNaN(a)||a<n)&&(a=n,isNaN(n)||(e="~")),0==i&&(i=NaN),t=b("isTodayFromUnix")(a),n=b("isTodayFromUnix")(a+i),s=e+t+" &#8594; "+e+n);return s}(d,p,m,g,f),awake:function(e,t,a){var n=!1;t||a||(n=e?"awake":"sleep");return n}(u,d,c),date:b("isTodayFromUnix")(r),cfg:[],elements:{},messages:[]},o?v[t].messages.push({type:"failed",error:h._t("lb_is_failed")}):v[t].messages.push({type:"config",error:h._t("lb_not_configured")}))}),v))}"fulfilled"===e.state&&(t=_.getDevicesData(e.value.data.data.devices,!1,!0),angular.forEach(t.value(),function(e){var t;"ZWayVDev"===(a=e.id.split("_"))[0]&&(a=a[a.length-1].split("-"),n=a[0],(t=h.devices.zw.find(function(e){return e.id===+n}))&&(t.elements[e.id]=e))}))}})},h.allSettled(),h.runZwaveCmd=function(e){n.runZwaveCmd(e).then(function(){})}}]),myAppController.controller("ZwaveInterviewController",["$scope","$location","$interval","dataFactory","dataService","_",function(c,n,s,e,t,u){function p(e,t,a,n,i){angular.extend(c.zwaveInterview,{process:e,done:t,forceInterview:!1,progress:0}),u.isObject(a)&&angular.extend(c.zwaveInterview,a),n&&c.runZwaveCmd(n),i&&s.cancel(c.interval.api)}function i(d){c.zwaveInterview.commandClassesCnt=0,c.zwaveInterview.interviewDoneCnt=0,e.runZwaveCmd("devices["+d+"]").then(function(e){var t,a,n,i=e.data;if(u.isObject(i)&&i.data.nodeInfoFrame.value){for(var s in angular.isDefined(i.instances)&&angular.extend(c.zwaveInterview,{hasBattery:128 in i.instances[0].commandClasses}),i.instances){if(Object.keys(i.instances[s].commandClasses).length<1)return;for(var o in angular.extend(c.zwaveInterview,{commandClassesCnt:Object.keys(i.instances[s].commandClasses).length}),i.instances[s].commandClasses)i.instances[s].commandClasses[o].data.supported.value&&(t=i.instances[s].commandClasses[o],a=i.instances[s].commandClasses[o].name,n="devices["+d+"].instances["+s+"].commandClasses["+o+"].Interview()","152"===o&&(c.zwaveInterview.security=!0),t.data.interviewDone.value?("152"===o&&(c.zwaveInterview.securityInterview=!0),delete c.zwaveInterview.interviewNotDone[a],angular.extend(c.zwaveInterview,{interviewDoneCnt:c.zwaveInterview.interviewDoneCnt+1})):c.zwaveInterview.interviewNotDone[a]=n)}var e=c.zwaveInterview.commandClassesCnt,l=c.zwaveInterview.interviewDoneCnt,r=(l/e*100).toFixed();if(console.log("commandClassesCnt: ",e),console.log("intervewDoneCnt: ",l),console.log("Percent %: ",r),c.zwaveInterview.progress=r<101?r:99,!c.zwaveInterview.security||c.zwaveInterview.securityInterview)return u.isEmpty(c.zwaveInterview.interviewNotDone)?void(100<=r&&p(!(c.zwaveInterview.progress=100),!0,null,!1,!0)):c.zwaveInterview.interviewNotDone.Version?void angular.extend(c.zwaveInterview,{errorType:"error_interview_again"}):void angular.extend(c.zwaveInterview,{errorType:"error_interview_retry"});angular.extend(c.zwaveInterview,{errorType:"error_interview_secure_failed"})}},function(e){})}c.zwaveInterview={cfg:{checkInterviewTimeout:3e3,checkInterviewRepeat:3,inexTimeout:3e4},process:!1,done:!1,nodeId:0,nodeName:"",hasBattery:!1,progress:0,commandClassesCnt:0,interviewDoneCnt:0,interviewRepeatCnt:0,security:!1,securityInterview:!1,errorType:"",interviewNotDone:{}},c.interval={api:null},c.startConfiguration=function(e){p(!0,!1,e,!1,!0),i(c.devices.find.id);c.interval.api=s(function(){c.forceInterview(c.zwaveInterview.interviewNotDone);var e=c.zwaveInterview.interviewRepeatCnt+1;if(angular.extend(c.zwaveInterview,{interviewRepeatCnt:e}),e>c.zwaveInterview.cfg.checkInterviewRepeat&&!c.zwaveInterview.done){s.cancel(c.interval.api);var t='<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+c._t("configuration_cancel")+"</div>",a=c.zwaveInterview.hasBattery?'<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+c._t("error_interview_battery")+"</div>":"";switch(c.zwaveInterview.errorType){case"error_interview_secure_failed":alertify.confirm(c._t("configuration_complete_only")+" "+c.zwaveInterview.progress+"%"+a+t).setting("labels",{cancel:c._t("redo_inclusion")}).set("onok",function(e){c.forceInterview(c.zwaveInterview.interviewNotDone),c.startConfiguration({nodeId:c.devices.find.id,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:""})}).set("oncancel",function(e){alertify.dismissAll(),n.path("/zwave/inclusion")});break;case"error_interview_again":alertify.confirm(c._t("configuration_complete_only")+" "+c.zwaveInterview.progress+"%"+a+t).setting("labels",{cancel:c._t("redo_inclusion"),ok:c._t("ok")}).set("onok",function(e){c.forceInterview(c.zwaveInterview.interviewNotDone),c.startConfiguration({nodeId:c.devices.find.id,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:""})}).set("oncancel",function(e){alertify.dismissAll(),n.path("/zwave/inclusion")});break;case"error_interview_retry":alertify.confirm(c._t("configuration_complete_only")+" "+c.zwaveInterview.progress+"%"+a+t).setting("labels",{cancel:c._t("redo_inclusion"),ok:c._t("ok")}).set("onok",function(e){c.forceInterview(c.zwaveInterview.interviewNotDone),c.startConfiguration({nodeId:c.devices.find.id,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:""})}).set("oncancel",function(e){alertify.dismissAll(),n.path("/zwave/inclusion")});break;default:alertify.alertError(c._t("error_interview_unexpected")).set("onok",function(e){c.reloadData()})}}else i(c.devices.find.id)},c.zwaveInterview.cfg.checkInterviewTimeout)},u.isEmpty(c.devices.find)||c.startConfiguration(),c.cancelConfiguration=function(e){p(!1,!1,null,!1,!0),c.devices.find={},e&&c.handleModal("zwaveNetworkModal",e)},c.forceInterview=function(e){angular.forEach(e,function(e,t){c.runZwaveCmd(e)})}}]),myAppController.controller("ZwaveManageIdController",["$scope","$window","$routeParams","$q","$filter","$location","dataFactory","dataService","cfg","myCache",function(s,e,t,a,n,i,o,l,r,d){s.zwaveConfig={nodeId:t.nodeId,nohistory:t.nohistory},s.zWaveDevice=[],s.devices=[],s.formInput={show:!0,newRoom:"",elements:{},room:0,deviceName:!1},s.rooms=[],s.allSettled=function(){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("loading")};var e=[o.getApi("devices",null,!0),o.getApi("locations",null,!0)];a.allSettled(e).then(function(e){var i,t,a=e[0],e=e[1];s.loading=!1,"rejected"===a.state?(s.loading=!1,s.formInput.show=!1,angular.extend(r.route.alert,{message:s._t("error_load_data")})):("fulfilled"===a.state&&(a=l.getDevicesData(a.value.data.data.devices,!1,!0),i=s.zwaveConfig.nodeId,t=a.value(),o.loadZwaveApiData(!0).then(function(e){!e||(e=e.devices[i])&&(s.zWaveDevice={id:i,cfg:[]},s.formInput.deviceName=e.data.givenName.value||"Device _"+i,angular.isDefined(e.data.ZDDXMLFile)&&""!=e.data.ZDDXMLFile.value&&-1===s.zWaveDevice.cfg.indexOf("config")&&s.zWaveDevice.cfg.push("config"),132 in e.instances[0].commandClasses&&-1===s.zWaveDevice.cfg.indexOf("wakeup")&&s.zWaveDevice.cfg.push("wakeup"),39 in e.instances[0].commandClasses&&-1===s.zWaveDevice.cfg.indexOf("switchall")&&s.zWaveDevice.cfg.push("switchall"),117 in e.instances[0].commandClasses&&-1===s.zWaveDevice.cfg.indexOf("protection")&&s.zWaveDevice.cfg.push("protection"),0<s.devices.length&&(s.devices=angular.copy([])),angular.forEach(t,function(e,t){var a,n=e.id.split("_");"ZWayVDev"===n[0]&&"battery"!==e.deviceType&&(a=(n=n[n.length-1].split("-"))[0],n[1],n[2],a==i&&(s.formInput.elements[(n=e).id]=n,s.devices.push(n)))}))},function(e){angular.extend(r.route.alert,{message:s._t("error_load_data")})})),"fulfilled"===e.state&&(s.rooms=Object.values(l.getRooms(e.value.data.data).indexBy("id").value())))})},s.allSettled(),s.addRoom=function(e){e&&(e={id:0,title:e},s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("updating")},o.storeApi("locations",e.id,e).then(function(e){s.loading=!1,l.showNotifier({message:s._t("success_updated")}),s.formInput.newRoom="",s.allSettled()},function(e){alertify.alertError(s._t("error_update_data")),s.loading=!1}))},s.updateAllDevices=function(a){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("updating")},angular.forEach(a.elements,function(e,t){a.room&&angular.extend(e,{location:parseInt(a.room)}),o.putApi("devices",e.id,e).then(function(e){},function(e){})});var e="devices["+s.zWaveDevice.id+"].data.givenName.value='"+a.deviceName+"'";o.runZwaveCmd(e).then(function(){}),d.removeAll(),s.loading=!1,l.showNotifier({message:s._t("success_updated")}),angular.isDefined(t.nohistory)?i.path("/zwave/devices"):l.goBack()}}]),myAppController.controller("ZwaveExcludeController",["$scope","$location","$routeParams","$interval","$timeout","$window","$q","dataFactory","dataService","myCache","cfg","_",function(a,e,n,t,i,s,o,l,r,d,c,u){a.zWaveDevice={controllerState:0,lastExcludedDevice:0,id:null,name:null,apiDataInterval:null,devices:[],isFailed:!1},a.zWaveExclude={resetRemove:{process:!1,alert:!1},remove:{process:!1,alert:!1,devicesCnt:0,done:0,progress:0}},a.$on("$destroy",function(){t.cancel(a.zWaveDevice.apiDataInterval),a.zWaveDevice.removeNode=!1,a.runZwaveCmd("controller.RemoveNodeFromNetwork(0)")}),a.allSettled=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")};var e=[l.getApi("devices"),l.loadZwaveApiData()];o.allSettled(e).then(function(e){var t=e[0],e=e[1];a.loading=!1,"rejected"===e.state?angular.extend(c.route.alert,{message:a._t("error_load_data")}):("fulfilled"===t.state&&u.filter(t.value.data.data.devices,function(e){var t=e.id.split("_");"ZWayVDev"===t[0]&&"battery"!==e.deviceType&&(t=t[t.length-1].split("-")[0],n.id==t&&(t={id:e.id,name:e.metrics.title},a.zWaveDevice.devices.push(t),a.zWaveExclude.remove.devicesCnt+=1))}),"fulfilled"===e.state&&((t=e.value.devices[n.id])?(a.zWaveDevice.controllerState=e.value.controller.data.controllerState.value,a.zWaveDevice.id=n.id,a.zWaveDevice.name=t.data.givenName.value||"Device _"+n.id,a.zWaveDevice.isFailed=t.data.isFailed.value):alertify.alertWarning(a._t("no_data"))))})},a.allSettled(),a.refreshZwaveApiData=function(){a.zWaveDevice.apiDataInterval=t(function(){l.refreshZwaveApiData().then(function(e){e&&("controller.data.controllerState"in e.data&&(a.zWaveDevice.controllerState=e.data["controller.data.controllerState"].value,console.log("controllerState: ",a.zWaveDevice.controllerState)),"controller.data.lastExcludedDevice"in e.data&&(a.zWaveDevice.lastExcludedDevice=e.data["controller.data.lastExcludedDevice"].value,console.log("lastExcludedDevice: ",a.zWaveDevice.lastExcludedDevice),a.zWaveDevice.lastExcludedDevice==a.zWaveDevice.id&&(a.zWaveExclude.resetRemove.process=!1,r.showNotifier({message:a._t("reloading_page")}),d.removeAll(),i(function(){s.location.href="#/zwave/devices",s.location.reload()},3e3))))})},a.cfg.interval)},a.refreshZwaveApiData(),a.resetRemoveDevice=function(e){l.runZwaveCmd(e).then(function(){a.zWaveExclude.resetRemove.alert={message:a._t("confirm_exclusion"),status:"alert-warning",icon:"fa-spinner fa-spin"},a.zWaveExclude.resetRemove.process=!0},function(e){a.loading=!1,angular.extend(c.route.alert,{message:a._t("error_load_data")})})},a.runZwaveCmd=function(e){l.runZwaveCmd(e).then(function(){})},a.removeDevice=function(){a.runZwaveCmd("devices["+a.zWaveDevice.id+"].RemoveFailedNode()"),d.removeAll(),i(function(){s.location.href="#/zwave/devices",s.location.reload()},1e3)}}]),myAppController.controller("ZwaveVendorController",["$scope","$q","cfg","$cookies","$location","$window","$timeout","dataFactory","dataService","_",function(s,t,o,a,n,i,l,r,d,c){s.zwaveVendors={view:!1,alert:!1,frequency:!1,frequencyName:!1,all:{},cnt:{},products:{pageTitle:"",cnt:0,all:{},collection:{},noSearch:!1},filter:a.filterProducts?angular.fromJson(a.filterProducts):{}},s.autocomplete={source:[],term:"",searchInKeys:"id,name,brandname,ertification_id",returnKeys:"id,name,brandname,product_image,frequency",strLength:2,resultLength:10},s.allSettled=function(){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("loading")};var e=[r.loadZwaveApiData(),r.getApi("zwave_vendors"),r.getApi("zwave_devices","?lang="+s.lang)];t.allSettled(e).then(function(e){var t,a=e[0],n=e[1],e=e[2],i={};s.loading=!1,"rejected"===a.state?angular.extend(o.route.alert,{message:s._t("error_load_data")}):"rejected"===n.state||"rejected"===e.state?404===(n.reason||e.reason).status?s.zwaveVendors.view="update":angular.extend(o.route.alert,{message:s._t("error_load_data")}):("fulfilled"===a.state&&a.value&&a.value.controller.data.frequency.value&&(s.zwaveVendors.frequency=a.value.controller.data.frequency.value,s.zwaveVendors.frequencyName=o.frequency[a.value.controller.data.frequency.value],i.frequency=s.zwaveVendors.frequencyName),"fulfilled"===n.state&&(s.zwaveVendors.view="default",s.zwaveVendors.all=n.value.data.data.zwave_vendors),"fulfilled"===e.state&&(s.zwaveVendors.products.all=d.getZwaveDevices(e.value.data.data.zwave_devices).where(i).value(),s.zwaveVendors.cnt=c.countBy(s.zwaveVendors.products.all,function(e){return e.brandname}),"brandid"in s.zwaveVendors.filter?(s.zwaveVendors.products.pageTitle=s.zwaveVendors.filter.brandid,s.zwaveVendors.products.collection=c.where(s.zwaveVendors.products.all,s.zwaveVendors.filter)):"q"in s.zwaveVendors.filter?(s.zwaveVendors.products.pageTitle=s.zwaveVendors.filter.q,s.autocomplete.term=s.zwaveVendors.filter.q,t=c.indexBy(d.autocomplete(s.zwaveVendors.products.all,s.autocomplete),"id"),s.zwaveVendors.products.collection=c.filter(s.zwaveVendors.products.all,function(e){if(t[e.id])return e})):s.zwaveVendors.products.collection=s.zwaveVendors.products.all,s.zwaveVendors.products.cnt=c.size(s.zwaveVendors.products.collection),s.zwaveVendors.products.cnt<1&&(s.zwaveVendors.products.noSearch=s.zwaveVendors.products.pageTitle)))})},s.allSettled(),s.searchMe=function(){s.autocomplete.results=d.autocomplete(s.zwaveVendors.products.all,s.autocomplete),c.isEmpty(s.autocomplete.results)?s.expandAutocomplete():s.expandAutocomplete("searchProducts"),s.zwaveVendors.filter.q&&s.autocomplete.term.length<1&&s.setFilter()},s.setFilter=function(e){s.autocomplete.results=[],s.zwaveVendors.products.noSearch=!1,s.expandAutocomplete();var t=""==c.values(e);!e||t?(angular.extend(s.zwaveVendors,{filter:{}}),a.filterProducts=angular.toJson({}),s.allSettled()):(angular.extend(s.zwaveVendors,{filter:e}),s.allSettled(),a.filterProducts=angular.toJson(e),s.routeMatch("/zwave/vendors")&&n.path("/zwave/products"))},s.updateVendorDatabase=function(){s.zwaveVendors.view=!1,s.zwaveVendors.alert={message:s._t("updating_device_db"),status:"alert-warning",icon:"fa-spinner fa-spin"},r.getApi("update_zwave_vendors").then(function(e){s.updateDeviceDatabase()},function(e){s.zwaveVendors.alert={message:s._t("vendors_error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},s.updateDeviceDatabase=function(){r.getApi("update_device_database").then(function(e){s.zwaveVendors.alert={message:s._t("reloading_page"),status:"alert-success",icon:"fa-spinner fa-spin"},l(function(){i.location.reload()},2e3)},function(e){s.zwaveVendors.alert={message:s._t("update_device_database_failed"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},s.disableDatabaseUpdate=function(){s.zwaveVendors.view=!1}}]),myAppController.controller("CameraAddController",["$scope","dataFactory","dataService","cfg","_",function(a,e,t,n,i){a.ipcameraDevices=[],a.moduleMediaUrl=a.cfg.server_url+a.cfg.api_url+"load/modulemedia/",a.loadData=function(){e.getApi("modules").then(function(e){a.ipcameraDevices=i.filter(e.data.data,function(e){var t=!1;if(-1<a.getHiddenApps().indexOf(e.moduleName)&&(t=1!==a.user.role||!a.user.expert_view),!(t="surveillance"!==e.category?!0:t))return e}),i.size(a.ipcameraDevices)<1&&angular.extend(n.route.alert,{message:a._t("no_cameras")})},function(e){angular.extend(n.route.alert,{message:a._t("error_load_data")})})},a.loadData()}]),myAppController.controller("CameraManageController",["$scope","$q","$location","dataFactory","dataService","myCache","cfg","_",function(a,t,n,i,e,s,o,l){a.instances=[],a.modules={mediaUrl:a.cfg.server_url+a.cfg.api_url+"load/modulemedia/",collection:[],ids:[],imgs:[]},a.allSettled=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")};var e=[i.getApi("modules"),i.getApi("instances")];t.allSettled(e).then(function(e){var t=e[0],e=e[1];a.loading=!1,"rejected"===e.state?(a.loading=!1,angular.extend(o.route.alert,{message:a._t("error_load_data")})):("fulfilled"===t.state&&(t=t.value.data.data,l.filter(t,function(e){var t=!1;if(-1<a.getHiddenApps().indexOf(e.moduleName)&&(t=1!==a.user.role||!a.user.expert_view),!(t="surveillance"!==e.category?!0:t))return a.modules.ids.push(e.id),a.modules.imgs[e.id]=e.icon,e})),"fulfilled"===e.state&&(t=e.value.data.data,a.instances=l.reject(t,function(e){return!(-1<a.modules.ids.indexOf(e.moduleId))}),l.size(a.instances)<1&&n.path("/camera/add")))})},a.allSettled(),a.activateInstance=function(t,e){t.active=e,a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("updating")},t.id&&i.putApi("instances",t.id,t).then(function(e){a.loading=!1,s.remove("instances"),s.remove("instances/"+t.moduleId),s.remove("devices"),a.allSettled()},function(e){alertify.alertError(a._t("error_update_data")),a.loading=!1})},a.deleteInstance=function(e,t){alertify.confirm(t,function(){i.deleteApi("instances",e.id).then(function(e){s.remove("instances"),s.remove("devices"),a.allSettled()},function(e){alertify.alertError(a._t("error_delete_data"))})}).setting("labels",{ok:a._t("ok")})}}]),myAppController.controller("SpeechAssistantsManageController",["$scope","$q","$route","$location","dataFactory","dataService","myCache","cfg","_",function(a,t,n,i,s,e,o,l,r){a.instances=[],a.modules={mediaUrl:a.cfg.server_url+a.cfg.api_url+"load/modulemedia/",collection:[],ids:[],imgs:[]},a.alert="",a.allSettled=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")};var e=[s.getApi("modules"),s.getApi("instances")];t.allSettled(e).then(function(e){var t=e[0],e=e[1];a.loading=!1,"rejected"==e.state?(a.loading=!1,angular.extend(l.route.alert,{message:a._t("error_load_data")})):("fulfilled"===t.state&&(t=t.value.data.data,r.filter(t,function(e){var t=!1;if(-1<a.getHiddenApps().indexOf(e.moduleName)&&(t=1!==a.user.role||!a.user.expert_view),!(t="Alexa"!==e.moduleName&&"GoogleHome"!==e.moduleName?!0:t))return a.modules.ids.push(e.id),a.modules.imgs[e.id]=e.icon,e})),"fulfilled"===e.state&&(t=e.value.data.data,a.instances=r.reject(t,function(e){return!(-1<a.modules.ids.indexOf(e.moduleId))}),r.size(a.instances)<1&&i.path("/speech_assistants/devices")))})},a.allSettled(),a.activateInstance=function(t,e){t.active=e,a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("updating")},t.id&&s.putApi("instances",t.id,t).then(function(e){a.loading=!1,o.remove("instances"),o.remove("instances/"+t.moduleId),o.remove("devices"),a.allSettled()},function(e){alertify.alertError(a._t("error_update_data")),a.loading=!1})},a.deleteInstance=function(e,t){alertify.confirm(t,function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("updating")},s.deleteApi("instances",e.id).then(function(e){a.loading=!1,o.remove("instances"),o.remove("devices"),a.allSettled(),n.reload()},function(e){a.loading=!1,alertify.alertError(a._t("error_delete_data"))})}).setting("labels",{ok:a._t("ok")})}}]),myAppController.controller("SpeechAssistantsAddController",["$scope","$q","dataFactory","$location","dataService","cfg","_",function(n,t,a,i,e,s,o){n.speechAssistants={mediaUrl:n.cfg.server_url+n.cfg.api_url+"load/modulemedia/",Alexa:{module:{},instance:{}},GoogleHome:{module:{},instance:{}}},n.allSettled=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=[a.getApi("modules"),a.getApi("instances",null,!0)];t.allSettled(e).then(function(e){n.loading=!1;var t,a=e[0],e=e[1];"rejected"===a.state&&n.routeMatch("/apps/local")||"rejected"===e.state&&n.routeMatch("/apps/instance")?angular.extend(s.route.alert,{message:n._t("error_load_data")}):("fulfilled"===e.state&&(e=e.value.data.data,(t=o.findWhere(e,{moduleId:"Alexa"}))&&(n.speechAssistants.Alexa.instance=t),(t=o.findWhere(e,{moduleId:"GoogleHome"}))&&(n.speechAssistants.GoogleHome.instance=t)),"fulfilled"===a.state&&(e=a.value.data.data,n.speechAssistants.instances,(t=o.findWhere(e,{moduleName:"Alexa"}))&&(t.iconPath=n.speechAssistants.mediaUrl+t.id+"/"+t.icon,n.speechAssistants.Alexa.module=t),(t=o.findWhere(e,{moduleName:"GoogleHome"}))&&(t.iconPath=n.speechAssistants.mediaUrl+t.id+"/"+t.icon,n.speechAssistants.GoogleHome.module=t)))})},n.allSettled(),n.createInstance=function(e){e={id:0,moduleId:e.id,active:!0,title:e.defaults.title,description:e.defaults.description,params:{}};a.postApi("instances",e).then(function(e){i.path("/speech_assistants/"+e.data.data.module)},function(e){alertify.alertError(n._t("error_update_data"))})}}]),myAppController.controller("AlexaSetupController",["$scope","$q","$timeout","dataFactory","dataService","cfg","_",function(t,e,a,n,i,s,o){t.currentStep=1,t.steps=o.range(0,8),t.myImage="",a(function(){-1<["razberry"].indexOf(t.getCustomCfgArr("boxtype"))&&(t.boxtype=t._t("lb_z_way"))},0),t.prevNext=function(e){t.currentStep+=e},t.setStep=function(e){t.currentStep=parseInt(e)},t.setImagePath=function(e){t.myImage=e}}]),myAppController.controller("AlexaManageController",["$scope","$q","$location","cfg","dataFactory","dataService","_",function(n,t,a,i,s,o,l){n.alexa={instance:{},devices:{available:{},active:{}},rooms:[]},n.allSettled=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=[s.getApi("instances","/Alexa",!0),s.getApi("locations"),s.getApi("devices")];t.allSettled(e).then(function(e){n.loading=!1;var t=e[0],a=e[1],e=e[2];"rejected"===t.state||"rejected"===e.state||"rejected"===a.state?angular.extend(i.route.alert,{message:n._t("error_load_data")}):("fulfilled"===a.state&&(a=a.value.data.data,n.alexa.rooms=o.getRooms(a).indexBy("id").value()),"fulfilled"===t.state&&(a=t.value.data.data[0],n.alexa.instance=a),"fulfilled"===e.state&&(t=e.value.data.data.devices,t=(t=o.getDevicesData(t).map(function(e){return{deviceId:e.id,deviceName:e.metrics.title,deviceType:e.deviceType,probeType:e.probeType,location:e.location,locationName:n.alexa.rooms[e.location].title,callName:e.metrics.title,iconPath:e.iconPath}})).filter(function(t){var e=l.find(i.speechAssistants.Alexa.deviceTypeWhitelist,function(e){if(Object.keys(e)==t.deviceType)return e});return void 0!==e&&(!(0<e[Object.keys(e)].length)||-1<e[Object.keys(e)].indexOf(t.probeType))?t:void 0}),n.alexa.devices.available=t.indexBy("deviceId").value(),0<n.alexa.instance.params.devices.length&&(t=t.filter(function(e){if(-1!==n.alexa.instance.params.devices.map(function(e){return e.id}).indexOf(e.deviceId))return e}).map(function(e){var t=n.alexa.instance.params.devices.map(function(e){return e.id}).indexOf(e.deviceId);return-1!==t&&(e.callName=n.alexa.instance.params.devices[t].callName),e}),n.alexa.devices.active=t.indexBy("deviceId").value())))})},n.allSettled(),n.activateDevice=function(e){var t={},a=angular.copy(e);t[e.deviceId]=a,angular.extend(n.alexa.devices.active,t)},n.deactivateDevice=function(e){n.alexa.devices.active[e]&&delete n.alexa.devices.active[e]},n.store=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=l.chain(n.alexa.devices.active).map(function(e){return{id:e.deviceId,name:e.deviceName,callName:""==e.callName?e.deviceName:e.callName}}).flatten().value(),t=n.alexa.instance;t.params.devices=e,s.storeApi("instances",parseInt(t.id,10),t).then(function(e){n.loading=!1,o.showNotifier({message:n._t("success_updated")}),a.path("/speech_assistants/devices")},function(e){n.loading=!1,alertify.alertError(n._t("error_update_data"))})}}]),myAppController.controller("GoogleHomeManageController",["$scope","$q","cfg","dataFactory","dataService","_",function(n,t,i,a,s,o){n.google_home={instance:{},devices:{available:{},active:{}},rooms:[]},n.allSettled=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=[a.getApi("instances","/GoogleHome",!0),a.getApi("locations"),a.getApi("devices")];t.allSettled(e).then(function(e){n.loading=!1;var t=e[0],a=e[1],e=e[2];"rejected"===t.state||"rejected"===e.state||"rejected"===a.state?angular.extend(i.route.alert,{message:n._t("error_load_data")}):("fulfilled"===a.state&&(a=a.value.data.data,n.google_home.rooms=s.getRooms(a).indexBy("id").value()),"fulfilled"===t.state&&(a=t.value.data.data[0],n.google_home.instance=a),"fulfilled"===e.state&&(t=e.value.data.data.devices,t=s.getDevicesData(t,!0,!0,!1).map(function(e){return{deviceId:e.id,deviceName:e.metrics.title,deviceType:e.deviceType,probeType:e.probeType,location:e.location,locationName:n.google_home.rooms[e.location].title,callName:e.metrics.title,iconPath:e.iconPath,nodeId:e.nodeId}}).filter(function(t){var e=o.find(i.speechAssistants.GoogleHome.deviceTypeWhitelist,function(e){if(Object.keys(e)==t.deviceType)return e});return void 0!==e&&(!(0<e[Object.keys(e)].length)||-1<e[Object.keys(e)].indexOf(t.probeType))?t:void 0}).indexBy("deviceId").value(),n.google_home.devices.available=t,0<n.google_home.instance.params.devices.length&&(t=t.filter(function(e){if(-1!==n.google_home.instance.params.devices.map(function(e){return e.id}).indexOf(e.deviceId))return e}).map(function(e){var t=n.google_home.instance.params.devices.map(function(e){return e.id}).indexOf(e.deviceId);return-1!==t&&(e.callName=n.google_home.instance.params.devices[t].callName),e}),n.google_home.devices.active=t.indexBy("deviceId").value())))})},n.allSettled(),n.activateDevice=function(e){var t={},a=angular.copy(e);t[e.deviceId]=a,angular.extend(n.google_home.devices.active,t)},n.deactivateDevice=function(e){n.google_home.devices.active[e]&&delete n.google_home.devices.active[e]},n.store=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=o.chain(n.google_home.devices.active).map(function(e){return{id:e.deviceId,name:e.deviceName,callName:""==e.callName?e.deviceName:e.callName}}).flatten().value(),t=n.google_home.instance;t.params.devices=e,a.storeApi("instances",parseInt(t.id,10),t).then(function(e){n.loading=!1,s.showNotifier({message:n._t("success_updated")})},function(e){n.loading=!1,alertify.alertError(n._t("error_update_data"))})}}]),myAppController.controller("GoogleHomeSetupController",["$scope","$q","dataFactory","dataService","cfg","_",function(t,e,a,n,i,s){t.currentStep=1,t.steps=s.range(0,5),t.myImage="",t.prevNext=function(e){t.currentStep+=e},t.setStep=function(e){t.currentStep=parseInt(e)},t.setImagePath=function(e){t.myImage=e}}]),myAppController.controller("MobileManageController",["$scope","$q","$filter","dataFactory","dataService","cfg","_",function(i,t,a,s,e,n,o){i.mobile={input:{}},i.allSettled=function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")};var e=[s.getApi("mobile_app_support",!1,!0)];t.allSettled(e).then(function(e){i.loading=!1;var e=e[0];"rejected"==e.state?angular.extend(n.route.alert,{message:i._t("error_load_data")}):"fulfilled"==e.state&&(e=e.value.data.map(function(e){return angular.extend(e,{last_seen_formated:a("dateTimeFromTimestamp")(e.last_seen),created_formated:a("dateTimeFromTimestamp")(e.created)}),e}),i.mobile.input.apps=e)})},i.allSettled(),i.removeApp=function(a,n){s.deleteApiJSON("mobile_app_support",{token:a,profileId:n}).then(function(e){var t=i.mobile.input.apps,t=o.without(t,o.findWhere(t,{token:a,app_profile:n}));i.mobile.input.apps=t,console.log("response",e)},function(e){console.log("error",e)})}}]),myAppController.controller("MobileAddController",["$scope","$timeout","$window","$location","dataFactory","dataService","_",function(n,e,t,a,i,s,o){n.qrcode="",n.addQRCode=function(a){alertify.prompt(n._t("verify_qrcode"),"",function(e,t){t={password:t};n.toggleRowSpinner(a),i.postApi("profiles",t,"/qrcode/"+n.user.id).then(function(e){s.showNotifier({message:n._t("success_updated")}),QRCode.toDataURL(e.data.data,function(e,t){n.qrcode=t}),n.toggleRowSpinner(a)},function(e){n.toggleRowSpinner(a),"wrong_password"==e.data.error?alertify.alertError(n._t("wrong_password")):alertify.alertError(n._t("error_update_data"))})}).set("type","password")},n.handleMobileModal=function(e,t){n.handleModal(e,t),"/mobile/manage"==a.path()&&n.reloadData()}}]),myAppController.controller("EnoceanVendorController",["$scope","$routeParams","dataFactory","dataService","cfg","_",function(a,t,e,n,i,s){a.enocean={vendor:"",vendors:[],products:[]},a.enoceanVendors=[],a.enoceanProducts=[],a.loadData=function(t){e.getApiLocal("devices_enocean.json").then(function(e){t?(a.enocean.vendor=t,a.enocean.products=s.where(e.data,{vendor:t})):a.enocean.vendors=s.uniq(e.data,"vendor"),a.enocean.products.forEach(function(e){e.smartAck?e.teachIn="smartAck":176==e.rorg?e.teachIn="genericProfile":e.teachIn=e.id})},function(e){})},a.loadEnOceanModule=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")},e.getApi("instances","/EnOcean").then(function(e){a.loading=!1;e=e.data.data[0];Object.keys(e).length<1?alertify.alertWarning(a._t("no_data")):e.active?a.loadData(t.brandname):alertify.alertError(a._t("enocean_not_active"))},function(e){a.loading=!1,404==e.status?alertify.alertError(a._t("enocean_nosupport")):angular.extend(i.route.alert,{message:a._t("error_load_data")})})},a.loadEnOceanModule()}]),myAppController.controller("EnoceanTeachinController",["$scope","$routeParams","$interval","$location","dataFactory","dataService","cfg","myCache",function(l,a,r,e,s,t,n,o){l.device=[],l.includedDevices=[],l.lastIncludedDevice=[],l.enoceanDevices={},l.enoceanProfiles={},l.apiDevices=[],l.dev=[],l.rooms=[],l.modelRoom,l.inclusion={promisc:!1,smartAckLearnMode:!1,smartAckLearnIn:!1,done:!1,config:!1,message:!1,status:"is-hidden",icon:!1},l.apiDataInterval=null,l.isSmartAck=!1,l.inclusion.update=function(e){for(var t in e)l.inclusion[t]=e[t]},l.$on("$destroy",function(){r.cancel(l.apiDataInterval)}),l.loadIncludedDevices=function(){s.loadEnoceanApiData(!0).then(function(e){angular.forEach(e.data.devices,function(e,t){l.includedDevices.push(t)})},function(e){})},l.loadIncludedDevices(),l.loadProfiles=function(){s.xmlToJson(l.cfg.server_url+"config/Profiles.xml").then(function(e){l.enoceanProfiles=t.setEnoProfile(e.Profiles.Profile)},function(e){})},l.loadProfiles(),l.loadLocations=function(){s.getApi("locations").then(function(e){l.rooms=e.data.data},function(e){})},l.loadLocations(),l.loadApiDevices=function(){s.getApi("devices",null,!0).then(function(e){l.apiDevices=[];e=t.getDevicesData(e.data.data.devices,!1);angular.forEach(e.value(),function(e,t){-1!==e.id.indexOf("ZEnoVDev_zeno_x"+l.lastIncludedDevice.id)&&(e.title=e.metrics.title,l.apiDevices.push(e))})},function(e){})},l.AddDeviceStart=function(){l.runCmd("devices.Add(true,"+l.device.rorg+","+l.device.funcId+","+l.device.typeId+")")},l.AddDeviceStop=function(){l.runCmd("devices.Add(false)")},"/enocean/teachin/genericProfile"===e.$$path&&(l.device={rorg:"0xB0",funcID:"0x00",typeId:"0x00",description:"EnOcean Generic Profile Device",inclusion:"Press LRN-button",smartAck:!1}),"/enocean/teachin/smartAck"===e.$$path&&(l.isSmartAck=!0),l.loadDevice=function(){s.getApiLocal("devices_enocean.json").then(function(e){angular.forEach(e.data,function(e,t){e.id==a.device&&(l.device=e)}),l.device||alertify.alertWarning(l._t("no_data")),l.isSmartAck||(l.AddDeviceStart(),l.inclusion.update({message:l._t("teachin_starting"),status:"alert-warning",icon:"fa-spinner fa-spin"}))},function(e){angular.extend(n.route.alert,{message:l._t("error_load_data")})})},l.loadDevice(),l.refreshData=function(){l.apiDataInterval=r(function(){s.refreshEnoceanApiData().then(function(e){var t,a;l.apiDataInterval&&(l.isSmartAck?(a=t=null,"controller"in e.data&&(t=e.data.controller.data.smartAckLearnMode.value,a=e.data.controller.data.smartAckLearnIn.value),"controller.data.smartAckLearnMode"in e.data&&(t=e.data["controller.data.smartAckLearnMode"].value,a=e.data["controller.data.smartAckLearnIn"].value),!0===t?l.done||l.inclusion.update({smartAckLearnMode:!0,smartAckLearnIn:a,message:l._t("teachin_ready")+" "+(l.device.inclusion||""),status:"alert-warning",icon:"fa-spinner fa-spin"}):!1===t&&(l.inclusion.smartAckLearnIn,l.done||l.inclusion.update({smartAckLearnMode:!1,smartAckLearnIn:!1,message:l._t("teachin_stopped"),status:"alert-warning",icon:"fa-exclamation-circle"}))):(a=null,"controller"in e.data&&(a=e.data.controller.data.promisc.value),!0===(a="controller.data.promisc"in e.data?e.data["controller.data.promisc"].value:a)?l.done||l.inclusion.update({promisc:!0,message:l._t("teachin_ready")+" "+(l.device.inclusion||""),status:"alert-warning",icon:"fa-spinner fa-spin"}):!1!==a||l.done||l.inclusion.update({promisc:!1,message:l._t("teachin_stopped"),status:"alert-warning",icon:"fa-exclamation-circle"})),"devices"in e.data&&(Object.keys(e.data.devices).forEach(function(e){-1===l.includedDevices.indexOf(e)&&l.findDevice(e)}),l.loadIncludedDevices()))},function(e){})},l.cfg.interval)},l.refreshData(),l.findDevice=function(e){var o=e.replace(/^(x)/,"");-1<l.includedDevices.indexOf(o)||s.loadEnoceanApiData(!0).then(function(e){angular.forEach(e.data.devices,function(e,t){var a,n,i,s;t===o&&(a="Device "+t,e.data,i=!1,s=parseInt(l.device.rorg,16)+"_"+parseInt(l.device.funcId,16)+"_"+parseInt(l.device.typeId,16),angular.forEach(l.enoceanProfiles,function(e,t){parseInt(e._rorg),parseInt(e._func),parseInt(e._type);s==e.id&&(i=e)}),(n=i)&&(a=n._funcDescription+" "+t),l.lastIncludedDevice={id:t,rorg:e.data.rorg.value,name:a,data:e.data,deviceProfileId:e.data.rorg.value+"_"+e.data.funcId.value+"_"+e.data.typeId.value,profile:n},l.runCmd('devices["x'+t+"\"].data.givenName='"+a+"'"),r.cancel(l.apiDataInterval),l.inclusion.update({done:!0,config:!0,message:l._t("inclusion_proces_done"),status:"alert-success",icon:"fa-check"}),l.loadApiDevices())})},function(e){l.inclusion.update({message:l._t("inclusion_error"),status:"alert-danger",icon:"fa-warning"})})},l.runCmd=function(e){s.runEnoceanCmd(e).then(function(e){},function(e){l.inclusion.update({message:l._t("inclusion_error"),status:"alert-danger",icon:"fa-warning"})})},l.updateDevice=function(e){l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("updating")},s.putApi("devices",e.id,e).then(function(e){o.remove("devices"),l.loadApiDevices(),l.loading=!1},function(e){alertify.alertError(l._t("error_update_data")),l.loading=!1})},l.devicesToRoom=function(e,t){if(e){e=parseInt(e),l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("updating")};for(var a=0;a<=t.length;a++){var n,i=t[a];i&&(n={id:i.id,location:e},s.putApi("devices",i.id,n).then(function(e){l.loading=!1},function(e){alertify.alertError(l._t("error_update_data")),l.loading=!1}))}o.remove("devices"),l.loadApiDevices(),l.loading=!1}}}]),myAppController.controller("EnoceanManageController",["$scope","$location","$window","dataFactory","dataService","cfg",function(r,e,t,i,a,n){r.goEdit=[],r.apiDevices=[],r.enoceanDevices={},r.loadApiDevices=function(){i.getApi("devices").then(function(e){r.apiDevices=a.getDevicesData(e.data.data.devices,!1)},function(e){})},r.loadApiDevices(),r.loadProfiles=function(){i.xmlToJson(r.cfg.server_url+"config/Profiles.xml").then(function(e){e=a.setEnoProfile(e.Profiles.Profile);r.loadData(e)},function(e){r.loadData(null)})},r.loadProfiles(),r.loadData=function(t){r.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:r._t("loading")},i.loadEnoceanApiData(!0).then(function(e){var l;r.loading=!1,e=e.data.devices,l=t,angular.forEach(e,function(e,t){var n,i,s,a,o;r.enoceanDevices[t]={id:t,givenName:e.data.givenName.value,data:e.data,profile:(e=e.data,a=!1,o=e.rorg.value+"_"+e.funcId.value+"_"+e.typeId.value,angular.forEach(l,function(e,t){o==e.id&&(a=e)}),a),elements:(e=r.apiDevices,n=t,i=[],s="ZEnoVDev_zeno_",angular.forEach(e,function(e,t){var a;-1!==e.id.indexOf(s)&&e.id.split(s)[1].split("_")[0]==n&&((a=e).title=e.metrics.title,i.push(a))}),i)}})},function(e){angular.extend(n.route.alert,{message:r._t("error_load_data")}),r.loading=!1})},r.deleteDevice=function(e,t,a){var n='unregisterDevice("x'+e+'")';alertify.confirm(a,function(){i.runEnoceanCmd(n).then(function(e){"false"===e.data?alertify.alertError(r._t("error_delete_data")):$(t).fadeOut(500)},function(e){alertify.alertError(r._t("error_delete_data"))})}).setting("labels",{ok:r._t("ok")})}}]),myAppController.controller("EnoceanManageDetailController",["$scope","$routeParams","$filter","dataFactory","dataService","cfg","myCache",function(o,e,i,s,t,a,n){o.nodeId=e.deviceId,o.enoceanDevice=[],o.enoceanProfiles={},o.input={},o.dev=[],o.apiDevices=[],o.rooms=[],o.modelRoom,o.loadProfiles=function(){s.xmlToJson(o.cfg.server_url+"config/Profiles.xml").then(function(e){o.enoceanProfiles=t.setEnoProfile(e.Profiles.Profile)},function(e){})},o.loadProfiles(),o.loadData=function(){s.runEnoceanCmd('zeno.devices["'+e.deviceId+'"]').then(function(e){var t,a,n,i,s;"null"==e.data?console.log("ERROR"):(e=e.data,t="",a=e.data,n=o.enoceanProfiles,i=!1,s=a.rorg.value+"_"+a.funcId.value+"_"+a.typeId.value,angular.forEach(n,function(e,t){s==e.id&&(i=e)}),(a=i)&&(t=a._funcDescription),o.input={id:e.id.replace(/^(x)/,""),rorg:e.data.rorg.value,name:e.data.givenName.value||t,deviceProfileId:e.data.rorg.value+"_"+e.data.funcId.value+"_"+e.data.typeId.value,profile:a,profileId:""})},function(e){})},o.loadData(),o.loadApiDevices=function(){s.getApi("devices",null,!0).then(function(e){o.apiDevices=[];var n="ZEnoVDev_zeno_",e=t.getDevicesData(e.data.data.devices,!1);angular.forEach(e.value(),function(e,t){var a;-1!==e.id.indexOf(n)&&e.id.split(n)[1].split("_")[0]==o.nodeId&&((a=e).level=i("toInt")(e.metrics.level),o.apiDevices.push(a))}),s.getApi("locations").then(function(e){o.rooms=e.data.data},function(e){})},function(e){})},o.loadApiDevices(),o.store=function(e){""!=e.name&&(o.runCmd('devices["'+o.nodeId+"\"].data.givenName='"+e.name+"'"),e.profileId&&(e=angular.fromJson(e.profileId),o.runCmd('devices["'+o.nodeId+'"].data.funcId='+e.funcId),o.runCmd('devices["'+o.nodeId+'"].data.typeId='+e.typeId),o.input.profileId=e.rorg+"_"+e.funcId+"_"+e.typeId),o.loadData(),o.loadApiDevices())},o.updateDevice=function(e){o.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:o._t("updating")},s.putApi("devices",e.id,e).then(function(e){n.remove("devices"),o.loadApiDevices(),o.loading=!1},function(e){alertify.alertError(o._t("error_update_data")),o.loading=!1})},o.devicesToRoom=function(e,t){if(e){e=parseInt(e),o.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:o._t("updating")};for(var a=0;a<=t.length;a++){var n,i=t[a];i&&(n={id:i.id,location:e},s.putApi("devices",i.id,n).then(function(e){o.loading=!1},function(e){alertify.alertError(o._t("error_update_data")),o.loading=!1}))}o.loadApiDevices()}},o.runCmd=function(e){o.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:o._t("updating")},s.runEnoceanCmd(e).then(function(e){o.loading=!1},function(e){o.loading=!1})}}]),myAppController.controller("EnoceanControllerController",["$scope","$location","dataFactory","dataService","cfg",function(t,e,a,n,i){t.controller=!1,t.controllerShow=["APIVersion","AppDescription","AppVersion","ChipID","ChipVersion"],t.loadData=function(){t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("loading")},a.loadEnoceanApiData(!0).then(function(e){t.controller=e.data.controller.data,t.loading=!1},function(e){angular.extend(i.route.alert,{message:t._t("error_load_data")}),t.loading=!1})},t.loadData()}]),myAppController.controller("WifiPlugAddController",["$scope","dataFactory","dataService","cfg","_",function(a,e,t,n,i){a.wifiplugDevices=[],a.moduleMediaUrl=a.cfg.server_url+a.cfg.api_url+"load/modulemedia/",a.loadData=function(){e.getApi("modules").then(function(e){a.wifiplugDevices=i.filter(e.data.data,function(e){var t=!1;if(-1<a.getHiddenApps().indexOf(e.moduleName)&&(t=1!==a.user.role||!a.user.expert_view),!(t="wifiplug"!==e.category?!0:t))return e}),i.size(a.wifiplugDevices)<1&&angular.extend(n.route.alert,{message:a._t("no_wifiplugs")})},function(e){angular.extend(n.route.alert,{message:a._t("error_load_data")})})},a.loadData()}]),myAppController.controller("WifiPlugManageController",["$scope","$q","$location","dataFactory","dataService","myCache","cfg","_",function(a,t,n,i,e,s,o,l){a.instances=[],a.modules={mediaUrl:a.cfg.server_url+a.cfg.api_url+"load/modulemedia/",collection:[],ids:[],imgs:[]},a.allSettled=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")};var e=[i.getApi("modules"),i.getApi("instances")];t.allSettled(e).then(function(e){var t=e[0],e=e[1];a.loading=!1,"rejected"===e.state?(a.loading=!1,angular.extend(o.route.alert,{message:a._t("error_load_data")})):("fulfilled"===t.state&&(t=t.value.data.data,l.filter(t,function(e){var t=!1;if(-1<a.getHiddenApps().indexOf(e.moduleName)&&(t=1!==a.user.role||!a.user.expert_view),!(t="wifiplug"!==e.category?!0:t))return a.modules.ids.push(e.id),a.modules.imgs[e.id]=e.icon,e})),"fulfilled"===e.state&&(t=e.value.data.data,a.instances=l.reject(t,function(e){return!(-1<a.modules.ids.indexOf(e.moduleId))}),l.size(a.instances)<1&&n.path("/wifiplug/add")))})},a.allSettled(),a.activateInstance=function(t,e){t.active=e,a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("updating")},t.id&&i.putApi("instances",t.id,t).then(function(e){a.loading=!1,s.remove("instances"),s.remove("instances/"+t.moduleId),s.remove("devices"),a.allSettled()},function(e){alertify.alertError(a._t("error_update_data")),a.loading=!1})},a.deleteInstance=function(e,t){alertify.confirm(t,function(){i.deleteApi("instances",e.id).then(function(e){s.remove("instances"),s.remove("devices"),a.allSettled()},function(e){alertify.alertError(a._t("error_delete_data"))})}).setting("labels",{ok:a._t("ok")})}}]),myAppController.controller("RoomController",["$scope","$q","$cookies","$filter","$timeout","dataFactory","dataService","cfg","_",function(a,t,e,n,i,s,o,l,r){a.rooms={show:!0,all:{},cnt:{devices:{}},showHidden:!!e.showHiddenEl&&n("toBool")(e.showHiddenEl),orderBy:e.roomsOrderBy||"titleASC"},a.devices={all:{}},a.allSettled=function(){var e=[s.getApi("locations",null,!0)];t.allSettled(e).then(function(e){var t=e[0];e[1];a.loading=!1,"rejected"===t.state?(a.loading=!1,angular.extend(l.route.alert,{message:a._t("error_load_data")}),a.rooms.show=!1):("fulfilled"===t.state&&(a.rooms.all=o.getRooms(t.value.data.data).value()),a.devices.all=o.getDevicesData(a.dataHolder.devices.all,a.rooms.showHidden).value(),a.rooms.cnt.devices=r.countBy(a.devices.all,function(e){return e.location}))})},a.allSettled(),a.onLongPress=function(e){a.longPressTimeout=i(function(){a.redirectToRoute("config-rooms/"+e)},1e3)},a.onTouchEnd=function(){i.cancel(a.longPressTimeout)}}]),myAppController.controller("RoomConfigIdController",["$scope","$routeParams","$filter","$location","cfg","dataFactory","dataService","myCache","_",function(i,e,n,s,o,l,r,d,c){function a(t){l.getApi("devices").then(function(e){i.devicesAssigned=[];e=r.getDevicesData(e.data.data.devices).value();c.filter(e,function(e){0<t&&e.location===t&&i.devicesAssigned.push(e.id),0!=e.location&&e.location!=t||(i.devices[e.id]=e)})},function(e){})}function u(e){angular.forEach(e,function(e,t){l.putApi("devices",e,{location:0}).then(function(e){},function(e){})})}i.id=n("toInt")(e.id),i.input={id:0,title:"",user_img:"",default_img:"",img_type:"default",main_sensors:[]},i.devices={},i.devicesAssigned=[],i.devicesToRemove=[],i.defaultImages=i.cfg.room_images,i.userImageUrl=i.cfg.server_url+i.cfg.api_url+"load/image/",i.file={upload:!1,info:{maxSize:n("fileSizeString")(o.upload.room.size),extensions:o.upload.room.extension.toString()}},i.loadData=function(t){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")},l.getApi("locations","/"+t,!0).then(function(e){i.loading=!1,angular.extend(i.input,e.data.data),a(t)},function(e){i.input=!1,i.loading=!1,angular.extend(o.route.alert,{message:i._t("error_load_data")})})},0<i.id?i.loadData(i.id):a(0),i.uploadFile=function(e){var t,a;-1===o.upload.room.extension.indexOf(n("fileExtension")(e[0].name))?alertify.alertError(i._t("upload_format_unsupported",{__extension__:n("fileExtension")(e[0].name)})+" "+i._t("upload_allowed_formats",{__extensions__:i.file.info.extensions})):e[0].size>o.upload.room.size?alertify.alertError(i._t("upload_allowed_size",{__size__:i.file.info.maxSize})+" "+i._t("upload_size_is",{__size__:n("fileSizeString")(e[0].size)})):(i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("uploading")},alertify.dismissAll(),i.file.upload=!1,t=i.cfg.api_url+"upload/file",a=new FormData,i.file.upload=e[0].name,a.append("files_files",e[0]),console.log(a),l.uploadApiFile(t,a).then(function(e){i.loading=!1,i.input.user_img=e.data.data,i.input.img_type="user",r.showNotifier({message:i._t("success_upload")})},function(e){i.loading=!1,alertify.alertError(i._t("error_upload"))}))},i.assignDevice=function(e){e.location=null,i.devicesAssigned.push(e.id)},i.removeDevice=function(n){var e=i.devicesAssigned;i.devicesAssigned=[],i.devicesToRemove=0<i.devicesToRemove.length?i.devicesToRemove:[],angular.forEach(e,function(e,t){var a;(e!=n.id?i.devicesAssigned:(-1<(a=i.input.main_sensors.indexOf(n.id))&&i.input.main_sensors.splice(a,1),n.location=0,i.devicesToRemove)).push(e)})},i.assignSensor=function(e,t){t.location=null,e.target.checked?i.input.main_sensors.push(t.id):(e=i.input.main_sensors.indexOf(t.id),i.input.main_sensors.splice(e,1))},i.clearSensors=function(e){i.input.main_sensors=[]},i.store=function(e,t){e.$invalid||(i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("updating")},l.storeApi("locations",t.id,t).then(function(e){var a;i.loading=!1,n("hasNode")(e,"data.data.id")&&(a=e.data,e=i.devicesAssigned,angular.forEach(e,function(e,t){l.storeApi("devices",e,{location:a.data.id}).then(function(e){e=e.data.data;e&&i.updateDevice(e)},function(e){})}),u(i.devicesToRemove),d.removeAll(),r.showNotifier({message:i._t("success_updated")}),s.path("/rooms"))},function(e){alertify.alertError(i._t("error_update_data")),i.loading=!1}))},i.selectRoomImage=function(e,t){"default"==t&&i.input.default_img==e?(i.input.default_img="",i.input.img_type=""):"default"==t&&i.input.default_img!==e?(i.input.default_img=e,i.input.img_type="default"):("user"==t&&"user"==i.input.img_type?i.input.img_type="":i.input.img_type="user",i.input.default_img="")},i.deleteRoom=function(a,e){alertify.confirm(e,function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("deleting")},l.deleteApi("locations",a).then(function(e){i.loading=!1;var t=[];c.filter(i.devices,function(e){if(e.location==a)return t.push(e.id)}),u(t),r.showNotifier({message:i._t("delete_successful")}),s.path("/rooms")},function(e){i.loading=!1,alertify.alertError(i._t("error_delete_data"))})}).setting("labels",{ok:i._t("ok")})},i.deleteImage=function(e,t){alertify.confirm(t,function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("deleting")},l.deleteApi("locations_image",i.id,"?user_img="+e).then(function(e){i.loading=!1,angular.extend(i.input,e.data.data),r.showNotifier({message:i._t("delete_successful")})},function(e){i.loading=!1,alertify.alertError(i._t("error_delete_data"))})}).setting("labels",{ok:i._t("ok")})}}]),myAppController.controller("ManagementController",["$scope","$interval","$q","$filter","cfg","dataFactory","dataService","myCache",function(n,e,t,i,a,s,o,l){function r(e){n.handleLicense.show=!1,277===n.controllerInfo.manufacturerId&&(-1<a.license_forbidden.indexOf(a.app_type)||n.isMobile||!e.uuid?n.handleLicense.show=!1:0<e.capsSubvendor&&n.handleLicense.error&&!e.scratchId&&!e.capsLimited?n.handleLicense.show=!0:0<e.capsSubvendor&&!e.scratchId&&!e.capsLimited?n.handleLicense.show=!1:(!e.scratchId&&e.capsLimited&&alertify.alertWarning(n._t("info_missing_licence")),e.isZeroUuid&&(n.handleLicense.disabled=!0,n.handleLicense.replug=!0),n.handleLicense.show=!0))}angular.copy({user:!1,remote:!1,licence:!1,firmware:!1,backup_restore:!1,info:!1,report:!1,appstore:!1},n.expand),n.ZwaveApiData=!1,n.controllerInfo={uuid:null,remoteId:null,isZeroUuid:!1,softwareRevisionVersion:null,softwareLatestVersion:null,capabillities:null,scratchId:null,capsLimited:!1,manufacturerId:null,appVersionMajor:null,appVersionMinor:null},n.remoteAccess=!1,n.handleLicense={alert:{message:!1,status:"is-hidden",icon:!1},error:!0,show:!1,disabled:!1,replug:!1},n.handleTimezone={instance:{},show:!1},n.builtInfo=!1,n.zwaveDataInterval=null,n.$on("$destroy",function(){e.cancel(n.zwaveDataInterval),angular.copy({},n.expand)}),n.allSettled=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=[s.loadZwaveApiData()];n.isInArray(["zme_hub"],a.app_type)&&e.push(s.getApi("instances","/ZMEOpenWRT")),t.allSettled(e).then(function(e){var t,a=e[0],e=e[1];if(n.loading=!1,"fulfilled"===a.state){if(!a.value)return;n.ZwaveApiData=a.value,a=a.value,t=a.controller.data.APIVersion.value.split("."),n.controllerInfo.uuid=a.controller.data.uuid.value,n.controllerInfo.isZeroUuid=0===parseInt(a.controller.data.uuid.value,16),n.controllerInfo.softwareRevisionVersion=a.controller.data.softwareRevisionVersion.value,n.controllerInfo.manufacturerId=a.controller.data.manufacturerId.value,n.controllerInfo.capsSubvendor=(a.controller.data.firmware.caps.value[0]<<8)+a.controller.data.firmware.caps.value[1],n.controllerInfo.capabillities=function(e){var t="";return t=angular.isArray(e)?(t=(t+=1&e[3]?"S":"s")+(2&e[3]?"L":"l"))+(4&e[3]?"M":"m"):t}(a.controller.data.firmware.caps.value),n.controllerInfo.capsLimited=function(e){return!(0<parseInt(e,16))}(i("dec2hex")(a.controller.data.firmware.caps.value[2]).slice(-2)),n.controllerInfo.appVersionMajor=parseInt(t[0],10),n.controllerInfo.appVersionMinor=parseInt(t[1],10);a=n.controllerInfo;s.getRemoteData(n.cfg.get_licence_scratchid+"?uuid="+a.uuid).then(function(e){""!==e.data?(n.controllerInfo.scratchId=e.data.scratch_id,n.handleLicense.error=!1):n.handleLicense.alert={message:n._t("error_license_request"),status:"alert-warning",icon:"fa-exclamation-circle"},r(n.controllerInfo)},function(e){r(n.controllerInfo),n.handleLicense.alert={message:n._t("error_license_request"),status:"alert-warning",icon:"fa-exclamation-circle"}})}e&&"fulfilled"===e.state&&!0===e.value.data.data[0].active&&(n.handleTimezone.show=!0,n.handleTimezone.instance=e.value.data.data[0])})},n.allSettled(),n.loadAppBuiltInfo=function(){s.getAppBuiltInfo().then(function(e){n.builtInfo=e.data},function(e){})},n.loadAppBuiltInfo()}]),myAppController.controller("ManagementAppStoreController",["$scope","dataFactory","dataService",function(a,n,e){a.appStore={input:{token:""},tokens:{}},a.appStoreLoadTokens=function(){n.getApi("tokens",null,!0).then(function(e){angular.extend(a.appStore.tokens,e.data.data.tokens)},function(e){})},a.appStoreLoadTokens(),a.appStoreAddToken=function(){""!==a.appStore.input.token&&n.putApiFormdata("tokens",a.appStore.input).then(function(e){a.appStore.input.token="",a.appStoreLoadTokens()},function(e){var t=a._t("error_update_data");409===e.status&&(t=a._t("notunique_token")+" - "+a.appStore.input.token),alertify.alertError(t)})},a.appStoreRemoveToken=function(e,t){alertify.confirm(t,function(){n.deleteApiFormdata("tokens",{token:e}).then(function(e){angular.extend(a.appStore,e.data.data)},function(e){alertify.alertError(a._t("error_delete_data"))})}).setting("labels",{ok:a._t("ok")})}}]),myAppController.controller("ManagementFactoryController",["$scope","$window","$cookies","$cookieStore","dataFactory","dataService",function(t,e,a,n,i,s){t.factoryDefault={model:{overwriteBackupCfg:!0,resetZway:!0,useDefaultConfig:"ttyAMA0"}},t.resetFactoryDefault=function(e){alertify.confirm(e,function(){t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("returning_factory_default")},i.getApi("factory_default",!1).then(function(e){t.loading=!1,s.showNotifier({message:t._t("factory_default_success")}),angular.forEach(a,function(e,t){n.remove(t)}),s.logOut()},function(e){alertify.alertError(t._t("factory_default_error")),t.loading=!1})}).setting("labels",{ok:t._t("ok")})}}]),myAppController.controller("ManagementFirmwareController",["$scope","$sce","$timeout","dataFactory","dataService","cfg",function(a,e,n,i,t,s){a.firmwareUpdateUrl=e.trustAsResourceUrl(a.hostProtocol+"://"+a.hostName+":8084/cgi-bin/main.cgi"),a.firmwareUpdate={show:!1,loaded:!1,url:e.trustAsResourceUrl(a.hostProtocol+"://"+a.hostName+":8084/cgi-bin/main.cgi")},a.databaseUpdate={updating_vendors:!1,updating_devices:!1},a.databaseProcess=!1,a.setAccess=function(e,t){t&&(a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")}),i.getApi("firmwareupdate",e,!0).then(function(e){t&&(a.firmwareUpdate.show=!0,n(function(){a.loading=!1,a.firmwareUpdate.loaded=!0},5e3))},function(e){a.loading=!1,angular.extend(s.route.alert,{message:a._t("error_load_data")})})},a.loadRazLatest=function(){i.getRemoteData(a.cfg.raz_latest_version_url).then(function(e){a.controllerInfo.softwareLatestVersion=e},function(e){})},a.updateDatabases=function(){a.databaseUpdate.updating_vendors=!1,a.databaseUpdate.updating_devices=!1,a.databaseProcess=!0,a.updateVendorDatabase()},a.updateVendorDatabase=function(){a.databaseUpdate.updating_vendors="fa-spinner fa-spin",i.getApi("update_zwave_vendors").then(function(e){(res=e.data)&&200===res.code?a.databaseUpdate.updating_vendors="fa-check text-success":(a.databaseUpdate.updating_vendors="fa-ban text-danger",alertify.alertError(a._t("vendors_error_load_data")))},function(e){a.databaseUpdate.updating_vendors="fa-ban text-danger",alertify.alertError(a._t("vendors_error_load_data"))}).finally(function(){a.updateDeviceDatabase()})},a.updateDeviceDatabase=function(){a.databaseUpdate.updating_devices="fa-spinner fa-spin",i.getApi("update_device_database").then(function(e){(res=e.data)&&200===res.code?a.databaseUpdate.updating_devices="fa-check text-success":(a.databaseUpdate.updating_devices="fa-ban text-danger",alertify.alertError(a._t("update_device_database_failed")))},function(e){a.databaseUpdate.updating_devices="fa-ban text-danger",alertify.alertError(a._t("update_device_database_failed"))}).finally(function(){a.databaseProcess=!1})}}]),myAppController.controller("ManagementLicenceController",["$scope","cfg","dataFactory",function(a,e,t){a.proccessLicence=!1,a.proccessVerify={message:!1,status:"is-hidden"},a.proccessUpdate={message:!1,status:"is-hidden"},a.inputLicence={show:!1,scratch_id:a.controllerInfo.scratchId},a.getLicense=function(e){a.proccessVerify.message=!1,a.proccessUpdate.message=!1,e.scratch_id&&(a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("verifying_licence_key")},a.proccessVerify={message:a._t("verifying_licence_key"),status:"fas fa-spinner fa-spin"},a.proccessLicence=!0,e={uuid:a.controllerInfo.uuid,scratch:e.scratch_id,appVersionMajor:a.controllerInfo.appVersionMajor,appVersionMinor:a.controllerInfo.appVersionMinor},t.getLicense(e).then(function(e){a.proccessVerify={message:a._t("success_licence_key"),status:"fas fa-check text-success"},a.loading=!1,e=e,a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("upgrading_capabilities")},a.proccessUpdate={message:a._t("upgrading_capabilities"),status:"fas fa-spinner fa-spin"},t.zmeCapabilities(e).then(function(e){a.loading=!1,a.proccessUpdate={message:a._t("success_capabilities"),status:"fas fa-check text-success"},a.proccessLicence=!1},function(e){a.loading=!1,alertify.alertError(a._t("error_no_capabilities")),a.proccessUpdate={message:a._t("error_no_capabilities"),status:"fas fa-exclamation-triangle text-danger"},a.proccessLicence=!1})},function(e){var t=a._t("error_no_licence_key");404==e.status&&(t=a._t("error_404_licence_key")),a.loading=!1,alertify.alertError(t),a.proccessVerify={message:t,status:"fas fa-exclamation-triangle text-danger"},a.proccessLicence=!1}))}}]),myAppController.controller("ManagementLocalController",["$scope","dataFactory","dataService",function(t,a,e){t.updateInstance=function(e){e.id&&a.putApi("instances",e.id,e).then(function(e){alertify.confirm(t._t("timezone_alert")).setting("labels",{ok:t._t("yes"),cancel:t._t("lb_cancel")}).set("onok",function(e){t.systemReboot()})},function(e){alertify.alertError(t._t("error_update_data"))})},t.systemReboot=function(){t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("system_rebooting")},a.getApi("system_reboot").then(function(e){},function(e){alertify.alertError(t._t("error_system_reboot"))})}}]),myAppController.controller("ManagementRemoteController",["$scope","dataFactory","dataService","cfg",function(t,a,n,i){t.remoteAccess=!1,t.findUrl="",t.loadRemoteAccess=function(){t.elementAccess(t.cfg.role_access.remote_access)&&(t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("loading")},a.getApi("instances","/RemoteAccess").then(function(e){t.loading=!1;e=e.data.data[0];Object.keys(e).length<1&&angular.extend(i.route.alert,{message:t._t("error_load_data")}),e.active?e.params.userId?(e.params.pass=null,t.remoteAccess=e):alertify.alertError(t._t("error_remote_access_init")):alertify.alertWarning(t._t("remote_access_not_active"))},function(e){t.loading=!1,alertify.alertError(t._t("remote_access_not_installed"))}),"razberry"==t.getCustomCfgArr("boxtype")&&(t.findUrl="find.z-wave.me"))},t.loadRemoteAccess(),t.putRemoteAccess=function(e){t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("updating")},a.putApi("instances",e.id,e).then(function(e){t.loading=!1,n.showNotifier({message:t._t("success_updated")})},function(e){alertify.alertError(t._t("error_update_data")),t.loading=!1})}}]),myAppController.controller("ManagementReportController",["$scope","$window","$route","cfg","dataFactory","dataService",function(a,n,i,e,s,o){a.remoteAccess=!1,a.input={browser_agent:"",browser_version:"",browser_info:"",shui_version:e.app_version,zwave_vesion:"",controller_info:"",remote_id:"",remote_activated:0,remote_support_activated:0,zwave_binding:0,email:null,content:null,app_name:e.app_name,app_version:e.app_version,app_id:e.app_id,app_type:e.app_type,app_built_date:"",app_built_timestamp:""},a.loadRemoteAccess=function(){a.elementAccess(a.cfg.role_access.remote_access)&&s.getApi("instances","/RemoteAccess").then(function(e){a.remoteAccess=e.data.data[0]},function(e){})},a.loadRemoteAccess(),a.sendReport=function(e,t){e.$invalid||(a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("sending")},a.ZwaveApiData&&(t.zwave_binding=1,t.zwave_vesion=a.ZwaveApiData.controller.data.softwareRevisionVersion.value,t.controller_info=JSON.stringify(a.ZwaveApiData.controller.data)),a.builtInfo&&(t.app_built_date=a.builtInfo.built,t.app_built_timestamp=a.builtInfo.timestamp),0<Object.keys(a.remoteAccess).length&&(t.remote_activated=a.remoteAccess.params.actStatus?1:0,t.remote_support_activated=a.remoteAccess.params.sshStatus?1:0,t.remote_id=a.remoteAccess.params.userId),t.browser_agent=n.navigator.appCodeName,t.browser_version=n.navigator.appVersion,t.browser_info="PLATFORM: "+n.navigator.platform+"\nUSER-AGENT: "+n.navigator.userAgent,s.postReport(t).then(function(e){a.loading=!1,o.showNotifier({message:a._t("success_send_report")+" "+t.email}),i.reload()},function(e){alertify.alertError(a._t("error_send_report")),a.loading=!1}))}}]),myAppController.controller("ManagementRestoreController",["$scope","$window","$timeout","$route","$filter","dataFactory","dataService",function(a,n,i,s,o,l,r){a.myFile=null,a.managementRestore={fileName:!1,overwriteNetwork:!1,file:{},confirm:!1,alert:{message:!1,status:"is-hidden",icon:!1},process:!1},a.checkSelectedFile=function(e,t){e[0]&&(-1===t.extension.indexOf(o("fileExtension")(e[0].name))?alertify.alertError(a._t("upload_format_unsupported",{__extension__:o("fileExtension")(e[0].name)})+" "+a._t("upload_allowed_formats",{__extensions__:t.extension.toString()})):a.managementRestore.fileName=e[0].name)},a.uploadFile=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("restore_wait")},a.managementRestore.alert={message:a._t("restore_wait"),status:"alert-warning",icon:"fa-spinner fa-spin"};var e=a.cfg.api.restore,t=new FormData;t.append("backupFile",a.myFile),t.append("overwriteNetwork",a.managementRestore.overwriteNetwork),l.uploadApiFile(e,t).then(function(e){a.loading=!1,r.showNotifier({message:a._t("restore_done_reload_ui")}),a.managementRestore.alert={message:a._t("restore_done_reload_ui"),status:"alert-success",icon:"fa-check"},i(function(){alertify.dismissAll(),n.location.reload()},2e3)},function(e){s.reload(),a.loading=!1,alertify.alertError(a._t("restore_backup_failed")),a.managementRestore.alert=!1})}}]),myAppController.controller("ManagementCloudBackupController",["$scope","$timeout","$q","cfg","$window","dataFactory","dataService",function(i,e,t,s,a,o,n){i.managementCloud={alert:{message:!1,status:"is-hidden",icon:!1},show:!1,module:[],instance:{},process:!1,email:"",service_status:""},i.allCloudSettled=function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")};var e=[o.getApi("instances","/CloudBackup",!0),o.getApi("modules","/CloudBackup"),o.getApi("profiles","/"+i.user.id,!0)];t.allSettled(e).then(function(e){i.loading=!1;var t=e[0],a=e[1],e=e[2];""===e.value.data.data.email?i.managementCloud.alert={message:i._t("email_not_set"),status:"alert-warning",icon:"fa-exclamation-circle"}:(i.managementCloud.email=e.value.data.data.email,"rejected"!==t.state&&"rejected"!==a.state&&("fulfilled"===t.state&&(t.value.data.data[0].active?i.managementCloud.alert=!1:i.managementCloud.alert={message:i._t("cloud_not_active"),status:"alert-warning",icon:"fa-exclamation-circle"},i.managementCloud.instance=t.value.data.data[0],i.managementCloud.instance.params.service_status?(i.managementCloud.service_status=!0,i.managementCloud.alert=!1):(i.managementCloud.service_status=!1,i.managementCloud.alert={message:i._t("service_not_available",{__service__:"CloudBackup"}),status:"alert-warning",icon:"fa-exclamation-circle"}),i.managementCloud.show=!0),"fulfilled"===a.state&&(i.managementCloud.module=a.value.data.data)))})},i.allCloudSettled(),i.setSchedulerType=function(e){i.managementCloud.instance.params.scheduler=e},i.downLoadBackup=function(){i.toggleRowSpinner("downLoadBackup()");var n=s.pending_remote_limit;s.pending_remote_limit=6e5,o.getRemoteData(s.server_url+s.api.backup).then(function(e){i.toggleRowSpinner();var t=e.headers(),t=/.*filename=([\'\"]?)([^\"]+)\1/.exec(t["content-disposition"]),e=new Blob([JSON.stringify(e.data)],{type:"application/json"}),e=URL.createObjectURL(e),a=document.createElement("a");a.href=e,a.target="_blank",a.download=t[2],document.body.appendChild(a),s.pending_remote_limit=n,a.click()},function(e){i.toggleRowSpinner(),alertify.alertError(i._t("error_backup")),s.pending_remote_limit=n})},i.manualCloudBackup=function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")},o.getApi("cloudbackup").then(function(e){n.showNotifier({message:i._t("success_backup")}),i.loading=!1},function(e){n.showNotifier({message:i._t("error_backup"),type:"error"}),i.loading=!1})},i.activateCloudBackup=function(e,t){_.isEmpty(e)?i.createInstance():(e.active=t,e.params.email=i.managementCloud.email,i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("updating")},e.id&&o.putApi("instances",e.id,e).then(function(e){n.showNotifier({message:i._t("success_updated")}),i.loading=!1,i.allCloudSettled()},function(e){alertify.alertError(i._t("error_update_data")),alertify.dismissAll(),i.loading=!1}))},i.updateInstance=function(e,t){e.$invalid||(t.params.email=i.managementCloud.email,i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("updating")},t.id&&o.putApi("instances",t.id,t).then(function(e){n.showNotifier({message:i._t("success_updated")}),i.loading=!1,i.allCloudSettled()},function(e){alertify.alertError(i._t("error_update_data")),alertify.dismissAll(),i.loading=!1}))},i.createInstance=function(){var e={instanceId:"0",moduleId:"CloudBackup",active:"true",title:"CloudBackup",params:{email:i.managementCloud.email}};i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("updating")},o.postApi("instances",e).then(function(e){i.loading=!1,n.showNotifier({message:i._t("reloading_page")}),a.location.reload()},function(e){alertify.alertError(i._t("error_update_data")),alertify.dismissAll(),i.loading=!1})}}]),myAppController.controller("ManagementTimezoneController",["$scope","$timeout","$interval","$location","cfg","dataFactory","dataService",function(i,e,s,t,o,l,r){i.managementTimezone={lastTZ:"",input:{time_zone:""},countdown:60},i.getTimeZone=function(){l.getApi("time",null,!0).then(function(e){i.managementTimezone.lastTZ=e.data.data.localTimeZone,i.managementTimezone.input.timeZone=e.data.data.localTimeZone},function(e){})},i.getTimeZone(),i.setTimezone=function(a,n){a.time_zone!==i.managementTimezone.lastTZ&&(i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")},l.postApi("time_zone",a,null).then(function(e){l.postApi("configupdate_url",a).then(function(){}),i.loading=!1,i.handleModal("timezoneModal",n);var t=s(function(){i.managementTimezone.countdown--,0===i.managementTimezone.countdown&&(s.cancel(t),l.getApi("logout").then(function(e){r.logOut()}))},1e3)},function(e){i.loading=!1,angular.extend(o.route.alert,{message:i._t("error_load_data")})}))}}]),myAppController.controller("ManagementTimezoneJBController",["$scope","$timeout","dataFactory","dataService","cfg",function(t,e,a,n,i){t.managementTimezone={labels:{},enums:{}},t.loadModule=function(e){t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("loading")},a.getApi("modules","/ZMEOpenWRT").then(function(e){t.loading=!1,t.managementTimezone.enums=e.data.data.schema.properties.timezone.enum,t.managementTimezone.labels=e.data.data.options.fields.timezone.optionLabels,console.log(t.handleTimezone),console.log(t.managementTimezone)},function(e){t.loading=!1,angular.extend(i.route.alert,{message:t._t("error_load_data")})})},t.loadModule(),t.updateInstance=function(e){e.id&&a.putApi("instances",e.id,e).then(function(e){alertify.confirm(t._t("timezone_alert")).setting("labels",{ok:t._t("yes"),cancel:t._t("lb_cancel")}).set("onok",function(e){t.systemReboot()})},function(e){alertify.alertError(t._t("error_update_data"))})},t.systemReboot=function(){t.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:t._t("system_rebooting")},a.getApi("system_reboot").then(function(e){},function(e){alertify.alertError(t._t("error_system_reboot"))})}}]),myAppController.controller("ManagementUserController",["$scope","$cookies","dataFactory","dataService","myCache","cfg",function(n,t,i,s,o,a){n.userProfiles={all:!1,orderBy:t.usersOrderBy||"titleASC"},n.loadProfiles=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")},i.getApi("profiles",null,!0).then(function(e){n.userProfiles.all=e.data.data,n.loading=!1},function(e){n.loading=!1,angular.extend(a.route.alert,{message:n._t("error_load_data")})})},n.loadProfiles(),n.setOrderBy=function(e){angular.extend(n.userProfiles,{orderBy:e}),t.usersOrderBy=e,n.loadProfiles()},n.deleteProfile=function(e,t,a){e.id!=a&&alertify.confirm(t,function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("deleting")},i.deleteApi("profiles",e.id).then(function(e){o.remove("profiles"),s.showNotifier({message:n._t("delete_successful")}),n.loading=!1,n.loadProfiles()},function(e){n.loading=!1,alertify.alertError(n._t("error_delete_data"))})}).setting("labels",{ok:n._t("ok")})}}]),myAppController.controller("ManagementUserIdController",["$scope","$cookies","$routeParams","$filter","$q","dataFactory","dataService","myCache","cfg",function(n,i,e,a,s,o,l,r,d){n.id=a("toInt")(e.id),n.rooms={},n.devices=[],n.authTokens=[],n.show=!0,n.input={id:0,role:2,login:"",name:"",lang:"en",dashboard:[],interval:1e3,rooms:[],devices:[],expert_view:!0,hide_all_device_events:!1,hide_system_events:!1,hide_single_device_events:[]},n.auth={id:e.id,login:null,password:null},n.lastEmail="",n.currentZWayAuthToken=i.ZWAYSession,n.currentFullAuthToken=(i.ZBW_SESSID||"")+"/"+i.ZWAYSession,n.currentFullAuthTokenGlobal=!!i.ZBW_SESSID,n.globalToken="",n.localToken="",n.allSettledUserId=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=[o.getApi("profiles",0!==n.id?"/"+n.id:"",!0),o.getApi("locations"),o.getApi("devices")];s.allSettled(e).then(function(e){var t=e[0],a=e[1],e=e[2];n.loading=!1,"rejected"===t.state?(n.loading=!1,angular.extend(d.route.alert,{message:n._t("error_load_data")}),n.show=!1):("fulfilled"===t.state&&0!==n.id&&(n.input=t.value.data.data,n.input.devices||(n.input.devices=[]),n.auth.login=t.value.data.data.login,n.lastEmail=t.value.data.data.email,n.authTokens=t.value.data.data.authTokens,n.authTokens.forEach(function(e){e.date_str=new Date(e.date).toLocaleString(),e.lastSeen_str=new Date(e.lastSeen).toLocaleString(),e.expire_str=0===e.expire||void 0===e.expire?"-":new Date(e.expire).toLocaleString()})),"fulfilled"===a.state&&(n.rooms=l.getRooms(a.value.data.data).reject(function(e){return 0===e.id}).value()),"fulfilled"===e.state&&(n.devices=e.value.data.data.devices))})},n.allSettledUserId(),n.assignRoom=function(e){1!==n.input.role&&n.input.rooms.push(e)},n.removeRoom=function(a){var e=n.input.rooms;n.input.rooms=[],angular.forEach(e,function(e,t){e!=a&&n.input.rooms.push(e)})},n.assignDevice=function(e){1!==n.input.role&&n.input.devices.push(e)},n.removeDevice=function(a){var e=n.input.devices;n.input.devices=[],angular.forEach(e,function(e,t){e!=a&&n.input.devices.push(e)})},n.removeAuthToken=function(e,t,a){alertify.confirm(a,function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("deleting")},o.deleteApi("profiles",e,"/token/"+t).then(function(e){r.remove("profiles"),l.showNotifier({message:n._t("delete_successful")}),n.loading=!1,n.allSettledUserId()},function(e){n.loading=!1,alertify.alertError(n._t("error_delete_data"))})}).setting("labels",{ok:n._t("ok")})},n.removeAllAuthTokens=function(a,e,t){alertify.confirm(t,function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("deleting")};var t=i.ZWAYSession;console.log(e),e.forEach(function(e){e=e.sid;t.substr(0,6)!==e.substr(0,6)&&o.deleteApi("profiles",a,"/token/"+e).then(function(e){r.remove("profiles"),l.showNotifier({message:n._t("delete_successful")}),n.loading=!1,n.allSettledUserId()},function(e){n.loading=!1,alertify.alertError(n._t("error_delete_data"))})})}).setting("labels",{ok:n._t("ok")})},n.permanentAuthToken=function(e,t,a){alertify.confirm(a,function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},o.putApi("profiles",e,{},"/token/"+t).then(function(e){r.remove("profiles"),l.showNotifier({message:n._t("success_updated")}),n.loading=!1,n.allSettledUserId()},function(e){n.loading=!1,alertify.alertError(n._t("error_update_data"))})}).setting("labels",{ok:n._t("ok")})},n.store=function(e,t){e.$invalid||(e=t.rooms.indexOf(0),n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},0==n.id&&(t.password=t.password),1===t.role?t.rooms=[0]:-1<e&&t.rooms.splice(e,1),o.storeApi("profiles",t.id,t).then(function(e){a("hasNode")(e,"data.data.id")&&(r.remove("profiles"),n.reloadData()),1==n.user.role&&n.lastEmail!=t.email&&(e=[o.getApi("instances","/CloudBackup")],s.allSettled(e).then(function(e){var e=e[0];"rejected"!==e.state&&"fulfilled"===e.state&&((e=e.value.data.data[0]).params.email=t.email,o.putApi("instances",e.id,e).then(function(e){n.lastEmail=t.email},function(e){alertify.alertError(n._t("error_update_data"))}))})),n.loading=!1,l.showNotifier({message:n._t("success_updated")}),window.location="#/admin"},function(e){var t=n._t("error_update_data");409==e.status&&(t=a("hasNode")(e,"data.error")?n._t(e.data.error):t),alertify.alertError(t),n.loading=!1}))},n.changeAuth=function(e,t){e.$invalid||(n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},o.putApi("profiles_auth_update",n.id,n.auth).then(function(e){n.loading=!1,e.data.data?l.showNotifier({message:n._t("success_updated")}):alertify.alertError(n._t("error_update_data"))},function(e){var t=n._t("error_update_data");409==e.status&&(t=a("hasNode")(e,"data.error")?n._t(e.data.error):t),alertify.alertError(t),n.loading=!1}))}}]),myAppController.controller("ManagementUserOauthController",["$scope","$routeParams","$filter","$q","dataFactory","dataService","myCache","$location",function(n,e,a,t,i,s,o,l){n.rooms={},n.devices=[],n.authTokens=[],n.show=!0,n.callback_url=l.search().redirect_uri,n.timestamp=(new Date).getTime(),n.input={role:2,login:n.callback_url+n.timestamp,name:n.callback_url+n.timestamp,lang:"en",email:"",rooms:[],devices:[]},n.state=l.search().state,n.auth_code={},n.allSettledUserId=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")};var e=[i.getApi("locations"),i.getApi("devices")];t.allSettled(e).then(function(e){var t=e[0],e=e[1];n.loading=!1,"fulfilled"===t.state&&(n.rooms=s.getRooms(t.value.data.data).reject(function(e){return 0===e.id}).value()),"fulfilled"===e.state&&(n.devices=e.value.data.data.devices)})},n.allSettledUserId(),n.assignRoom=function(e){n.input.rooms.push(e)},n.removeRoom=function(a){var e=n.input.rooms;n.input.rooms=[],angular.forEach(e,function(e,t){e!=a&&n.input.rooms.push(e)})},n.assignDevice=function(e){n.input.devices.push(e)},n.removeDevice=function(a){var e=n.input.devices;n.input.devices=[],angular.forEach(e,function(e,t){e!=a&&n.input.devices.push(e)})},n.redirToClient=function(){window.location=n.callback_url+"?code="+n.auth_code+"&state="+n.state},n.store=function(e,t){e.$invalid||(n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},client_credentials={client_id:l.search().client_id,redirect_uri:l.search().redirect_uri,response_type:l.search().response_type},t=Object.assign(t,client_credentials),i.storeApi("oauth2","",t).then(function(e){var t=a("hasNode")(e,"data.data.id");n.auth_code=e.data.data.auth_code,console.log(n.oauth_response),t&&(o.remove("oauth2"),n.reloadData()),n.loading=!1,n.show=!1},function(e){var t=n._t("error_update_data");409!=e.status&&405!=e.status&&406!=e.status||(t=a("hasNode")(e,"data.error")?n._t(e.data.error):t),alertify.alertError(t),n.loading=!1}))}}]),myAppController.controller("MySettingsController",["$scope","$window","$cookies","$timeout","$filter","$q","cfg","dataFactory","dataService","myCache",function(n,i,s,o,l,r,a,d,c,u){n.id=n.user.id,n.authTokens=[],n.devices={},n.input=!1,n.newPassword=null,n.trustMyNetwork=!0,n.lastEmail="",n.currentZWayAuthToken=s.ZWAYSession,n.currentFullAuthToken=(s.ZBW_SESSID||"")+"/"+s.ZWAYSession,n.currentFullAuthTokenGlobal=!!s.ZBW_SESSID,n.allSettled=function(){var e=[d.getApi("profiles","/"+n.id,!0),d.getApi("devices",null,!0)];r.allSettled(e).then(function(e){var t=e[0],e=e[1];n.loading=!1,"rejected"===t.state?(n.loading=!1,angular.extend(a.route.alert,{message:n._t("error_load_data")})):("fulfilled"===t.state&&(n.input=t.value.data.data,n.lastEmail=t.value.data.data.email,n.authTokens=t.value.data.data.authTokens,n.authTokens.forEach(function(e){e.date_str=new Date(e.date).toLocaleString(),e.lastSeen_str=new Date(e.lastSeen).toLocaleString(),e.expire_str=0===e.expire||void 0===e.expire?"-":new Date(e.expire).toLocaleString()})),"fulfilled"===e.state&&(n.devices=e.value.data.data.devices))})},n.allSettled(),n.assignDevice=function(e){n.input.hide_single_device_events.push(e)},n.removeDevice=function(a){var e=n.input.hide_single_device_events;n.input.hide_single_device_events=[],angular.forEach(e,function(e,t){e!=a&&n.input.hide_single_device_events.push(e)})},n.addQRCode=function(){alertify.prompt(n._t("verify_qrcode"),n._t("lb_password"),function(e,t){console.log("Password",t);t={password:t};n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},d.putApi("profiles","qrcode/"+n.input.id,t).then(function(e){n.loading=!1,c.showNotifier({message:n._t("success_updated")}),o(function(){i.location.reload()},2e3)},function(e){n.loading=!1,console.log(e),"wrong_password"==e.data.error?alertify.alertError(n._t("wrong_password")):alertify.alertError(n._t("error_update_data"))})}).set("type","password")},n.store=function(e,a){e.$invalid||(n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},d.putApi("profiles",a.id,a).then(function(e){var t,e=e.data.data;e?(1==n.user.role&&n.lastEmail!=a.email&&(t=[d.getApi("instances","/CloudBackup")],r.allSettled(t).then(function(e){var e=e[0];"rejected"!==e.state&&"fulfilled"===e.state&&((e=e.value.data.data[0]).params.email=a.email,d.putApi("instances",e.id,e).then(function(e){n.lastEmail=a.email},function(e){alertify.alertError(n._t("error_update_data"))}))})),n.loading=!1,s.lang=a.lang,u.remove("profiles"),c.setUser(e),c.showNotifier({message:n._t("success_updated")}),o(function(){n.loading={status:"loading-spin",icon:"--",message:n._t("reloading_page")},alertify.dismissAll(),i.location.reload()},2e3)):(alertify.alertError(n._t("error_update_data")),n.loading=!1)},function(e){var t=n._t("error_update_data");409==e.status&&(t=l("hasNode")(e,"data.error")?n._t(e.data.error):t),alertify.alertError(t),n.loading=!1}))}}]),myAppController.controller("MySettingsSessionController",["$scope","$window","$cookies","$timeout","$filter","$q","cfg","dataFactory","dataService","myCache",function(n,e,i,t,a,s,o,l,r,d){n.isMobile=!1;function c(e){n.isMobile=e.matches}e=e.matchMedia("only screen and (max-width: 767px)");c(e),e.addEventListener("change",c),n.removeToken=function(e,t){l.deleteApi("profiles",t,"/token/"+e).then(function(e){d.remove("profiles"),r.showNotifier({message:n._t("delete_successful")}),n.loading=!1,n.allSettled()},function(e){n.loading=!1,alertify.alertError(n._t("error_delete_data"))})},n.removeAuthToken=function(e,t,a){alertify.confirm(a,function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("deleting")},n.removeToken(t,e)}).setting("labels",{ok:n._t("ok")})},n.removeAllAuthTokens=function(a,e,t){alertify.confirm(t,function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("deleting")};var t=i.ZWAYSession;e.forEach(function(e){e=e.sid;t.substring(0,6)!==e.substring(0,6)&&n.removeToken(e,a)})}).setting("labels",{ok:n._t("ok")})},n.permanentAuthToken=function(e,t,a){alertify.confirm(a,function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},l.putApi("profiles",e,{},"/token/"+t).then(function(e){d.remove("profiles"),r.showNotifier({message:n._t("success_updated")}),n.loading=!1,n.allSettled()},function(e){n.loading=!1,alertify.alertError(n._t("error_update_data"))})}).setting("labels",{ok:n._t("ok")})},n.changePassword=function(e,t){e.$invalid||(n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("updating")},e={id:n.id,password:t},l.putApi("profiles_auth_update",e.id,e).then(function(e){e.data.data?(r.showNotifier({message:n._t("success_updated")}),r.goBack()):(alertify.alertError(n._t("error_update_data")),n.loading=!1)},function(e){alertify.alertError(n._t("error_update_data")),n.loading=!1}))}}]),myAppController.controller("RssController",["$scope","cfg","dataFactory","dataService","_","myCache",function(n,t,i,e,s,o){n.trackingRSS=function(){i.loadZwaveApiData().then(function(e){e={firmware:e.controller.data.softwareRevisionVersion.value,uuid:e.controller.data.uuid.value,boxtype:n.getCustomCfgArr("boxtype")};i.postToRemote(t.api_remote.rss_feed,e).then(function(){})})},n.loadRss=function(){n.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:n._t("loading")},i.xmlToJson(t.api_remote.rss_feed+"?boxtype="+n.getCustomCfgArr("boxtype")).then(function(e){var a=[];s.filter(e.rss.channel,function(e,t){"item"===t&&(s.isArray(e)?a.push(e):a.push([e]))}),s.size(a[0])<1?angular.extend(t.route.alert,{message:n._t("no_news"),icon:"fa-exclamation-circle text-primary"}):n.rss.all=a[0]},function(e){0===e.status?angular.extend(t.route.alert,{message:n._t("no_internet_connection",{__sec__:t.pending_remote_limit/1e3}),icon:"fa-wifi"}):angular.extend(t.route.alert,{message:n._t("error_load_data")})}).finally(function(){n.loading=!1}),n.trackingRSS()},n.loadRss(),n.readRss=function(e,t,a){n.rss.find=e,n.handleModal(t,a),-1<n.rss.read.indexOf(e.id)||(n.rss.read.push(e.id),0<n.rss.unread&&n.rss.unread--,t={rss:{unread:n.rss.unread,read:n.rss.read}},i.postApi("configupdate_url",t).then(function(){o.remove("rssinfo")}))}}]),myAppController.controller("AuthController",["$scope","$routeParams","$location","$cookies","$window","$q","$timeout","cfg","dataFactory","dataService","_",function(o,e,t,a,l,n,r,d,c,i,u){o.authCtrl.remoteId=null,o.authCtrl.firstaccess=!1,o.authCtrl.defaultProfile=!1,o.authCtrl.fromexpert=e.fromexpert,o.authCtrl.fromzigxpert=e.fromzigxpert,o.authCtrl.frommatterxpert=e.frommatterxpert,o.jamesbox={first_start_up:"",count_of_reconnects:0},o.processUser=function(e){e.lang?a.lang=e.lang:e.lang=o.loginLang,i.setZWAYSession(e.sid),i.setUser(e)},o.redirectAfterLogin=function(e,t,a,n){var i,s=n||"#/dashboard";o.processUser(t),o.authCtrl.fromexpert?window.location.href=o.cfg.expert_url:o.authCtrl.fromzigxpert?window.location.href=o.cfg.zigxpert_url:o.authCtrl.frommatterxpert?window.location.href=o.cfg.matterxpert_url:"zme_hub"===d.app_type&&1===t.role?(i=s,c.loadZwaveApiData().then(function(e){var t,a;e&&(e={uuid:e.controller.data.uuid.value},t=i,a=(e=e).uuid,c.getApi("system_info",null,!0).then(function(e){e={uuid:a,first_start_up:e.data.data.first_start_up,count_of_reconnects:e.data.data.count_of_reconnects};c.postToRemote(d.api_remote.jamesbox_updateinfo,e).then(function(e){},function(e){})},function(e){}),c.postToRemote(d.api_remote.jamesbox_request,e).then(function(e){u.isEmpty(e.data)||(t="#/boxupdate"),r(function(){o.authCtrl.processed=!0,window.location=t,l.location.reload()},0)},function(e){r(function(){o.authCtrl.processed=!0,window.location=t,l.location.reload()},0)}))},function(e){r(function(){o.authCtrl.processed=!0,window.location=i,l.location.reload()},0)})):r(function(){o.authCtrl.processed=!0,window.location=s,l.location.reload()},0)},o.logoutFromExpert=function(){i.setUser(null),i.setZWAYSession(null)},o.authCtrl.fromexpert||o.authCtrl.fromzigxpert||o.authCtrl.frommatterxpert?o.logoutFromExpert():i.getUser()?"ZWayMobileAppAndroid"!=d.route.os&&"ZWayMobileAppiOS"!=d.route.os&&r(function(){window.location="#/dashboard"},0):(i.isIeEdge()&&angular.extend(d.route.alert,{message:o._t("ie_edge_not_supported"),info:o._t("ie_edge_not_supported_info")}),o.loginLang=(angular.isDefined(a.lang)?a:d).lang,o.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:o._t("loading")},o.getFirstAccess=function(){c.getApiNoToken("firstaccess").then(function(e){o.loading=!1,o.authCtrl.remoteId=e.data.data.remote_id,o.authCtrl.firstaccess=e.data.data.firstaccess,o.authCtrl.defaultProfile=e.data.data.defaultProfile,o.authCtrl.ipAddress=e.data.data.ip_address},function(e){o.loading=!1,angular.extend(d.route.alert,{message:o._t("error_load_data")})})},o.getFirstAccess(),o.setLoginLang=function(e){o.loginLang=e,a.lang=e,o.loadLang(e)})}]),myAppController.controller("AuthLoginController",["$scope","$location","$window","$routeParams","$cookies","$timeout","cfg","dataFactory","dataService","_",function(i,a,n,s,o,l,r,d,e,c){i.input={password:"",login:""},i.getSession=function(){var e=!!o.user,t=void 0!==s.authBearer&&s.authBearer;(e||function(e){for(var t=i.cfg.find_hosts,a=!1,n=0;n<t.length;n++)if(-1<e.indexOf(t[n])){a=!0;break}return a}(a.host())||t)&&d.sessionApi().then(function(e){var t;i.authCtrl.firstaccess||(i.processUser(e.data.data),t="#/dashboard",1<r.route.previous.length&&(i._routeParams&&(r.route.previous+="?"+Object.keys(i._routeParams).map(function(e){return e+"="+i._routeParams[e]}).join("&"),delete i._routeParams),t="#"+r.route.previous),l(function(){i.authCtrl.processed=!0,window.location=t,n.location.reload()},0))})},i.login=function(n){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")},i.alert={message:!1},d.logInApi(n).then(function(e){var t="#/dashboard",a=c.omit(e.data.data,"dashboard","hide_single_device_events","rooms","salt");e.data.data.showWelcome&&(t="#/dashboard/firstlogin",a=c.omit(a,"showWelcome")),i.redirectAfterLogin(!0,a,n.password,t)},function(e){i.loading=!1;var t=i._t("error_load_data");401==e.status&&(t=i._t("error_load_user")),alertify.alertError(t)})};var t=a.path().split("/");s.login&&s.password?i.login(s):void 0!==s.logout&&s.logout&&void 0!==s.authBearer&&s.authBearer&&(""!==t[1]||-1===i.cfg.find_hosts.indexOf(a.host()))||(i._routeParams=s,i.getSession())}]),myAppController.controller("AuthFirstAccessController",["$scope","$q","$window","$interval","cfg","dataFactory","dataService",function(i,t,e,a,s,o,n){i.input={id:i.authCtrl.defaultProfile.id,password:"",passwordConfirm:"",email:""},i.handleTimezone={instance:{},show:!1,changed:!1},i.managementTimezone={labels:{},enums:{}},i.reboot=!1,i.checkBoxHolder=[],o.getApi("instances").then(function(e){return e.data.data}).then(function(e){var t=e.find(function(e){return"RemoteAccess"===e.moduleId}),t=(t&&i.checkBoxHolder.push(t),e.find(function(e){return"CloudBackup"===e.moduleId}));t&&(t.active=!1,i.checkBoxHolder.push(t))}).catch(function(e){}),i.allSettled=function(){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("loading")};var e=[o.getApi("instances","/ZMEOpenWRT"),o.getApi("modules","/ZMEOpenWRT")];t.allSettled(e).then(function(e){var t=e[0],e=e[1];i.loading=!1,"fulfilled"===t.state&&!0===t.value.data.data[0].active&&(i.handleTimezone.show=!0,i.handleTimezone.instance=t.value.data.data[0]),"fulfilled"===e.state&&(i.managementTimezone.enums=e.value.data.data.schema.properties.timezone.enum,i.managementTimezone.labels=e.value.data.data.options.fields.timezone.optionLabels)})},i.isInArray(["zme_hub"],s.app_type)&&i.allSettled(),i.updateFirstAccess=function(t){i.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:i._t("updating")};var a={id:i.input.id,password:i.input.password,lang:i.loginLang},n={"Accept-Language":i.authCtrl.defaultProfile.lang,ZWAYSession:i.authCtrl.defaultProfile.sid};o.putApiWithHeaders("profiles_auth_update",a.id,i.input,n).then(function(e){i.loading=!1;e=e.data.data;e?(e.email=i.input.email,e.lang=i.loginLang,i.checkBoxHolder.map(function(e){return o.putApi("instances",e.id,e)}),o.putApiWithHeaders("profiles",a.id,e,n).then(function(e){e=_.omit(e.data.data,"dashboard","hide_single_device_events","rooms","salt");if("zme_hub"!==s.app_type||!i.handleTimezone.show||!i.handleTimezone.changed)return"ZWayMobileAppAndroid"!=s.route.os&&"ZWayMobileAppiOS"!=s.route.os?i.redirectAfterLogin(!0,e,a.password,"#/dashboard/firstlogin"):i.redirectAfterLogin(!0,e,a.password,"#/dashboard/firstlogin?authBearer");i.updateInstance(t)},function(e){alertify.alertError(i._t("error_update_data"))})):alertify.alertError(i._t("error_update_data"))},function(e){var t=i._t("error_update_data");409==e.status&&(t=i._t("nonunique_email")),alertify.alertError(t),i.loading=!1})},i.updateInstance=function(e){e.id&&o.putApi("instances",e.id,e).then(function(e){i.systemReboot()},function(e){alertify.alertError(i._t("error_update_data"))})},i.systemReboot=function(){var e={message:i._t("system_rebooting"),info:i._t("connection_refused_reboot"),permanent:!0,hide:!0};angular.extend(s.route.alert,e),o.getApi("system_reboot","?firstaccess=true").then(function(e){},function(e){alertify.alertError(i._t("error_system_reboot"))})}}]),myAppController.controller("PasswordForgotController",["$scope","$location","dataFactory",function(a,t,n){a.passwordForgot={input:{email:"",token:null,resetUrl:null},alert:{message:!1,status:"is-hidden",icon:!1}},a.sendEmail=function(e){e.$invalid||(a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")},n.postApi("password_reset",a.passwordForgot.input).then(function(e){a.passwordForgot.input.token=e.data.data.token,a.passwordForgot.input.resetUrl=t.$$absUrl+"/reset/"+e.data.data.token,n.postToRemote(a.cfg.post_password_request_url,a.passwordForgot.input).then(function(e){a.passwordForgot.alert={message:a._t("password_forgot_success"),status:"alert-success",icon:"fa-check"},a.loading=!1},function(e){alertify.alertError(a._t("error_500")),a.loading=!1})},function(e){var t="";switch(e.status){case 404:t=a._t("email_not_found");break;case 409:t=a._t("error_409")+". "+a._t("error_pwd_restore_request")+a.passwordForgot.input.email+" "+a._t("pwd_restore_check_mail");break;default:t=a._t("error_500")+(response.data.error?": "+response.data.error.toString():"")}alertify.alertError(t),a.loading=!1}))}}]),myAppController.controller("PasswordResetController",["$scope","$routeParams","dataFactory",function(a,t,n){a.passwordReset={input:{userId:null,password:"",passwordConfirm:"",token:t.token},alert:{message:!1,status:"is-hidden",icon:!1}},a.checkToken=function(){a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("loading")},n.postApi("password_reset",a.passwordReset.input,"?token="+a.passwordReset.input.token).then(function(e){a.passwordReset.input.userId=e.data.data.userId,a.loading=!1},function(e){var t=a._t("error_500");404==e.status&&(t=a._t("token_notfound")),a.loading=!1,a.passwordReset.alert={message:t,status:"alert-danger",icon:"fa-warning"}})},a.checkToken(),a.changePassword=function(e){e.$invalid||(a.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:a._t("updating")},e={id:a.passwordReset.input.userId,password:a.passwordReset.input.password,token:t.token},n.putApi("profiles_auth_update",e.id,e).then(function(e){a.loading={status:"loading-fade",icon:"fa-check text-success",message:a._t("success_updated")},window.location="#/"},function(e){alertify.alertError(a._t("error_update_data")),a.loading=!1}))}}]),myAppController.controller("LogoutController",["$scope","dataService","dataFactory",function(e,t,a){e.logout=function(){a.getApi("logout").then(function(e){t.logOut()})},e.logout()}]),myAppController.controller("ZigbeeInclusionController",["$scope","$q","$routeParams","$filter","$interval","$timeout","$route","$location","$http","dataFactory","dataService","cfg","_",function(l,t,a,e,s,r,n,i,o,d,c,u,p){l.zigbeeInclusion={cancelModal:!1,cfg:{checkInterviewTimeout:3e3,checkInterviewRepeat:16,inexTimeout:18e4},device:{hasBattery:!1,find:{}},controller:{controllerState:0,lastExcludedDevice:null,lastIncludedDeviceId:0},zigbeeApiData:{},inclusionProcess:{process:!1,lastIncluded:0,done:!1},automatedConfiguration:{process:!1,includedDevice:{initDone:!1,nodeId:0,nodeName:"",hasBattery:!1,clustersCnt:0,interviewDoneCnt:0,checkInterviewCnt:0,retryCCInterviews:!1,errorType:"",interviewNotDone:{}},progress:0,done:!1},manualConfiguration:{process:!1,done:!1}},l.interval={api:null},l.$on("$destroy",function(){s.cancel(l.interval.api)});function m(e,t,a,n,i){angular.extend(l.zigbeeInclusion.inclusionProcess,{process:t,done:a}),n&&l.runZigbeeCmd(n),i&&s.cancel(l.interval.api)}l.allSettled=function(){var e=[!(l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("loading")}),d.loadZigbeeApiData(!0)];a.id&&(e[0]=d.getApi("zigbee_devices","?lang="+l.lang+"&id="+a.id)),t.allSettled(e).then(function(e){var t=e[0],e=e[1];"rejected"===e.state?(l.loading=!1,angular.extend(u.route.alert,{message:l._t("error_load_data")})):("fulfilled"===t.state&&(t=c.getZigbeeDevices([t.value.data.data]).value(),g(t[0])),"fulfilled"===e.state&&e.value&&(t=e.value,l.zigbeeInclusion.controller.controllerState=t.controller.data.controllerState.value,-1<[1,2,3,4].indexOf(l.zigbeeInclusion.controller.controllerState)&&angular.extend(l.zigbeeInclusion.inclusionProcess,{process:!0,done:!1})),l.loading=!1)})},l.allSettled(),l.refreshZigbeeApiData=function(e){function t(){a++,d.refreshZigbeeApiData().then(function(e){e&&("controller.data.controllerState"in(e=e.data)&&(l.zigbeeInclusion.controller.controllerState=e["controller.data.controllerState"].value),"controller.data.lastIncludedDevice"in e&&(null!=(e=e["controller.data.lastIncludedDevice"].value)&&(l.zigbeeInclusion.controller.lastIncludedDeviceId=e,m(0,!1,!0,!1,!0),f(!0,!1,{nodeId:e},!1,!0),l.startConfiguration({nodeId:e}))))}),a===e&&(s.cancel(l.interval.api),l.loading=!1)}var a=0;t(),l.interval.api=s(t,l.cfg.interval)},l.startStopProcess=function(e,t){var a="",n="",i="";"inclusion"===e&&(a=t?"controller.AddNodeToNetwork(1)":"controller.AddNodeToNetwork(0)",n="inclusionProcess",i=l._t("error_inclusion_time")),t?(m(0,t,!1,a),l.refreshZigbeeApiData(),r(function(){l.zigbeeInclusion[n].process&&!l.zigbeeInclusion[n].done&&(m(0,!1,!1,a,!0),alertify.alertWarning(i),l.reloadData())},l.zigbeeInclusion.cfg.inexTimeout)):(m(0,!1,!1,a,!0),l.reloadData())},l.startConfiguration=function(t){f(!0,!1,t,!1,!0),_(t.nodeId);l.interval.api=s(function(){if(l.zigbeeInclusion.automatedConfiguration.includedDevice.checkInterviewCnt>l.zigbeeInclusion.cfg.checkInterviewRepeat&&!l.zigbeeInclusion.automatedConfiguration.done){s.cancel(l.interval.api);var e=l.zigbeeInclusion.automatedConfiguration.includedDevice.hasBattery?'<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+l._t("error_interview_battery")+"</div>":"";switch(l.zigbeeInclusion.automatedConfiguration.includedDevice.errorType){case"error_interview_again":alertify.confirm(l._t("configuration_complete_only")+" "+l.zigbeeInclusion.automatedConfiguration.progress+"%"+e).setting("labels",{ok:l._t("try_again_complete")}).set("onok",function(e){l.forceInterview(l.zigbeeInclusion.automatedConfiguration.includedDevice.interviewNotDone),l.startConfiguration({nodeId:l.zigbeeInclusion.automatedConfiguration.includedDevice.nodeId,interviewDoneCnt:0,checkInterviewCnt:0,errorType:""})}).set("oncancel",function(e){l.zigbeeInclusion.cancelModal=!0});break;case"error_interview_retry":alertify.confirm(l._t("configuration_complete_only")+" "+l.zigbeeInclusion.automatedConfiguration.progress+"%"+e).setting("labels",{ok:l._t("retry_complete_inclusion")}).set("onok",function(e){l.forceInterview(l.zigbeeInclusion.automatedConfiguration.includedDevice.interviewNotDone),l.startConfiguration({nodeId:l.zigbeeInclusion.automatedConfiguration.includedDevice.nodeId,interviewDoneCnt:0,checkInterviewCnt:0,errorType:""})}).set("oncancel",function(e){l.zigbeeInclusion.cancelModal=!0})}}else _(t.nodeId),l.zigbeeInclusion.automatedConfiguration.includedDevice.checkInterviewCnt++},l.zigbeeInclusion.cfg.checkInterviewTimeout)},l.startManualConfiguration=function(e){w(!0,!1),r(function(){w(!1,!0),i.path("/zigbee/devices/"+e+"/nohistory")},5e3)},l.cancelManualConfiguration=function(e){f(l.zigbeeInclusion.cancelModal=!1,!1,null,!1,!0),e?l.startStopProcess("exclusion",!0):l.startManualConfiguration(l.zigbeeInclusion.automatedConfiguration.includedDevice.nodeId)},l.runZigbeeCmd=function(e){d.runZigbeeCmd(e).then(function(){})},l.forceInterview=function(e){angular.forEach(e,function(e,t){l.runZigbeeCmd(e)})};var g=function(e){l.zigbeeInclusion.device.find=e};function f(e,t,a,n,i){b.reset(),angular.extend(l.zigbeeInclusion.automatedConfiguration,{process:e,done:t,forceInterview:!1,progress:0}),p.isObject(a)&&angular.extend(l.zigbeeInclusion.automatedConfiguration.includedDevice,a),n&&l.runZigbeeCmd(n),i&&s.cancel(l.interval.api)}function v(e){l.breakTime=1e3*e;var t=s(function(){--e,l.breakTime=1e3*e,e<1&&s.cancel(t)},1e3);return function(){s.cancel(t),l.breakTime=null}}l.breakTime=null;h=null;var h,b={start:function(){h=h||v(180)},stop:function(){h&&(h(),h=null)},reset:function(){h&&h(),h=v(180)}};function _(o){d.runZigbeeCmd("devices["+o+"]").then(function(e){var t,a,n=e.data;if(p.isObject(n)){if(l.zigbeeInclusion.automatedConfiguration.includedDevice.nodeName=n.data.givenName.value||"Device _"+o,angular.isDefined(n.endpoints)&&angular.extend(l.zigbeeInclusion.automatedConfiguration.includedDevice,{hasBattery:128 in n.endpoints[0].clusters}),!l.zigbeeInclusion.automatedConfiguration.initDone)for(var i in l.zigbeeInclusion.automatedConfiguration.includedDevice.clustersCnt=0,l.zigbeeInclusion.automatedConfiguration.includedDevice.interviewDoneCnt=0,n.endpoints)Object.keys(n.endpoints[i].clusters).forEach(function(e){n.endpoints[i].clusters[e].data.inDirection.value&&l.zigbeeInclusion.automatedConfiguration.includedDevice.clustersCnt++});for(var i in n.endpoints){if(Object.keys(n.endpoints[i].clusters).length<1)return;for(var s in n.endpoints[i].clusters)n.endpoints[i].clusters[s].data.inDirection.value&&(t=n.endpoints[i].clusters[s],a=i+"_"+n.endpoints[i].clusters[s].name,s="devices["+o+"].endpoints["+i+"].clusters["+s+"].Interview()",t.data.interviewDone.value?(delete l.zigbeeInclusion.automatedConfiguration.includedDevice.interviewNotDone[a],l.zigbeeInclusion.automatedConfiguration.includedDevice.interviewDoneCnt++):l.zigbeeInclusion.automatedConfiguration.includedDevice.interviewNotDone[a]=s)}e=l.zigbeeInclusion.automatedConfiguration.includedDevice.clustersCnt,e=(l.zigbeeInclusion.automatedConfiguration.includedDevice.interviewDoneCnt/e*100).toFixed();l.zigbeeInclusion.automatedConfiguration.progress=e<101?e:99,100<=e&&(b.stop(),l.zigbeeInclusion.automatedConfiguration.progress=100,f(l.zigbeeInclusion.automatedConfiguration.initDone=!1,!0,null,!1,!0),r(function(){l.startManualConfiguration(o)},1e3))}},function(e){})}function w(e,t){angular.extend(l.zigbeeInclusion.manualConfiguration,{process:e,done:t})}b.reset()}]),myAppController.controller("ZigbeeManageController",["$scope","$cookies","$filter","$location","$q","dataFactory","dataService","cfg","myCache",function(p,e,m,t,a,n,g,f,i){p.devices={zw:{},find:{},show:!0},p.allSettled=function(){p.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:p._t("loading")};var e=[n.loadZigbeeApiData(!1),n.getApi("devices")];a.allSettled(e).then(function(e){var n,i,s,o,l,r,d,c,a,u,t=e[0],e=e[1];if(p.loading=!1,"rejected"===t.state)p.loading=!1,p.devices.show=!1,angular.extend(f.route.alert,{message:p._t("error_load_data")});else{if("fulfilled"===t.state){if(!t.value)return;p.devices.zw=Object.values((t=t.value,c={},n=t.controller.data.nodeId.value,angular.forEach(t.devices,function(e,t){var a;t!=n&&(i=e.data.isFailed.value,o=parseInt(e.data.lastReceived.updateTime,10)||0,s=parseInt(e.data.lastSend.updateTime,10)||0,s=o<s?s:o,o=e.data.isSleepy.value,d=r=l=0,a=m("hasNode")(e,"endpoints.0.clusters.128.data.last.value"),c[t]={id:parseInt(t),title:e.data.givenName.value||"Device _"+t,hasBattery:!1,batteryCharge:null===a?null:parseInt(a),isFailed:i,sleeping:function(e,t,a,n,i){var s;e&&t&&(e="",(isNaN(a)||a<n)&&(a=n,isNaN(n)||(e="~")),0==i&&(i=NaN),t=m("isTodayFromUnix")(a),n=m("isTodayFromUnix")(a+i),s=e+t+" &#8594; "+e+n);return s}(o,!1,l,r,d),awake:(e=void 0,o&&e?"awake":"sleep"),date:m("isTodayFromUnix")(s),cfg:[],elements:{},messages:[]},i?c[t].messages.push({type:"failed",error:p._t("lb_is_failed")}):c[t].messages.push({type:"config",error:p._t("lb_not_configured")}))}),c))}"fulfilled"===e.state&&(t=g.getDevicesData(e.value.data.data.devices,!1,!0),angular.forEach(t.value(),function(e){var t;"ZBeeVDev"===(a=e.id.split("_"))[0]&&(a=a[a.length-1].split("-"),u=a[0],(t=p.devices.zw.find(function(e){return e.id===+u}))&&(t.elements[e.id]=e))}))}})},p.allSettled(),p.runZigbeeCmd=function(e){n.runZigbeeCmd(e).then(function(){})}}]),myAppController.controller("ZigbeeInterviewController",["$scope","$location","$interval","dataFactory","dataService","_",function(d,n,s,e,t,c){function u(e,t,a,n,i){angular.extend(d.zigbeeInterview,{process:e,done:t,forceInterview:!1,progress:0}),c.isObject(a)&&angular.extend(d.zigbeeInterview,a),n&&d.runZigbeeCmd(n),i&&s.cancel(d.interval.api)}function i(r){d.zigbeeInterview.clustersCnt=0,d.zigbeeInterview.interviewDoneCnt=0,e.runZigbeeCmd("devices["+r+"]").then(function(e){var t,a,n=e.data;if(c.isObject(n)&&n.data.nodeInfoFrame.value){for(var i in angular.isDefined(n.endpoints)&&angular.extend(d.zigbeeInterview,{hasBattery:128 in n.endpoints[0].clusters}),n.endpoints){if(Object.keys(n.endpoints[i].clusters).length<1)return;for(var s in angular.extend(d.zigbeeInterview,{clustersCnt:Object.keys(n.endpoints[i].clusters).length}),n.endpoints[i].clusters)n.endpoints[i].clusters[s].data.supported.value&&(t=n.endpoints[i].clusters[s],a=n.endpoints[i].clusters[s].name,s="devices["+r+"].endpoints["+i+"].clusters["+s+"].Interview()",t.data.interviewDone.value?(delete d.zigbeeInterview.interviewNotDone[a],angular.extend(d.zigbeeInterview,{interviewDoneCnt:d.zigbeeInterview.interviewDoneCnt+1})):d.zigbeeInterview.interviewNotDone[a]=s)}var e=d.zigbeeInterview.clustersCnt,o=d.zigbeeInterview.interviewDoneCnt,l=(o/e*100).toFixed();if(console.log("clustersCnt: ",e),console.log("intervewDoneCnt: ",o),console.log("Percent %: ",l),d.zigbeeInterview.progress=l<101?l:99,!c.isEmpty(d.zigbeeInterview.interviewNotDone))return d.zigbeeInterview.interviewNotDone.Version?void angular.extend(d.zigbeeInterview,{errorType:"error_interview_again"}):void angular.extend(d.zigbeeInterview,{errorType:"error_interview_retry"});100<=l&&u(!(d.zigbeeInterview.progress=100),!0,null,!1,!0)}},function(e){})}d.zigbeeInterview={cfg:{checkInterviewTimeout:3e3,checkInterviewRepeat:3,inexTimeout:3e4},process:!1,done:!1,nodeId:0,nodeName:"",hasBattery:!1,progress:0,clustersCnt:0,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:"",interviewNotDone:{}},d.interval={api:null},d.startConfiguration=function(e){u(!0,!1,e,!1,!0),i(d.devices.find.id);d.interval.api=s(function(){d.forceInterview(d.zigbeeInterview.interviewNotDone);var e=d.zigbeeInterview.interviewRepeatCnt+1;if(angular.extend(d.zigbeeInterview,{interviewRepeatCnt:e}),e>d.zigbeeInterview.cfg.checkInterviewRepeat&&!d.zigbeeInterview.done){s.cancel(d.interval.api);var t='<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+d._t("configuration_cancel")+"</div>",a=d.zigbeeInterview.hasBattery?'<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+d._t("error_interview_battery")+"</div>":"";switch(d.zigbeeInterview.errorType){case"error_interview_again":alertify.confirm(d._t("configuration_complete_only")+" "+d.zigbeeInterview.progress+"%"+a+t).setting("labels",{cancel:d._t("redo_inclusion"),ok:d._t("ok")}).set("onok",function(e){d.forceInterview(d.zigbeeInterview.interviewNotDone),d.startConfiguration({nodeId:d.devices.find.id,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:""})}).set("oncancel",function(e){alertify.dismissAll(),n.path("/zigbee/inclusion")});break;case"error_interview_retry":alertify.confirm(d._t("configuration_complete_only")+" "+d.zigbeeInterview.progress+"%"+a+t).setting("labels",{cancel:d._t("redo_inclusion"),ok:d._t("ok")}).set("onok",function(e){d.forceInterview(d.zigbeeInterview.interviewNotDone),d.startConfiguration({nodeId:d.devices.find.id,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:""})}).set("oncancel",function(e){alertify.dismissAll(),n.path("/zigbee/inclusion")});break;default:alertify.alertError(d._t("error_interview_unexpected")).set("onok",function(e){d.reloadData()})}}else i(d.devices.find.id)},d.zigbeeInterview.cfg.checkInterviewTimeout)},c.isEmpty(d.devices.find)||d.startConfiguration(),d.cancelConfiguration=function(e){u(!1,!1,null,!1,!0),d.devices.find={},e&&d.handleModal("zigbeeNetworkModal",e)},d.forceInterview=function(e){angular.forEach(e,function(e,t){d.runZigbeeCmd(e)})}}]),myAppController.controller("ZigbeeManageIdController",["$scope","$window","$routeParams","$q","$filter","$location","dataFactory","dataService","cfg","myCache",function(s,e,t,a,n,i,o,l,r,d){s.zigbeeConfig={nodeId:t.nodeId,nohistory:t.nohistory},s.zigbeeDevice=[],s.devices=[],s.formInput={show:!0,newRoom:"",elements:{},room:0,deviceName:!1},s.rooms=[],s.allSettled=function(){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("loading")};var e=[o.getApi("devices",null,!0),o.getApi("locations",null,!0)];a.allSettled(e).then(function(e){var i,t,a=e[0],e=e[1];s.loading=!1,"rejected"===a.state?(s.loading=!1,s.formInput.show=!1,angular.extend(r.route.alert,{message:s._t("error_load_data")})):("fulfilled"===a.state&&(a=l.getDevicesData(a.value.data.data.devices,!1,!0),i=s.zigbeeConfig.nodeId,t=a.value(),o.loadZigbeeApiData(!0).then(function(e){!e||(e=e.devices[i])&&(s.zigbeeDevice={id:i,cfg:[]},s.formInput.deviceName=e.data.givenName.value||"Device _"+i,angular.isDefined(e.data.ZDDXMLFile)&&""!=e.data.ZDDXMLFile.value&&-1===s.zigbeeDevice.cfg.indexOf("config")&&s.zigbeeDevice.cfg.push("config"),132 in e.endpoints[0].clusters&&-1===s.zigbeeDevice.cfg.indexOf("wakeup")&&s.zigbeeDevice.cfg.push("wakeup"),0<s.devices.length&&(s.devices=angular.copy([])),angular.forEach(t,function(e,t){var a,n=e.id.split("_");"ZBeeVDev"===n[0]&&"battery"!==e.deviceType&&(a=(n=n[n.length-1].split("-"))[0],n[1],n[2],a==i&&(s.formInput.elements[(n=e).id]=n,s.devices.push(n)))}))},function(e){angular.extend(r.route.alert,{message:s._t("error_load_data")})})),"fulfilled"===e.state&&(s.rooms=Object.values(l.getRooms(e.value.data.data).indexBy("id").value())))})},s.allSettled(),s.addRoom=function(e){e&&(e={id:0,title:e},s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("updating")},o.storeApi("locations",e.id,e).then(function(e){s.loading=!1,l.showNotifier({message:s._t("success_updated")}),s.formInput.newRoom="",s.allSettled()},function(e){alertify.alertError(s._t("error_update_data")),s.loading=!1}))},s.updateAllDevices=function(a){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("updating")},angular.forEach(a.elements,function(e,t){a.room&&angular.extend(e,{location:parseInt(a.room)}),o.putApi("devices",e.id,e).then(function(e){},function(e){})});var e="devices["+s.zigbeeDevice.id+"].data.givenName.value='"+a.deviceName+"'";o.runZigbeeCmd(e).then(function(){}),d.removeAll(),s.loading=!1,l.showNotifier({message:s._t("success_updated")}),angular.isDefined(t.nohistory)?i.path("/zigbee/devices"):l.goBack()}}]),myAppController.controller("ZigbeeVendorController",["$scope","$q","cfg","$cookies","$location","$window","$timeout","dataFactory","dataService","_",function(s,t,o,a,n,i,l,r,d,c){s.zigbeeVendors={view:!1,alert:!1,frequency:!1,frequencyName:!1,all:{},cnt:{},products:{pageTitle:"",cnt:0,all:{},collection:{},noSearch:!1},filter:a.filterProducts?angular.fromJson(a.filterProducts):{}},s.autocomplete={source:[],term:"",searchInKeys:"id,name,brandname,ertification_id",returnKeys:"id,name,brandname,product_image,frequency",strLength:2,resultLength:10},s.allSettled=function(){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("loading")};var e=[r.loadZigbeeApiData(),r.getApi("zigbee_vendors"),r.getApi("zigbee_devices","?lang="+s.lang)];t.allSettled(e).then(function(e){var t,a=e[0],n=e[1],e=e[2],i={};s.loading=!1,"rejected"===a.state?angular.extend(o.route.alert,{message:s._t("error_load_data")}):"rejected"===n.state||"rejected"===e.state?404===(n.reason||e.reason).status?s.zigbeeVendors.view="update":angular.extend(o.route.alert,{message:s._t("error_load_data")}):("fulfilled"===a.state&&a.value&&a.value.controller.data.frequency.value&&(s.zigbeeVendors.frequency=a.value.controller.data.frequency.value,s.zigbeeVendors.frequencyName=o.frequency[a.value.controller.data.frequency.value],i.frequency=s.zigbeeVendors.frequencyName),"fulfilled"===n.state&&(s.zigbeeVendors.view="default",s.zigbeeVendors.all=n.value.data.data.zigbee_vendors),"fulfilled"===e.state&&(s.zigbeeVendors.products.all=d.getZigbeeDevices(e.value.data.data.zigbee_devices).where(i).value(),s.zigbeeVendors.cnt=c.countBy(s.zigbeeVendors.products.all,function(e){return e.brandname}),"brandid"in s.zigbeeVendors.filter?(s.zigbeeVendors.products.pageTitle=s.zigbeeVendors.filter.brandid,s.zigbeeVendors.products.collection=c.where(s.zigbeeVendors.products.all,s.zigbeeVendors.filter)):"q"in s.zigbeeVendors.filter?(s.zigbeeVendors.products.pageTitle=s.zigbeeVendors.filter.q,s.autocomplete.term=s.zigbeeVendors.filter.q,t=c.indexBy(d.autocomplete(s.zigbeeVendors.products.all,s.autocomplete),"id"),s.zigbeeVendors.products.collection=c.filter(s.zigbeeVendors.products.all,function(e){if(t[e.id])return e})):s.zigbeeVendors.products.collection=s.zigbeeVendors.products.all,s.zigbeeVendors.products.cnt=c.size(s.zigbeeVendors.products.collection),s.zigbeeVendors.products.cnt<1&&(s.zigbeeVendors.products.noSearch=s.zigbeeVendors.products.pageTitle)))})},s.allSettled(),s.searchMe=function(){s.autocomplete.results=d.autocomplete(s.zigbeeVendors.products.all,s.autocomplete),c.isEmpty(s.autocomplete.results)?s.expandAutocomplete():s.expandAutocomplete("searchProducts"),s.zigbeeVendors.filter.q&&s.autocomplete.term.length<1&&s.setFilter()},s.setFilter=function(e){s.autocomplete.results=[],s.zigbeeVendors.products.noSearch=!1,s.expandAutocomplete();var t=""==c.values(e);!e||t?(angular.extend(s.zigbeeVendors,{filter:{}}),a.filterProducts=angular.toJson({}),s.allSettled()):(angular.extend(s.zigbeeVendors,{filter:e}),s.allSettled(),a.filterProducts=angular.toJson(e),s.routeMatch("/zigbee/vendors")&&n.path("/zigbee/products"))},s.updateVendorDatabase=function(){s.zigbeeVendors.view=!1,s.zigbeeVendors.alert={message:s._t("updating_device_db"),status:"alert-warning",icon:"fa-spinner fa-spin"},r.getApi("update_zigbee_vendors").then(function(e){s.updateDeviceDatabase()},function(e){s.zigbeeVendors.alert={message:s._t("vendors_error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},s.updateDeviceDatabase=function(){r.getApi("update_device_database").then(function(e){s.zigbeeVendors.alert={message:s._t("reloading_page"),status:"alert-success",icon:"fa-spinner fa-spin"},l(function(){i.location.reload()},2e3)},function(e){s.zigbeeVendors.alert={message:s._t("update_device_database_failed"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},s.disableDatabaseUpdate=function(){s.zigbeeVendors.view=!1}}]),myAppController.controller("MatterInclusionController",["$scope","$q","$routeParams","$filter","$interval","$timeout","$route","$location","$http","dataFactory","dataService","cfg","_",function(l,t,a,e,s,r,n,i,o,d,c,u,p){l.matterInclusion={cancelModal:!1,cfg:{checkInterviewTimeout:3e3,checkInterviewRepeat:16,inexTimeout:18e4},device:{hasBattery:!1,find:{}},controller:{controllerState:0,lastExcludedDevice:null,lastIncludedDeviceId:0,bleExtDHSupported:!!navigator.bluetooth&&!!navigator.bluetooth.requestDevice,bleExtEnabled:!1,bleExtWS:!1,bleExtPort:0,bleExtRxLen:0},bleExtChanging:!0,matterApiData:{},inclusionProcess:{process:!1,lastIncluded:0,done:!1},automatedConfiguration:{process:!1,includedDevice:{initDone:!1,nodeId:0,nodeName:"",hasBattery:!1,clustersCnt:0,interviewDoneCnt:0,checkInterviewCnt:0,retryCCInterviews:!1,errorType:"",interviewNotDone:{}},progress:0,done:!1},manualConfiguration:{process:!1,done:!1}},l.sendBLEExtDHQueue=[],l.qrcode="",l.blews_addr="",l.matterDev,l.interval={api:null},l.$on("$destroy",function(){s.cancel(l.interval.api)});function m(e,t,a,n,i){angular.extend(l.matterInclusion.inclusionProcess,{process:t,done:a}),n&&l.runMatterCmd(n),i&&s.cancel(l.interval.api)}l.allSettled=function(){var e=[!(l.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:l._t("loading")}),d.loadZMatterApiData(!0),d.runZMatterCmd('controller.SetSetupCode("'+a.code+'")')];a.id&&(e[0]=d.getApi("matter_devices","?lang="+l.lang+"&id="+a.id)),t.allSettled(e).then(function(e){var t=e[0],a=e[1],e=e[2];"rejected"===a.state?(l.loading=!1,angular.extend(u.route.alert,{message:l._t("error_load_data")})):"rejected"===e.state?(l.loading=!1,angular.extend(u.route.alert,{message:l._t("matter_invalid_commissioning_content")})):("fulfilled"===t.state&&(e=c.getMatterDevices([t.value.data.data]).value(),g(e[0])),"fulfilled"===a.state&&a.value&&(t=a.value,l.matterInclusion.controller.controllerState=t.controller.data.controllerState.value,l.matterInclusion.controller.bleExtEnabled=t.controller.data.bleExt.enabled.value,l.matterInclusion.controller.bleExtWS=t.controller.data.bleExt.ws.value,l.matterInclusion.controller.bleExtPort=t.controller.data.bleExt.port.value,l.matterInclusion.bleExtChanging=!1,-1<[1,2,3,4].indexOf(l.matterInclusion.controller.controllerState)&&angular.extend(l.matterInclusion.inclusionProcess,{process:!0,done:!1})),l.loading=!1)})},l.allSettled(),l.refreshZMatterApiData=function(e){function t(){a++,d.refreshZMatterApiData().then(function(e){var t;e&&("controller.data.controllerState"in(e=e.data)&&(l.matterInclusion.controller.controllerState=e["controller.data.controllerState"].value,1==l.matterInclusion.controller.controllerState&&l.matterInclusion.controller.bleExtEnabled&&(l.blews_addr=l.cfg.matter_blews_url+location.hostname+":"+l.matterInclusion.controller.bleExtPort,QRCode.toDataURL(l.blews_addr,function(e,t){l.qrcode=t}))),"controller.data.lastIncludedDevice"in e&&(null!=(t=e["controller.data.lastIncludedDevice"].value)&&(l.matterInclusion.controller.lastIncludedDeviceId=t,m(0,!1,!0,!1,!0),f(!0,!1,{nodeId:t},!1,!0),l.startConfiguration({nodeId:t}))),"controller.data.bleExt.enabled"in e&&(l.matterInclusion.controller.bleExtEnabled=e["controller.data.bleExt.enabled"].value,l.matterInclusion.bleExtChanging=!1),"controller.data.bleExt.ws"in e&&(l.matterInclusion.controller.bleExtWS=e["controller.data.bleExt.ws"].value,l.matterInclusion.bleExtChanging=!1),"controller.data.bleExt.rx"in e&&(null==(t=e["controller.data.bleExt.rx"].value)?l.matterInclusion.controller.bleExtRxLen=0:(e=l.matterInclusion.controller.bleExtRxLen>=t.length?t:t.slice(l.matterInclusion.controller.bleExtRxLen),l.matterInclusion.controller.bleExtRxLen=t.length,D(e))))}),a===e&&(s.cancel(l.interval.api),l.loading=!1)}var a=0;t(),l.interval.api=s(t,l.cfg.interval)},l.runMatterCmd=function(e){d.runZMatterCmd(e).then(function(){})},l.setBLEWSExt=function(e,t){e=e?t?"controller.data.bleExt.enabled=true;controller.data.bleExt.ws=true":"controller.data.bleExt.enabled=true;controller.data.bleExt.ws=false":"controller.data.bleExt.enabled=false";l.matterInclusion.bleExtChanging=!0,l.runMatterCmd(e),l.refreshZMatterApiData()},l.matterInclusion.bleExtDHSupported?l.setBLEWSExt(!0,!1):l.setBLEWSExt(!1),l.startStopProcess=function(e,t){var a="",n="",i="";"inclusion"===e&&(a=t?"controller.AddNodeToNetwork()":"",n="inclusionProcess",i=l._t("error_inclusion_time"),l.matterInclusion.controller.bleExtEnabled&&!l.matterInclusion.controller.bleExtWS&&t&&l.bleExtDHInit()),t?(m(0,t,!1,a),l.refreshZMatterApiData(),r(function(){l.matterInclusion[n].process&&!l.matterInclusion[n].done&&(m(0,!1,!1,a,!0),alertify.alertWarning(i),l.reloadData())},l.matterInclusion.cfg.inexTimeout)):(m(0,!1,!1,a,!0),l.reloadData())},l.startConfiguration=function(t){f(!0,!1,t,!1,!0),_(t.nodeId);l.interval.api=s(function(){if(l.matterInclusion.automatedConfiguration.includedDevice.checkInterviewCnt>l.matterInclusion.cfg.checkInterviewRepeat&&!l.matterInclusion.automatedConfiguration.done){s.cancel(l.interval.api);var e=l.matterInclusion.automatedConfiguration.includedDevice.hasBattery?'<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+l._t("error_interview_battery")+"</div>":"";switch(l.matterInclusion.automatedConfiguration.includedDevice.errorType){case"error_interview_again":alertify.confirm(l._t("configuration_complete_only")+" "+l.matterInclusion.automatedConfiguration.progress+"%"+e).setting("labels",{ok:l._t("try_again_complete")}).set("onok",function(e){l.forceInterview(l.matterInclusion.automatedConfiguration.includedDevice.interviewNotDone),l.startConfiguration({nodeId:l.matterInclusion.automatedConfiguration.includedDevice.nodeId,interviewDoneCnt:0,checkInterviewCnt:0,errorType:""})}).set("oncancel",function(e){l.matterInclusion.cancelModal=!0});break;case"error_interview_retry":alertify.confirm(l._t("configuration_complete_only")+" "+l.matterInclusion.automatedConfiguration.progress+"%"+e).setting("labels",{ok:l._t("retry_complete_inclusion")}).set("onok",function(e){l.forceInterview(l.matterInclusion.automatedConfiguration.includedDevice.interviewNotDone),l.startConfiguration({nodeId:l.matterInclusion.automatedConfiguration.includedDevice.nodeId,interviewDoneCnt:0,checkInterviewCnt:0,errorType:""})}).set("oncancel",function(e){l.matterInclusion.cancelModal=!0})}}else _(t.nodeId),l.matterInclusion.automatedConfiguration.includedDevice.checkInterviewCnt++},l.matterInclusion.cfg.checkInterviewTimeout)},l.startManualConfiguration=function(e){w(!0,!1),r(function(){w(!1,!0),i.path("/matter/devices/"+e+"/nohistory")},5e3)},l.cancelManualConfiguration=function(e){f(l.matterInclusion.cancelModal=!1,!1,null,!1,!0),e?l.startStopProcess("exclusion",!0):l.startManualConfiguration(l.matterInclusion.automatedConfiguration.includedDevice.nodeId)},l.sendQueuedMatterCmd=function(){var e;l.sendBLEExtDHQueue.length&&null!=l.sendBLEExtDHQueue[0]&&(e=l.sendBLEExtDHQueue.shift(),l.sendBLEExtDHQueue.unshift(null),d.runZMatterCmd(e).then(function(){l.sendBLEExtDHQueue.shift(),l.sendQueuedMatterCmd()}))},l.forceInterview=function(e){angular.forEach(e,function(e,t){l.runMatterCmd(e)})};var g=function(e){l.matterInclusion.device.find=e};function f(e,t,a,n,i){b.reset(),angular.extend(l.matterInclusion.automatedConfiguration,{process:e,done:t,forceInterview:!1,progress:0}),p.isObject(a)&&angular.extend(l.matterInclusion.automatedConfiguration.includedDevice,a),n&&l.runMatterCmd(n),i&&s.cancel(l.interval.api)}function v(e){l.breakTime=1e3*e;var t=s(function(){--e,l.breakTime=1e3*e,e<1&&s.cancel(t)},1e3);return function(){s.cancel(t),l.breakTime=null}}l.breakTime=null;h=null;var h,b={start:function(){h=h||v(180)},stop:function(){h&&(h(),h=null)},reset:function(){h&&h(),h=v(180)}};function _(o){d.runZMatterCmd("devices["+o+"]").then(function(e){var t,a,n=e.data;if(p.isObject(n)){if(l.matterInclusion.automatedConfiguration.includedDevice.nodeName=n.data.givenName.value||"Device _"+o,angular.isDefined(n.endpoints)&&angular.extend(l.matterInclusion.automatedConfiguration.includedDevice,{hasBattery:128 in n.endpoints[0].clusters}),!l.matterInclusion.automatedConfiguration.initDone)for(var i in l.matterInclusion.automatedConfiguration.includedDevice.clustersCnt=0,l.matterInclusion.automatedConfiguration.includedDevice.interviewDoneCnt=0,n.endpoints)Object.keys(n.endpoints[i].clusters).forEach(function(e){n.endpoints[i].clusters[e].data.inDirection.value&&l.matterInclusion.automatedConfiguration.includedDevice.clustersCnt++});for(var i in n.endpoints){if(Object.keys(n.endpoints[i].clusters).length<1)return;for(var s in n.endpoints[i].clusters)n.endpoints[i].clusters[s].data.inDirection.value&&(t=n.endpoints[i].clusters[s],a=i+"_"+n.endpoints[i].clusters[s].name,s="devices["+o+"].endpoints["+i+"].clusters["+s+"].Interview()",t.data.interviewDone.value?(delete l.matterInclusion.automatedConfiguration.includedDevice.interviewNotDone[a],l.matterInclusion.automatedConfiguration.includedDevice.interviewDoneCnt++):l.matterInclusion.automatedConfiguration.includedDevice.interviewNotDone[a]=s)}e=l.matterInclusion.automatedConfiguration.includedDevice.clustersCnt,e=(l.matterInclusion.automatedConfiguration.includedDevice.interviewDoneCnt/e*100).toFixed();l.matterInclusion.automatedConfiguration.progress=e<101?e:99,100<=e&&(b.stop(),l.matterInclusion.automatedConfiguration.progress=100,f(l.matterInclusion.automatedConfiguration.initDone=!1,!0,null,!1,!0),r(function(){l.startManualConfiguration(o)},1e3))}},function(e){})}function w(e,t){angular.extend(l.matterInclusion.manualConfiguration,{process:e,done:t})}function y(){Array.prototype.slice.call(arguments).map(function(e){return"string"==typeof e?e:JSON.stringify(e)}).join(" ")}b.reset();var x=function(){function a(e,t){_classCallCheck(this,a),this.device=null,this.serviceUUID="0000fff6-0000-1000-8000-00805f9b34fb",this.txCharUUID="18ee2ef5-263d-4559-959f-4f9c429f9d11",this.rxCharUUID="18ee2ef5-263d-4559-959f-4f9c429f9d12",this.customRx=e,this.customStatus=t,this.onDisconnected=this.onDisconnected.bind(this),this.onRxNotification=this.onRxNotification.bind(this)}return _createClass(a,[{key:"request",value:function(){var t=this,e={acceptAllDevices:!0,optionalServices:[this.serviceUUID]};return navigator.bluetooth.requestDevice(e).then(function(e){t.device=e,t.device.addEventListener("gattserverdisconnected",t.onDisconnected)})}},{key:"connect",value:function(){var a=this;return this.device?this.device.gatt.connect().then(function(e){return y("Getting GAP Service..."),e.getPrimaryService(a.serviceUUID)}).then(function(e){return y("Getting GAP Characteristics..."),e.getCharacteristics()}).then(function(e){var t=Promise.resolve();return e.forEach(function(e){y("> Characteristic UUID: "+e.uuid),e.uuid==a.txCharUUID?a.txChr=e:e.uuid==a.rxCharUUID&&(a.rxChr=e)}),a.customStatus&&a.customStatus(a,"connect",a.isValidConnectedDevice()),t}).catch(function(e){y("Argh! "+e)}):Promise.reject("Device is not connected.")}},{key:"getDeviceName",value:function(){return this.device.name}},{key:"isValidConnectedDevice",value:function(){return this.device&&this.txChr&&this.rxChr}},{key:"subscribe",value:function(e){var t=this;return this.device?this.rxChr?e?this.rxChr.startNotifications().then(function(e){y("> Notifications started"),t.customStatus&&t.customStatus(t,"subscribe",!0),t.rxChr.addEventListener("characteristicvaluechanged",t.onRxNotification)}):this.rxChr.stopNotifications().then(function(e){y("> Notifications stopped"),t.customStatus&&t.customStatus(t,"unsubscribe",!0),t.rxChr.removeEventListener("characteristicvaluechanged",t.onRxNotification)}):Promise.reject("No RxChr found."):Promise.reject("Device is not connected.")}},{key:"writeTx",value:function(e){var t,a=this;return this.device?this.rxChr?t=this.txChr.writeValue(e).then(function(e){a.customStatus&&a.customStatus(a,"write",t)}):Promise.reject("No TxChr found."):Promise.reject("Device is not connected.")}},{key:"disconnect",value:function(){var t=this;return this.device?this.subscribe(!1).then(function(e){return t.device.gatt.disconnect()}):Promise.reject("Device is not connected.")}},{key:"onRxNotification",value:function(e){for(var t=e.target.value,a=[],n=[],i=0;i<t.byteLength;i++)a.push("0x"+("00"+t.getUint8(i).toString(16)).slice(-2)),n.push(t.getUint8(i));y("RX Notify: "+a.join(" ")),this.customRx&&this.customRx(this,n)}},{key:"onDisconnected",value:function(){y("Device is disconnected."),this.customStatus&&this.customStatus(this,"disconnect",!0)}}]),a}(),k={unknown:{type:0,iparam:"on"},connection:{type:1,str_params_0:"name",str_params_1:"addr"},rx:{type:2,data:"data"},tx:{type:3},subscribe:{type:4},rx_ack:{type:5},tx_ack:{type:6,iparam:"status"},subscribe_ack:{type:7,iparam:"on"},terminate:{type:8,iparam:"reason"}};function C(e){var t,a=[],n=0,i=[],s=k[e.type],o=s.type;s.iparam?(i=[(t=e[s.iparam])>>24&255,t>>16&255,t>>8&255,t>>0&255,0,0,0,0,0,0,0,0,0,0,0,0],n=4):s.data?n=(i=e[s.data]).length:s.str_params_0&&s.str_params_1?((i=e[s.str_params_0].split("").map(function(e){return e.charCodeAt(0)})).push(0),n=i.length):console.log("Unhandled command ",JSON.stringify(e)),a=(a=a.concat([o>>8&255,o>>0&255,n>>8&255,n>>0&255,0,0,0,0])).concat(i),l.sendBLEExtDHQueue.push("controller.data.bleExt.tx="+JSON.stringify(a)),l.sendQueuedMatterCmd()}function I(e,t,a){if(a){var n;switch(t){case"connect":n={type:"connection",addr:"",name:e.getDeviceName()};break;case"write":n={type:"tx_ack",status:0};break;case"subscribe":n={type:"subscribe_ack",on:1};break;case"unsubscribe":n={type:"subscribe_ack",on:0};break;case"disconnect":n={type:"terminate",reason:1}}C(n)}}function S(e,t){t={type:"rx",data:t};y("Sending WS cmd:"+JSON.stringify(t)),C(t)}function A(e,t){0<(e=e.slice(8+t)).length&&(e.length<8?y("ERROR handling remaining part of the packet ",e):D(e))}function D(t){var a=(t[0]<<8)+t[1],n=(t[2]<<8)+t[3],e=(t[4],t[5],t[6],t[7],Object.keys(k).filter(function(e){return k[e].type==a})[0]);switch(e){case"tx":l.matterDev.writeTx(new Uint8Array(t.slice(8,8+n))).then(function(e){return A(t,n)});break;case"subscribe":n=16,l.matterDev.subscribe((t[8]<<24)+(t[9]<<16)+(t[10]<<8)+t[11]).then(function(e){return A(t,n)});break;case"terminate":n=16,l.matterDev.disconnect();break;case"rx_ack":A(t,n=16);break;default:y("Unhandled command type "+a+" "+e)}}l.bleExtDHInit=function(){l.matterDev=new x(S,I),l.matterDev.request().then(function(e){return l.matterDev.connect()}).catch(function(e){y(e)})}}]),myAppController.controller("MatterManageController",["$scope","$cookies","$filter","$location","$q","dataFactory","dataService","cfg","myCache",function(p,e,m,t,a,n,g,f,i){p.devices={zw:{},find:{},show:!0},p.allSettled=function(){p.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:p._t("loading")};var e=[n.loadZMatterApiData(!1),n.getApi("devices")];a.allSettled(e).then(function(e){var n,i,s,o,l,r,d,c,a,u,t=e[0],e=e[1];if(p.loading=!1,"rejected"===t.state)p.loading=!1,p.devices.show=!1,angular.extend(f.route.alert,{message:p._t("error_load_data")});else{if("fulfilled"===t.state){if(!t.value)return;p.devices.zw=Object.values((t=t.value,c={},n=t.controller.data.nodeId.value,angular.forEach(t.devices,function(e,t){var a;t!=n&&(i=e.data.isFailed.value,o=parseInt(e.data.lastReceived.updateTime,10)||0,s=parseInt(e.data.lastSend.updateTime,10)||0,s=o<s?s:o,o=e.data.isSleepy.value,d=r=l=0,a=m("hasNode")(e,"endpoints.0.clusters.128.data.last.value"),c[t]={id:parseInt(t),title:e.data.givenName.value||"Device _"+t,hasBattery:!1,batteryCharge:null===a?null:parseInt(a),isFailed:i,sleeping:function(e,t,a,n,i){var s;e&&t&&(e="",(isNaN(a)||a<n)&&(a=n,isNaN(n)||(e="~")),0==i&&(i=NaN),t=m("isTodayFromUnix")(a),n=m("isTodayFromUnix")(a+i),s=e+t+" &#8594; "+e+n);return s}(o,!1,l,r,d),awake:(e=void 0,o&&e?"awake":"sleep"),date:m("isTodayFromUnix")(s),cfg:[],elements:{},messages:[]},i?c[t].messages.push({type:"failed",error:p._t("lb_is_failed")}):c[t].messages.push({type:"config",error:p._t("lb_not_configured")}))}),c))}"fulfilled"===e.state&&(t=g.getDevicesData(e.value.data.data.devices,!1,!0),angular.forEach(t.value(),function(e){var t;"ZBeeVDev"===(a=e.id.split("_"))[0]&&(a=a[a.length-1].split("-"),u=a[0],(t=p.devices.zw.find(function(e){return e.id===+u}))&&(t.elements[e.id]=e))}))}})},p.allSettled(),p.runMatterCmd=function(e){n.runZMatterCmd(e).then(function(){})}}]),myAppController.controller("MatterInterviewController",["$scope","$location","$interval","dataFactory","dataService","_",function(d,n,s,e,t,c){function u(e,t,a,n,i){angular.extend(d.matterInterview,{process:e,done:t,forceInterview:!1,progress:0}),c.isObject(a)&&angular.extend(d.matterInterview,a),n&&d.runMatterCmd(n),i&&s.cancel(d.interval.api)}function i(r){d.matterInterview.clustersCnt=0,d.matterInterview.interviewDoneCnt=0,e.runZMatterCmd("devices["+r+"]").then(function(e){var t,a,n=e.data;if(c.isObject(n)&&n.data.nodeInfoFrame.value){for(var i in angular.isDefined(n.endpoints)&&angular.extend(d.matterInterview,{hasBattery:128 in n.endpoints[0].clusters}),n.endpoints){if(Object.keys(n.endpoints[i].clusters).length<1)return;for(var s in angular.extend(d.matterInterview,{clustersCnt:Object.keys(n.endpoints[i].clusters).length}),n.endpoints[i].clusters)n.endpoints[i].clusters[s].data.supported.value&&(t=n.endpoints[i].clusters[s],a=n.endpoints[i].clusters[s].name,s="devices["+r+"].endpoints["+i+"].clusters["+s+"].Interview()",t.data.interviewDone.value?(delete d.matterInterview.interviewNotDone[a],angular.extend(d.matterInterview,{interviewDoneCnt:d.matterInterview.interviewDoneCnt+1})):d.matterInterview.interviewNotDone[a]=s)}var e=d.matterInterview.clustersCnt,o=d.matterInterview.interviewDoneCnt,l=(o/e*100).toFixed();if(console.log("clustersCnt: ",e),console.log("intervewDoneCnt: ",o),console.log("Percent %: ",l),d.matterInterview.progress=l<101?l:99,!c.isEmpty(d.matterInterview.interviewNotDone))return d.matterInterview.interviewNotDone.Version?void angular.extend(d.matterInterview,{errorType:"error_interview_again"}):void angular.extend(d.matterInterview,{errorType:"error_interview_retry"});100<=l&&u(!(d.matterInterview.progress=100),!0,null,!1,!0)}},function(e){})}d.matterInterview={cfg:{checkInterviewTimeout:3e3,checkInterviewRepeat:3,inexTimeout:3e4},process:!1,done:!1,nodeId:0,nodeName:"",hasBattery:!1,progress:0,clustersCnt:0,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:"",interviewNotDone:{}},d.interval={api:null},d.startConfiguration=function(e){u(!0,!1,e,!1,!0),i(d.devices.find.id);d.interval.api=s(function(){d.forceInterview(d.matterInterview.interviewNotDone);var e=d.matterInterview.interviewRepeatCnt+1;if(angular.extend(d.matterInterview,{interviewRepeatCnt:e}),e>d.matterInterview.cfg.checkInterviewRepeat&&!d.matterInterview.done){s.cancel(d.interval.api);var t='<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+d._t("configuration_cancel")+"</div>",a=d.matterInterview.hasBattery?'<div class="alert alert-warning"> <i class="fas fa-exclamation-circle"></i> '+d._t("error_interview_battery")+"</div>":"";switch(d.matterInterview.errorType){case"error_interview_again":alertify.confirm(d._t("configuration_complete_only")+" "+d.matterInterview.progress+"%"+a+t).setting("labels",{cancel:d._t("redo_inclusion"),ok:d._t("ok")}).set("onok",function(e){d.forceInterview(d.matterInterview.interviewNotDone),d.startConfiguration({nodeId:d.devices.find.id,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:""})}).set("oncancel",function(e){alertify.dismissAll(),n.path("/matter/inclusion")});break;case"error_interview_retry":alertify.confirm(d._t("configuration_complete_only")+" "+d.matterInterview.progress+"%"+a+t).setting("labels",{cancel:d._t("redo_inclusion"),ok:d._t("ok")}).set("onok",function(e){d.forceInterview(d.matterInterview.interviewNotDone),d.startConfiguration({nodeId:d.devices.find.id,interviewDoneCnt:0,interviewRepeatCnt:0,errorType:""})}).set("oncancel",function(e){alertify.dismissAll(),n.path("/matter/inclusion")});break;default:alertify.alertError(d._t("error_interview_unexpected")).set("onok",function(e){d.reloadData()})}}else i(d.devices.find.id)},d.matterInterview.cfg.checkInterviewTimeout)},c.isEmpty(d.devices.find)||d.startConfiguration(),d.cancelConfiguration=function(e){u(!1,!1,null,!1,!0),d.devices.find={},e&&d.handleModal("matterNetworkModal",e)},d.forceInterview=function(e){angular.forEach(e,function(e,t){d.runMatterCmd(e)})}}]),myAppController.controller("MatterManageIdController",["$scope","$window","$routeParams","$q","$filter","$location","dataFactory","dataService","cfg","myCache",function(s,e,t,a,n,i,o,l,r,d){s.matterConfig={nodeId:t.nodeId,nohistory:t.nohistory},s.matterDevice=[],s.devices=[],s.formInput={show:!0,newRoom:"",elements:{},room:0,deviceName:!1},s.rooms=[],s.allSettled=function(){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("loading")};var e=[o.getApi("devices",null,!0),o.getApi("locations",null,!0)];a.allSettled(e).then(function(e){var i,t,a=e[0],e=e[1];s.loading=!1,"rejected"===a.state?(s.loading=!1,s.formInput.show=!1,angular.extend(r.route.alert,{message:s._t("error_load_data")})):("fulfilled"===a.state&&(a=l.getDevicesData(a.value.data.data.devices,!1,!0),i=s.matterConfig.nodeId,t=a.value(),o.loadZMatterApiData(!0).then(function(e){!e||(e=e.devices[i])&&(s.matterDevice={id:i,cfg:[]},s.formInput.deviceName=e.data.givenName.value||"Device _"+i,angular.isDefined(e.data.ZDDXMLFile)&&""!=e.data.ZDDXMLFile.value&&-1===s.matterDevice.cfg.indexOf("config")&&s.matterDevice.cfg.push("config"),132 in e.endpoints[0].clusters&&-1===s.matterDevice.cfg.indexOf("wakeup")&&s.matterDevice.cfg.push("wakeup"),0<s.devices.length&&(s.devices=angular.copy([])),angular.forEach(t,function(e,t){var a,n=e.id.split("_");"ZBeeVDev"===n[0]&&"battery"!==e.deviceType&&(a=(n=n[n.length-1].split("-"))[0],n[1],n[2],a==i&&(s.formInput.elements[(n=e).id]=n,s.devices.push(n)))}))},function(e){angular.extend(r.route.alert,{message:s._t("error_load_data")})})),"fulfilled"===e.state&&(s.rooms=Object.values(l.getRooms(e.value.data.data).indexBy("id").value())))})},s.allSettled(),s.addRoom=function(e){e&&(e={id:0,title:e},s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("updating")},o.storeApi("locations",e.id,e).then(function(e){s.loading=!1,l.showNotifier({message:s._t("success_updated")}),s.formInput.newRoom="",s.allSettled()},function(e){alertify.alertError(s._t("error_update_data")),s.loading=!1}))},s.updateAllDevices=function(a){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("updating")},angular.forEach(a.elements,function(e,t){a.room&&angular.extend(e,{location:parseInt(a.room)}),o.putApi("devices",e.id,e).then(function(e){},function(e){})});var e="devices["+s.matterDevice.id+"].data.givenName.value='"+a.deviceName+"'";o.runZMatterCmd(e).then(function(){}),d.removeAll(),s.loading=!1,l.showNotifier({message:s._t("success_updated")}),angular.isDefined(t.nohistory)?i.path("/matter/devices"):l.goBack()}}]),myAppController.controller("MatterVendorController",["$scope","$q","cfg","$cookies","$location","$window","$timeout","dataFactory","dataService","_",function(s,t,o,a,n,i,l,r,d,c){s.matterVendors={view:!1,alert:!1,frequency:!1,frequencyName:!1,all:{},cnt:{},products:{pageTitle:"",cnt:0,all:{},collection:{},noSearch:!1},filter:a.filterProducts?angular.fromJson(a.filterProducts):{}},s.autocomplete={source:[],term:"",searchInKeys:"id,name,brandname,ertification_id",returnKeys:"id,name,brandname,product_image,frequency",strLength:2,resultLength:10},s.allSettled=function(){s.loading={status:"loading-spin",icon:"fa-spinner fa-spin",message:s._t("loading")};var e=[r.loadZMatterApiData(),r.getApi("matter_vendors"),r.getApi("matter_devices","?lang="+s.lang)];t.allSettled(e).then(function(e){var t,a=e[0],n=e[1],e=e[2],i={};s.loading=!1,"rejected"===a.state?angular.extend(o.route.alert,{message:s._t("error_load_data")}):"rejected"===n.state||"rejected"===e.state?404===(n.reason||e.reason).status?s.matterVendors.view="update":angular.extend(o.route.alert,{message:s._t("error_load_data")}):("fulfilled"===a.state&&a.value&&a.value.controller.data.frequency.value&&(s.matterVendors.frequency=a.value.controller.data.frequency.value,s.matterVendors.frequencyName=o.frequency[a.value.controller.data.frequency.value],i.frequency=s.matterVendors.frequencyName),"fulfilled"===n.state&&(s.matterVendors.view="default",s.matterVendors.all=n.value.data.data.matter_vendors),"fulfilled"===e.state&&(s.matterVendors.products.all=d.getMatterDevices(e.value.data.data.matter_devices).where(i).value(),s.matterVendors.cnt=c.countBy(s.matterVendors.products.all,function(e){return e.brandname}),"brandid"in s.matterVendors.filter?(s.matterVendors.products.pageTitle=s.matterVendors.filter.brandid,s.matterVendors.products.collection=c.where(s.matterVendors.products.all,s.matterVendors.filter)):"q"in s.matterVendors.filter?(s.matterVendors.products.pageTitle=s.matterVendors.filter.q,s.autocomplete.term=s.matterVendors.filter.q,t=c.indexBy(d.autocomplete(s.matterVendors.products.all,s.autocomplete),"id"),s.matterVendors.products.collection=c.filter(s.matterVendors.products.all,function(e){if(t[e.id])return e})):s.matterVendors.products.collection=s.matterVendors.products.all,s.matterVendors.products.cnt=c.size(s.matterVendors.products.collection),s.matterVendors.products.cnt<1&&(s.matterVendors.products.noSearch=s.matterVendors.products.pageTitle)))})},s.allSettled(),s.searchMe=function(){s.autocomplete.results=d.autocomplete(s.matterVendors.products.all,s.autocomplete),c.isEmpty(s.autocomplete.results)?s.expandAutocomplete():s.expandAutocomplete("searchProducts"),s.matterVendors.filter.q&&s.autocomplete.term.length<1&&s.setFilter()},s.setFilter=function(e){s.autocomplete.results=[],s.matterVendors.products.noSearch=!1,s.expandAutocomplete();var t=""==c.values(e);!e||t?(angular.extend(s.matterVendors,{filter:{}}),a.filterProducts=angular.toJson({}),s.allSettled()):(angular.extend(s.matterVendors,{filter:e}),s.allSettled(),a.filterProducts=angular.toJson(e),s.routeMatch("/matter/vendors")&&n.path("/matter/products"))},s.updateVendorDatabase=function(){s.matterVendors.view=!1,s.matterVendors.alert={message:s._t("updating_device_db"),status:"alert-warning",icon:"fa-spinner fa-spin"},r.getApi("update_matter_vendors").then(function(e){s.updateDeviceDatabase()},function(e){s.matterVendors.alert={message:s._t("vendors_error_load_data"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},s.updateDeviceDatabase=function(){r.getApi("update_device_database").then(function(e){s.matterVendors.alert={message:s._t("reloading_page"),status:"alert-success",icon:"fa-spinner fa-spin"},l(function(){i.location.reload()},2e3)},function(e){s.matterVendors.alert={message:s._t("update_device_database_failed"),status:"alert-danger",icon:"fa-exclamation-triangle"}})},s.disableDatabaseUpdate=function(){s.matterVendors.view=!1}}]),myAppController.controller("MatterCommissionBaseController",["$scope","$timeout","cfg","dataFactory","dataService","_",function(a,e,t,n,i,s){a.dataHolder={video:{obj:null,mediaStream:null,supported:!1,alert:{}},canvas:{gCanvas:null,gCtx:null,width:640,height:480},manual_add:!1},a.checkWebcam=function(){var n=!1,t=!1;void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(a){var n=navigator.getUserMedia||navigator.mozGetUserMedia;return n?new Promise(function(e,t){n.call(navigator,a,e,t)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){var t=navigator.mediaDevices.enumerateDevices();t&&t.then?navigator.mediaDevices.enumerateDevices().then(e).catch(function(){e([])}):e([])}),!navigator.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(navigator.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.enumerateDevices&&(navigator.enumerateDevices=navigator.enumerateDevices.bind(navigator)),(navigator.getUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)&&(t=!0),"chrome"==a.deviceDetector.browser&&46<=a.deviceDetector.browser_version.split(".")[0]&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(t=!1),navigator.enumerateDevices?navigator.enumerateDevices(function(e){e.forEach(function(e){var t,a={};for(t in e)try{"function"!=typeof e[t]&&(a[t]=e[t])}catch(e){}"videoinput"===a.kind&&(n=!0)}),n&&t?a.dataHolder.video.supported=!0:a.dataHolder.video.alert={message:a._t("camera_not_supported"),status:"alert-warning",icon:"fa-exclamation-circle"}}):a.dataHolder.video.supported=!1},a.checkWebcam()}]),myAppController.controller("MatterCommissionCodeController",["$scope","$timeout","$filter","cfg","dataFactory","dataService","mobileDetector","_",function(t,a,e,n,i,s,o,l){t.discrCode={input:{qrCodeData:"",setupCode:""},list:[],response:""},t.isMobile=o.isMobile(),t.registerDisabled=!0;t.origInput=angular.copy(t.discrCode.input),t.commissionWithCode=function(){var e=t.dsk.input.qrCodeData;t.dataHolder.state="registering",t.toggleRowSpinner(n.api.add_dsk),i.runZMatterCmd('controller.AddNodeToNetwork("'+e+'")').then(function(e){t.dsk.state="success-register",t.dsk.input=angular.copy(t.origInput),t.discrCode.response=e.data[0],t.smartStartEnabled=!0,a(t.toggleRowSpinner,timeout)},function(e){t.dataHolder.state=null,t.discrCode.state="error-register",alertify.alertError(t._t("error_update_data"))}).finally(function(){a(t.toggleRowSpinner,1e3).then(function(){"success-register"===t.discrCode.state&&(window.location.href="#/matter/inclusion")})})}}]),myAppController.controller("MatterCommissionQrController",["$route","$scope","$timeout","$location","dataFactory",function(t,a,n,i,e){a.qrcode={input:"",state:"start",response:""};var s=!0;function o(){if(s)try{a.dataHolder.canvas.gCtx.drawImage(a.dataHolder.video.obj,0,0),qrcode.decode()}catch(e){console.log(e),setTimeout(o,500)}}a.$on("$destroy",function(){a.stopStream(),s=!1}),a.stopStream=function(){null!==a.dataHolder.video.mediaStream&&(a.dataHolder.video.mediaStream.stop(),a.dataHolder.video.mediaStream=null,a.dataHolder.video.obj=null)},a.callbackQrCode=function(e){a.stopStream(),a.qrcode.state="success-register",e.match(/^MT:[A-Z0-9.-]{19,}$/)?(a.qrcode.input=e,n(function(){i.path("/matter/inclusion/"+a.qrcode.input)},1e3)):(a.dataHolder.video.alert={message:a._t("matter_invalid_qrcode"),status:"alert-warning",icon:"fa-exclamation-circle"},n(function(){t.reload()},5e3))},a.initQRCodeReader=function(){var e;a.dataHolder.video.supported&&(e=a.deviceDetector.isMobile()?{video:{facingMode:"environment"}}:{video:!0},navigator.mediaDevices.getUserMedia(e).then(function(e){qrcode.callback=a.callbackQrCode,a.dataHolder.video.obj=document.querySelector("video"),a.dataHolder.video.mediaStream=e,"srcObject"in a.dataHolder.video.obj?a.dataHolder.video.obj.srcObject=e:a.dataHolder.video.obj.src=window.URL.createObjectURL(e),a.dataHolder.video.mediaStream.stop=function(){this.getVideoTracks().forEach(function(e){e.stop()})},a.dataHolder.video.obj.onloadedmetadata=function(e){a.initCanvas(),a.dataHolder.video.obj.play()},setTimeout(o(),500)}).catch(function(e){a.dataHolder.video.supported=!1,console.log(e.name+": "+e.message)}))},a.$watch("dataHolder.video.supported",function(e,t){a.dataHolder.video.supported&&a.initQRCodeReader()}),a.initCanvas=function(){a.dataHolder.canvas.gCanvas=document.getElementById("qr-canvas"),a.dataHolder.canvas.gCanvas.style.width=a.dataHolder.video.obj.videoWidth+"px",a.dataHolder.canvas.gCanvas.style.height=a.dataHolder.video.obj.videoHeight+"px",a.dataHolder.canvas.gCanvas.width=a.dataHolder.video.obj.videoWidth,a.dataHolder.canvas.gCanvas.height=a.dataHolder.video.obj.videoHeight,a.dataHolder.canvas.gCtx=a.dataHolder.canvas.gCanvas.getContext("2d"),a.dataHolder.canvas.gCtx.clearRect(0,0,a.dataHolder.video.obj.videoWidth,a.dataHolder.video.obj.videoHeight)}}]),myAppController.controller("WelcomeController",["$scope",function(t){t.currentStep=1,t.pages=8,t.steps=_.range(0,t.pages),t.prevNext=function(e){t.currentStep+=e},t.setStep=function(e){t.currentStep=parseInt(e)},t.skip=function(){t.currentStep=t.pages},t.sourcePrefix=t.deviceDetector.isMobile()?"_mobile":""}]),myAppController.controller("ManagementWiFiController",["$scope","$cookies","$interval","dataFactory","dataService","myCache","cfg",function(a,e,t,n,i,s,o){a.wifiNets={all:[],orderBy:e.usersOrderBy||"titleASC"};function l(e){return e.hasOwnProperty("saved")&&e.saved}var r={ethernet:["wifi_ethernet","fa-network-wired"],wifi:["wifi_wifi","fa-wifi"],mobile:["wifi_mobile","fa-signal"],error:["","fa-warning"]},d=(a.currentConnect=null,a.connectionStatus={},a.selectedConnect=null,a.connecting={data:null,progress:!1},a.loadingWiFilist=!0,a.wifiSignalIcon=function(e){return"fa-wifi"+(70<e?"":30<e?"-2":"-1")},a.loadConnectionStatus=function(){n.getApi("wifi_cli_connection_type",null,!0).then(function(e){a.connectionStatus=e.data.data},function(e){angular.extend(o.route.alert,{message:a._t("error_load_data")})})},a.loadConnectionStatus(),t(a.loadConnectionStatus,1e4)),c=(a.connectInfo=function(e){return e===a.connectionStatus.currentConnection?{class:"current-connection",description:"wifi_info_current_connection",status:"wifi_connected",style:"color: green"}:-1!==a.connectionStatus.availableConnections.indexOf(e)?{class:"available-connections",description:"wifi_info_available_connections",status:"wifi_connected",style:"color: green"}:{class:"possible-connections",description:"wifi_info_possible_connections",status:"wifi_disconnected",style:"color: darkgrey"}},a.connectToStr=function(e){return r[e]||r.error},a.currentConnectStatus=function(){return a.connecting.progress||a.loadingWiFilist?"fas fa-spinner fa-pulse":a.currentConnect&&a.currentConnect.signal?"fad "+a.wifiSignalIcon(a.currentConnect.signal):"fad fa-wifi-slash"},a.loadNets=function(){n.getApi("wifi_cli",null,!0).then(function(e){a.wifiNets.all=e.data.data,0!==a.wifiNets.all.length&&(a.selectedConnect=a.wifiNets.all[0],a.currentConnect=a.wifiNets.all.find(l),a.connecting.progress=!1)},function(e){angular.extend(o.route.alert,{message:a._t("error_load_data")})}).then(function(){a.loadingWiFilist=!1})},a.loadNets(),t(a.loadNets,3e4));a.tryConnect=function(e,t){a.selectedConnect=e,a.connecting.progress=!0;e=angular.copy(e,void 0);e.password=t,n.postApi("wifi_cli",e).then(function(e){a.connecting.data=e.data},function(e){angular.extend(o.route.alert,{message:a._t("error_load_data")})}).then(setTimeout(function(){a.loadNets()},1e3))},a.disconnect=function(){n.postApi("wifi_cli",{essid:"",security:"",encryption:"",password:""}),a.currentConnect=null},a.$on("$destroy",function(){t.cancel(c),t.cancel(d)})}]),myAppController.controller("ManagementWiFiSelectController",["$scope",function(t){t.enteringPassword=!1,t.wifiPassword="",t.showPassword=!1,t.inputType="password",t.connectWiFi=function(){"NONE"!==t.selectedConnect.security?t.enteringPassword=!0:t.tryConnect(t.selectedConnect)},t.passwordRequest=function(){t.enteringPassword=!1,t.tryConnect(t.selectedConnect,t.wifiPassword),t.wifiPassword=""},t.cancelConnection=function(){t.enteringPassword=!1},t.selectWiFi=function(e){t.selectedConnect=e},t.showPass=function(){t.showPassword=!t.showPassword,t.showPassword?t.inputType="text":t.inputType="password"}}]);