<div class="smart-start" ng-controller="SmartStartListController">
    <div class="container">
        <!-- Navigation -->
        <div ng-include="'app/views/smartstart/navi.html'"></div>
        <bb-alert alert="list.alert"></bb-alert>
        <div id="table_mobile">
            <table class="table">
                <!--  <thead>
                    <tr>
                        <th>DSK</th>
                        <th>Created</th>
                        <th>State</th>
                        <th>&nbsp;</th>
                    </tr>
                </thead> -->
                <tbody>
                    <tr ng-repeat="v in list.all track by $index" id="dsk_{{$index}}">
                        <!-- time -->
                        <td data-title="">
                            <span class="text-supp">2017-10-09</span>
                        </td>
                        <!-- DSK -->
                        <td data-title="DSK">
                            <div ng-hide="expand['edit_' + $index]">
                                <!-- DSK title -->
                                <span ng-show="[0,1].indexOf($index) === -1">{{v.dsk}}</span>
                                <!-- DSK title and infomations -->
                                <span class="clickable" ng-show="[0, 1].indexOf($index) > -1" ng-click="expandElement('info_' + $index)">
                                    {{v.dsk}}
                                    <i class="fa fa-chevron-down" ng-class="expand['info_' + $index] ? 'fa-chevron-up':'fa-chevron-down'"></i>
                                </span>
                            </div>
                            <!-- info -->
                            <div class="dsk-info" ng-show="expand['info_' + $index]">
                                <dl class="inline w-50-p">
                                    <!-- vendor -->
                                    <dt>Vendor</dt>
                                    <dd>Vendor Name {{$index + 1}}</dd>
                                    <!-- version -->
                                    <dt>Version</dt>
                                    <dd>6.71.01</dd>
                                    <!-- others -->
                                    <dt>Info</dt>
                                    <dd>Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet.</dd>
                                </dl>
                            </div>
                            <!-- edit -->
                            <div ng-if="expand['edit_' + $index]">
                                <!-- <pre>{{v.dsk_array|json}}</pre> -->
                                <div class="form-group dsk-input-group" bb-dsk-navigate>
                                    <span>
                                        <input id="dsk_1" type="text" maxlength="5" class="form-control dsk-number" ng-model="v.dsk_array[0]" />
                                    </span>
                                    <span>
                                        <input id="dsk_2" type="text" maxlength="5" class="form-control dsk-number" ng-model="v.dsk_array[1]" />
                                    </span>
                                    <span>
                                        <input id="dsk_3" type="text" maxlength="5" class="form-control dsk-number" ng-model="v.dsk_array[2]" />
                                    </span>
                                    <span>
                                        <input id="dsk_4" type="text" maxlength="5" class="form-control dsk-number" ng-model="v.dsk_array[3]" />
                                    </span>
                                    <span>
                                        <input id="dsk_5" type="text" maxlength="5" class="form-control dsk-number" ng-model="v.dsk_array[4]" />
                                    </span>
                                    <span>
                                        <input id="dsk_6" type="text" maxlength="5" class="form-control dsk-number" ng-model="v.dsk_array[5]" />
                                    </span>
                                    <span>
                                        <input id="dsk_7" type="text" maxlength="5" class="form-control dsk-number" ng-model="v.dsk_array[6]" />
                                    </span>
                                    <span>
                                        <input id="dsk_8" type="text" maxlength="5" class="form-control dsk-number" ng-model="v.dsk_array[7]" />
                                    </span>
                                </div>
                                <div class="form-group">
                                    <button type="button" class="btn btn-cancel" title="{{_t('lb_cancel')}}" ng-click="expandElement('edit_' + $index);reloadData()">
                                    <i class="fa fa-close"></i>
                                    <span class="btn-name">{{_t('lb_cancel')}}</span>
                                    </button>
                                    <button class="btn btn-submit" title="{{_t('lb_update')}}" ng-click="updateDsk($index,v)">
                                    <i class="fa fa-check"></i>
                                    <span class="btn-name">{{_t('lb_update')}}</span>
                                    </button>
                                </div>
                            </div>
                        </td>
                        <!-- state -->
                        <td class="text-center" data-title="">
                            <div ng-hide="expand['edit_' + $index]">
                                <div ng-hide="[3, 5].indexOf($index) > -1">
                                    <span class="label label-primary" ng-show="[0, 3, 5, 9].indexOf($index) > -1">included</span>
                                    <span class="label label-warning" ng-show="[0, 3, 5, 9].indexOf($index) === -1">pending</span>
                                </div>
                                <!-- info window -->
                                <div class="infowindow-wrap" ng-show="[3, 5].indexOf($index) > -1">
                                    <i class="fa fa-question-circle fa-lg text-info clickable" ng-click="expandNavi('dskInfowindow_' + $index, $event)"></i>
                                    <div class="infowindow top" ng-if="naviExpanded['dskInfowindow' + '_' + $index]">
                                        <div class="infowindow-in text-center">
                                            <p>This device does not support SmartStart.</p>
                                            <a href="#zwave/vendors" class="btn btn-primary">Add device manually</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <!-- action -->
                        <td class="td-action" data-title="">
                            <div class="btn-group" ng-hide="expand['edit_' + $index]">
                                <button class="btn btn-default" title="{{_t('lb_update')}}" ng-click="expandElement('edit_' + $index,true)">
                                <i class="fa fa-pencil text-primary"></i>
                                </button>
                                <button class="btn btn-default" title="{{_t('dialog_remove')}}" ng-click="removeDsk(v)">
                                <i class="fa fa-trash text-danger"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- /ng-controller -->