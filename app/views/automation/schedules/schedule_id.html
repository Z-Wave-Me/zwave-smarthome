<!-- The schedule -->
<div class="automation" ng-controller="AutomationScheduleIdController">
  <bb-loader></bb-loader>
  <!-- No device -->
  <div ng-if="!schedule.show" ng-include="'app/views/automation/no_device.html'"></div>
  <!-- Form -->
  <div ng-if="schedule.show">
    <h2>{{_t('schedules')}}</h2>
    <!-- Form -->
    <form class="form form-page" ng-submit="storeSchedule(schedule.input,true)">
      <!-- Form-->
    <fieldset ng-include="'app/views/automation/schedules/schedule_id_form.html'"></fieldset>
    <!-- Used -->
    <div ng-if="schedule.assignedDevices.length">
      <legend>{{_t('assigned_devices')}}</legend>
      <fieldset data-collapse-all="true" ng-include="'app/views/automation/schedules/schedule_id_assigned.html'"></fieldset>
    </div>
    <div ng-if="schedule.assignedNotifications.length">
      <legend>{{_t('assigned_notifications')}}</legend>
      <fieldset data-collapse-all="true" ng-include="'app/views/automation/schedules/schedule_id_assigned_notification.html'"></fieldset>
    </div>
  <!-- Available -->
  <legend>{{_t('lb_available_devices')}}</legend>
<fieldset data-collapse-all="true" bb-child-elem="schedule.assignedDevices" ng-include="'app/views/automation/schedules/schedule_id_available.html'"></fieldset>
<!-- Submit  -->
<div class="fieldset submit-entry is-grid">
  <span>
    <label class="switch">
      <input type="checkbox" ng-model="schedule.input.active">
      <span class="slider"></span>
    </label>
    <span class="switch-label">{{schedule.input.active ? _t('lb_active'): _t('activeASC')}}</span>
  </span>
  <span>
    <button type="button" class="btn btn-default" title="{{_t('lb_cancel')}}" bb-go-back> <i class="fas fa-reply"></i>
    <span class="btn-name">{{_t('lb_cancel')}}</span>
    </button>
    <button type="submit" title="{{_t('lb_save')}}" class="btn btn-submit"> <i class="fas fa-check"></i>
    <span class="btn-name">{{_t('lb_save')}}</span>
    </button>
  </span>
</div>
</form>
</div>
</div>
<!-- /ng-controller -->