<section class="accordion-wrap" ng-repeat="v in scene.input.params.devices track by $index">
	<!-- Title -->
	<h2 class="accordion-toggle ellipsis">
			<!-- Deleted device -->
			<span class="no-toggle text-danger" ng-if="!scene.availableDevices[v.deviceId]">
					<i class="fa fa-exclamation-circle"></i> {{v.device}} {{_t('device_removed')}}
			</span>
			<!-- Toggle -->
			<button type="button" aria-expanded="false" bb-accordion ng-if="v.deviceType!='toggleButton'" ng-hide="!scene.availableDevices[v.deviceId]">
				<span>{{scene.availableDevices[v.deviceId].deviceName}} 
					<span ng-if="v.deviceType=='switchRGBW' && _.isObject(v.level)" class="color-picker-show" style="background-color: {{v.level|setRgbColors}};">&nbsp;</span>
					<span ng-if="v.deviceType!='switchRGBW' || !_.isObject(v.level)"><em>[{{_t(v.level)}}<em ng-if="v.level == 'lvl'">&nbsp;{{v.exact}}</em>]</em></span>
					- <em>{{scene.availableDevices[v.deviceId].locationName}}</em>
				</span>
			</button>
			<!-- No Toggle -->
			<span class="no-toggle" ng-if="v.deviceType=='toggleButton'" ng-hide="!scene.availableDevices[v.deviceId]">
				<span>{{scene.availableDevices[v.deviceId].deviceName}} -
					<em>{{scene.availableDevices[v.deviceId].locationName}}</em>
				</span>
			</span>			
			<span class="btn btn-text" title="{{_t('lb_remove')}}" ng-click="unassignDevice($index,v.deviceId)">
				<i class="fa fa-times text-danger"></i>
			</span>
	
		</h2>
	<!-- Content -->
	<div class="accordion" ng-if="v.deviceType!='toggleButton'" hidden ng-include="'app/views/automation/scenes/scene_id_form_'+v.deviceType+'.html'"></div>
</section>